<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>v8: src/hydrogen.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../v8-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">v8
   &#160;<span id="projectnumber">3.25.30(node0.11.13)</span>
   </div>
   <div id="projectbrief">V8 is Google&#39;s open source JavaScript engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d7/dd6/hydrogen_8cc_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">hydrogen.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/dd6/hydrogen_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2013 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// modification, are permitted provided that the following conditions are</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// met:</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//     * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//       copyright notice, this list of conditions and the following</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//       disclaimer in the documentation and/or other materials provided</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//       with the distribution.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//     * Neither the name of Google Inc. nor the names of its</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//       from this software without specific prior written permission.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d24/hydrogen_8h.html">hydrogen.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d6a/src_2v8_8h.html">v8.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d04/allocation-site-scopes_8h.html">allocation-site-scopes.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d39/codegen_8h.html">codegen.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d3f/full-codegen_8h.html">full-codegen.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/df3/hashmap_8h.html">hashmap.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d28/hydrogen-bce_8h.html">hydrogen-bce.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d3b/hydrogen-bch_8h.html">hydrogen-bch.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d86/hydrogen-canonicalize_8h.html">hydrogen-canonicalize.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d62/hydrogen-check-elimination_8h.html">hydrogen-check-elimination.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d4c/hydrogen-dce_8h.html">hydrogen-dce.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/dfd/hydrogen-dehoist_8h.html">hydrogen-dehoist.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d17/hydrogen-environment-liveness_8h.html">hydrogen-environment-liveness.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d21/hydrogen-escape-analysis_8h.html">hydrogen-escape-analysis.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d11/hydrogen-infer-representation_8h.html">hydrogen-infer-representation.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dd0/hydrogen-infer-types_8h.html">hydrogen-infer-types.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d93/hydrogen-load-elimination_8h.html">hydrogen-load-elimination.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d70/hydrogen-gvn_8h.html">hydrogen-gvn.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d13/hydrogen-mark-deoptimize_8h.html">hydrogen-mark-deoptimize.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dab/hydrogen-mark-unreachable_8h.html">hydrogen-mark-unreachable.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/da8/hydrogen-osr_8h.html">hydrogen-osr.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d34/hydrogen-range-analysis_8h.html">hydrogen-range-analysis.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dd5/hydrogen-redundant-phi_8h.html">hydrogen-redundant-phi.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d10/hydrogen-removable-simulates_8h.html">hydrogen-removable-simulates.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dea/hydrogen-representation-changes_8h.html">hydrogen-representation-changes.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d7a/hydrogen-sce_8h.html">hydrogen-sce.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d70/hydrogen-store-elimination_8h.html">hydrogen-store-elimination.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dbe/hydrogen-uint32-analysis_8h.html">hydrogen-uint32-analysis.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d99/lithium-allocator_8h.html">lithium-allocator.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d36/parser_8h.html">parser.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d51/runtime_8h.html">runtime.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/ddf/scopeinfo_8h.html">scopeinfo.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dee/scopes_8h.html">scopes.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/db3/stub-cache_8h.html">stub-cache.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dc9/typing_8h.html">typing.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#if V8_TARGET_ARCH_IA32</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dff/lithium-codegen-ia32_8h.html">ia32/lithium-codegen-ia32.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_X64</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d65/lithium-codegen-x64_8h.html">x64/lithium-codegen-x64.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM64</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d95/lithium-codegen-arm64_8h.html">arm64/lithium-codegen-arm64.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dea/lithium-codegen-arm_8h.html">arm/lithium-codegen-arm.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_MIPS</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d74/lithium-codegen-mips_8h.html">mips/lithium-codegen-mips.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#error Unsupported target architecture.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">namespace </span>v8 {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">namespace </span>internal {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;HBasicBlock::HBasicBlock(HGraph* graph)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    : block_id_(graph-&gt;GetNextBlockID()),</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      graph_(graph),</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      phis_(4, graph-&gt;zone()),</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      first_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      last_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="../../de/dd0/v8conversions_8cc.html#a03fd641a87e0199b429070914b680b7f">end_</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      loop_information_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      predecessors_(2, graph-&gt;zone()),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      dominator_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      dominated_blocks_(4, graph-&gt;zone()),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      last_environment_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      argument_count_(-1),</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      first_instruction_index_(-1),</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      last_instruction_index_(-1),</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      deleted_phis_(4, graph-&gt;zone()),</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      parent_loop_header_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      inlined_entry_block_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      is_inline_return_target_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>),</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      is_reachable_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a29dd6ffe8f62d1541ef1c8056c028e9c">true</a>),</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      dominates_loop_successors_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>),</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      is_osr_entry_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>) { }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;Isolate* HBasicBlock::isolate()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">return</span> graph_-&gt;isolate();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keywordtype">void</span> HBasicBlock::MarkUnreachable() {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  is_reachable_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keywordtype">void</span> HBasicBlock::AttachLoopInformation() {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!IsLoopHeader());</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  loop_information_ = <span class="keyword">new</span>(zone()) HLoopInformation(<span class="keyword">this</span>, zone());</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keywordtype">void</span> HBasicBlock::DetachLoopInformation() {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsLoopHeader());</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  loop_information_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keywordtype">void</span> HBasicBlock::AddPhi(HPhi* phi) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!IsStartBlock());</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  phis_.Add(phi, zone());</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  phi-&gt;SetBlock(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keywordtype">void</span> HBasicBlock::RemovePhi(HPhi* phi) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(phi-&gt;block() == <span class="keyword">this</span>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(phis_.Contains(phi));</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  phi-&gt;Kill();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  phis_.RemoveElement(phi);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  phi-&gt;SetBlock(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keywordtype">void</span> HBasicBlock::AddInstruction(HInstruction* instr,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                 HSourcePosition position) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!IsStartBlock() || !IsFinished());</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!instr-&gt;IsLinked());</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!IsFinished());</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">if</span> (!position.IsUnknown()) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    instr-&gt;set_position(position);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span> (first_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(last_environment() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!last_environment()-&gt;ast_id().IsNone());</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    HBlockEntry* entry = <span class="keyword">new</span>(zone()) HBlockEntry();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    entry-&gt;InitializeAsFirst(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (!position.IsUnknown()) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      entry-&gt;set_position(position);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!FLAG_hydrogen_track_positions ||</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;             !graph()-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;IsOptimizing());</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    first_ = last_ = entry;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  instr-&gt;InsertAfter(last_);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;HPhi* HBasicBlock::AddNewPhi(<span class="keywordtype">int</span> merged_index) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">if</span> (graph()-&gt;IsInsideNoSideEffectsScope()) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    merged_index = HPhi::kInvalidMergedIndex;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  HPhi* phi = <span class="keyword">new</span>(zone()) HPhi(merged_index, zone());</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  AddPhi(phi);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> phi;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;HSimulate* HBasicBlock::CreateSimulate(BailoutId ast_id,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35c">RemovableSimulate</a> removable) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(HasEnvironment());</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  HEnvironment* environment = last_environment();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(ast_id.IsNone() ||</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;         ast_id == <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#aaea796eab539d0846f619ab20e3816b3">BailoutId::StubEntry</a>() ||</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;         environment-&gt;closure()-&gt;shared()-&gt;VerifyBailoutId(ast_id));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordtype">int</span> push_count = environment-&gt;push_count();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordtype">int</span> pop_count = environment-&gt;pop_count();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  HSimulate* instr =</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keyword">new</span>(zone()) HSimulate(ast_id, pop_count, zone(), removable);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  instr-&gt;set_closure(environment-&gt;closure());</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// Order of pushed values: newest (top of stack) first. This allows</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// HSimulate::MergeWith() to easily append additional pushed values</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// that are older (from further down the stack).</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; push_count; ++i) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    instr-&gt;AddPushedValue(environment-&gt;ExpressionStackAt(i));</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">for</span> (GrowableBitVector::Iterator it(environment-&gt;assigned_variables(),</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                      zone());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;       !it.Done();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;       it.Advance()) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">int</span> index = it.Current();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    instr-&gt;AddAssignedValue(index, environment-&gt;Lookup(index));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  environment-&gt;ClearHistory();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">return</span> instr;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keywordtype">void</span> HBasicBlock::Finish(HControlInstruction* end, HSourcePosition position) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!IsFinished());</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  AddInstruction(end, position);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="../../de/dd0/v8conversions_8cc.html#a03fd641a87e0199b429070914b680b7f">end_</a> = end;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">for</span> (HSuccessorIterator it(end); !it.Done(); it.Advance()) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    it.Current()-&gt;RegisterPredecessor(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keywordtype">void</span> HBasicBlock::Goto(HBasicBlock* block,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                       HSourcePosition position,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                       FunctionState* state,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                       <span class="keywordtype">bool</span> add_simulate) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">bool</span> drop_extra = state != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      state-&gt;inlining_kind() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312ab59913d2688782bce300f8d56bccf952">NORMAL_RETURN</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">if</span> (block-&gt;IsInlineReturnTarget()) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    HEnvironment* env = last_environment();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">int</span> argument_count = env-&gt;arguments_environment()-&gt;parameter_count();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    AddInstruction(<span class="keyword">new</span>(zone())</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                   HLeaveInlined(state-&gt;entry(), argument_count),</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                   position);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    UpdateEnvironment(last_environment()-&gt;DiscardInlined(drop_extra));</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span> (add_simulate) AddNewSimulate(<a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a0aaa099c81ea7289740213df0076deac">BailoutId::None</a>(), position);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  HGoto* instr = <span class="keyword">new</span>(zone()) HGoto(block);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  Finish(instr, position);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="keywordtype">void</span> HBasicBlock::AddLeaveInlined(HValue* return_value,</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                  FunctionState* state,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                  HSourcePosition position) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  HBasicBlock* target = state-&gt;function_return();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordtype">bool</span> drop_extra = state-&gt;inlining_kind() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312ab59913d2688782bce300f8d56bccf952">NORMAL_RETURN</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(target-&gt;IsInlineReturnTarget());</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(return_value != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  HEnvironment* env = last_environment();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordtype">int</span> argument_count = env-&gt;arguments_environment()-&gt;parameter_count();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  AddInstruction(<span class="keyword">new</span>(zone()) HLeaveInlined(state-&gt;entry(), argument_count),</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                 position);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  UpdateEnvironment(last_environment()-&gt;DiscardInlined(drop_extra));</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  last_environment()-&gt;Push(return_value);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  AddNewSimulate(<a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a0aaa099c81ea7289740213df0076deac">BailoutId::None</a>(), position);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  HGoto* instr = <span class="keyword">new</span>(zone()) HGoto(target);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  Finish(instr, position);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">void</span> HBasicBlock::SetInitialEnvironment(HEnvironment* env) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasEnvironment());</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(first() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  UpdateEnvironment(env);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keywordtype">void</span> HBasicBlock::UpdateEnvironment(HEnvironment* env) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  last_environment_ = env;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  graph()-&gt;update_maximum_environment_size(env-&gt;first_expression_index());</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keywordtype">void</span> HBasicBlock::SetJoinId(BailoutId ast_id) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordtype">int</span> length = predecessors_.length();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(length &gt; 0);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    HBasicBlock* predecessor = predecessors_[i];</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(predecessor-&gt;end()-&gt;IsGoto());</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    HSimulate* simulate = HSimulate::cast(predecessor-&gt;end()-&gt;previous());</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(i != 0 ||</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;           (predecessor-&gt;last_environment()-&gt;closure().is_null() ||</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            predecessor-&gt;last_environment()-&gt;closure()-&gt;shared()</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;              -&gt;VerifyBailoutId(ast_id)));</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    simulate-&gt;set_ast_id(ast_id);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    predecessor-&gt;last_environment()-&gt;set_ast_id(ast_id);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keywordtype">bool</span> HBasicBlock::Dominates(HBasicBlock* other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  HBasicBlock* current = other-&gt;dominator();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">while</span> (current != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (current == <span class="keyword">this</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    current = current-&gt;dominator();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keywordtype">bool</span> HBasicBlock::EqualToOrDominates(HBasicBlock* other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">this</span> == other) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">return</span> Dominates(other);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="keywordtype">int</span> HBasicBlock::LoopNestingDepth()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keyword">const</span> HBasicBlock* current = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordtype">int</span> result  = (current-&gt;IsLoopHeader()) ? 1 : 0;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">while</span> (current-&gt;parent_loop_header() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    current = current-&gt;parent_loop_header();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    result++;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keywordtype">void</span> HBasicBlock::PostProcessLoopHeader(IterationStatement* stmt) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsLoopHeader());</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  SetJoinId(stmt-&gt;EntryId());</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> (predecessors()-&gt;length() == 1) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// This is a degenerated loop.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    DetachLoopInformation();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// Only the first entry into the loop is from outside the loop. All other</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// entries must be back edges.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; predecessors()-&gt;length(); ++i) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    loop_information()-&gt;RegisterBackEdge(predecessors()-&gt;at(i));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="keywordtype">void</span> HBasicBlock::MarkSuccEdgeUnreachable(<span class="keywordtype">int</span> succ) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsFinished());</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  HBasicBlock* succ_block = end()-&gt;SuccessorAt(succ);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(succ_block-&gt;predecessors()-&gt;length() == 1);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  succ_block-&gt;MarkUnreachable();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="keywordtype">void</span> HBasicBlock::RegisterPredecessor(HBasicBlock* pred) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> (HasPredecessor()) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Only loop header blocks can have a predecessor added after</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// instructions have been added to the block (they have phis for all</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// values in the environment, these phis may be eliminated later).</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsLoopHeader() || first_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    HEnvironment* incoming_env = pred-&gt;last_environment();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (IsLoopHeader()) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(phis()-&gt;length() == incoming_env-&gt;length());</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; phis_.length(); ++i) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        phis_[i]-&gt;AddInput(incoming_env-&gt;values()-&gt;at(i));</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      last_environment()-&gt;AddIncomingEdge(<span class="keyword">this</span>, pred-&gt;last_environment());</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!HasEnvironment() &amp;&amp; !IsFinished()) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!IsLoopHeader());</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    SetInitialEnvironment(pred-&gt;last_environment()-&gt;Copy());</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  predecessors_.Add(pred, zone());</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="keywordtype">void</span> HBasicBlock::AddDominatedBlock(HBasicBlock* block) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!dominated_blocks_.Contains(block));</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// Keep the list of dominated blocks sorted such that if there is two</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// succeeding block in this list, the predecessor is before the successor.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">while</span> (index &lt; dominated_blocks_.length() &amp;&amp;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;         dominated_blocks_[index]-&gt;block_id() &lt; block-&gt;block_id()) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    ++index;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  dominated_blocks_.InsertAt(index, block, zone());</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="keywordtype">void</span> HBasicBlock::AssignCommonDominator(HBasicBlock* other) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (dominator_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    dominator_ = other;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    other-&gt;AddDominatedBlock(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (other-&gt;dominator() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    HBasicBlock* first = dominator_;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    HBasicBlock* second = other;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">while</span> (first != second) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keywordflow">if</span> (first-&gt;block_id() &gt; second-&gt;block_id()) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        first = first-&gt;dominator();</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        second = second-&gt;dominator();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(first != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; second != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (dominator_ != first) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(dominator_-&gt;dominated_blocks_.Contains(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      dominator_-&gt;dominated_blocks_.RemoveElement(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      dominator_ = first;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      first-&gt;AddDominatedBlock(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="keywordtype">void</span> HBasicBlock::AssignLoopSuccessorDominators() {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// Mark blocks that dominate all subsequent reachable blocks inside their</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// loop. Exploit the fact that blocks are sorted in reverse post order. When</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// the loop is visited in increasing block id order, if the number of</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">// non-loop-exiting successor edges at the dominator_candidate block doesn&#39;t</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// exceed the number of previously encountered predecessor edges, there is no</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// path from the loop header to any block with higher id that doesn&#39;t go</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// through the dominator_candidate block. In this case, the</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// dominator_candidate block is guaranteed to dominate all blocks reachable</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// from it with higher ids.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  HBasicBlock* last = loop_information()-&gt;GetLastBackEdge();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordtype">int</span> outstanding_successors = 1;  <span class="comment">// one edge from the pre-header</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// Header always dominates everything.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  MarkAsLoopSuccessorDominator();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = block_id(); j &lt;= last-&gt;block_id(); ++j) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    HBasicBlock* dominator_candidate = graph_-&gt;blocks()-&gt;at(j);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">for</span> (HPredecessorIterator it(dominator_candidate); !it.Done();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;         it.Advance()) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      HBasicBlock* predecessor = it.Current();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="comment">// Don&#39;t count back edges.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">if</span> (predecessor-&gt;block_id() &lt; dominator_candidate-&gt;block_id()) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        outstanding_successors--;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// If more successors than predecessors have been seen in the loop up to</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// now, it&#39;s not possible to guarantee that the current block dominates</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// all of the blocks with higher IDs. In this case, assume conservatively</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// that those paths through loop that don&#39;t go through the current block</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// contain all of the loop&#39;s dependencies. Also be careful to record</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// dominator information about the current loop that&#39;s being processed,</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// and not nested loops, which will be processed when</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// AssignLoopSuccessorDominators gets called on their header.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(outstanding_successors &gt;= 0);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    HBasicBlock* parent_loop_header = dominator_candidate-&gt;parent_loop_header();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (outstanding_successors == 0 &amp;&amp;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        (parent_loop_header == <span class="keyword">this</span> &amp;&amp; !dominator_candidate-&gt;IsLoopHeader())) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      dominator_candidate-&gt;MarkAsLoopSuccessorDominator();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    HControlInstruction* end = dominator_candidate-&gt;end();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">for</span> (HSuccessorIterator it(end); !it.Done(); it.Advance()) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      HBasicBlock* successor = it.Current();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="comment">// Only count successors that remain inside the loop and don&#39;t loop back</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="comment">// to a loop header.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">if</span> (successor-&gt;block_id() &gt; dominator_candidate-&gt;block_id() &amp;&amp;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          successor-&gt;block_id() &lt;= last-&gt;block_id()) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="comment">// Backwards edges must land on loop headers.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(successor-&gt;block_id() &gt; dominator_candidate-&gt;block_id() ||</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;               successor-&gt;IsLoopHeader());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        outstanding_successors++;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="keywordtype">int</span> HBasicBlock::PredecessorIndexOf(HBasicBlock* predecessor)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; predecessors_.length(); ++i) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (predecessors_[i] == predecessor) <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="keywordtype">void</span> HBasicBlock::Verify() {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// Check that every block is finished.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsFinished());</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(block_id() &gt;= 0);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">// Check that the incoming edges are in edge split form.</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">if</span> (predecessors_.length() &gt; 1) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; predecessors_.length(); ++i) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(predecessors_[i]-&gt;end()-&gt;SecondSuccessor() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="keywordtype">void</span> HLoopInformation::RegisterBackEdge(HBasicBlock* block) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  this-&gt;back_edges_.Add(block, block-&gt;zone());</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  AddBlock(block);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;HBasicBlock* HLoopInformation::GetLastBackEdge()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordtype">int</span> max_id = -1;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  HBasicBlock* result = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; back_edges_.length(); ++i) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    HBasicBlock* cur = back_edges_[i];</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">if</span> (cur-&gt;block_id() &gt; max_id) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      max_id = cur-&gt;block_id();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      result = cur;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="keywordtype">void</span> HLoopInformation::AddBlock(HBasicBlock* block) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">if</span> (block == loop_header()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (block-&gt;parent_loop_header() == loop_header()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (block-&gt;parent_loop_header() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    AddBlock(block-&gt;parent_loop_header());</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    block-&gt;set_parent_loop_header(loop_header());</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    blocks_.Add(block, block-&gt;zone());</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; block-&gt;predecessors()-&gt;length(); ++i) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      AddBlock(block-&gt;predecessors()-&gt;at(i));</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">// Checks reachability of the blocks in this graph and stores a bit in</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">// the BitVector &quot;reachable()&quot; for every block that can be reached</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">// from the start block of the graph. If &quot;dont_visit&quot; is non-null, the given</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">// block is treated as if it would not be part of the graph. &quot;visited_count()&quot;</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">// returns the number of reachable blocks.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="keyword">class </span>ReachabilityAnalyzer <a class="code" href="../../d0/db7/allocation_8h.html#abab81306d90d0b82732d5bed93a0a588">BASE_EMBEDDED</a> {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  ReachabilityAnalyzer(HBasicBlock* entry_block,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                       <span class="keywordtype">int</span> block_count,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                       HBasicBlock* dont_visit)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      : visited_count_(0),</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        stack_(16, entry_block-&gt;zone()),</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        reachable_(block_count, entry_block-&gt;zone()),</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        dont_visit_(dont_visit) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    PushBlock(entry_block);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    Analyze();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordtype">int</span> visited_count()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> visited_count_; }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keyword">const</span> BitVector* reachable()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;reachable_; }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordtype">void</span> PushBlock(HBasicBlock* block) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> (block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; block != dont_visit_ &amp;&amp;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        !reachable_.Contains(block-&gt;block_id())) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      reachable_.Add(block-&gt;block_id());</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      stack_.Add(block, block-&gt;zone());</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      visited_count_++;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordtype">void</span> Analyze() {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">while</span> (!stack_.is_empty()) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      HControlInstruction* end = stack_.RemoveLast()-&gt;end();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">for</span> (HSuccessorIterator it(end); !it.Done(); it.Advance()) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        PushBlock(it.Current());</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordtype">int</span> visited_count_;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  ZoneList&lt;HBasicBlock*&gt; stack_;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  BitVector reachable_;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  HBasicBlock* dont_visit_;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;};</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="keywordtype">void</span> HGraph::Verify(<span class="keywordtype">bool</span> do_full_verify)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  Heap::RelocationLock relocation_lock(isolate()-&gt;heap());</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a335c234ff71f2adc947efab0319619e4">AllowHandleDereference</a> allow_deref;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">AllowDeferredHandleDereference</a> allow_deferred_deref;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; blocks_.length(); i++) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    HBasicBlock* block = blocks_.at(i);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    block-&gt;Verify();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">// Check that every block contains at least one node and that only the last</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// node is a control instruction.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    HInstruction* current = block-&gt;first();</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(current != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; current-&gt;IsBlockEntry());</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">while</span> (current != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((current-&gt;next() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) == current-&gt;IsControlInstruction());</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(current-&gt;block() == block);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      current-&gt;Verify();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      current = current-&gt;next();</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// Check that successors are correctly set.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    HBasicBlock* first = block-&gt;end()-&gt;FirstSuccessor();</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    HBasicBlock* second = block-&gt;end()-&gt;SecondSuccessor();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(second == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> || first != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="comment">// Check that the predecessor array is correct.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">if</span> (first != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(first-&gt;predecessors()-&gt;Contains(block));</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span> (second != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(second-&gt;predecessors()-&gt;Contains(block));</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// Check that phis have correct arguments.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; block-&gt;phis()-&gt;length(); j++) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      HPhi* phi = block-&gt;phis()-&gt;at(j);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      phi-&gt;Verify();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// Check that all join blocks have predecessors that end with an</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// unconditional goto and agree on their environment node id.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (block-&gt;predecessors()-&gt;length() &gt;= 2) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      BailoutId <span class="keywordtype">id</span> =</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;          block-&gt;predecessors()-&gt;first()-&gt;last_environment()-&gt;ast_id();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; block-&gt;predecessors()-&gt;length(); k++) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        HBasicBlock* predecessor = block-&gt;predecessors()-&gt;at(k);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(predecessor-&gt;end()-&gt;IsGoto() ||</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;               predecessor-&gt;end()-&gt;IsDeoptimize());</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(predecessor-&gt;last_environment()-&gt;ast_id() == id);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// Check special property of first block to have no predecessors.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(blocks_.at(0)-&gt;predecessors()-&gt;is_empty());</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">if</span> (do_full_verify) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">// Check that the graph is fully connected.</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    ReachabilityAnalyzer analyzer(entry_block_, blocks_.length(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(analyzer.visited_count() == blocks_.length());</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">// Check that entry block dominator is NULL.</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(entry_block_-&gt;dominator() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// Check dominators.</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; blocks_.length(); ++i) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      HBasicBlock* block = blocks_.at(i);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">if</span> (block-&gt;dominator() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="comment">// Only start block may have no dominator assigned to.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(i == 0);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="comment">// Assert that block is unreachable if dominator must not be visited.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        ReachabilityAnalyzer dominator_analyzer(entry_block_,</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                                                blocks_.length(),</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                                                block-&gt;dominator());</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!dominator_analyzer.reachable()-&gt;Contains(block-&gt;block_id()));</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;HConstant* HGraph::GetConstant(SetOncePointer&lt;HConstant&gt;* pointer,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                               <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> value) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">if</span> (!pointer-&gt;is_set()) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// Can&#39;t pass GetInvalidContext() to HConstant::New, because that will</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">// recursively call GetConstant</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    HConstant* constant = HConstant::New(zone(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, value);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    constant-&gt;InsertAfter(entry_block()-&gt;first());</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    pointer-&gt;set(constant);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">return</span> constant;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">return</span> ReinsertConstantIfNecessary(pointer-&gt;get());</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;HConstant* HGraph::ReinsertConstantIfNecessary(HConstant* constant) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">if</span> (!constant-&gt;IsLinked()) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">// The constant was removed from the graph. Reinsert.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    constant-&gt;ClearFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa01682ea130c8f5a5ec095c703e4da34a">HValue::kIsDead</a>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    constant-&gt;InsertAfter(entry_block()-&gt;first());</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">return</span> constant;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;HConstant* HGraph::GetConstant0() {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordflow">return</span> GetConstant(&amp;constant_0_, 0);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;HConstant* HGraph::GetConstant1() {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordflow">return</span> GetConstant(&amp;constant_1_, 1);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;HConstant* HGraph::GetConstantMinus1() {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordflow">return</span> GetConstant(&amp;constant_minus1_, -1);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="../../d7/dd6/hydrogen_8cc.html#a0659d2588f5f86486077a0631a36a995">  704</a></span>&#160;<span class="preprocessor">#define DEFINE_GET_CONSTANT(Name, name, htype, boolean_value)                  \</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="preprocessor">HConstant* HGraph::GetConstant##Name() {                                       \</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="preprocessor">  if (!constant_##name##_.is_set()) {                                          \</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="preprocessor">    HConstant* constant = new(zone()) HConstant(                               \</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="preprocessor">        Unique&lt;Object&gt;::CreateImmovable(isolate()-&gt;factory()-&gt;name##_value()), \</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="preprocessor">        Representation::Tagged(),                                              \</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor">        htype,                                                                 \</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="preprocessor">        true,                                                                  \</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="preprocessor">        boolean_value,                                                         \</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="preprocessor">        false,                                                                 \</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="preprocessor">        ODDBALL_TYPE);                                                         \</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor">    constant-&gt;InsertAfter(entry_block()-&gt;first());                             \</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="preprocessor">    constant_##name##_.set(constant);                                          \</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">  }                                                                            \</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="preprocessor">  return ReinsertConstantIfNecessary(constant_##name##_.get());                \</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor">}</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<a class="code" href="../../d7/dd6/hydrogen_8cc.html#a0659d2588f5f86486077a0631a36a995">DEFINE_GET_CONSTANT</a>(<a class="code" href="../../d2/dc3/namespacev8.html#ac271b6d4e39065b86eaf99135cb9f612">Undefined</a>, undefined, HType::Tagged(), <span class="keyword">false</span>)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<a class="code" href="../../d7/dd6/hydrogen_8cc.html#a0659d2588f5f86486077a0631a36a995">DEFINE_GET_CONSTANT</a>(<a class="code" href="../../d2/dc3/namespacev8.html#ab37a1c787303e0d9d44ccc03a5a688bd">True</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a29dd6ffe8f62d1541ef1c8056c028e9c">true</a>, HType::Boolean(), true)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<a class="code" href="../../d7/dd6/hydrogen_8cc.html#a0659d2588f5f86486077a0631a36a995">DEFINE_GET_CONSTANT</a>(<a class="code" href="../../d2/dc3/namespacev8.html#a3faa6b97e175f8317bc7ceffec90e429">False</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>, HType::Boolean(), false)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<a class="code" href="../../d7/dd6/hydrogen_8cc.html#a0659d2588f5f86486077a0631a36a995">DEFINE_GET_CONSTANT</a>(Hole, the_hole, HType::Tagged(), false)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<a class="code" href="../../d7/dd6/hydrogen_8cc.html#a0659d2588f5f86486077a0631a36a995">DEFINE_GET_CONSTANT</a>(<a class="code" href="../../d2/dc3/namespacev8.html#aeb687675fb2cf722704e8b06120de65a">Null</a>, null, HType::Tagged(), false)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#undef DEFINE_GET_CONSTANT</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="../../d7/dd6/hydrogen_8cc.html#af143c716a5c7fd77110d57bbddc6bbcb">  731</a></span>&#160;<span class="preprocessor">#define DEFINE_IS_CONSTANT(Name, name)                                         \</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="preprocessor">bool HGraph::IsConstant##Name(HConstant* constant) {                           \</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">  return constant_##name##_.is_set() &amp;&amp; constant == constant_##name##_.get();  \</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="preprocessor">}</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<a class="code" href="../../d7/dd6/hydrogen_8cc.html#af143c716a5c7fd77110d57bbddc6bbcb">DEFINE_IS_CONSTANT</a>(<a class="code" href="../../d2/dc3/namespacev8.html#ac271b6d4e39065b86eaf99135cb9f612">Undefined</a>, undefined)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<a class="code" href="../../d7/dd6/hydrogen_8cc.html#af143c716a5c7fd77110d57bbddc6bbcb">DEFINE_IS_CONSTANT</a>(0, 0)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;DEFINE_IS_CONSTANT(1, 1)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;DEFINE_IS_CONSTANT(Minus1, minus1)</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;DEFINE_IS_CONSTANT(True, true)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;DEFINE_IS_CONSTANT(False, false)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;DEFINE_IS_CONSTANT(Hole, the_hole)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;DEFINE_IS_CONSTANT(Null, null)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#undef DEFINE_IS_CONSTANT</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;HConstant* HGraph::GetInvalidContext() {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">return</span> GetConstant(&amp;constant_invalid_context_, 0xFFFFC0C7);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;}</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="keywordtype">bool</span> HGraph::IsStandardConstant(HConstant* constant) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">if</span> (IsConstantUndefined(constant)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordflow">if</span> (IsConstant0(constant)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">if</span> (IsConstant1(constant)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (IsConstantMinus1(constant)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">if</span> (IsConstantTrue(constant)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">if</span> (IsConstantFalse(constant)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">if</span> (IsConstantHole(constant)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">if</span> (IsConstantNull(constant)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;HGraphBuilder::IfBuilder::IfBuilder(HGraphBuilder* builder)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    : builder_(builder),</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      finished_(false),</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      did_then_(false),</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      did_else_(false),</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      did_else_if_(false),</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      did_and_(false),</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      did_or_(false),</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      captured_(false),</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      needs_compare_(true),</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      pending_merge_block_(false),</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      split_edge_merge_block_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      merge_at_join_blocks_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      normal_merge_at_join_block_count_(0),</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      deopt_merge_at_join_block_count_(0) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  HEnvironment* env = builder-&gt;environment();</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  first_true_block_ = builder-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  first_false_block_ = builder-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;HGraphBuilder::IfBuilder::IfBuilder(</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    HGraphBuilder* builder,</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    HIfContinuation* continuation)</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    : builder_(builder),</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      finished_(false),</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      did_then_(false),</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      did_else_(false),</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      did_else_if_(false),</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      did_and_(false),</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      did_or_(false),</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      captured_(false),</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      needs_compare_(false),</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      pending_merge_block_(false),</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      first_true_block_(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      first_false_block_(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      split_edge_merge_block_(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      merge_at_join_blocks_(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      normal_merge_at_join_block_count_(0),</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      deopt_merge_at_join_block_count_(0) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  continuation-&gt;Continue(&amp;first_true_block_,</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                         &amp;first_false_block_);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;HControlInstruction* HGraphBuilder::IfBuilder::AddCompare(</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    HControlInstruction* compare) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(did_then_ == did_else_);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">if</span> (did_else_) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">// Handle if-then-elseif</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    did_else_if_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    did_else_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    did_then_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    did_and_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    did_or_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    pending_merge_block_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    split_edge_merge_block_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    HEnvironment* env = builder_-&gt;environment();</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    first_true_block_ = builder_-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    first_false_block_ = builder_-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span> (split_edge_merge_block_ != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    HEnvironment* env = first_false_block_-&gt;last_environment();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    HBasicBlock* split_edge =</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        builder_-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (did_or_) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      compare-&gt;SetSuccessorAt(0, split_edge);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      compare-&gt;SetSuccessorAt(1, first_false_block_);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      compare-&gt;SetSuccessorAt(0, first_true_block_);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      compare-&gt;SetSuccessorAt(1, split_edge);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    builder_-&gt;GotoNoSimulate(split_edge, split_edge_merge_block_);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    compare-&gt;SetSuccessorAt(0, first_true_block_);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    compare-&gt;SetSuccessorAt(1, first_false_block_);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  builder_-&gt;FinishCurrentBlock(compare);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  needs_compare_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">return</span> compare;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::Or() {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!needs_compare_);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!did_and_);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  did_or_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  HEnvironment* env = first_false_block_-&gt;last_environment();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">if</span> (split_edge_merge_block_ == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    split_edge_merge_block_ =</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        builder_-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    builder_-&gt;GotoNoSimulate(first_true_block_, split_edge_merge_block_);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    first_true_block_ = split_edge_merge_block_;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  builder_-&gt;set_current_block(first_false_block_);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  first_false_block_ = builder_-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::And() {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!needs_compare_);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!did_or_);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  did_and_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  HEnvironment* env = first_false_block_-&gt;last_environment();</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">if</span> (split_edge_merge_block_ == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    split_edge_merge_block_ = builder_-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    builder_-&gt;GotoNoSimulate(first_false_block_, split_edge_merge_block_);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    first_false_block_ = split_edge_merge_block_;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  builder_-&gt;set_current_block(first_true_block_);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  first_true_block_ = builder_-&gt;CreateBasicBlock(env-&gt;Copy());</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::CaptureContinuation(</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    HIfContinuation* continuation) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!did_else_if_);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!finished_);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!captured_);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  HBasicBlock* true_block = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  HBasicBlock* false_block = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  Finish(&amp;true_block, &amp;false_block);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(true_block != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(false_block != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  continuation-&gt;Capture(true_block, false_block);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  captured_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  builder_-&gt;set_current_block(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  End();</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;}</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::JoinContinuation(HIfContinuation* continuation) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!did_else_if_);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!finished_);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!captured_);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  HBasicBlock* true_block = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  HBasicBlock* false_block = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  Finish(&amp;true_block, &amp;false_block);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  merge_at_join_blocks_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (true_block != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; !true_block-&gt;IsFinished()) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(continuation-&gt;IsTrueReachable());</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    builder_-&gt;GotoNoSimulate(true_block, continuation-&gt;true_branch());</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">if</span> (false_block != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; !false_block-&gt;IsFinished()) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(continuation-&gt;IsFalseReachable());</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    builder_-&gt;GotoNoSimulate(false_block, continuation-&gt;false_branch());</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  captured_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  End();</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::Then() {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!captured_);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!finished_);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  did_then_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (needs_compare_) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="comment">// Handle if&#39;s without any expressions, they jump directly to the &quot;else&quot;</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// branch. However, we must pretend that the &quot;then&quot; branch is reachable,</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">// so that the graph builder visits it and sees any live range extending</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="comment">// constructs within it.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    HConstant* constant_false = builder_-&gt;graph()-&gt;GetConstantFalse();</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    ToBooleanStub::Types boolean_type = ToBooleanStub::Types();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    boolean_type.Add(ToBooleanStub::BOOLEAN);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    HBranch* branch = builder()-&gt;New&lt;HBranch&gt;(</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        constant_false, boolean_type, first_true_block_, first_false_block_);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    builder_-&gt;FinishCurrentBlock(branch);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  builder_-&gt;set_current_block(first_true_block_);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  pending_merge_block_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;}</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::Else() {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(did_then_);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!captured_);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!finished_);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  AddMergeAtJoinBlock(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  builder_-&gt;set_current_block(first_false_block_);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  pending_merge_block_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  did_else_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;}</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::Deopt(<span class="keyword">const</span> <span class="keywordtype">char</span>* reason) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(did_then_);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  builder_-&gt;Add&lt;HDeoptimize&gt;(reason, Deoptimizer::EAGER);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  AddMergeAtJoinBlock(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::Return(HValue* value) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  HValue* parameter_count = builder_-&gt;graph()-&gt;GetConstantMinus1();</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  builder_-&gt;FinishExitCurrentBlock(</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      builder_-&gt;New&lt;HReturn&gt;(value, parameter_count));</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  AddMergeAtJoinBlock(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;}</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::AddMergeAtJoinBlock(<span class="keywordtype">bool</span> deopt) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">if</span> (!pending_merge_block_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  HBasicBlock* block = builder_-&gt;current_block();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(block == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> || !block-&gt;IsFinished());</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  MergeAtJoinBlock* record =</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keyword">new</span>(builder_-&gt;zone()) MergeAtJoinBlock(block, deopt,</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                                             merge_at_join_blocks_);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  merge_at_join_blocks_ = record;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">if</span> (block != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(block-&gt;end() == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (deopt) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      normal_merge_at_join_block_count_++;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      deopt_merge_at_join_block_count_++;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  builder_-&gt;set_current_block(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  pending_merge_block_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::Finish() {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!finished_);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordflow">if</span> (!did_then_) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    Then();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  AddMergeAtJoinBlock(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordflow">if</span> (!did_else_) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    Else();</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    AddMergeAtJoinBlock(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  finished_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;}</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::Finish(HBasicBlock** then_continuation,</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                      HBasicBlock** else_continuation) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  Finish();</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  MergeAtJoinBlock* else_record = merge_at_join_blocks_;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">if</span> (else_continuation != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    *else_continuation = else_record-&gt;block_;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  MergeAtJoinBlock* then_record = else_record-&gt;next_;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">if</span> (then_continuation != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    *then_continuation = then_record-&gt;block_;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(then_record-&gt;next_ == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::IfBuilder::End() {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">if</span> (captured_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  Finish();</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordtype">int</span> total_merged_blocks = normal_merge_at_join_block_count_ +</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    deopt_merge_at_join_block_count_;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(total_merged_blocks &gt;= 1);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  HBasicBlock* merge_block = total_merged_blocks == 1</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      ? <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> : builder_-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="comment">// Merge non-deopt blocks first to ensure environment has right size for</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// padding.</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  MergeAtJoinBlock* current = merge_at_join_blocks_;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">while</span> (current != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">if</span> (!current-&gt;deopt_ &amp;&amp; current-&gt;block_ != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <span class="comment">// If there is only one block that makes it through to the end of the</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="comment">// if, then just set it as the current block and continue rather then</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="comment">// creating an unnecessary merge block.</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">if</span> (total_merged_blocks == 1) {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        builder_-&gt;set_current_block(current-&gt;block_);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      builder_-&gt;GotoNoSimulate(current-&gt;block_, merge_block);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    current = current-&gt;next_;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="comment">// Merge deopt blocks, padding when necessary.</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  current = merge_at_join_blocks_;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keywordflow">while</span> (current != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">if</span> (current-&gt;deopt_ &amp;&amp; current-&gt;block_ != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      current-&gt;block_-&gt;FinishExit(</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;          HAbnormalExit::New(builder_-&gt;zone(), <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;          HSourcePosition::Unknown());</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    current = current-&gt;next_;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  builder_-&gt;set_current_block(merge_block);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;}</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;HGraphBuilder::LoopBuilder::LoopBuilder(HGraphBuilder* builder,</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                                        HValue* context,</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                        LoopBuilder::Direction direction)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    : builder_(builder),</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      context_(context),</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      direction_(direction),</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      finished_(false) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  header_block_ = builder-&gt;CreateLoopHeaderBlock();</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  body_block_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  exit_block_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  exit_trampoline_block_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  increment_amount_ = builder_-&gt;graph()-&gt;GetConstant1();</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;HGraphBuilder::LoopBuilder::LoopBuilder(HGraphBuilder* builder,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                                        HValue* context,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                        LoopBuilder::Direction direction,</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                                        HValue* increment_amount)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    : builder_(builder),</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      context_(context),</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      direction_(direction),</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      finished_(false) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  header_block_ = builder-&gt;CreateLoopHeaderBlock();</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  body_block_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  exit_block_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  exit_trampoline_block_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  increment_amount_ = increment_amount;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;HValue* HGraphBuilder::LoopBuilder::BeginBody(</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    HValue* initial,</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    HValue* terminating,</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    Token::Value token) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  HEnvironment* env = builder_-&gt;environment();</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  phi_ = header_block_-&gt;AddNewPhi(env-&gt;values()-&gt;length());</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  phi_-&gt;AddInput(initial);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  env-&gt;Push(initial);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  builder_-&gt;GotoNoSimulate(header_block_);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  HEnvironment* body_env = env-&gt;Copy();</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  HEnvironment* exit_env = env-&gt;Copy();</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// Remove the phi from the expression stack</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  body_env-&gt;Pop();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  exit_env-&gt;Pop();</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  body_block_ = builder_-&gt;CreateBasicBlock(body_env);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  exit_block_ = builder_-&gt;CreateBasicBlock(exit_env);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  builder_-&gt;set_current_block(header_block_);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  env-&gt;Pop();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  builder_-&gt;FinishCurrentBlock(builder_-&gt;New&lt;HCompareNumericAndBranch&gt;(</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;          phi_, terminating, token, body_block_, exit_block_));</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  builder_-&gt;set_current_block(body_block_);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">if</span> (direction_ == kPreIncrement || direction_ == kPreDecrement) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    HValue* one = builder_-&gt;graph()-&gt;GetConstant1();</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span> (direction_ == kPreIncrement) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      increment_ = HAdd::New(zone(), context_, phi_, one);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      increment_ = HSub::New(zone(), context_, phi_, one);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    increment_-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    builder_-&gt;AddInstruction(increment_);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">return</span> increment_;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">return</span> phi_;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;}</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/dc3/namespacev8.html#ac08707d61d5d7a69b2a5001ba10ed79ba54957cf47b2c20cda66ae848d2b3aacb">HGraphBuilder::LoopBuilder::Break</a>() {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keywordflow">if</span> (exit_trampoline_block_ == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="comment">// Its the first time we saw a break.</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    HEnvironment* env = exit_block_-&gt;last_environment()-&gt;Copy();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    exit_trampoline_block_ = builder_-&gt;CreateBasicBlock(env);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    builder_-&gt;GotoNoSimulate(exit_block_, exit_trampoline_block_);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  builder_-&gt;GotoNoSimulate(exit_trampoline_block_);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  builder_-&gt;set_current_block(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="keywordtype">void</span> HGraphBuilder::LoopBuilder::EndBody() {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!finished_);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">if</span> (direction_ == kPostIncrement || direction_ == kPostDecrement) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">if</span> (direction_ == kPostIncrement) {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      increment_ = HAdd::New(zone(), context_, phi_, increment_amount_);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      increment_ = HSub::New(zone(), context_, phi_, increment_amount_);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    increment_-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    builder_-&gt;AddInstruction(increment_);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="comment">// Push the new increment value on the expression stack to merge into the phi.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  builder_-&gt;environment()-&gt;Push(increment_);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  HBasicBlock* last_block = builder_-&gt;current_block();</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  builder_-&gt;GotoNoSimulate(last_block, header_block_);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  header_block_-&gt;loop_information()-&gt;RegisterBackEdge(last_block);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (exit_trampoline_block_ != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    builder_-&gt;set_current_block(exit_trampoline_block_);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    builder_-&gt;set_current_block(exit_block_);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  finished_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;}</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div>
<div class="line"><a name="l01169"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a72b000803890dc443acdbc043adf5419"> 1169</a></span>&#160;HGraph* HGraphBuilder::CreateGraph() {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  graph_ = <span class="keyword">new</span>(zone()) HGraph(info_);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="keywordflow">if</span> (FLAG_hydrogen_stats) isolate()-&gt;GetHStatistics()-&gt;Initialize(info_);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  CompilationPhase phase(<span class="stringliteral">&quot;H_Block building&quot;</span>, info_);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  set_current_block(graph()-&gt;entry_block());</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="keywordflow">if</span> (!BuildGraph()) <span class="keywordflow">return</span> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  graph()-&gt;FinalizeUniqueness();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">return</span> graph_;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;}</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div>
<div class="line"><a name="l01180"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6"> 1180</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* HGraphBuilder::AddInstruction(<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* instr) {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(current_block() != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!FLAG_hydrogen_track_positions ||</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;         !position_.IsUnknown() ||</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;         !info_-&gt;IsOptimizing());</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  current_block()-&gt;AddInstruction(instr, source_position());</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordflow">if</span> (graph()-&gt;IsInsideNoSideEffectsScope()) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    instr-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a818139a647c0ce70eb74f9f22a91eaa9">SetFlag</a>(HValue::kHasNoObservableSideEffects);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="keywordflow">return</span> instr;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div>
<div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe"> 1193</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::FinishCurrentBlock(<a class="code" href="../../d7/de1/classv8_1_1internal_1_1_h_control_instruction.html">HControlInstruction</a>* last) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!FLAG_hydrogen_track_positions ||</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;         !info_-&gt;IsOptimizing() ||</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;         !position_.IsUnknown());</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  current_block()-&gt;Finish(last, source_position());</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordflow">if</span> (last-&gt;IsReturn() || last-&gt;IsAbnormalExit()) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    set_current_block(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div>
<div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a85c8c3e6d4b69b6e25a8a94f803cdaee"> 1204</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::FinishExitCurrentBlock(<a class="code" href="../../d7/de1/classv8_1_1internal_1_1_h_control_instruction.html">HControlInstruction</a>* instruction) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!FLAG_hydrogen_track_positions || !info_-&gt;IsOptimizing() ||</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;         !position_.IsUnknown());</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  current_block()-&gt;FinishExit(instruction, source_position());</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">if</span> (instruction-&gt;IsReturn() || instruction-&gt;IsAbnormalExit()) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    set_current_block(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;}</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div>
<div class="line"><a name="l01214"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aeb43fe51ddc32efc5684f4590f07aac6"> 1214</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::AddIncrementCounter(<a class="code" href="../../d1/dcb/classv8_1_1internal_1_1_stats_counter.html">StatsCounter</a>* counter) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">if</span> (FLAG_native_code_counters &amp;&amp; counter-&gt;<a class="code" href="../../d1/dcb/classv8_1_1internal_1_1_stats_counter.html#a75da96da90c15806f51016f9c3f0803e">Enabled</a>()) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* reference = Add&lt;HConstant&gt;(ExternalReference(counter));</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* old_value = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        reference, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), HObjectAccess::ForCounter());</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_value = AddUncasted&lt;HAdd&gt;(old_value, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    new_value-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);  <span class="comment">// Ignore counter overflow</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    Add&lt;HStoreNamedField&gt;(reference, HObjectAccess::ForCounter(),</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                          new_value, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a9f1432d7ea8c60fbf28bc3650602cb70">STORE_TO_INITIALIZED_ENTRY</a>);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;}</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a03ce1190c6f922905011ae419ea700d9"> 1227</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::AddSimulate(<a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html">BailoutId</a> <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35c">RemovableSimulate</a> removable) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(current_block() != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!graph()-&gt;IsInsideNoSideEffectsScope());</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  current_block()-&gt;AddNewSimulate(<span class="keywordtype">id</span>, source_position(), removable);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;}</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2e44bd382e52f221f70939a892e513f3"> 1235</a></span>&#160;HBasicBlock* HGraphBuilder::CreateBasicBlock(HEnvironment* env) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  HBasicBlock* b = graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  b-&gt;SetInitialEnvironment(env);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="keywordflow">return</span> b;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;}</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div>
<div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a9682bd4fb24016d3c2b858ea34023c9b"> 1242</a></span>&#160;HBasicBlock* HGraphBuilder::CreateLoopHeaderBlock() {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  HBasicBlock* header = graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  HEnvironment* entry_env = environment()-&gt;CopyAsLoopHeader(header);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  header-&gt;SetInitialEnvironment(entry_env);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  header-&gt;AttachLoopInformation();</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">return</span> header;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;}</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div>
<div class="line"><a name="l01251"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8"> 1251</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildCheckHeapObject(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a300e18740813b767bba2de57d4426618">type</a>().IsHeapObject()) <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="keywordflow">return</span> Add&lt;HCheckHeapObject&gt;(<a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;}</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01257"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a08e820301240173b1001a88abd50f65a"> 1257</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::FinishExitWithHardDeoptimization(<span class="keyword">const</span> <span class="keywordtype">char</span>* reason) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  Add&lt;HDeoptimize&gt;(reason, Deoptimizer::EAGER);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  FinishExitCurrentBlock(New&lt;HAbnormalExit&gt;());</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div>
<div class="line"><a name="l01263"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac0fc9ecb5807b3e7e7e86a39754f625e"> 1263</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildCheckMap(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>, <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a>) {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keywordflow">return</span> Add&lt;HCheckMaps&gt;(<a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>, <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, top_info());</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;}</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aacfb8b08512ff272a06084e0f0b2cbe3"> 1268</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildCheckString(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordflow">if</span> (!string-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a300e18740813b767bba2de57d4426618">type</a>().IsString()) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!string-&gt;IsConstant() ||</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;           !HConstant::cast(<span class="keywordtype">string</span>)-&gt;HasStringValue());</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    BuildCheckHeapObject(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">return</span> Add&lt;HCheckInstanceType&gt;(string, HCheckInstanceType::IS_STRING);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">return</span> string;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;}</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div>
<div class="line"><a name="l01279"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1f74519e82c730b5c8e0a8918a13632e"> 1279</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildWrapReceiver(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>, <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keyword">function</span>) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">if</span> (object-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a300e18740813b767bba2de57d4426618">type</a>().IsJSObject()) <span class="keywordflow">return</span> <span class="keywordtype">object</span>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="keywordflow">if</span> (function-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      HConstant::cast(<span class="keyword">function</span>)-&gt;handle(isolate())-&gt;IsJSFunction()) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSFunction&gt;</a> f = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSFunction&gt;::cast</a>(</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        HConstant::cast(<span class="keyword">function</span>)-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(isolate()));</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="../../db/dc5/classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>* shared = f-&gt;shared();</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">if</span> (shared-&gt;<a class="code" href="../../db/dc5/classv8_1_1internal_1_1_shared_function_info.html#aa3405238f2c4508771c02f251721ae04">strict_mode</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66e9a5671f740245739cc6873ea1b445a459b52e1bdb128570809aba2a4c92d2c">STRICT</a> || shared-&gt;native()) <span class="keywordflow">return</span> <span class="keywordtype">object</span>;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordflow">return</span> Add&lt;HWrapReceiver&gt;(object, <span class="keyword">function</span>);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div>
<div class="line"><a name="l01292"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6bb5430802ee4246ac22606cd0811b0a"> 1292</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildCheckForCapacityGrow(</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements,</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length,</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key,</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordtype">bool</span> is_js_array,</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type) {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  IfBuilder length_checker(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <a class="code" href="../../d5/d2d/classv8_1_1internal_1_1_token.html#a896c037a32087c5c20d97e64a1786880">Token::Value</a> token = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a53a6bf552f8190db0bd7c7d53f1c7918">IsHoleyElementsKind</a>(kind) ? Token::GTE : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  length_checker.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(key, length, token);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  length_checker.Then();</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* current_capacity = AddLoadFixedArrayLength(elements);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  IfBuilder capacity_checker(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  capacity_checker.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(key, current_capacity,</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                                                Token::GTE);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  capacity_checker.Then();</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* max_gap = Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(JSObject::kMaxGap));</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* max_capacity = AddUncasted&lt;HAdd&gt;(current_capacity, max_gap);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  IfBuilder key_checker(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  key_checker.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(key, max_capacity, Token::LT);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  key_checker.Then();</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  key_checker.ElseDeopt(<span class="stringliteral">&quot;Key out of capacity range&quot;</span>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  key_checker.End();</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_capacity = BuildNewElementsCapacity(key);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_elements = BuildGrowElementsCapacity(<span class="keywordtype">object</span>, elements,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                                                   kind, kind, length,</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                                   new_capacity);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  environment()-&gt;Push(new_elements);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  capacity_checker.Else();</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  environment()-&gt;Push(elements);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  capacity_checker.End();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordflow">if</span> (is_js_array) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_length = AddUncasted&lt;HAdd&gt;(key, graph_-&gt;GetConstant1());</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    new_length-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    Add&lt;HStoreNamedField&gt;(object, HObjectAccess::ForArrayLength(kind),</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                          new_length);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> &amp;&amp; kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5">FAST_SMI_ELEMENTS</a>) {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* checked_elements = environment()-&gt;Top();</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="comment">// Write zero to ensure that the new element is initialized with some smi.</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    Add&lt;HStoreKeyed&gt;(checked_elements, key, graph()-&gt;GetConstant0(), kind);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  length_checker.Else();</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  Add&lt;HBoundsCheck&gt;(key, length);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  environment()-&gt;Push(elements);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  length_checker.End();</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="keywordflow">return</span> environment()-&gt;Pop();</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;}</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div>
<div class="line"><a name="l01359"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a77803267732602ba152ad63de51aee58"> 1359</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildCopyElementsOnWrite(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                                                <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements,</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                                                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                                                <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html">Factory</a>* factory = isolate()-&gt;factory();</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  IfBuilder cow_checker(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  cow_checker.If&lt;HCompareMap&gt;(elements, factory-&gt;fixed_cow_array_map());</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  cow_checker.Then();</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* capacity = AddLoadFixedArrayLength(elements);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_elements = BuildGrowElementsCapacity(<span class="keywordtype">object</span>, elements, kind,</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                                                   kind, length, capacity);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  environment()-&gt;Push(new_elements);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  cow_checker.Else();</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  environment()-&gt;Push(elements);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  cow_checker.End();</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keywordflow">return</span> environment()-&gt;Pop();</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;}</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div>
<div class="line"><a name="l01387"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1fb33975035f5ed96ba07bdd7fb5e72a"> 1387</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::BuildTransitionElementsKind(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                                                <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a>,</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                                                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> from_kind,</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                                                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> to_kind,</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                                                <span class="keywordtype">bool</span> is_jsarray) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0749cff20cff647dabf33db89908c0a8">IsFastHoleyElementsKind</a>(from_kind) ||</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0749cff20cff647dabf33db89908c0a8">IsFastHoleyElementsKind</a>(to_kind));</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordflow">if</span> (AllocationSite::GetMode(from_kind, to_kind) == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5">TRACK_ALLOCATION_SITE</a>) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    Add&lt;HTrapAllocationMemento&gt;(object);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64652147a917fcccc0f8b9571eab88e2">IsSimpleMapChangeTransition</a>(from_kind, to_kind)) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* elements = AddLoadElements(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* empty_fixed_array = Add&lt;HConstant&gt;(</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        isolate()-&gt;factory()-&gt;empty_fixed_array());</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    IfBuilder if_builder(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    if_builder.IfNot&lt;<a class="code" href="../../d6/dbb/classv8_1_1internal_1_1_h_compare_object_eq_and_branch.html">HCompareObjectEqAndBranch</a>&gt;(elements, empty_fixed_array);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    if_builder.Then();</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* elements_length = AddLoadFixedArrayLength(elements);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* array_length = is_jsarray</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        ? Add&lt;HLoadNamedField&gt;(object, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                               HObjectAccess::ForArrayLength(from_kind))</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        : elements_length;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    BuildGrowElementsCapacity(<span class="keywordtype">object</span>, elements, from_kind, to_kind,</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                              array_length, elements_length);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    if_builder.End();</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  Add&lt;HStoreNamedField&gt;(object, HObjectAccess::ForMap(), <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a>);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;}</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildUncheckedDictionaryElementLoadHelper(</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements,</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key,</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* hash,</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* mask,</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordtype">int</span> current_probe) {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">if</span> (current_probe == kNumberDictionaryProbes) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> offset = SeededNumberDictionary::GetProbeOffset(current_probe);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  HValue* raw_index = (current_probe == 0)</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      ? hash</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      : AddUncasted&lt;HAdd&gt;(hash, Add&lt;HConstant&gt;(offset));</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  raw_index = AddUncasted&lt;HBitwise&gt;(Token::BIT_AND, raw_index, mask);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> entry_size = SeededNumberDictionary::kEntrySize;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  raw_index = AddUncasted&lt;HMul&gt;(raw_index, Add&lt;HConstant&gt;(entry_size));</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  raw_index-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> base_offset = SeededNumberDictionary::kElementsStartIndex;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  HValue* key_index = AddUncasted&lt;HAdd&gt;(raw_index, Add&lt;HConstant&gt;(base_offset));</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  key_index-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  HValue* candidate_key = Add&lt;HLoadKeyed&gt;(elements, key_index,</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                                          <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  IfBuilder key_compare(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  key_compare.IfNot&lt;HCompareObjectEqAndBranch&gt;(key, candidate_key);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  key_compare.Then();</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="comment">// Key at the current probe doesn&#39;t match, try at the next probe.</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    HValue* result = BuildUncheckedDictionaryElementLoadHelper(</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        elements, key, hash, mask, current_probe + 1);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">if</span> (result == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      key_compare.Deopt(<span class="stringliteral">&quot;probes exhausted in keyed load dictionary lookup&quot;</span>);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      result = graph()-&gt;GetConstantUndefined();</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      Push(result);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  key_compare.Else();</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="comment">// Key at current probe matches. Details must be zero, otherwise the</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="comment">// dictionary element requires special handling.</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    HValue* details_index = AddUncasted&lt;HAdd&gt;(</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        raw_index, Add&lt;HConstant&gt;(base_offset + 2));</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    details_index-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    HValue* details = Add&lt;HLoadKeyed&gt;(elements, details_index,</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                                      <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    IfBuilder details_compare(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    details_compare.If&lt;HCompareNumericAndBranch&gt;(details,</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                                                 graph()-&gt;GetConstant0(),</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                                                 Token::NE);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    details_compare.ThenDeopt(<span class="stringliteral">&quot;keyed load dictionary element not fast case&quot;</span>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    details_compare.Else();</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="comment">// Key matches and details are zero --&gt; fast case. Load and return the</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="comment">// value.</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      HValue* result_index = AddUncasted&lt;HAdd&gt;(</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;          raw_index, Add&lt;HConstant&gt;(base_offset + 1));</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      result_index-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      Push(Add&lt;HLoadKeyed&gt;(elements, result_index,</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                           static_cast&lt;HValue*&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                           <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>));</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    details_compare.End();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  key_compare.End();</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keywordflow">return</span> Pop();</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;}</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div>
<div class="line"><a name="l01506"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a537baa712759d8a5ca0912d4ee79d125"> 1506</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildElementIndexHash(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* index) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> seed_value = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(isolate()-&gt;heap()-&gt;HashSeed());</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* seed = Add&lt;HConstant&gt;(seed_value);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* hash = AddUncasted&lt;HBitwise&gt;(Token::BIT_XOR, index, seed);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// hash = ~hash + (hash &lt;&lt; 15);</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* shifted_hash = AddUncasted&lt;HShl&gt;(hash, Add&lt;HConstant&gt;(15));</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* not_hash = AddUncasted&lt;HBitwise&gt;(Token::BIT_XOR, hash,</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                                           graph()-&gt;GetConstantMinus1());</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  hash = AddUncasted&lt;HAdd&gt;(shifted_hash, not_hash);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">// hash = hash ^ (hash &gt;&gt; 12);</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  shifted_hash = AddUncasted&lt;HShr&gt;(hash, Add&lt;HConstant&gt;(12));</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  hash = AddUncasted&lt;HBitwise&gt;(Token::BIT_XOR, hash, shifted_hash);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// hash = hash + (hash &lt;&lt; 2);</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  shifted_hash = AddUncasted&lt;HShl&gt;(hash, Add&lt;HConstant&gt;(2));</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  hash = AddUncasted&lt;HAdd&gt;(hash, shifted_hash);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="comment">// hash = hash ^ (hash &gt;&gt; 4);</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  shifted_hash = AddUncasted&lt;HShr&gt;(hash, Add&lt;HConstant&gt;(4));</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  hash = AddUncasted&lt;HBitwise&gt;(Token::BIT_XOR, hash, shifted_hash);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="comment">// hash = hash * 2057;</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  hash = AddUncasted&lt;HMul&gt;(hash, Add&lt;HConstant&gt;(2057));</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  hash-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="comment">// hash = hash ^ (hash &gt;&gt; 16);</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  shifted_hash = AddUncasted&lt;HShr&gt;(hash, Add&lt;HConstant&gt;(16));</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">return</span> AddUncasted&lt;HBitwise&gt;(Token::BIT_XOR, hash, shifted_hash);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;}</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div>
<div class="line"><a name="l01539"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a77fae48b3f604ef18165c1f3c70be10c"> 1539</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildUncheckedDictionaryElementLoad(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* receiver,</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                                                           <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements = AddLoadElements(receiver);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* hash = BuildElementIndexHash(key);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* capacity = Add&lt;HLoadKeyed&gt;(</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      elements,</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      Add&lt;HConstant&gt;(NameDictionary::kCapacityIndex),</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      static_cast&lt;HValue*&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* mask = AddUncasted&lt;HSub&gt;(capacity, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  mask-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a4174a75a5b495ed000c678a2ab05b0f8">ChangeRepresentation</a>(Representation::Integer32());</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  mask-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">return</span> BuildUncheckedDictionaryElementLoadHelper(elements, key,</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                                                   hash, mask, 0);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div>
<div class="line"><a name="l01560"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2aa7861cfdcd9b581acfe6924b9919ae"> 1560</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildRegExpConstructResult(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length,</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                                  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* index,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                                  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* input) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  NoObservableSideEffectsScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="comment">// Compute the size of the RegExpResult followed by FixedArray with length.</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a> = length;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  size = AddUncasted&lt;HShl&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>, Add&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>));</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  size = AddUncasted&lt;HAdd&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>, Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;              JSRegExpResult::kSize + FixedArray::kHeaderSize)));</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="comment">// Make sure size does not exceeds max regular heap object size.</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  Add&lt;HBoundsCheck&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>, Add&lt;HConstant&gt;(Page::kMaxRegularHeapObjectSize));</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="comment">// Allocate the JSRegExpResult and the FixedArray in one step.</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* result = Add&lt;HAllocate&gt;(</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>, HType::JSArray(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="comment">// Determine the elements FixedArray.</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements = Add&lt;HInnerAllocatedObject&gt;(</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      result, Add&lt;HConstant&gt;(JSRegExpResult::kSize));</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="comment">// Initialize the JSRegExpResult header.</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* global_object = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      context(), <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      HObjectAccess::ForContextSlot(Context::GLOBAL_OBJECT_INDEX));</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* native_context = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      global_object, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      HObjectAccess::ForGlobalObjectNativeContext());</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  AddStoreMapNoWriteBarrier(result, Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;          native_context, static_cast&lt;HValue*&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;          HObjectAccess::ForContextSlot(Context::REGEXP_RESULT_MAP_INDEX)));</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      result, HObjectAccess::ForJSArrayOffset(JSArray::kPropertiesOffset),</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      Add&lt;HConstant&gt;(isolate()-&gt;factory()-&gt;empty_fixed_array()));</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      result, HObjectAccess::ForJSArrayOffset(JSArray::kElementsOffset),</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      elements);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      result, HObjectAccess::ForJSArrayOffset(JSArray::kLengthOffset), length);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="comment">// Initialize the additional fields.</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      result, HObjectAccess::ForJSArrayOffset(JSRegExpResult::kIndexOffset),</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      index);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      result, HObjectAccess::ForJSArrayOffset(JSRegExpResult::kInputOffset),</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      input);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="comment">// Initialize the elements header.</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  AddStoreMapConstantNoWriteBarrier(elements,</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                                    isolate()-&gt;factory()-&gt;fixed_array_map());</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  Add&lt;HStoreNamedField&gt;(elements, HObjectAccess::ForFixedArrayLength(), length);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <span class="comment">// Initialize the elements contents with undefined.</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  LoopBuilder loop(<span class="keyword">this</span>, context(), LoopBuilder::kPostIncrement);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  index = loop.BeginBody(graph()-&gt;GetConstant0(), length, Token::LT);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    Add&lt;HStoreKeyed&gt;(elements, index, graph()-&gt;GetConstantUndefined(),</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  loop.EndBody();</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;}</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div>
<div class="line"><a name="l01627"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ab54d3c7c4ba44de14f19aa5b0909fed2"> 1627</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildNumberToString(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>, <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* type) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  NoObservableSideEffectsScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="comment">// Convert constant numbers at compile time.</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">if</span> (object-&gt;IsConstant() &amp;&amp; HConstant::cast(<span class="keywordtype">object</span>)-&gt;HasNumberValue()) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> number = HConstant::cast(<span class="keywordtype">object</span>)-&gt;handle(isolate());</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> result = isolate()-&gt;factory()-&gt;NumberToString(number);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">return</span> Add&lt;HConstant&gt;(result);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  }</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="comment">// Create a joinable continuation.</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  HIfContinuation found(graph()-&gt;CreateBasicBlock(),</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                        graph()-&gt;CreateBasicBlock());</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="comment">// Load the number string cache.</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* number_string_cache =</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      Add&lt;HLoadRoot&gt;(Heap::kNumberStringCacheRootIndex);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="comment">// Make the hash mask from the length of the number string cache. It</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="comment">// contains two elements (number and string) for each cache entry.</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* mask = AddLoadFixedArrayLength(number_string_cache);</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  mask-&gt;set_type(HType::Smi());</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  mask = AddUncasted&lt;HSar&gt;(mask, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  mask = AddUncasted&lt;HSub&gt;(mask, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="comment">// Check whether object is a smi.</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  IfBuilder if_objectissmi(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  if_objectissmi.If&lt;HIsSmiAndBranch&gt;(object);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  if_objectissmi.Then();</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="comment">// Compute hash for smi similar to smi_get_hash().</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* hash = AddUncasted&lt;HBitwise&gt;(Token::BIT_AND, object, mask);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="comment">// Load the key.</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key_index = AddUncasted&lt;HShl&gt;(hash, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key = Add&lt;HLoadKeyed&gt;(number_string_cache, key_index,</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                                  <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                                  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687">ALLOW_RETURN_HOLE</a>);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">// Check if object == key.</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    IfBuilder if_objectiskey(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    if_objectiskey.If&lt;<a class="code" href="../../d6/dbb/classv8_1_1internal_1_1_h_compare_object_eq_and_branch.html">HCompareObjectEqAndBranch</a>&gt;(object, key);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    if_objectiskey.Then();</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <span class="comment">// Make the key_index available.</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      Push(key_index);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    }</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    if_objectiskey.JoinContinuation(&amp;found);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  if_objectissmi.Else();</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">if</span> (type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::SignedSmall())) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      if_objectissmi.Deopt(<span class="stringliteral">&quot;Expected smi&quot;</span>);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="comment">// Check if the object is a heap number.</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      IfBuilder if_objectisnumber(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* objectisnumber = if_objectisnumber.If&lt;HCompareMap&gt;(</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;          object, isolate()-&gt;factory()-&gt;heap_number_map());</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      if_objectisnumber.Then();</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="comment">// Compute hash for heap number similar to double_get_hash().</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* low = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            object, objectisnumber,</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            HObjectAccess::ForHeapNumberValueLowestBits());</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* high = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            object, objectisnumber,</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            HObjectAccess::ForHeapNumberValueHighestBits());</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* hash = AddUncasted&lt;HBitwise&gt;(Token::BIT_XOR, low, high);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        hash = AddUncasted&lt;HBitwise&gt;(Token::BIT_AND, hash, mask);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="comment">// Load the key.</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key_index = AddUncasted&lt;HShl&gt;(hash, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key = Add&lt;HLoadKeyed&gt;(number_string_cache, key_index,</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                                      <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                                      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687">ALLOW_RETURN_HOLE</a>);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <span class="comment">// Check if key is a heap number (the number string cache contains only</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="comment">// SMIs and heap number, so it is sufficient to do a SMI check here).</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        IfBuilder if_keyisnotsmi(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* keyisnotsmi = if_keyisnotsmi.IfNot&lt;HIsSmiAndBranch&gt;(key);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        if_keyisnotsmi.Then();</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;          <span class="comment">// Check if values of key and object match.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;          IfBuilder if_keyeqobject(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;          if_keyeqobject.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;              Add&lt;HLoadNamedField&gt;(key, keyisnotsmi,</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                                   HObjectAccess::ForHeapNumberValue()),</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;              Add&lt;HLoadNamedField&gt;(<span class="keywordtype">object</span>, objectisnumber,</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                                   HObjectAccess::ForHeapNumberValue()),</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;          if_keyeqobject.Then();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;          {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <span class="comment">// Make the key_index available.</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            Push(key_index);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;          }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;          if_keyeqobject.JoinContinuation(&amp;found);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        }</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        if_keyisnotsmi.JoinContinuation(&amp;found);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      if_objectisnumber.Else();</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">if</span> (type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::Number())) {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;          if_objectisnumber.Deopt(<span class="stringliteral">&quot;Expected heap number&quot;</span>);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      }</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      if_objectisnumber.JoinContinuation(&amp;found);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  if_objectissmi.JoinContinuation(&amp;found);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="comment">// Check for cache hit.</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  IfBuilder if_found(<span class="keyword">this</span>, &amp;found);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  if_found.Then();</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="comment">// Count number to string operation in native code.</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    AddIncrementCounter(isolate()-&gt;counters()-&gt;number_to_string_native());</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="comment">// Load the value in case of cache hit.</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key_index = Pop();</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* value_index = AddUncasted&lt;HAdd&gt;(key_index, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    Push(Add&lt;HLoadKeyed&gt;(number_string_cache, value_index,</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                         static_cast&lt;HValue*&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687">ALLOW_RETURN_HOLE</a>));</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  if_found.Else();</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="comment">// Cache miss, fallback to runtime.</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    Add&lt;HPushArgument&gt;(object);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    Push(Add&lt;HCallRuntime&gt;(</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            isolate()-&gt;factory()-&gt;empty_string(),</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            Runtime::FunctionForId(Runtime::kHiddenNumberToStringSkipCache),</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            1));</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  if_found.End();</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="keywordflow">return</span> Pop();</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div>
<div class="line"><a name="l01766"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f47cd0b9de65db0afb340014a26aae3"> 1766</a></span>&#160;HAllocate* HGraphBuilder::BuildAllocate(</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* object_size,</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    HType type,</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> instance_type,</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    HAllocationMode allocation_mode) {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="comment">// Compute the effective allocation size.</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a> = object_size;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <span class="keywordflow">if</span> (allocation_mode.CreateAllocationMementos()) {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    size = AddUncasted&lt;HAdd&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>, Add&lt;HConstant&gt;(AllocationMemento::kSize));</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    size-&gt;ClearFlag(HValue::kCanOverflow);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  }</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="comment">// Perform the actual allocation.</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  HAllocate* <span class="keywordtype">object</span> = Add&lt;HAllocate&gt;(</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>, type, allocation_mode.GetPretenureMode(),</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      instance_type, allocation_mode.feedback_site());</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="comment">// Setup the allocation memento.</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <span class="keywordflow">if</span> (allocation_mode.CreateAllocationMementos()) {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    BuildCreateAllocationMemento(</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="keywordtype">object</span>, object_size, allocation_mode.current_site());</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;}</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div>
<div class="line"><a name="l01793"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a4b7e6a58f8c0e43f131c56a060f843ca"> 1793</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildAddStringLengths(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* left_length,</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                                             <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* right_length) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="comment">// Compute the combined string length and check against max string length.</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length = AddUncasted&lt;HAdd&gt;(left_length, right_length);</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* max_length = Add&lt;HConstant&gt;(String::kMaxLength);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  Add&lt;HBoundsCheck&gt;(length, max_length);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;}</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a8b237758f919b08c8f96d9ddec0e1b07"> 1803</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildCreateConsString(</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length,</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* left,</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* right,</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    HAllocationMode allocation_mode) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="comment">// Determine the string instance types.</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* left_instance_type = AddLoadStringInstanceType(left);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* right_instance_type = AddLoadStringInstanceType(right);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <span class="comment">// Allocate the cons string object. HAllocate does not care whether we</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="comment">// pass CONS_STRING_TYPE or CONS_ASCII_STRING_TYPE here, so we just use</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  <span class="comment">// CONS_STRING_TYPE here. Below we decide whether the cons string is</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="comment">// one-byte or two-byte and set the appropriate map.</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(HAllocate::CompatibleInstanceTypes(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a8f32120ce883cbe42871fb43634b71e3">CONS_STRING_TYPE</a>,</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                                            <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab470f254af05e4a31a45bcc68ea745ff">CONS_ASCII_STRING_TYPE</a>));</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  HAllocate* result = BuildAllocate(Add&lt;HConstant&gt;(ConsString::kSize),</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                                    HType::String(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a8f32120ce883cbe42871fb43634b71e3">CONS_STRING_TYPE</a>,</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                                    allocation_mode);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="comment">// Compute intersection and difference of instance types.</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* anded_instance_types = AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      Token::BIT_AND, left_instance_type, right_instance_type);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* xored_instance_types = AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      Token::BIT_XOR, left_instance_type, right_instance_type);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="comment">// We create a one-byte cons string if</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">// 1. both strings are one-byte, or</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">// 2. at least one of the strings is two-byte, but happens to contain only</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="comment">//    one-byte characters.</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="comment">// To do this, we check</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="comment">// 1. if both strings are one-byte, or if the one-byte data hint is set in</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="comment">//    both strings, or</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="comment">// 2. if one of the strings has the one-byte data hint set and the other</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="comment">//    string is one-byte.</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  IfBuilder if_onebyte(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a> != 0);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5c0ae4923c48b566421fa6d514ebec39">kOneByteDataHintMask</a> != 0);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  if_onebyte.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;          Token::BIT_AND, anded_instance_types,</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;          Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">kStringEncodingMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5c0ae4923c48b566421fa6d514ebec39">kOneByteDataHintMask</a>))),</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      graph()-&gt;GetConstant0(), Token::NE);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  if_onebyte.Or();</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a> != 0 &amp;&amp;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64d022886938d106be238e3d73741302">kOneByteDataHintTag</a> != 0 &amp;&amp;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64d022886938d106be238e3d73741302">kOneByteDataHintTag</a> != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a>);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  if_onebyte.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;          Token::BIT_AND, xored_instance_types,</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;          Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64d022886938d106be238e3d73741302">kOneByteDataHintTag</a>))),</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      Add&lt;HConstant&gt;(static_cast&lt;int32_t&gt;(</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64d022886938d106be238e3d73741302">kOneByteDataHintTag</a>)), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  if_onebyte.Then();</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  {</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="comment">// We can safely skip the write barrier for storing the map here.</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a> = isolate()-&gt;factory()-&gt;cons_ascii_string_map();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    AddStoreMapConstantNoWriteBarrier(result, map);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  if_onebyte.Else();</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="comment">// We can safely skip the write barrier for storing the map here.</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a> = isolate()-&gt;factory()-&gt;cons_string_map();</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    AddStoreMapConstantNoWriteBarrier(result, map);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  }</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  if_onebyte.End();</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="comment">// Initialize the cons string fields.</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  Add&lt;HStoreNamedField&gt;(result, HObjectAccess::ForStringHashField(),</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                        Add&lt;HConstant&gt;(String::kEmptyHashField));</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  Add&lt;HStoreNamedField&gt;(result, HObjectAccess::ForStringLength(), length);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  Add&lt;HStoreNamedField&gt;(result, HObjectAccess::ForConsStringFirst(), left);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  Add&lt;HStoreNamedField&gt;(result, HObjectAccess::ForConsStringSecond(), right);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="comment">// Count the native string addition.</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  AddIncrementCounter(isolate()-&gt;counters()-&gt;string_add_native());</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;}</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;</div>
<div class="line"><a name="l01885"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a9b32f056568ff2e8a491fdedbeba7303"> 1885</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::BuildCopySeqStringChars(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* src,</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                                            <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* src_offset,</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                                            <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#afb0564821f132bfe74508af8349a0faa">String::Encoding</a> src_encoding,</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                                            <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* dst,</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                                            <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* dst_offset,</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                            <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#afb0564821f132bfe74508af8349a0faa">String::Encoding</a> dst_encoding,</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                                            <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(dst_encoding != String::ONE_BYTE_ENCODING ||</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;         src_encoding == String::ONE_BYTE_ENCODING);</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  LoopBuilder loop(<span class="keyword">this</span>, context(), LoopBuilder::kPostIncrement);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* index = loop.BeginBody(graph()-&gt;GetConstant0(), length, Token::LT);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* src_index = AddUncasted&lt;HAdd&gt;(src_offset, index);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* value =</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        AddUncasted&lt;HSeqStringGetChar&gt;(src_encoding, src, src_index);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* dst_index = AddUncasted&lt;HAdd&gt;(dst_offset, index);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    Add&lt;HSeqStringSetChar&gt;(dst_encoding, dst, dst_index, value);</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  }</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  loop.EndBody();</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;}</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div>
<div class="line"><a name="l01907"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a74fd5739eb591d10bd28a2487ae879af"> 1907</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildObjectSizeAlignment(</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* unaligned_size, <span class="keywordtype">int</span> header_size) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((header_size &amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>) == 0);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a> = AddUncasted&lt;HAdd&gt;(</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      unaligned_size, Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;          header_size + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>)));</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  size-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">return</span> AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      Token::BIT_AND, <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>, Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;          ~kObjectAlignmentMask)));</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;}</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div>
<div class="line"><a name="l01920"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ada3919dcb53d1d894a203e313595cf6c"> 1920</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildUncheckedStringAdd(</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* left,</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* right,</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    HAllocationMode allocation_mode) {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="comment">// Determine the string lengths.</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* left_length = AddLoadStringLength(left);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* right_length = AddLoadStringLength(right);</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <span class="comment">// Compute the combined string length.</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length = BuildAddStringLengths(left_length, right_length);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="comment">// Do some manual constant folding here.</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="keywordflow">if</span> (left_length-&gt;IsConstant()) {</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    HConstant* c_left_length = HConstant::cast(left_length);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a9330a1ef452afab25630fff167dd413b">ASSERT_NE</a>(0, c_left_length-&gt;Integer32Value());</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span> (c_left_length-&gt;Integer32Value() + 1 &gt;= ConsString::kMinLength) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      <span class="comment">// The right string contains at least one character.</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      <span class="keywordflow">return</span> BuildCreateConsString(length, left, right, allocation_mode);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (right_length-&gt;IsConstant()) {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    HConstant* c_right_length = HConstant::cast(right_length);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a9330a1ef452afab25630fff167dd413b">ASSERT_NE</a>(0, c_right_length-&gt;Integer32Value());</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keywordflow">if</span> (c_right_length-&gt;Integer32Value() + 1 &gt;= ConsString::kMinLength) {</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      <span class="comment">// The left string contains at least one character.</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      <span class="keywordflow">return</span> BuildCreateConsString(length, left, right, allocation_mode);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    }</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  }</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="comment">// Check if we should create a cons string.</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  IfBuilder if_createcons(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  if_createcons.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      length, Add&lt;HConstant&gt;(ConsString::kMinLength), Token::GTE);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  if_createcons.Then();</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  {</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="comment">// Create a cons string.</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    Push(BuildCreateConsString(length, left, right, allocation_mode));</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  }</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  if_createcons.Else();</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="comment">// Determine the string instance types.</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* left_instance_type = AddLoadStringInstanceType(left);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* right_instance_type = AddLoadStringInstanceType(right);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="comment">// Compute union and difference of instance types.</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* ored_instance_types = AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        Token::BIT_OR, left_instance_type, right_instance_type);</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* xored_instance_types = AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        Token::BIT_XOR, left_instance_type, right_instance_type);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="comment">// Check if both strings have the same encoding and both are</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <span class="comment">// sequential.</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    IfBuilder if_sameencodingandsequential(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    if_sameencodingandsequential.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            Token::BIT_AND, xored_instance_types,</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">kStringEncodingMask</a>))),</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        graph()-&gt;GetConstant0(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    if_sameencodingandsequential.And();</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031ae4cd2ed8d191fa90f635296dc4c4ffce">kSeqStringTag</a> == 0);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    if_sameencodingandsequential.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            Token::BIT_AND, ored_instance_types,</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a42742b6df96d8400b0ff2cf776247a7c">kStringRepresentationMask</a>))),</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        graph()-&gt;GetConstant0(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    if_sameencodingandsequential.Then();</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      HConstant* string_map =</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;          Add&lt;HConstant&gt;(isolate()-&gt;factory()-&gt;string_map());</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      HConstant* ascii_string_map =</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;          Add&lt;HConstant&gt;(isolate()-&gt;factory()-&gt;ascii_string_map());</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <span class="comment">// Determine map and size depending on whether result is one-byte string.</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      IfBuilder if_onebyte(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a> != 0);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      if_onebyte.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;          AddUncasted&lt;HBitwise&gt;(</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;              Token::BIT_AND, ored_instance_types,</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;              Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">kStringEncodingMask</a>))),</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;          graph()-&gt;GetConstant0(), Token::NE);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      if_onebyte.Then();</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <span class="comment">// Allocate sequential one-byte string object.</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        Push(length);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        Push(ascii_string_map);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      if_onebyte.Else();</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <span class="comment">// Allocate sequential two-byte string object.</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a> = AddUncasted&lt;HShl&gt;(length, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        size-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        size-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a818139a647c0ce70eb74f9f22a91eaa9">SetFlag</a>(HValue::kUint32);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        Push(size);</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        Push(string_map);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      }</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      if_onebyte.End();</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a> = Pop();</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <span class="comment">// Calculate the number of bytes needed for the characters in the</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <span class="comment">// string while observing object alignment.</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>((SeqString::kHeaderSize &amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>) == 0);</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a> = BuildObjectSizeAlignment(Pop(), SeqString::kHeaderSize);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      <span class="comment">// Allocate the string object. HAllocate does not care whether we pass</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="comment">// STRING_TYPE or ASCII_STRING_TYPE here, so we just use STRING_TYPE here.</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      HAllocate* result = BuildAllocate(</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;          size, HType::String(), <a class="code" href="../../d4/db1/hydrogen-instructions_8cc.html#ab1962a5925807534ef019dd21b95b969">STRING_TYPE</a>, allocation_mode);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <span class="comment">// We can safely skip the write barrier for storing map here.</span></div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      AddStoreMapNoWriteBarrier(result, map);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      <span class="comment">// Initialize the string fields.</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      Add&lt;HStoreNamedField&gt;(result, HObjectAccess::ForStringHashField(),</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                            Add&lt;HConstant&gt;(String::kEmptyHashField));</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      Add&lt;HStoreNamedField&gt;(result, HObjectAccess::ForStringLength(), length);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="comment">// Copy characters to the result string.</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      IfBuilder if_twobyte(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      if_twobyte.If&lt;<a class="code" href="../../d6/dbb/classv8_1_1internal_1_1_h_compare_object_eq_and_branch.html">HCompareObjectEqAndBranch</a>&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, string_map);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      if_twobyte.Then();</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <span class="comment">// Copy characters from the left string.</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        BuildCopySeqStringChars(</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;            left, graph()-&gt;GetConstant0(), String::TWO_BYTE_ENCODING,</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            result, graph()-&gt;GetConstant0(), String::TWO_BYTE_ENCODING,</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;            left_length);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        <span class="comment">// Copy characters from the right string.</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        BuildCopySeqStringChars(</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;            right, graph()-&gt;GetConstant0(), String::TWO_BYTE_ENCODING,</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            result, left_length, String::TWO_BYTE_ENCODING,</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;            right_length);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      }</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      if_twobyte.Else();</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      {</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <span class="comment">// Copy characters from the left string.</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        BuildCopySeqStringChars(</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;            left, graph()-&gt;GetConstant0(), String::ONE_BYTE_ENCODING,</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            result, graph()-&gt;GetConstant0(), String::ONE_BYTE_ENCODING,</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            left_length);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;        <span class="comment">// Copy characters from the right string.</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        BuildCopySeqStringChars(</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            right, graph()-&gt;GetConstant0(), String::ONE_BYTE_ENCODING,</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;            result, left_length, String::ONE_BYTE_ENCODING,</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            right_length);</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      }</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      if_twobyte.End();</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="comment">// Count the native string addition.</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      AddIncrementCounter(isolate()-&gt;counters()-&gt;string_add_native());</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      <span class="comment">// Return the sequential string.</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      Push(result);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    }</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    if_sameencodingandsequential.Else();</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      <span class="comment">// Fallback to the runtime to add the two strings.</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      Add&lt;HPushArgument&gt;(left);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      Add&lt;HPushArgument&gt;(right);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      Push(Add&lt;HCallRuntime&gt;(</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            isolate()-&gt;factory()-&gt;empty_string(),</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            Runtime::FunctionForId(Runtime::kHiddenStringAdd),</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            2));</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    if_sameencodingandsequential.End();</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  }</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  if_createcons.End();</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keywordflow">return</span> Pop();</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;}</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div>
<div class="line"><a name="l02092"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a9f856a151f6a2876b45db50599f4c22c"> 2092</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildStringAdd(</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* left,</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* right,</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    HAllocationMode allocation_mode) {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="comment">// Determine string lengths.</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* left_length = AddLoadStringLength(left);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* right_length = AddLoadStringLength(right);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <span class="comment">// Check if left string is empty.</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  IfBuilder if_leftempty(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  if_leftempty.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      left_length, graph()-&gt;GetConstant0(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  if_leftempty.Then();</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  {</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="comment">// Count the native string addition.</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    AddIncrementCounter(isolate()-&gt;counters()-&gt;string_add_native());</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="comment">// Just return the right string.</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    Push(right);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  if_leftempty.Else();</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="comment">// Check if right string is empty.</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    IfBuilder if_rightempty(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    if_rightempty.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        right_length, graph()-&gt;GetConstant0(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    if_rightempty.Then();</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    {</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      <span class="comment">// Count the native string addition.</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      AddIncrementCounter(isolate()-&gt;counters()-&gt;string_add_native());</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      <span class="comment">// Just return the left string.</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      Push(left);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    }</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    if_rightempty.Else();</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    {</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="comment">// Add the two non-empty strings.</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      Push(BuildUncheckedStringAdd(left, right, allocation_mode));</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    if_rightempty.End();</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  }</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  if_leftempty.End();</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="keywordflow">return</span> Pop();</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;}</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div>
<div class="line"><a name="l02141"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a996288ec3d6236035c152e0174942291"> 2141</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* HGraphBuilder::BuildUncheckedMonomorphicElementAccess(</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* checked_object,</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key,</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* val,</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordtype">bool</span> is_js_array,</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> elements_kind,</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type,</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22a">LoadKeyedHoleMode</a> load_mode,</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fc">KeyedAccessStoreMode</a> store_mode) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a20318bbc99b21525406362d2c106e24f">IsExternalArrayElementsKind</a>(elements_kind) &amp;&amp;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;              !<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abfa756fecfd44769fe637d8892887110">IsFixedTypedArrayElementsKind</a>(elements_kind)) ||</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;         !is_js_array);</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="comment">// No GVNFlag is necessary for ElementsKind if there is an explicit dependency</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="comment">// on a HElementsTransition instruction. The flag can also be removed if the</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="comment">// map to check has FAST_HOLEY_ELEMENTS, since there can be no further</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="comment">// ElementsKind transitions. Finally, the dependency can be removed for stores</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="comment">// for FAST_ELEMENTS, since a transition to HOLEY elements won&#39;t change the</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="comment">// generated store code.</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  <span class="keywordflow">if</span> ((elements_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">FAST_HOLEY_ELEMENTS</a>) ||</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      (elements_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a> &amp;&amp; access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>)) {</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    checked_object-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a5f14e671c7022e7d8041c63df0df0eba">ClearDependsOnFlag</a>(kElementsKind);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  }</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  <span class="keywordtype">bool</span> fast_smi_only_elements = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acd71b5be49493207889bd7ebe7cedaeb">IsFastSmiElementsKind</a>(elements_kind);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <span class="keywordtype">bool</span> fast_elements = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af25165a0aac649e233fb819b7f3cb227">IsFastObjectElementsKind</a>(elements_kind);</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements = AddLoadElements(checked_object);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> &amp;&amp; (fast_elements || fast_smi_only_elements) &amp;&amp;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      store_mode != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fca1f212c89cd7cf5a6435d2fa24e68ae6f">STORE_NO_TRANSITION_HANDLE_COW</a>) {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    HCheckMaps* check_cow_map = Add&lt;HCheckMaps&gt;(</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        elements, isolate()-&gt;factory()-&gt;fixed_array_map(), top_info());</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    check_cow_map-&gt;ClearDependsOnFlag(kElementsKind);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  }</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* length = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="keywordflow">if</span> (is_js_array) {</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    length = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        checked_object, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        HObjectAccess::ForArrayLength(elements_kind));</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    length = AddLoadFixedArrayLength(elements);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  length-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#aa4874db800127f27c677f0a38a188043">set_type</a>(HType::Smi());</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* checked_key = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a20318bbc99b21525406362d2c106e24f">IsExternalArrayElementsKind</a>(elements_kind) ||</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abfa756fecfd44769fe637d8892887110">IsFixedTypedArrayElementsKind</a>(elements_kind)) {</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* backing_store;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a20318bbc99b21525406362d2c106e24f">IsExternalArrayElementsKind</a>(elements_kind)) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      backing_store = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;          elements, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;          HObjectAccess::ForExternalArrayExternalPointer());</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      backing_store = elements;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    }</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <span class="keywordflow">if</span> (store_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fcab26dfde2f1a1d90f8aad5d7bb9156049">STORE_NO_TRANSITION_IGNORE_OUT_OF_BOUNDS</a>) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      IfBuilder length_checker(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;      length_checker.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(key, length, Token::LT);</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      length_checker.Then();</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      IfBuilder negative_checker(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* bounds_check = negative_checker.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;          key, graph()-&gt;GetConstant0(), Token::GTE);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      negative_checker.Then();</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* result = AddElementAccess(</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;          backing_store, key, val, bounds_check, elements_kind, access_type);</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      negative_checker.ElseDeopt(<span class="stringliteral">&quot;Negative key encountered&quot;</span>);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      negative_checker.End();</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      length_checker.End();</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(store_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fca66b2cc45fbc29b0b2f72a80a3f9c1bf3">STANDARD_STORE</a>);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      checked_key = Add&lt;HBoundsCheck&gt;(key, length);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      <span class="keywordflow">return</span> AddElementAccess(</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;          backing_store, checked_key, val,</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;          checked_object, elements_kind, access_type);</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(fast_smi_only_elements ||</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;         fast_elements ||</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(elements_kind));</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="comment">// In case val is stored into a fast smi array, assure that the value is a smi</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="comment">// before manipulating the backing store. Otherwise the actual store may</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="comment">// deopt, leaving the backing store in an invalid state.</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> &amp;&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acd71b5be49493207889bd7ebe7cedaeb">IsFastSmiElementsKind</a>(elements_kind) &amp;&amp;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      !val-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a300e18740813b767bba2de57d4426618">type</a>().IsSmi()) {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    val = AddUncasted&lt;HForceRepresentation&gt;(val, Representation::Smi());</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  }</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <span class="keywordflow">if</span> (IsGrowStoreMode(store_mode)) {</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    elements = BuildCheckForCapacityGrow(checked_object, elements,</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                                         elements_kind, length, key,</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                                         is_js_array, access_type);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    checked_key = key;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    checked_key = Add&lt;HBoundsCheck&gt;(key, length);</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> &amp;&amp; (fast_elements || fast_smi_only_elements)) {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <span class="keywordflow">if</span> (store_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fca1f212c89cd7cf5a6435d2fa24e68ae6f">STORE_NO_TRANSITION_HANDLE_COW</a>) {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        elements = BuildCopyElementsOnWrite(checked_object, elements,</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                                            elements_kind, length);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        HCheckMaps* check_cow_map = Add&lt;HCheckMaps&gt;(</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            elements, isolate()-&gt;factory()-&gt;fixed_array_map(), top_info());</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        check_cow_map-&gt;ClearDependsOnFlag(kElementsKind);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      }</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    }</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  }</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <span class="keywordflow">return</span> AddElementAccess(elements, checked_key, val, checked_object,</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                          elements_kind, access_type, load_mode);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;}</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;</div>
<div class="line"><a name="l02255"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a605a6cab8b5b12ab882e1952f10ba203"> 2255</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildAllocateArrayFromLength(</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    JSArrayBuilder* array_builder,</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length_argument) {</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">if</span> (length_argument-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      HConstant::cast(length_argument)-&gt;HasSmiValue()) {</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordtype">int</span> array_length = HConstant::cast(length_argument)-&gt;Integer32Value();</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_object = array_length == 0</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        ? array_builder-&gt;AllocateEmptyArray()</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        : array_builder-&gt;AllocateArray(length_argument, length_argument);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="keywordflow">return</span> new_object;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* constant_zero = graph()-&gt;GetConstant0();</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  HConstant* max_alloc_length =</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      Add&lt;HConstant&gt;(JSObject::kInitialMaxFastElementArray);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* checked_length = Add&lt;HBoundsCheck&gt;(length_argument,</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;                                                   max_alloc_length);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  IfBuilder if_builder(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  if_builder.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(checked_length, constant_zero,</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  if_builder.Then();</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> initial_capacity = JSArray::kPreallocatedArrayElements;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  HConstant* initial_capacity_node = Add&lt;HConstant&gt;(initial_capacity);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  Push(initial_capacity_node);  <span class="comment">// capacity</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  Push(constant_zero);          <span class="comment">// length</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  if_builder.Else();</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keywordflow">if</span> (!(top_info()-&gt;IsStub()) &amp;&amp;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a75d3ad581521afd012eb61ef19196d31">IsFastPackedElementsKind</a>(array_builder-&gt;kind())) {</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <span class="comment">// We&#39;ll come back later with better (holey) feedback.</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    if_builder.Deopt(<span class="stringliteral">&quot;Holey array despite packed elements_kind feedback&quot;</span>);</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    Push(checked_length);         <span class="comment">// capacity</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    Push(checked_length);         <span class="comment">// length</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  }</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  if_builder.End();</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <span class="comment">// Figure out total size</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length = Pop();</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* capacity = Pop();</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="keywordflow">return</span> array_builder-&gt;AllocateArray(capacity, length);</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;}</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div>
<div class="line"><a name="l02297"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1152edeb076dc8db20ce1c6e5ac3bc2"> 2297</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildAllocateElements(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                                             <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* capacity) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="keywordtype">int</span> elements_size;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> instance_type;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(kind)) {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    elements_size = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a>;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    instance_type = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27afa57e7600638a388cb2107f38b167251">FIXED_DOUBLE_ARRAY_TYPE</a>;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    elements_size = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    instance_type = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27aba0f93e6cf8af6a861213b3df3cfccd5">FIXED_ARRAY_TYPE</a>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  }</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  HConstant* elements_size_value = Add&lt;HConstant&gt;(elements_size);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* mul = AddUncasted&lt;HMul&gt;(capacity, elements_size_value);</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  mul-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  HConstant* header_size = Add&lt;HConstant&gt;(FixedArray::kHeaderSize);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* total_size = AddUncasted&lt;HAdd&gt;(mul, header_size);</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  total_size-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7ea">PretenureFlag</a> pretenure_flag = !FLAG_allocation_site_pretenuring ?</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      isolate()-&gt;heap()-&gt;GetPretenureMode() : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <span class="keywordflow">return</span> Add&lt;HAllocate&gt;(total_size, HType::Tagged(), pretenure_flag,</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      instance_type);</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;}</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;</div>
<div class="line"><a name="l02326"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac0fe29aa49349af3cf1fc8b578d9911a"> 2326</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::BuildInitializeElementsHeader(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements,</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;                                                  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;                                                  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* capacity) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html">Factory</a>* factory = isolate()-&gt;factory();</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(kind)</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      ? factory-&gt;fixed_double_array_map()</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      : factory-&gt;fixed_array_map();</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  AddStoreMapConstant(elements, map);</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  Add&lt;HStoreNamedField&gt;(elements, HObjectAccess::ForFixedArrayLength(),</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                        capacity);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;}</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;</div>
<div class="line"><a name="l02340"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a8ff90a3cede533471d38a8f436cfaa53"> 2340</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildAllocateElementsAndInitializeElementsHeader(</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* capacity) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <span class="comment">// The HForceRepresentation is to prevent possible deopt on int-smi</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <span class="comment">// conversion after allocation but before the new object fields are set.</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  capacity = AddUncasted&lt;HForceRepresentation&gt;(capacity, Representation::Smi());</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_elements = BuildAllocateElements(kind, capacity);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  BuildInitializeElementsHeader(new_elements, kind, capacity);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordflow">return</span> new_elements;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;}</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div>
<div class="line"><a name="l02352"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a03a74f789ab667a0f8ba149fa635fa7d"> 2352</a></span>&#160;HInnerAllocatedObject* HGraphBuilder::BuildJSArrayHeader(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* array,</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* array_map,</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34">AllocationSiteMode</a> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>,</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> elements_kind,</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* allocation_site_payload,</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length_field) {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  Add&lt;HStoreNamedField&gt;(array, HObjectAccess::ForMap(), array_map);</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  HConstant* empty_fixed_array =</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    Add&lt;HConstant&gt;(isolate()-&gt;factory()-&gt;empty_fixed_array());</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  HObjectAccess access = HObjectAccess::ForPropertiesPointer();</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  Add&lt;HStoreNamedField&gt;(array, access, empty_fixed_array);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  Add&lt;HStoreNamedField&gt;(array, HObjectAccess::ForArrayLength(elements_kind),</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                        length_field);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="keywordflow">if</span> (mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5">TRACK_ALLOCATION_SITE</a>) {</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    BuildCreateAllocationMemento(</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;        array, Add&lt;HConstant&gt;(JSArray::kSize), allocation_site_payload);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keywordtype">int</span> elements_location = JSArray::kSize;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="keywordflow">if</span> (mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5">TRACK_ALLOCATION_SITE</a>) {</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    elements_location += AllocationMemento::kSize;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  }</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  HInnerAllocatedObject* elements = Add&lt;HInnerAllocatedObject&gt;(</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;      array, Add&lt;HConstant&gt;(elements_location));</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  Add&lt;HStoreNamedField&gt;(array, HObjectAccess::ForElementsPointer(), elements);</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="keywordflow">return</span> elements;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;}</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;</div>
<div class="line"><a name="l02386"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af5efac17e5d40de7aceda441346988af"> 2386</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* HGraphBuilder::AddElementAccess(</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements,</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* checked_key,</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* val,</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* dependency,</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> elements_kind,</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type,</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22a">LoadKeyedHoleMode</a> load_mode) {</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>) {</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(val != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">if</span> (elements_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a8f9cff8f58a654b66043834b749dc156">EXTERNAL_UINT8_CLAMPED_ELEMENTS</a> ||</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;        elements_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017ad51ca145471d3315b9c1974d824d4393">UINT8_CLAMPED_ELEMENTS</a>) {</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;      val = Add&lt;HClampToUint8&gt;(val);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    }</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <span class="keywordflow">return</span> Add&lt;HStoreKeyed&gt;(elements, checked_key, val, elements_kind,</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;                            elements_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5">FAST_SMI_ELEMENTS</a></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                              ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a9f1432d7ea8c60fbf28bc3650602cb70">STORE_TO_INITIALIZED_ENTRY</a></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                              : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a54d2d7d5e0481f3de9ccdf36ef9b3c6c">INITIALIZING_STORE</a>);</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  }</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>);</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(val == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  HLoadKeyed* load = Add&lt;HLoadKeyed&gt;(</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      elements, checked_key, dependency, elements_kind, load_mode);</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="keywordflow">if</span> (FLAG_opt_safe_uint32_operations &amp;&amp;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      (elements_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017ad901254ae6b41d0409ac278003a5ee14">EXTERNAL_UINT32_ELEMENTS</a> ||</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;       elements_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a52f7e5b8eb8f6aad3d7bc373ace17b90">UINT32_ELEMENTS</a>)) {</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    graph()-&gt;RecordUint32Instruction(load);</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="keywordflow">return</span> load;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;}</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;</div>
<div class="line"><a name="l02419"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2da97a79e081c8cf483e6a4f3b6ab7f4"> 2419</a></span>&#160;HLoadNamedField* HGraphBuilder::AddLoadElements(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <span class="keywordflow">return</span> Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      object, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), HObjectAccess::ForElementsPointer());</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;}</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div>
<div class="line"><a name="l02425"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a29f50a5dcba24b929e7eb44a9c98a885"> 2425</a></span>&#160;HLoadNamedField* HGraphBuilder::AddLoadFixedArrayLength(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <span class="keywordflow">return</span> Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      object, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), HObjectAccess::ForFixedArrayLength());</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div>
<div class="line"><a name="l02431"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a614bce35281e6bae8273d431505300b6"> 2431</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildNewElementsCapacity(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* old_capacity) {</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* half_old_capacity = AddUncasted&lt;HShr&gt;(old_capacity,</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;                                                graph_-&gt;GetConstant1());</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_capacity = AddUncasted&lt;HAdd&gt;(half_old_capacity, old_capacity);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  new_capacity-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* min_growth = Add&lt;HConstant&gt;(16);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  new_capacity = AddUncasted&lt;HAdd&gt;(new_capacity, min_growth);</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  new_capacity-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  <span class="keywordflow">return</span> new_capacity;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;}</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;</div>
<div class="line"><a name="l02447"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a91fca849076fd033bd812e86732328e2"> 2447</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::BuildNewSpaceArrayCheck(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind) {</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  <span class="keywordtype">int</span> element_size = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(kind) ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                                                    : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <span class="keywordtype">int</span> max_size = Page::kMaxRegularHeapObjectSize / element_size;</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  max_size -= JSArray::kSize / element_size;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  HConstant* max_size_constant = Add&lt;HConstant&gt;(max_size);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  Add&lt;HBoundsCheck&gt;(length, max_size_constant);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;}</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;</div>
<div class="line"><a name="l02457"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0145660ad8f58f9269fe3cf1b2b9edef"> 2457</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildGrowElementsCapacity(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                                                 <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements,</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> new_kind,</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                                                 <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length,</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                                                 <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_capacity) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  BuildNewSpaceArrayCheck(new_capacity, new_kind);</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* new_elements = BuildAllocateElementsAndInitializeElementsHeader(</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      new_kind, new_capacity);</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  BuildCopyElements(elements, kind,</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;                    new_elements, new_kind,</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;                    length, new_capacity);</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  Add&lt;HStoreNamedField&gt;(object, HObjectAccess::ForElementsPointer(),</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;                        new_elements);</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="keywordflow">return</span> new_elements;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;}</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;</div>
<div class="line"><a name="l02479"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1e2f17c9f25d086d91278b44afd0b992"> 2479</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::BuildFillElementsWithHole(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elements,</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;                                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> elements_kind,</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                                              <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* from,</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;                                              <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* to) {</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="comment">// Fast elements kinds need to be initialized in case statements below cause</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  <span class="comment">// a garbage collection.</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  <a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html">Factory</a>* factory = isolate()-&gt;factory();</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <span class="keywordtype">double</span> nan_double = FixedDoubleArray::hole_nan_as_double();</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* hole = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2e0435e2e2b377a3b332e6acaada0fc1">IsFastSmiOrObjectElementsKind</a>(elements_kind)</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      ? Add&lt;HConstant&gt;(factory-&gt;the_hole_value())</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      : Add&lt;HConstant&gt;(nan_double);</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="comment">// Special loop unfolding case</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLoopUnfoldLimit = 8;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(JSArray::kPreallocatedArrayElements &lt;= kLoopUnfoldLimit);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordtype">int</span> initial_capacity = -1;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="keywordflow">if</span> (from-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#ab48060722ff7800668a6629a40ace8aa">IsInteger32Constant</a>() &amp;&amp; to-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#ab48060722ff7800668a6629a40ace8aa">IsInteger32Constant</a>()) {</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <span class="keywordtype">int</span> constant_from = from-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a7d7d58176013ab82404e14bc0a42452e">GetInteger32Constant</a>();</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <span class="keywordtype">int</span> constant_to = to-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a7d7d58176013ab82404e14bc0a42452e">GetInteger32Constant</a>();</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="keywordflow">if</span> (constant_from == 0 &amp;&amp; constant_to &lt;= kLoopUnfoldLimit) {</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;      initial_capacity = constant_to;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    }</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  }</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <span class="comment">// Since we&#39;re about to store a hole value, the store instruction below must</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  <span class="comment">// assume an elements kind that supports heap object values.</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2e0435e2e2b377a3b332e6acaada0fc1">IsFastSmiOrObjectElementsKind</a>(elements_kind)) {</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    elements_kind = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">FAST_HOLEY_ELEMENTS</a>;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  }</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  <span class="keywordflow">if</span> (initial_capacity &gt;= 0) {</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; initial_capacity; i++) {</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;      <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* key = Add&lt;HConstant&gt;(i);</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      Add&lt;HStoreKeyed&gt;(elements, key, hole, elements_kind);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    }</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    LoopBuilder builder(<span class="keyword">this</span>, context(), LoopBuilder::kPostIncrement);</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key = builder.BeginBody(from, to, Token::LT);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    Add&lt;HStoreKeyed&gt;(elements, key, hole, elements_kind);</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    builder.EndBody();</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  }</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;}</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;</div>
<div class="line"><a name="l02528"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a98bff54cb64ca758e63009bff52b16cf"> 2528</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::BuildCopyElements(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* from_elements,</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                                      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> from_elements_kind,</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                                      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* to_elements,</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                                      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> to_elements_kind,</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;                                      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* length,</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;                                      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* capacity) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="keywordtype">bool</span> pre_fill_with_holes =</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(from_elements_kind) &amp;&amp;</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af25165a0aac649e233fb819b7f3cb227">IsFastObjectElementsKind</a>(to_elements_kind);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="keywordflow">if</span> (pre_fill_with_holes) {</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="comment">// If the copy might trigger a GC, make sure that the FixedArray is</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <span class="comment">// pre-initialized with holes to make sure that it&#39;s always in a consistent</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <span class="comment">// state.</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    BuildFillElementsWithHole(to_elements, to_elements_kind,</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                              graph()-&gt;GetConstant0(), capacity);</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  }</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  LoopBuilder builder(<span class="keyword">this</span>, context(), LoopBuilder::kPostIncrement);</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key = builder.BeginBody(graph()-&gt;GetConstant0(), length, Token::LT);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* element = Add&lt;HLoadKeyed&gt;(from_elements, key,</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;                                    <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;                                    from_elements_kind,</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;                                    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687">ALLOW_RETURN_HOLE</a>);</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind = (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a53a6bf552f8190db0bd7c7d53f1c7918">IsHoleyElementsKind</a>(from_elements_kind) &amp;&amp;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acd71b5be49493207889bd7ebe7cedaeb">IsFastSmiElementsKind</a>(to_elements_kind))</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">FAST_HOLEY_ELEMENTS</a> : to_elements_kind;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a53a6bf552f8190db0bd7c7d53f1c7918">IsHoleyElementsKind</a>(from_elements_kind) &amp;&amp;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      from_elements_kind != to_elements_kind) {</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    IfBuilder if_hole(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    if_hole.If&lt;HCompareHoleAndBranch&gt;(element);</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    if_hole.Then();</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    HConstant* hole_constant = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(to_elements_kind)</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        ? Add&lt;HConstant&gt;(FixedDoubleArray::hole_nan_as_double())</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;        : graph()-&gt;GetConstantHole();</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    Add&lt;HStoreKeyed&gt;(to_elements, key, hole_constant, kind);</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    if_hole.Else();</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    HStoreKeyed* store = Add&lt;HStoreKeyed&gt;(to_elements, key, element, kind);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    store-&gt;SetFlag(HValue::kAllowUndefinedAsNaN);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    if_hole.End();</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    HStoreKeyed* store = Add&lt;HStoreKeyed&gt;(to_elements, key, element, kind);</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    store-&gt;SetFlag(HValue::kAllowUndefinedAsNaN);</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  }</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  builder.EndBody();</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  <span class="keywordflow">if</span> (!pre_fill_with_holes &amp;&amp; length != capacity) {</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="comment">// Fill unused capacity with the hole.</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    BuildFillElementsWithHole(to_elements, to_elements_kind,</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;                              key, capacity);</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  }</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;}</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div>
<div class="line"><a name="l02587"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2926452f9159afb649565b08bc407bd3"> 2587</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* HGraphBuilder::BuildCloneShallowArray(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* boilerplate,</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;                                              <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* allocation_site,</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34">AllocationSiteMode</a> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>,</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;                                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;                                              <span class="keywordtype">int</span> length) {</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="comment">// All sizes here are multiples of kPointerSize.</span></div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a> = JSArray::kSize;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="keywordflow">if</span> (mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5">TRACK_ALLOCATION_SITE</a>) {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    size += AllocationMemento::kSize;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  }</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* size_in_bytes = Add&lt;HConstant&gt;(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* <span class="keywordtype">object</span> = Add&lt;HAllocate&gt;(size_in_bytes,</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                                        HType::JSObject(),</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;                                        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>,</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;                                        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a539a1a5410833e10ed1535106612dc3b">JS_OBJECT_TYPE</a>);</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="comment">// Copy the JS array part.</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; JSArray::kSize; i += <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) {</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordflow">if</span> ((i != JSArray::kElementsOffset) || (length == 0)) {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;      HObjectAccess access = HObjectAccess::ForJSArrayOffset(i);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;          object, access, Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;              boilerplate, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), access));</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    }</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  }</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="comment">// Create an allocation site info if requested.</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">if</span> (mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5">TRACK_ALLOCATION_SITE</a>) {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    BuildCreateAllocationMemento(</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <span class="keywordtype">object</span>, Add&lt;HConstant&gt;(JSArray::kSize), allocation_site);</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="keywordflow">if</span> (length &gt; 0) {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* boilerplate_elements = AddLoadElements(boilerplate);</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* object_elements;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(kind)) {</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elems_size = Add&lt;HConstant&gt;(FixedDoubleArray::SizeFor(length));</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      object_elements = Add&lt;HAllocate&gt;(elems_size, HType::Tagged(),</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27afa57e7600638a388cb2107f38b167251">FIXED_DOUBLE_ARRAY_TYPE</a>);</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* elems_size = Add&lt;HConstant&gt;(FixedArray::SizeFor(length));</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      object_elements = Add&lt;HAllocate&gt;(elems_size, HType::Tagged(),</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27aba0f93e6cf8af6a861213b3df3cfccd5">FIXED_ARRAY_TYPE</a>);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    }</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    Add&lt;HStoreNamedField&gt;(object, HObjectAccess::ForElementsPointer(),</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                          object_elements);</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="comment">// Copy the elements array header.</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; FixedArrayBase::kHeaderSize; i += <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;      HObjectAccess access = HObjectAccess::ForFixedArrayHeader(i);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;      Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;          object_elements, access, Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;              boilerplate_elements, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), access));</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    }</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="comment">// Copy the elements array contents.</span></div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <span class="comment">// TODO(mstarzinger): Teach HGraphBuilder::BuildCopyElements to unfold</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    <span class="comment">// copying loops with constant length up to a given boundary and use this</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <span class="comment">// helper here instead.</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;      <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* key_constant = Add&lt;HConstant&gt;(i);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;      <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* value = Add&lt;HLoadKeyed&gt;(boilerplate_elements, key_constant,</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                                            <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), kind);</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;      Add&lt;HStoreKeyed&gt;(object_elements, key_constant, value, kind);</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    }</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  }</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;}</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;</div>
<div class="line"><a name="l02661"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a97cf28cee139c6071680b6c8d6ffe570"> 2661</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::BuildCompareNil(</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* value,</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* type,</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    HIfContinuation* continuation) {</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  IfBuilder if_nil(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <span class="keywordtype">bool</span> some_case_handled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  <span class="keywordtype">bool</span> some_case_missing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="keywordflow">if</span> (type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a16c07037f3f546b977bd92150b76c4c3">Maybe</a>(<a class="code" href="../../d2/dc3/namespacev8.html#aeb687675fb2cf722704e8b06120de65a">Type::Null</a>())) {</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <span class="keywordflow">if</span> (some_case_handled) if_nil.Or();</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    if_nil.If&lt;<a class="code" href="../../d6/dbb/classv8_1_1internal_1_1_h_compare_object_eq_and_branch.html">HCompareObjectEqAndBranch</a>&gt;(value, graph()-&gt;GetConstantNull());</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    some_case_handled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    some_case_missing = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;  }</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <span class="keywordflow">if</span> (type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a16c07037f3f546b977bd92150b76c4c3">Maybe</a>(<a class="code" href="../../d2/dc3/namespacev8.html#ac271b6d4e39065b86eaf99135cb9f612">Type::Undefined</a>())) {</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <span class="keywordflow">if</span> (some_case_handled) if_nil.Or();</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    if_nil.If&lt;<a class="code" href="../../d6/dbb/classv8_1_1internal_1_1_h_compare_object_eq_and_branch.html">HCompareObjectEqAndBranch</a>&gt;(value,</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;                                         graph()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    some_case_handled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    some_case_missing = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;  <span class="keywordflow">if</span> (type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a16c07037f3f546b977bd92150b76c4c3">Maybe</a>(Type::Undetectable())) {</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <span class="keywordflow">if</span> (some_case_handled) if_nil.Or();</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    if_nil.If&lt;HIsUndetectableAndBranch&gt;(value);</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    some_case_handled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    some_case_missing = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  }</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <span class="keywordflow">if</span> (some_case_missing) {</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    if_nil.Then();</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    if_nil.Else();</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    <span class="keywordflow">if</span> (type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a846b17c0970f09f421d6c671af06843a">NumClasses</a>() == 1) {</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      BuildCheckHeapObject(value);</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;      <span class="comment">// For ICs, the map checked below is a sentinel map that gets replaced by</span></div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      <span class="comment">// the monomorphic map when the code is used as a template to generate a</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="comment">// new IC. For optimized functions, there is no sentinel map, the map</span></div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      <span class="comment">// emitted below is the actual monomorphic map.</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      BuildCheckMap(value, type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#add6481f645517bae445404ca6c7bf0b1">Classes</a>().Current());</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      if_nil.Deopt(<span class="stringliteral">&quot;Too many undetectable types&quot;</span>);</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    }</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  }</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  if_nil.CaptureContinuation(continuation);</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;}</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;</div>
<div class="line"><a name="l02713"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#acdd1d8780c2c6bb615b70eeac124226c"> 2713</a></span>&#160;<span class="keywordtype">void</span> HGraphBuilder::BuildCreateAllocationMemento(</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* previous_object,</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* previous_object_size,</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* allocation_site) {</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(allocation_site != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  HInnerAllocatedObject* allocation_memento = Add&lt;HInnerAllocatedObject&gt;(</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      previous_object, previous_object_size);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;  AddStoreMapConstant(</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      allocation_memento, isolate()-&gt;factory()-&gt;allocation_memento_map());</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      allocation_memento,</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      HObjectAccess::ForAllocationMementoSite(),</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      allocation_site);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  <span class="keywordflow">if</span> (FLAG_allocation_site_pretenuring) {</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* memento_create_count = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        allocation_site, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;        HObjectAccess::ForAllocationSiteOffset(</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;            AllocationSite::kPretenureCreateCountOffset));</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    memento_create_count = AddUncasted&lt;HAdd&gt;(</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;        memento_create_count, graph()-&gt;GetConstant1());</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    <span class="comment">// This smi value is reset to zero after every gc, overflow isn&#39;t a problem</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="comment">// since the counter is bounded by the new space size.</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    memento_create_count-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">ClearFlag</a>(HValue::kCanOverflow);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    HStoreNamedField* store = Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        allocation_site, HObjectAccess::ForAllocationSiteOffset(</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;            AllocationSite::kPretenureCreateCountOffset), memento_create_count);</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="comment">// No write barrier needed to store a smi.</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    store-&gt;SkipWriteBarrier();</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  }</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;}</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;</div>
<div class="line"><a name="l02745"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6e8b71387ce6092c09ca6eb86d36e30b"> 2745</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* HGraphBuilder::BuildGetNativeContext(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* closure) {</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;  <span class="comment">// Get the global context, then the native context</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* context =</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;      Add&lt;HLoadNamedField&gt;(closure, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;                           HObjectAccess::ForFunctionContextPointer());</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* global_object = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      context, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;      HObjectAccess::ForContextSlot(Context::GLOBAL_OBJECT_INDEX));</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  HObjectAccess access = HObjectAccess::ForObservableJSObjectOffset(</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;      GlobalObject::kNativeContextOffset);</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <span class="keywordflow">return</span> Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;      global_object, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), access);</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;}</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;</div>
<div class="line"><a name="l02760"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac16b0d24df5611a0ef21062d7e1c9255"> 2760</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* HGraphBuilder::BuildGetNativeContext() {</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="comment">// Get the global context, then the native context</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* global_object = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;      context(), <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;      HObjectAccess::ForContextSlot(Context::GLOBAL_OBJECT_INDEX));</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  <span class="keywordflow">return</span> Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;      global_object, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;      HObjectAccess::ForObservableJSObjectOffset(</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;          GlobalObject::kNativeContextOffset));</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;}</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;</div>
<div class="line"><a name="l02772"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0a9062da7913bc5e00fb63767705ec2e"> 2772</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* HGraphBuilder::BuildGetArrayFunction() {</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* native_context = BuildGetNativeContext();</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* index =</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;      Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(Context::ARRAY_FUNCTION_INDEX));</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <span class="keywordflow">return</span> Add&lt;HLoadKeyed&gt;(</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;      native_context, index, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>);</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;}</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;HGraphBuilder::JSArrayBuilder::JSArrayBuilder(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html">HGraphBuilder</a>* builder,</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* allocation_site_payload,</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* constructor_function,</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab4b5f34ae4a9feae0be7d4fd237faf97">AllocationSiteOverrideMode</a> override_mode) :</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        builder_(builder),</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;        kind_(kind),</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;        allocation_site_payload_(allocation_site_payload),</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;        constructor_function_(constructor_function) {</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!allocation_site_payload-&gt;IsConstant() ||</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;         HConstant::cast(allocation_site_payload)-&gt;handle(</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;             builder_-&gt;isolate())-&gt;IsAllocationSite());</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  mode_ = override_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab4b5f34ae4a9feae0be7d4fd237faf97aeb923d7e876fe3522433556fdd154fab">DISABLE_ALLOCATION_SITES</a></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;      ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34a8c3eb79e2aafa3a5cdd561c77b7e2889">DONT_TRACK_ALLOCATION_SITE</a></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;      : <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#ad0444420027977b3663c4430009d90d5">AllocationSite::GetMode</a>(kind);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;}</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;HGraphBuilder::JSArrayBuilder::JSArrayBuilder(HGraphBuilder* builder,</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;                                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;                                              HValue* constructor_function) :</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    builder_(builder),</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    kind_(kind),</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    mode_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34a8c3eb79e2aafa3a5cdd561c77b7e2889">DONT_TRACK_ALLOCATION_SITE</a>),</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    allocation_site_payload_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    constructor_function_(constructor_function) {</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;}</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;HValue* HGraphBuilder::JSArrayBuilder::EmitMapCode() {</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">if</span> (!builder()-&gt;top_info()-&gt;IsStub()) {</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="comment">// A constant map is fine.</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    Handle&lt;Map&gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>(builder()-&gt;isolate()-&gt;get_initial_js_array_map(kind_),</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                    builder()-&gt;isolate());</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <span class="keywordflow">return</span> builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>);</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  }</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <span class="keywordflow">if</span> (constructor_function_ != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; kind_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af0e5d13d39f10d3ddf6bff5ba717bb8a">GetInitialFastElementsKind</a>()) {</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <span class="comment">// No need for a context lookup if the kind_ matches the initial</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <span class="comment">// map, because we can just load the map in that case.</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    HObjectAccess access = HObjectAccess::ForPrototypeOrInitialMap();</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="keywordflow">return</span> builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;        constructor_function_, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), access);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  }</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <span class="comment">// TODO(mvstanton): we should always have a constructor function if we</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  <span class="comment">// are creating a stub.</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  HInstruction* native_context = constructor_function_ != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      ? builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6e8b71387ce6092c09ca6eb86d36e30b">BuildGetNativeContext</a>(constructor_function_)</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;      : builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6e8b71387ce6092c09ca6eb86d36e30b">BuildGetNativeContext</a>();</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  HInstruction* index = builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HConstant&gt;(</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="../../d4/d72/classv8_1_1internal_1_1_context.html#a0411cd49bb5b71852cecd93bcbf0ca2da5d0e9f623f92e9f4e6b8bdb82cc0eee1">Context::JS_ARRAY_MAPS_INDEX</a>));</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  HInstruction* map_array = builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HLoadKeyed&gt;(</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;      native_context, index, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>);</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  HInstruction* kind_index = builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HConstant&gt;(kind_);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="keywordflow">return</span> builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HLoadKeyed&gt;(</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;      map_array, kind_index, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;}</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;HValue* HGraphBuilder::JSArrayBuilder::EmitInternalMapCode() {</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <span class="comment">// Find the map near the constructor function</span></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  HObjectAccess access = HObjectAccess::ForPrototypeOrInitialMap();</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">return</span> builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;      constructor_function_, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), access);</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;}</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;HValue* HGraphBuilder::JSArrayBuilder::EstablishAllocationSize(</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    HValue* length_node) {</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(length_node != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  <span class="keywordtype">int</span> base_size = <a class="code" href="../../da/dc0/classv8_1_1internal_1_1_j_s_array.html#aabca8545565b6a1f3c6fdc8bd948de49">JSArray::kSize</a>;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="keywordflow">if</span> (mode_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5">TRACK_ALLOCATION_SITE</a>) {</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    base_size += <a class="code" href="../../df/d6f/classv8_1_1internal_1_1_allocation_memento.html#aabca8545565b6a1f3c6fdc8bd948de49">AllocationMemento::kSize</a>;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  }</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(<a class="code" href="../../dd/d33/classv8_1_1internal_1_1_fixed_array_base.html#ac1cb10d97e8091bf949042b4d67f91c8">FixedDoubleArray::kHeaderSize</a> == <a class="code" href="../../dd/d33/classv8_1_1internal_1_1_fixed_array_base.html#ac1cb10d97e8091bf949042b4d67f91c8">FixedArray::kHeaderSize</a>);</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  base_size += <a class="code" href="../../dd/d33/classv8_1_1internal_1_1_fixed_array_base.html#ac1cb10d97e8091bf949042b4d67f91c8">FixedArray::kHeaderSize</a>;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  HInstruction* elements_size_value =</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;      builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HConstant&gt;(elements_size());</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  HInstruction* mul = HMul::NewImul(builder()-&gt;zone(), builder()-&gt;context(),</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                                    length_node, elements_size_value);</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(mul);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  HInstruction* base = builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HConstant&gt;(base_size);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  HInstruction* total_size = HAdd::New(builder()-&gt;zone(), builder()-&gt;context(),</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                                       base, mul);</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  total_size-&gt;ClearFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa1039ede652127ba26e144a641f9f440a">HValue::kCanOverflow</a>);</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(total_size);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keywordflow">return</span> total_size;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;}</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;HValue* HGraphBuilder::JSArrayBuilder::EstablishEmptyArrayAllocationSize() {</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  <span class="keywordtype">int</span> base_size = <a class="code" href="../../da/dc0/classv8_1_1internal_1_1_j_s_array.html#aabca8545565b6a1f3c6fdc8bd948de49">JSArray::kSize</a>;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="keywordflow">if</span> (mode_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5">TRACK_ALLOCATION_SITE</a>) {</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    base_size += <a class="code" href="../../df/d6f/classv8_1_1internal_1_1_allocation_memento.html#aabca8545565b6a1f3c6fdc8bd948de49">AllocationMemento::kSize</a>;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  }</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  base_size += <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(kind_)</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;      ? <a class="code" href="../../dc/d5b/classv8_1_1internal_1_1_fixed_double_array.html#a11a750878b67cb536f631d035c027c59">FixedDoubleArray::SizeFor</a>(initial_capacity())</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;      : FixedArray::SizeFor(initial_capacity());</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="keywordflow">return</span> builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HConstant&gt;(base_size);</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;}</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;HValue* HGraphBuilder::JSArrayBuilder::AllocateEmptyArray() {</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  HValue* size_in_bytes = EstablishEmptyArrayAllocationSize();</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  HConstant* capacity = builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HConstant&gt;(initial_capacity());</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="keywordflow">return</span> AllocateArray(size_in_bytes,</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;                       capacity,</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                       builder()-&gt;graph()-&gt;GetConstant0());</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;}</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;HValue* HGraphBuilder::JSArrayBuilder::AllocateArray(HValue* capacity,</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                                                     HValue* length_field,</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;                                                     FillMode fill_mode) {</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  HValue* size_in_bytes = EstablishAllocationSize(capacity);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="keywordflow">return</span> AllocateArray(size_in_bytes, capacity, length_field, fill_mode);</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;}</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;HValue* HGraphBuilder::JSArrayBuilder::AllocateArray(HValue* size_in_bytes,</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;                                                     HValue* capacity,</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;                                                     HValue* length_field,</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;                                                     FillMode fill_mode) {</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <span class="comment">// These HForceRepresentations are because we store these as fields in the</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <span class="comment">// objects we construct, and an int32-to-smi HChange could deopt. Accept</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  <span class="comment">// the deopt possibility now, before allocation occurs.</span></div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  capacity =</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;      builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aa00b04a768dfeb0dc117a9c4af212079">AddUncasted</a>&lt;HForceRepresentation&gt;(capacity,</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                                                   <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#aefab3c6fec4cd73c28fdcdd5b4b4c5f5">Representation::Smi</a>());</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  length_field =</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;      builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aa00b04a768dfeb0dc117a9c4af212079">AddUncasted</a>&lt;HForceRepresentation&gt;(length_field,</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;                                                   <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#aefab3c6fec4cd73c28fdcdd5b4b4c5f5">Representation::Smi</a>());</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="comment">// Allocate (dealing with failure appropriately)</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  HAllocate* new_object = builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">Add</a>&lt;HAllocate&gt;(size_in_bytes,</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      HType::JSArray(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>);</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  <span class="comment">// Folded array allocation should be aligned if it has fast double elements.</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">IsFastDoubleElementsKind</a>(kind_)) {</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;     new_object-&gt;MakeDoubleAligned();</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  }</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <span class="comment">// Fill in the fields: map, properties, length</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  HValue* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>;</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;  <span class="keywordflow">if</span> (allocation_site_payload_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    map = EmitInternalMapCode();</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    map = EmitMapCode();</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  }</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;  elements_location_ = builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a03a74f789ab667a0f8ba149fa635fa7d">BuildJSArrayHeader</a>(new_object,</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                                                     map,</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                                                     mode_,</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                                                     kind_,</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                                                     allocation_site_payload_,</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;                                                     length_field);</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <span class="comment">// Initialize the elements</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac0fe29aa49349af3cf1fc8b578d9911a">BuildInitializeElementsHeader</a>(elements_location_, kind_, capacity);</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  <span class="keywordflow">if</span> (fill_mode == FILL_WITH_HOLE) {</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    builder()-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1e2f17c9f25d086d91278b44afd0b992">BuildFillElementsWithHole</a>(elements_location_, kind_,</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;                                         graph()-&gt;GetConstant0(), capacity);</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  }</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  <span class="keywordflow">return</span> new_object;</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;}</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div>
<div class="line"><a name="l02958"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74"> 2958</a></span>&#160;HStoreNamedField* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74">HGraphBuilder::AddStoreMapConstant</a>(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a> *<span class="keywordtype">object</span>,</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;                                                     <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> map) {</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="keywordflow">return</span> Add&lt;HStoreNamedField&gt;(object, HObjectAccess::ForMap(),</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                               Add&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>));</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;}</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;</div>
<div class="line"><a name="l02965"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1723360ac752b7889227b2ed67aa2e48"> 2965</a></span>&#160;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1723360ac752b7889227b2ed67aa2e48">HGraphBuilder::AddLoadJSBuiltin</a>(<a class="code" href="../../d5/d99/classv8_1_1internal_1_1_builtins.html#aa1d5cbd29a6bac41784e89758948f3b0">Builtins::JavaScript</a> builtin) {</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* global_object = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a01b79ad4c6474168c60dab251475f9fc">context</a>(), <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;      HObjectAccess::ForContextSlot(<a class="code" href="../../d4/d72/classv8_1_1internal_1_1_context.html#a0411cd49bb5b71852cecd93bcbf0ca2dad659b33358ba073da0fdc9caf9dc5625">Context::GLOBAL_OBJECT_INDEX</a>));</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  HObjectAccess access = HObjectAccess::ForObservableJSObjectOffset(</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;      <a class="code" href="../../d2/d4f/classv8_1_1internal_1_1_global_object.html#a0ab8cbf48f56bd048e3d04737e91a6d3">GlobalObject::kBuiltinsOffset</a>);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* builtins = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;      global_object, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), access);</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  HObjectAccess function_access = HObjectAccess::ForObservableJSObjectOffset(</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;          <a class="code" href="../../de/ddf/classv8_1_1internal_1_1_j_s_builtins_object.html#aeeebf8ef4e9da4b8f15491cf6fbdf237">JSBuiltinsObject::OffsetOfFunctionWithId</a>(builtin));</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;  <span class="keywordflow">return</span> Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;      builtins, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), function_access);</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;}</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;</div>
<div class="line"><a name="l02980"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a06e092503aaf8fca43922bddc042426e"> 2980</a></span>&#160;<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a06e092503aaf8fca43922bddc042426e">HOptimizedGraphBuilder::HOptimizedGraphBuilder</a>(<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html">CompilationInfo</a>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>)</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    : <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html">HGraphBuilder</a>(info),</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;      function_state_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;      initial_function_state_(this, info, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312ab59913d2688782bce300f8d56bccf952">NORMAL_RETURN</a>, 0),</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;      ast_context_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;      break_scope_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;      inlined_count_(0),</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      globals_(10, info-&gt;zone()),</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      inline_bailout_(false),</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      osr_(new(info-&gt;zone()) <a class="code" href="../../da/d28/classv8_1_1internal_1_1_h_osr_builder.html">HOsrBuilder</a>(this)) {</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  <span class="comment">// This is not initialized in the initializer list because the</span></div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <span class="comment">// constructor for the initial state relies on function_state_ == NULL</span></div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="comment">// to know it&#39;s the initial state.</span></div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  function_state_= &amp;initial_function_state_;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  InitializeAstVisitor(info-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a4a0ee773b27d2e4d061f2234fbfbaf80">zone</a>());</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions) {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(info-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#ad5293181dc22b0c8db90916da192aab4">shared_info</a>()-&gt;start_position());</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  }</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;}</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;</div>
<div class="line"><a name="l03001"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b"> 3001</a></span>&#160;HBasicBlock* <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">HOptimizedGraphBuilder::CreateJoin</a>(HBasicBlock* first,</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                                                HBasicBlock* second,</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;                                                <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html">BailoutId</a> join_id) {</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  <span class="keywordflow">if</span> (first == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    <span class="keywordflow">return</span> second;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (second == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    <span class="keywordflow">return</span> first;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    HBasicBlock* join_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(first, join_block);</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(second, join_block);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    join_block-&gt;SetJoinId(join_id);</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="keywordflow">return</span> join_block;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  }</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;}</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;</div>
<div class="line"><a name="l03018"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3c49125ca9da72f340c89c9e38b002e3"> 3018</a></span>&#160;HBasicBlock* <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3c49125ca9da72f340c89c9e38b002e3">HOptimizedGraphBuilder::JoinContinue</a>(<a class="code" href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html">IterationStatement</a>* statement,</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;                                                  HBasicBlock* exit_block,</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;                                                  HBasicBlock* continue_block) {</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;  <span class="keywordflow">if</span> (continue_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    <span class="keywordflow">if</span> (exit_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(exit_block, continue_block);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    continue_block-&gt;SetJoinId(statement-&gt;<a class="code" href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html#a77954e543fb41ac3b8bbd88aa4581f54">ContinueId</a>());</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordflow">return</span> continue_block;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;  }</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  <span class="keywordflow">return</span> exit_block;</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;}</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;</div>
<div class="line"><a name="l03030"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ac7b7d24a05cdf6542727fae3055b9481"> 3030</a></span>&#160;HBasicBlock* <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ac7b7d24a05cdf6542727fae3055b9481">HOptimizedGraphBuilder::CreateLoop</a>(<a class="code" href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html">IterationStatement</a>* statement,</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                                                HBasicBlock* loop_entry,</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;                                                HBasicBlock* body_exit,</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                                                HBasicBlock* loop_successor,</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                                                HBasicBlock* break_block) {</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  <span class="keywordflow">if</span> (body_exit != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(body_exit, loop_entry);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  loop_entry-&gt;PostProcessLoopHeader(statement);</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;  <span class="keywordflow">if</span> (break_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <span class="keywordflow">if</span> (loop_successor != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(loop_successor, break_block);</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    break_block-&gt;SetJoinId(statement-&gt;<a class="code" href="../../d6/d59/classv8_1_1internal_1_1_breakable_statement.html#aa1bfe4b864c6fdad215b3749eca317bf">ExitId</a>());</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <span class="keywordflow">return</span> break_block;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  }</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <span class="keywordflow">return</span> loop_successor;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;}</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;<span class="comment">// Build a new loop header block and set it as the current block.</span></div>
<div class="line"><a name="l03047"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f"> 3047</a></span>&#160;HBasicBlock* <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f">HOptimizedGraphBuilder::BuildLoopEntry</a>() {</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  HBasicBlock* loop_entry = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a9682bd4fb24016d3c2b858ea34023c9b">CreateLoopHeaderBlock</a>();</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(loop_entry);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(loop_entry);</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  <span class="keywordflow">return</span> loop_entry;</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;}</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;</div>
<div class="line"><a name="l03055"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7e73adc6cadaca272c8f3a0684f31cc0"> 3055</a></span>&#160;HBasicBlock* <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f">HOptimizedGraphBuilder::BuildLoopEntry</a>(</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <a class="code" href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html">IterationStatement</a>* statement) {</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;  HBasicBlock* loop_entry = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a867d40f0a6f0ba49621258b6c61e892e">osr</a>()-&gt;<a class="code" href="../../da/d28/classv8_1_1internal_1_1_h_osr_builder.html#a3b872aa3d32d030d7721007ef7d01df9">HasOsrEntryAt</a>(statement)</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;      ? <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a867d40f0a6f0ba49621258b6c61e892e">osr</a>()-&gt;<a class="code" href="../../da/d28/classv8_1_1internal_1_1_h_osr_builder.html#aab1e05c381eca3ad041994df929a4623">BuildOsrLoopEntry</a>(statement)</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      : <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f">BuildLoopEntry</a>();</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  <span class="keywordflow">return</span> loop_entry;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;}</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;<span class="keywordtype">void</span> HBasicBlock::FinishExit(<a class="code" href="../../d7/de1/classv8_1_1internal_1_1_h_control_instruction.html">HControlInstruction</a>* instruction,</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                             <a class="code" href="../../d5/dcb/classv8_1_1internal_1_1_h_source_position.html">HSourcePosition</a> position) {</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  Finish(instruction, position);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  ClearEnvironment();</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;}</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;HGraph::HGraph(CompilationInfo* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>)</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    : isolate_(info-&gt;isolate()),</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;      next_block_id_(0),</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;      entry_block_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;      blocks_(8, info-&gt;zone()),</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      values_(16, info-&gt;zone()),</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;      phi_list_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      uint32_instructions_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      osr_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;      info_(info),</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;      zone_(info-&gt;zone()),</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;      is_recursive_(false),</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      use_optimistic_licm_(false),</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;      depends_on_empty_array_proto_elements_(false),</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;      type_change_checksum_(0),</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;      maximum_environment_size_(0),</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;      no_side_effects_scope_count_(0),</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;      disallow_adding_new_values_(false),</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;      next_inline_id_(0),</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;      inlined_functions_(5, info-&gt;zone()) {</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;  <span class="keywordflow">if</span> (info-&gt;IsStub()) {</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    HydrogenCodeStub* stub = info-&gt;code_stub();</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    CodeStubInterfaceDescriptor* descriptor =</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        stub-&gt;GetInterfaceDescriptor(isolate_);</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    start_environment_ =</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        <span class="keyword">new</span>(zone_) HEnvironment(zone_, descriptor-&gt;environment_length());</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    TraceInlinedFunction(info-&gt;shared_info(), <a class="code" href="../../d5/dcb/classv8_1_1internal_1_1_h_source_position.html#a187767049352c3e4fc78b3983fa7b74e">HSourcePosition::Unknown</a>());</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    start_environment_ =</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        <span class="keyword">new</span>(zone_) HEnvironment(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, info-&gt;scope(), info-&gt;closure(), zone_);</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  }</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  start_environment_-&gt;set_ast_id(<a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a99d52d6b585e5a9abd4eea85265e9cd9">BailoutId::FunctionEntry</a>());</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;  entry_block_ = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2e44bd382e52f221f70939a892e513f3">CreateBasicBlock</a>();</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  entry_block_-&gt;SetInitialEnvironment(start_environment_);</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;}</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;HBasicBlock* HGraph::CreateBasicBlock() {</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  HBasicBlock* result = <span class="keyword">new</span>(zone()) HBasicBlock(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  blocks_.Add(result, zone());</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;}</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;<span class="keywordtype">void</span> HGraph::FinalizeUniqueness() {</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a949499cf64adf66e57fb90ad2546be23">DisallowHeapAllocation</a> no_gc;</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!OptimizingCompilerThread::IsOptimizerThread(isolate()));</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; blocks()-&gt;length(); ++i) {</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordflow">for</span> (HInstructionIterator it(blocks()-&gt;at(i)); !it.Done(); it.Advance()) {</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;      it.Current()-&gt;FinalizeUniqueness();</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    }</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;  }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;}</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;<span class="keywordtype">int</span> HGraph::TraceInlinedFunction(</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    Handle&lt;SharedFunctionInfo&gt; shared,</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    HSourcePosition position) {</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  <span class="keywordflow">if</span> (!FLAG_hydrogen_track_positions) {</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  }</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;  <span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  <span class="keywordflow">for</span> (; <span class="keywordtype">id</span> &lt; inlined_functions_.length(); <span class="keywordtype">id</span>++) {</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="keywordflow">if</span> (inlined_functions_[<span class="keywordtype">id</span>].shared().is_identical_to(shared)) {</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    }</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  }</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == inlined_functions_.length()) {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    inlined_functions_.Add(InlinedFunctionInfo(shared), zone());</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <span class="keywordflow">if</span> (!shared-&gt;script()-&gt;IsUndefined()) {</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;      Handle&lt;Script&gt; script(<a class="code" href="../../d9/da4/classv8_1_1internal_1_1_script.html#af5d25c39e7d38591e52ee53301bb283d">Script::cast</a>(shared-&gt;script()));</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      <span class="keywordflow">if</span> (!script-&gt;source()-&gt;IsUndefined()) {</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;        CodeTracer::Scope tracing_scope(isolate()-&gt;GetCodeTracer());</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(tracing_scope.file(),</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;               <span class="stringliteral">&quot;--- FUNCTION SOURCE (%s) id{%d,%d} ---\n&quot;</span>,</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;               shared-&gt;DebugName()-&gt;ToCString().get(),</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;               <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;optimization_id(),</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;               id);</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;        {</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;          ConsStringIteratorOp op;</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;          StringCharacterStream stream(<a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a6391d7952fe2756ac824043f9d2f1122">String::cast</a>(script-&gt;source()),</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                                       &amp;op,</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                                       shared-&gt;start_position());</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;          <span class="comment">// fun-&gt;end_position() points to the last character in the stream. We</span></div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;          <span class="comment">// need to compensate by adding one to calculate the length.</span></div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;          <span class="keywordtype">int</span> source_len =</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;              shared-&gt;end_position() - shared-&gt;start_position() + 1;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; source_len; i++) {</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            <span class="keywordflow">if</span> (stream.HasMore()) {</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(tracing_scope.file(), <span class="stringliteral">&quot;%c&quot;</span>, stream.GetNext());</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;            }</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;          }</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;        }</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(tracing_scope.file(), <span class="stringliteral">&quot;\n--- END ---\n&quot;</span>);</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      }</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    }</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;  }</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  <span class="keywordtype">int</span> inline_id = next_inline_id_++;</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;  <span class="keywordflow">if</span> (inline_id != 0) {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    CodeTracer::Scope tracing_scope(isolate()-&gt;GetCodeTracer());</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(tracing_scope.file(), <span class="stringliteral">&quot;INLINE (%s) id{%d,%d} AS %d AT &quot;</span>,</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;           shared-&gt;DebugName()-&gt;ToCString().get(),</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;           <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;optimization_id(),</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;           id,</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;           inline_id);</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    position.PrintTo(tracing_scope.file());</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(tracing_scope.file(), <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;  }</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;  <span class="keywordflow">return</span> inline_id;</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;}</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;<span class="keywordtype">int</span> HGraph::SourcePositionToScriptPosition(HSourcePosition pos) {</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  <span class="keywordflow">if</span> (!FLAG_hydrogen_track_positions || pos.IsUnknown()) {</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    <span class="keywordflow">return</span> pos.raw();</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  }</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;  <span class="keywordflow">return</span> inlined_functions_[pos.inlining_id()].start_position() +</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;      pos.position();</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;}</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="comment">// Block ordering was implemented with two mutually recursive methods,</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;<span class="comment">// HGraph::Postorder and HGraph::PostorderLoopBlocks.</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;<span class="comment">// The recursion could lead to stack overflow so the algorithm has been</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;<span class="comment">// implemented iteratively.</span></div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;<span class="comment">// At a high level the algorithm looks like this:</span></div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<span class="comment">// Postorder(block, loop_header) : {</span></div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;<span class="comment">//   if (block has already been visited or is of another loop) return;</span></div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;<span class="comment">//   mark block as visited;</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;<span class="comment">//   if (block is a loop header) {</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;<span class="comment">//     VisitLoopMembers(block, loop_header);</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;<span class="comment">//     VisitSuccessorsOfLoopHeader(block);</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;<span class="comment">//   } else {</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="comment">//     VisitSuccessors(block)</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;<span class="comment">//   }</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;<span class="comment">//   put block in result list;</span></div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;<span class="comment">// }</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;<span class="comment">// VisitLoopMembers(block, outer_loop_header) {</span></div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;<span class="comment">//   foreach (block b in block loop members) {</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;<span class="comment">//     VisitSuccessorsOfLoopMember(b, outer_loop_header);</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;<span class="comment">//     if (b is loop header) VisitLoopMembers(b);</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;<span class="comment">//   }</span></div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="comment">// }</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="comment">// VisitSuccessorsOfLoopMember(block, outer_loop_header) {</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="comment">//   foreach (block b in block successors) Postorder(b, outer_loop_header)</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="comment">// }</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="comment">// VisitSuccessorsOfLoopHeader(block) {</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;<span class="comment">//   foreach (block b in block successors) Postorder(b, block)</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<span class="comment">// }</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;<span class="comment">// VisitSuccessors(block, loop_header) {</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<span class="comment">//   foreach (block b in block successors) Postorder(b, loop_header)</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;<span class="comment">// }</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<span class="comment">// The ordering is started calling Postorder(entry, NULL).</span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="comment">// Each instance of PostorderProcessor represents the &quot;stack frame&quot; of the</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="comment">// recursion, and particularly keeps the state of the loop (iteration) of the</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;<span class="comment">// &quot;Visit...&quot; function it represents.</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;<span class="comment">// To recycle memory we keep all the frames in a double linked list but</span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="comment">// this means that we cannot use constructors to initialize the frames.</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"><a class="line" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html"> 3246</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a> : <span class="keyword">public</span> <a class="code" href="../../d4/d5b/classv8_1_1internal_1_1_zone_object.html">ZoneObject</a> {</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  <span class="comment">// Back link (towards the stack bottom).</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"><a class="line" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a466ab1426c5a05a1c83661cde1257d36"> 3249</a></span>&#160;  <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a466ab1426c5a05a1c83661cde1257d36">parent</a>() {<span class="keywordflow">return</span> father_; }</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;  <span class="comment">// Forward link (towards the stack top).</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"><a class="line" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a8887002ae9d67377073393d8e9fd0043"> 3251</a></span>&#160;  <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a8887002ae9d67377073393d8e9fd0043">child</a>() {<span class="keywordflow">return</span> child_; }</div>
<div class="line"><a name="l03252"></a><span class="lineno"><a class="line" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8"> 3252</a></span>&#160;  HBasicBlock* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>() { <span class="keywordflow">return</span> block_; }</div>
<div class="line"><a name="l03253"></a><span class="lineno"><a class="line" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ac8324a11e747ea0f6032bbd7250ac883"> 3253</a></span>&#160;  HLoopInformation* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ac8324a11e747ea0f6032bbd7250ac883">loop</a>() { <span class="keywordflow">return</span> loop_; }</div>
<div class="line"><a name="l03254"></a><span class="lineno"><a class="line" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5"> 3254</a></span>&#160;  HBasicBlock* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5">loop_header</a>() { <span class="keywordflow">return</span> loop_header_; }</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;</div>
<div class="line"><a name="l03256"></a><span class="lineno"><a class="line" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a24ea53528abd8ad1e9e14288e3a9a27e"> 3256</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a24ea53528abd8ad1e9e14288e3a9a27e">CreateEntryProcessor</a>(<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone,</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                                                  HBasicBlock* block,</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                                                  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_bit_vector.html">BitVector</a>* visited) {</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>* result = <span class="keyword">new</span>(zone) <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <span class="keywordflow">return</span> result-&gt;SetupSuccessors(zone, block, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, visited);</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;  }</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;</div>
<div class="line"><a name="l03263"></a><span class="lineno"><a class="line" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ab7095931abcc2ff1ae888f30d0ed8d85"> 3263</a></span>&#160;  <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ab7095931abcc2ff1ae888f30d0ed8d85">PerformStep</a>(<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone,</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;                                  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_bit_vector.html">BitVector</a>* visited,</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;                                  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;HBasicBlock*&gt;</a>* order) {</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>* next =</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        PerformNonBacktrackingStep(zone, visited, order);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <span class="keywordflow">if</span> (next != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;      <span class="keywordflow">return</span> next;</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;      <span class="keywordflow">return</span> Backtrack(zone, visited, order);</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    }</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;  }</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>(<a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">PostorderProcessor</a>* father)</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;      : father_(father), child_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), successor_iterator(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) { }</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;  <span class="comment">// Each enum value states the cycle whose state is kept by this instance.</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  <span class="keyword">enum</span> LoopKind {</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    NONE,</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    SUCCESSORS,</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    SUCCESSORS_OF_LOOP_HEADER,</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    LOOP_MEMBERS,</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    SUCCESSORS_OF_LOOP_MEMBER</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;  };</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;  <span class="comment">// Each &quot;Setup...&quot; method is like a constructor for a cycle state.</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;  PostorderProcessor* SetupSuccessors(Zone* zone,</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;                                      HBasicBlock* block,</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;                                      HBasicBlock* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5">loop_header</a>,</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                                      BitVector* visited) {</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="keywordflow">if</span> (block == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> || visited-&gt;Contains(block-&gt;block_id()) ||</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;        block-&gt;parent_loop_header() != <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5">loop_header</a>) {</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;      kind_ = NONE;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      block_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;      loop_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;      loop_header_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;      block_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>;</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;      loop_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      visited-&gt;Add(block-&gt;block_id());</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;      <span class="keywordflow">if</span> (block-&gt;IsLoopHeader()) {</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        kind_ = SUCCESSORS_OF_LOOP_HEADER;</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;        loop_header_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;        InitializeSuccessors();</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;        PostorderProcessor* result = Push(zone);</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;        <span class="keywordflow">return</span> result-&gt;SetupLoopMembers(zone, block, block-&gt;loop_information(),</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                                        <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5">loop_header</a>);</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(block-&gt;IsFinished());</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;        kind_ = SUCCESSORS;</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;        loop_header_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5">loop_header</a>;</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;        InitializeSuccessors();</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;      }</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    }</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;  }</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;  PostorderProcessor* SetupLoopMembers(Zone* zone,</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;                                       HBasicBlock* block,</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                                       HLoopInformation* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ac8324a11e747ea0f6032bbd7250ac883">loop</a>,</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                                       HBasicBlock* loop_header) {</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    kind_ = LOOP_MEMBERS;</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;    block_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    loop_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ac8324a11e747ea0f6032bbd7250ac883">loop</a>;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    loop_header_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5">loop_header</a>;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    InitializeLoopMembers();</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;  }</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  PostorderProcessor* SetupSuccessorsOfLoopMember(</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;      HBasicBlock* block,</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;      HLoopInformation* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ac8324a11e747ea0f6032bbd7250ac883">loop</a>,</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;      HBasicBlock* loop_header) {</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    kind_ = SUCCESSORS_OF_LOOP_MEMBER;</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    block_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    loop_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ac8324a11e747ea0f6032bbd7250ac883">loop</a>;</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    loop_header_ = <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5">loop_header</a>;</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    InitializeSuccessors();</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  }</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <span class="comment">// This method &quot;allocates&quot; a new stack frame.</span></div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  PostorderProcessor* Push(Zone* zone) {</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <span class="keywordflow">if</span> (child_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;      child_ = <span class="keyword">new</span>(zone) PostorderProcessor(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    }</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <span class="keywordflow">return</span> child_;</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  }</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;  <span class="keywordtype">void</span> ClosePostorder(ZoneList&lt;HBasicBlock*&gt;* order, Zone* zone) {</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(block_-&gt;end()-&gt;FirstSuccessor() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> ||</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;           order-&gt;Contains(block_-&gt;end()-&gt;FirstSuccessor()) ||</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;           block_-&gt;end()-&gt;FirstSuccessor()-&gt;IsLoopHeader());</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(block_-&gt;end()-&gt;SecondSuccessor() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> ||</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;           order-&gt;Contains(block_-&gt;end()-&gt;SecondSuccessor()) ||</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;           block_-&gt;end()-&gt;SecondSuccessor()-&gt;IsLoopHeader());</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    order-&gt;Add(block_, zone);</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  }</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  <span class="comment">// This method is the basic block to walk up the stack.</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;  PostorderProcessor* Pop(Zone* zone,</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;                          BitVector* visited,</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                          ZoneList&lt;HBasicBlock*&gt;* order) {</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="keywordflow">switch</span> (kind_) {</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;      <span class="keywordflow">case</span> SUCCESSORS:</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;      <span class="keywordflow">case</span> SUCCESSORS_OF_LOOP_HEADER:</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;        ClosePostorder(order, zone);</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;        <span class="keywordflow">return</span> father_;</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;      <span class="keywordflow">case</span> LOOP_MEMBERS:</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;        <span class="keywordflow">return</span> father_;</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;      <span class="keywordflow">case</span> SUCCESSORS_OF_LOOP_MEMBER:</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>()-&gt;IsLoopHeader() &amp;&amp; <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>() != loop_-&gt;loop_header()) {</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;          <span class="comment">// In this case we need to perform a LOOP_MEMBERS cycle so we</span></div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;          <span class="comment">// initialize it and return this instead of father.</span></div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;          <span class="keywordflow">return</span> SetupLoopMembers(zone, <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>(),</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                                  <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>()-&gt;loop_information(), loop_header_);</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;          <span class="keywordflow">return</span> father_;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;        }</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;      <span class="keywordflow">case</span> NONE:</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;        <span class="keywordflow">return</span> father_;</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;    }</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  }</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;  <span class="comment">// Walks up the stack.</span></div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;  PostorderProcessor* Backtrack(Zone* zone,</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;                                BitVector* visited,</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;                                ZoneList&lt;HBasicBlock*&gt;* order) {</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    PostorderProcessor* <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a466ab1426c5a05a1c83661cde1257d36">parent</a> = Pop(zone, visited, order);</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    <span class="keywordflow">while</span> (parent != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;      PostorderProcessor* next =</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;          parent-&gt;PerformNonBacktrackingStep(zone, visited, order);</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;      <span class="keywordflow">if</span> (next != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        <span class="keywordflow">return</span> next;</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;        parent = parent-&gt;Pop(zone, visited, order);</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;      }</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;    }</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;  }</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  PostorderProcessor* PerformNonBacktrackingStep(</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;      Zone* zone,</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      BitVector* visited,</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;      ZoneList&lt;HBasicBlock*&gt;* order) {</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    HBasicBlock* next_block;</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    <span class="keywordflow">switch</span> (kind_) {</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;      <span class="keywordflow">case</span> SUCCESSORS:</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;        next_block = AdvanceSuccessors();</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        <span class="keywordflow">if</span> (next_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;          PostorderProcessor* result = Push(zone);</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;          <span class="keywordflow">return</span> result-&gt;SetupSuccessors(zone, next_block,</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;                                         loop_header_, visited);</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;        }</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      <span class="keywordflow">case</span> SUCCESSORS_OF_LOOP_HEADER:</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;        next_block = AdvanceSuccessors();</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;        <span class="keywordflow">if</span> (next_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;          PostorderProcessor* result = Push(zone);</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;          <span class="keywordflow">return</span> result-&gt;SetupSuccessors(zone, next_block,</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;                                         <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">block</a>(), visited);</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;        }</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;      <span class="keywordflow">case</span> LOOP_MEMBERS:</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        next_block = AdvanceLoopMembers();</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        <span class="keywordflow">if</span> (next_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;          PostorderProcessor* result = Push(zone);</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;          <span class="keywordflow">return</span> result-&gt;SetupSuccessorsOfLoopMember(next_block,</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;                                                     loop_, loop_header_);</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;        }</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;      <span class="keywordflow">case</span> SUCCESSORS_OF_LOOP_MEMBER:</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;        next_block = AdvanceSuccessors();</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;        <span class="keywordflow">if</span> (next_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;          PostorderProcessor* result = Push(zone);</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;          <span class="keywordflow">return</span> result-&gt;SetupSuccessors(zone, next_block,</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;                                         loop_header_, visited);</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;        }</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;      <span class="keywordflow">case</span> NONE:</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    }</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  }</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="comment">// The following two methods implement a &quot;foreach b in successors&quot; cycle.</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  <span class="keywordtype">void</span> InitializeSuccessors() {</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    loop_index = 0;</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    loop_length = 0;</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    successor_iterator = HSuccessorIterator(block_-&gt;end());</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  }</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  HBasicBlock* AdvanceSuccessors() {</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <span class="keywordflow">if</span> (!successor_iterator.Done()) {</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      HBasicBlock* result = successor_iterator.Current();</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;      successor_iterator.Advance();</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;      <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    }</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  }</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  <span class="comment">// The following two methods implement a &quot;foreach b in loop members&quot; cycle.</span></div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  <span class="keywordtype">void</span> InitializeLoopMembers() {</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    loop_index = 0;</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    loop_length = loop_-&gt;blocks()-&gt;length();</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  }</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  HBasicBlock* AdvanceLoopMembers() {</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <span class="keywordflow">if</span> (loop_index &lt; loop_length) {</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;      HBasicBlock* result = loop_-&gt;blocks()-&gt;at(loop_index);</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;      loop_index++;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;      <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    }</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  }</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  LoopKind kind_;</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;  PostorderProcessor* father_;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;  PostorderProcessor* child_;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  HLoopInformation* loop_;</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  HBasicBlock* block_;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  HBasicBlock* loop_header_;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;  <span class="keywordtype">int</span> loop_index;</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;  <span class="keywordtype">int</span> loop_length;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;  HSuccessorIterator successor_iterator;</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;};</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;<span class="keywordtype">void</span> HGraph::OrderBlocks() {</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  CompilationPhase phase(<span class="stringliteral">&quot;H_Block ordering&quot;</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>());</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  BitVector visited(blocks_.length(), zone());</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;  ZoneList&lt;HBasicBlock*&gt; reverse_result(8, zone());</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  HBasicBlock* start = blocks_[0];</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  PostorderProcessor* postorder =</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;      <a class="code" href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a24ea53528abd8ad1e9e14288e3a9a27e">PostorderProcessor::CreateEntryProcessor</a>(zone(), start, &amp;visited);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  <span class="keywordflow">while</span> (postorder != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    postorder = postorder-&gt;PerformStep(zone(), &amp;visited, &amp;reverse_result);</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  }</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  blocks_.Rewind(0);</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = reverse_result.length() - 1; i &gt;= 0; --i) {</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;    HBasicBlock* b = reverse_result[i];</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    blocks_.Add(b, zone());</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    b-&gt;set_block_id(index++);</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  }</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;}</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;<span class="keywordtype">void</span> HGraph::AssignDominators() {</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;  HPhase phase(<span class="stringliteral">&quot;H_Assign dominators&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; blocks_.length(); ++i) {</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    HBasicBlock* block = blocks_[i];</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="keywordflow">if</span> (block-&gt;IsLoopHeader()) {</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;      <span class="comment">// Only the first predecessor of a loop header is from outside the loop.</span></div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;      <span class="comment">// All others are back edges, and thus cannot dominate the loop header.</span></div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;      block-&gt;AssignCommonDominator(block-&gt;predecessors()-&gt;first());</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;      block-&gt;AssignLoopSuccessorDominators();</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = blocks_[i]-&gt;predecessors()-&gt;length() - 1; j &gt;= 0; --j) {</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;        blocks_[i]-&gt;AssignCommonDominator(blocks_[i]-&gt;predecessors()-&gt;at(j));</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;      }</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    }</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;  }</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;}</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;<span class="keywordtype">bool</span> HGraph::CheckArgumentsPhiUses() {</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <span class="keywordtype">int</span> block_count = blocks_.length();</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; block_count; ++i) {</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; blocks_[i]-&gt;phis()-&gt;length(); ++j) {</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;      HPhi* phi = blocks_[i]-&gt;phis()-&gt;at(j);</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;      <span class="comment">// We don&#39;t support phi uses of arguments for now.</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;      <span class="keywordflow">if</span> (phi-&gt;CheckFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905">HValue::kIsArguments</a>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    }</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;  }</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;}</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;<span class="keywordtype">bool</span> HGraph::CheckConstPhiUses() {</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;  <span class="keywordtype">int</span> block_count = blocks_.length();</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; block_count; ++i) {</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; blocks_[i]-&gt;phis()-&gt;length(); ++j) {</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;      HPhi* phi = blocks_[i]-&gt;phis()-&gt;at(j);</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;      <span class="comment">// Check for the hole value (from an uninitialized const).</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; phi-&gt;OperandCount(); k++) {</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        <span class="keywordflow">if</span> (phi-&gt;OperandAt(k) == GetConstantHole()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;      }</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    }</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  }</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;}</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;<span class="keywordtype">void</span> HGraph::CollectPhis() {</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <span class="keywordtype">int</span> block_count = blocks_.length();</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  phi_list_ = <span class="keyword">new</span>(zone()) ZoneList&lt;HPhi*&gt;(block_count, zone());</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; block_count; ++i) {</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; blocks_[i]-&gt;phis()-&gt;length(); ++j) {</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;      HPhi* phi = blocks_[i]-&gt;phis()-&gt;at(j);</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;      phi_list_-&gt;Add(phi, zone());</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    }</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  }</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;}</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;<span class="comment">// Implementation of utility class to encapsulate the translation state for</span></div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;<span class="comment">// a (possibly inlined) function.</span></div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;FunctionState::FunctionState(HOptimizedGraphBuilder* owner,</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;                             CompilationInfo* info,</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;                             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312">InliningKind</a> inlining_kind,</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;                             <span class="keywordtype">int</span> inlining_id)</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    : owner_(owner),</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;      compilation_info_(info),</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;      call_context_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;      inlining_kind_(inlining_kind),</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;      function_return_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;      test_context_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;      entry_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;      arguments_object_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;      arguments_elements_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;      inlining_id_(inlining_id),</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;      outer_source_position_(HSourcePosition::Unknown()),</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;      outer_(owner-&gt;function_state()) {</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;  <span class="keywordflow">if</span> (outer_ != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;    <span class="comment">// State for an inline function.</span></div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    <span class="keywordflow">if</span> (owner-&gt;ast_context()-&gt;IsTest()) {</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;      HBasicBlock* if_true = owner-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;      HBasicBlock* if_false = owner-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;      if_true-&gt;MarkAsInlineReturnTarget(owner-&gt;current_block());</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;      if_false-&gt;MarkAsInlineReturnTarget(owner-&gt;current_block());</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;      TestContext* outer_test_context = TestContext::cast(owner-&gt;ast_context());</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;      Expression* cond = outer_test_context-&gt;condition();</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;      <span class="comment">// The AstContext constructor pushed on the context stack.  This newed</span></div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;      <span class="comment">// instance is the reason that AstContext can&#39;t be BASE_EMBEDDED.</span></div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;      test_context_ = <span class="keyword">new</span> TestContext(owner, cond, if_true, if_false);</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;      function_return_ = owner-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;      function_return()-&gt;MarkAsInlineReturnTarget(owner-&gt;current_block());</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    }</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    <span class="comment">// Set this after possibly allocating a new TestContext above.</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    call_context_ = owner-&gt;ast_context();</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;  }</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;  <span class="comment">// Push on the state stack.</span></div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;  owner-&gt;set_function_state(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;  <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions) {</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    outer_source_position_ = owner-&gt;source_position();</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    owner-&gt;EnterInlinedSource(</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;      info-&gt;shared_info()-&gt;start_position(),</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;      inlining_id);</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;    owner-&gt;SetSourcePosition(info-&gt;shared_info()-&gt;start_position());</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;  }</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;}</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;FunctionState::~FunctionState() {</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <span class="keyword">delete</span> test_context_;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  owner_-&gt;set_function_state(outer_);</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions) {</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    owner_-&gt;set_source_position(outer_source_position_);</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    owner_-&gt;EnterInlinedSource(</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;      outer_-&gt;compilation_info()-&gt;shared_info()-&gt;start_position(),</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;      outer_-&gt;inlining_id());</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;  }</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;}</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;<span class="comment">// Implementation of utility classes to represent an expression&#39;s context in</span></div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;<span class="comment">// the AST.</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"><a class="line" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ad89679cbf6adc67df21e68279a8dc602"> 3641</a></span>&#160;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ad89679cbf6adc67df21e68279a8dc602">AstContext::AstContext</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html">HOptimizedGraphBuilder</a>* owner, <a class="code" href="../../da/ddf/classv8_1_1internal_1_1_expression.html#abbebfae2c8b3c06e3115e79965277840">Expression::Context</a> kind)</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    : owner_(owner),</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      kind_(kind),</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;      outer_(owner-&gt;ast_context()),</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;      for_typeof_(false) {</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  owner-&gt;<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab4fb5109e56fc8fe77794a86fc97d6ad">set_ast_context</a>(<span class="keyword">this</span>);  <span class="comment">// Push.</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(owner-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;frame_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2">JS_FUNCTION</a>);</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  original_length_ = owner-&gt;<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;length();</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;}</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;</div>
<div class="line"><a name="l03654"></a><span class="lineno"><a class="line" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#a4aa63b03f9e4297f0458d92b1c0f4292"> 3654</a></span>&#160;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#a4aa63b03f9e4297f0458d92b1c0f4292">AstContext::~AstContext</a>() {</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  owner_-&gt;<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab4fb5109e56fc8fe77794a86fc97d6ad">set_ast_context</a>(outer_);  <span class="comment">// Pop.</span></div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;}</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;EffectContext::~EffectContext() {</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(owner()-&gt;HasStackOverflow() ||</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;         owner()-&gt;current_block() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> ||</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;         (owner()-&gt;environment()-&gt;length() == original_length_ &amp;&amp;</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;          owner()-&gt;environment()-&gt;frame_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2">JS_FUNCTION</a>));</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;}</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;ValueContext::~ValueContext() {</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(owner()-&gt;HasStackOverflow() ||</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;         owner()-&gt;current_block() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> ||</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;         (owner()-&gt;environment()-&gt;length() == original_length_ + 1 &amp;&amp;</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;          owner()-&gt;environment()-&gt;frame_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2">JS_FUNCTION</a>));</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;}</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;<span class="keywordtype">void</span> EffectContext::ReturnValue(HValue* value) {</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  <span class="comment">// The value is simply ignored.</span></div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;}</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;<span class="keywordtype">void</span> ValueContext::ReturnValue(HValue* value) {</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;  <span class="comment">// The value is tracked in the bailout environment, and communicated</span></div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  <span class="comment">// through the environment as the result of the expression.</span></div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="keywordflow">if</span> (!arguments_allowed() &amp;&amp; value-&gt;CheckFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905">HValue::kIsArguments</a>)) {</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    owner()-&gt;Bailout(kBadValueContextForArgumentsValue);</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  }</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;  owner()-&gt;Push(value);</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;}</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;<span class="keywordtype">void</span> TestContext::ReturnValue(HValue* value) {</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  BuildBranch(value);</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;}</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;<span class="keywordtype">void</span> EffectContext::ReturnInstruction(HInstruction* instr, BailoutId ast_id) {</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!instr-&gt;IsControlInstruction());</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  owner()-&gt;AddInstruction(instr);</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    owner()-&gt;Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;  }</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;}</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;<span class="keywordtype">void</span> EffectContext::ReturnControl(HControlInstruction* instr,</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;                                  BailoutId ast_id) {</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!instr-&gt;HasObservableSideEffects());</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  HBasicBlock* empty_true = owner()-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  HBasicBlock* empty_false = owner()-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;  instr-&gt;SetSuccessorAt(0, empty_true);</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  instr-&gt;SetSuccessorAt(1, empty_false);</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;  owner()-&gt;FinishCurrentBlock(instr);</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;  HBasicBlock* join = owner()-&gt;CreateJoin(empty_true, empty_false, ast_id);</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;  owner()-&gt;set_current_block(join);</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;}</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;<span class="keywordtype">void</span> EffectContext::ReturnContinuation(HIfContinuation* continuation,</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;                                       BailoutId ast_id) {</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  HBasicBlock* true_branch = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  HBasicBlock* false_branch = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  continuation-&gt;Continue(&amp;true_branch, &amp;false_branch);</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  <span class="keywordflow">if</span> (!continuation-&gt;IsTrueReachable()) {</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    owner()-&gt;set_current_block(false_branch);</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!continuation-&gt;IsFalseReachable()) {</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    owner()-&gt;set_current_block(true_branch);</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    HBasicBlock* join = owner()-&gt;CreateJoin(true_branch, false_branch, ast_id);</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    owner()-&gt;set_current_block(join);</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;  }</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;}</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;<span class="keywordtype">void</span> ValueContext::ReturnInstruction(HInstruction* instr, BailoutId ast_id) {</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!instr-&gt;IsControlInstruction());</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;  <span class="keywordflow">if</span> (!arguments_allowed() &amp;&amp; instr-&gt;CheckFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905">HValue::kIsArguments</a>)) {</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    <span class="keywordflow">return</span> owner()-&gt;Bailout(kBadValueContextForArgumentsObjectValue);</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  }</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  owner()-&gt;AddInstruction(instr);</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;  owner()-&gt;Push(instr);</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    owner()-&gt;Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;  }</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;}</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;<span class="keywordtype">void</span> ValueContext::ReturnControl(HControlInstruction* instr, BailoutId ast_id) {</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!instr-&gt;HasObservableSideEffects());</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  <span class="keywordflow">if</span> (!arguments_allowed() &amp;&amp; instr-&gt;CheckFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905">HValue::kIsArguments</a>)) {</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;    <span class="keywordflow">return</span> owner()-&gt;Bailout(kBadValueContextForArgumentsObjectValue);</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  }</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  HBasicBlock* materialize_false = owner()-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;  HBasicBlock* materialize_true = owner()-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  instr-&gt;SetSuccessorAt(0, materialize_true);</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  instr-&gt;SetSuccessorAt(1, materialize_false);</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  owner()-&gt;FinishCurrentBlock(instr);</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;  owner()-&gt;set_current_block(materialize_true);</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  owner()-&gt;Push(owner()-&gt;graph()-&gt;GetConstantTrue());</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  owner()-&gt;set_current_block(materialize_false);</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  owner()-&gt;Push(owner()-&gt;graph()-&gt;GetConstantFalse());</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;  HBasicBlock* join =</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    owner()-&gt;CreateJoin(materialize_true, materialize_false, ast_id);</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;  owner()-&gt;set_current_block(join);</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;}</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;<span class="keywordtype">void</span> ValueContext::ReturnContinuation(HIfContinuation* continuation,</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;                                      BailoutId ast_id) {</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  HBasicBlock* materialize_true = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  HBasicBlock* materialize_false = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  continuation-&gt;Continue(&amp;materialize_true, &amp;materialize_false);</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  <span class="keywordflow">if</span> (continuation-&gt;IsTrueReachable()) {</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    owner()-&gt;set_current_block(materialize_true);</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    owner()-&gt;Push(owner()-&gt;graph()-&gt;GetConstantTrue());</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    owner()-&gt;set_current_block(materialize_true);</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  }</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;  <span class="keywordflow">if</span> (continuation-&gt;IsFalseReachable()) {</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    owner()-&gt;set_current_block(materialize_false);</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;    owner()-&gt;Push(owner()-&gt;graph()-&gt;GetConstantFalse());</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;    owner()-&gt;set_current_block(materialize_false);</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  }</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  <span class="keywordflow">if</span> (continuation-&gt;TrueAndFalseReachable()) {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    HBasicBlock* join =</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;        owner()-&gt;CreateJoin(materialize_true, materialize_false, ast_id);</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    owner()-&gt;set_current_block(join);</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;  }</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;}</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;<span class="keywordtype">void</span> TestContext::ReturnInstruction(HInstruction* instr, BailoutId ast_id) {</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!instr-&gt;IsControlInstruction());</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;  HOptimizedGraphBuilder* builder = owner();</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;  builder-&gt;AddInstruction(instr);</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;  <span class="comment">// We expect a simulate after every expression with side effects, though</span></div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;  <span class="comment">// this one isn&#39;t actually needed (and wouldn&#39;t work if it were targeted).</span></div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    builder-&gt;Push(instr);</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    builder-&gt;Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;    builder-&gt;Pop();</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  }</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;  BuildBranch(instr);</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;}</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;<span class="keywordtype">void</span> TestContext::ReturnControl(HControlInstruction* instr, BailoutId ast_id) {</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!instr-&gt;HasObservableSideEffects());</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  HBasicBlock* empty_true = owner()-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  HBasicBlock* empty_false = owner()-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;  instr-&gt;SetSuccessorAt(0, empty_true);</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  instr-&gt;SetSuccessorAt(1, empty_false);</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  owner()-&gt;FinishCurrentBlock(instr);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  owner()-&gt;Goto(empty_true, if_true(), owner()-&gt;function_state());</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  owner()-&gt;Goto(empty_false, if_false(), owner()-&gt;function_state());</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  owner()-&gt;set_current_block(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;}</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;<span class="keywordtype">void</span> TestContext::ReturnContinuation(HIfContinuation* continuation,</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;                                     BailoutId ast_id) {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  HBasicBlock* true_branch = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;  HBasicBlock* false_branch = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;  continuation-&gt;Continue(&amp;true_branch, &amp;false_branch);</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;  <span class="keywordflow">if</span> (continuation-&gt;IsTrueReachable()) {</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;    owner()-&gt;Goto(true_branch, if_true(), owner()-&gt;function_state());</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  }</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="keywordflow">if</span> (continuation-&gt;IsFalseReachable()) {</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    owner()-&gt;Goto(false_branch, if_false(), owner()-&gt;function_state());</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  }</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  owner()-&gt;set_current_block(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;}</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;<span class="keywordtype">void</span> TestContext::BuildBranch(HValue* value) {</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <span class="comment">// We expect the graph to be in edge-split form: there is no edge that</span></div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  <span class="comment">// connects a branch node to a join node.  We conservatively ensure that</span></div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <span class="comment">// property by always adding an empty block on the outgoing edges of this</span></div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <span class="comment">// branch.</span></div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  HOptimizedGraphBuilder* builder = owner();</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  <span class="keywordflow">if</span> (value != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; value-&gt;CheckFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905">HValue::kIsArguments</a>)) {</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    builder-&gt;Bailout(kArgumentsObjectValueInATestContext);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  }</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  ToBooleanStub::Types expected(condition()-&gt;to_boolean_types());</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  ReturnControl(owner()-&gt;New&lt;HBranch&gt;(value, expected), <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a0aaa099c81ea7289740213df0076deac">BailoutId::None</a>());</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;}</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;<span class="comment">// HOptimizedGraphBuilder infrastructure for bailing out and checking bailouts.</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"><a class="line" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40"> 3847</a></span>&#160;<span class="preprocessor">#define CHECK_BAILOUT(call)                     \</span></div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;<span class="preprocessor">  do {                                          \</span></div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;<span class="preprocessor">    call;                                       \</span></div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;<span class="preprocessor">    if (HasStackOverflow()) return;             \</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;<span class="preprocessor">  } while (false)</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;</div>
<div class="line"><a name="l03854"></a><span class="lineno"><a class="line" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f"> 3854</a></span>&#160;<span class="preprocessor">#define CHECK_ALIVE(call)                                       \</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;<span class="preprocessor">  do {                                                          \</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;<span class="preprocessor">    call;                                                       \</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;<span class="preprocessor">    if (HasStackOverflow() || current_block() == NULL) return;  \</span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;<span class="preprocessor">  } while (false)</span></div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;</div>
<div class="line"><a name="l03861"></a><span class="lineno"><a class="line" href="../../d7/dd6/hydrogen_8cc.html#ad67af5e4a8d3e657992e10f75cbbc650"> 3861</a></span>&#160;<span class="preprocessor">#define CHECK_ALIVE_OR_RETURN(call, value)                            \</span></div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;<span class="preprocessor">  do {                                                                \</span></div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;<span class="preprocessor">    call;                                                             \</span></div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;<span class="preprocessor">    if (HasStackOverflow() || current_block() == NULL) return value;  \</span></div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;<span class="preprocessor">  } while (false)</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;</div>
<div class="line"><a name="l03868"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8"> 3868</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">HOptimizedGraphBuilder::Bailout</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">BailoutReason</a> reason) {</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a3365372762c33c2ca45fde31733d3964">set_bailout_reason</a>(reason);</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;  SetStackOverflow();</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;}</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;</div>
<div class="line"><a name="l03874"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7"> 3874</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">HOptimizedGraphBuilder::VisitForEffect</a>(<a class="code" href="../../da/ddf/classv8_1_1internal_1_1_expression.html">Expression</a>* expr) {</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;  EffectContext for_effect(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  Visit(expr);</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;}</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;</div>
<div class="line"><a name="l03880"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635"> 3880</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">HOptimizedGraphBuilder::VisitForValue</a>(<a class="code" href="../../da/ddf/classv8_1_1internal_1_1_expression.html">Expression</a>* expr,</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;                                           <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abce1eab366e996d40e43a1ec0e42e65c">ArgumentsAllowedFlag</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adfa873894470d6950e21cab8c6dadcd1">flag</a>) {</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  ValueContext for_value(<span class="keyword">this</span>, flag);</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  Visit(expr);</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;}</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;</div>
<div class="line"><a name="l03887"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ae3efd69922a6aa4ad744803baacd6856"> 3887</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ae3efd69922a6aa4ad744803baacd6856">HOptimizedGraphBuilder::VisitForTypeOf</a>(<a class="code" href="../../da/ddf/classv8_1_1internal_1_1_expression.html">Expression</a>* expr) {</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  ValueContext for_value(<span class="keyword">this</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abce1eab366e996d40e43a1ec0e42e65caa6fe6d1581b1e2d2ba6c19d1c4716e04">ARGUMENTS_NOT_ALLOWED</a>);</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  for_value.set_for_typeof(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;  Visit(expr);</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;}</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;</div>
<div class="line"><a name="l03894"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04"> 3894</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">HOptimizedGraphBuilder::VisitForControl</a>(<a class="code" href="../../da/ddf/classv8_1_1internal_1_1_expression.html">Expression</a>* expr,</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;                                             HBasicBlock* true_block,</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;                                             HBasicBlock* false_block) {</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;  TestContext for_test(<span class="keyword">this</span>, expr, true_block, false_block);</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  Visit(expr);</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;}</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;</div>
<div class="line"><a name="l03902"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb"> 3902</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">HOptimizedGraphBuilder::VisitExpressions</a>(</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;Expression*&gt;</a>* exprs) {</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; exprs-&gt;length(); ++i) {</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(exprs-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i)));</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  }</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;}</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;</div>
<div class="line"><a name="l03910"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a799bfde6b8e364ee509e4d72de3582db"> 3910</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a799bfde6b8e364ee509e4d72de3582db">HOptimizedGraphBuilder::BuildGraph</a>() {</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<span class="keyword">function</span>()-&gt;is_generator()) {</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kFunctionIsAGenerator);</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;  }</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;  <a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html">Scope</a>* scope = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8f5227b0eb369353404602683a4f2beb">scope</a>();</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  <span class="keywordflow">if</span> (scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a86693e770b217a6bbb9e1872542d45b1">HasIllegalRedeclaration</a>()) {</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kFunctionWithIllegalRedeclaration);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;  }</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;  <span class="keywordflow">if</span> (scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a85e5fe0abadd9a62a781c3bfd7a80d0c">calls_eval</a>()) {</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kFunctionCallsEval);</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;  }</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d6280d1f7fc717c2151d1ac0586744b">SetUpScope</a>(scope);</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;  <span class="comment">// Add an edge to the body entry.  This is warty: the graph&#39;s start</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  <span class="comment">// environment will be used by the Lithium translation as the initial</span></div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;  <span class="comment">// environment on graph entry, but it has now been mutated by the</span></div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;  <span class="comment">// Hydrogen translation of the instructions in the start block.  This</span></div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;  <span class="comment">// environment uses values which have not been defined yet.  These</span></div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;  <span class="comment">// Hydrogen instructions will then be replayed by the Lithium</span></div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;  <span class="comment">// translation, so they cannot have an environment effect.  The edge to</span></div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;  <span class="comment">// the body&#39;s entry block (along with some special logic for the start</span></div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;  <span class="comment">// block in HInstruction::InsertAfter) seals the start block from</span></div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  <span class="comment">// getting unwanted instructions inserted.</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;  <span class="comment">// TODO(kmillikin): Fix this.  Stop mutating the initial environment.</span></div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;  <span class="comment">// Make the Hydrogen instructions in the initial block into Hydrogen</span></div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  <span class="comment">// values (but not instructions), present in the initial environment and</span></div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;  <span class="comment">// not replayed by the Lithium translation.</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;  HEnvironment* initial_env = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;CopyWithoutHistory();</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  HBasicBlock* body_entry = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2e44bd382e52f221f70939a892e513f3">CreateBasicBlock</a>(initial_env);</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(body_entry);</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;  body_entry-&gt;SetJoinId(<a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a99d52d6b585e5a9abd4eea85265e9cd9">BailoutId::FunctionEntry</a>());</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(body_entry);</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;  <span class="comment">// Handle implicit declaration of the function name in named function</span></div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;  <span class="comment">// expressions before other declarations.</span></div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;  <span class="keywordflow">if</span> (scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#ae8b9009a3e9ed07892a78174ffa1c9e1">is_function_scope</a>() &amp;&amp; scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a5fe6b8fce509e02af7fc6bb67a974a04">function</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    VisitVariableDeclaration(scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a5fe6b8fce509e02af7fc6bb67a974a04">function</a>());</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;  }</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a441748933d86305d6e102f1c1f541b7b">VisitDeclarations</a>(scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a6655332ee1eba29ab5f31bfba968aff6">declarations</a>());</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;  Add&lt;HSimulate&gt;(<a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#ad8b1bcd3b4d0ab3c6ce2831ea20b9512">BailoutId::Declarations</a>());</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;  Add&lt;HStackCheck&gt;(HStackCheck::kFunctionEntry);</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3dc7547074f94ab51e0bf699b120c856">VisitStatements</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<span class="keyword">function</span>()-&gt;body());</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <span class="keywordflow">if</span> (HasStackOverflow()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;    Add&lt;HReturn&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;  }</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;  <span class="comment">// If the checksum of the number of type info changes is the same as the</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;  <span class="comment">// last time this function was compiled, then this recompile is likely not</span></div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  <span class="comment">// due to missing/inadequate type feedback, but rather too aggressive</span></div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;  <span class="comment">// optimization. Disable optimistic LICM in that case.</span></div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;Code&gt;</a> unoptimized_code(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;shared_info()-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab91e71e972251cbfe502d5f3856e5762">code</a>());</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(unoptimized_code-&gt;kind() == Code::FUNCTION);</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;TypeFeedbackInfo&gt;</a> type_info(</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;      <a class="code" href="../../d5/d14/classv8_1_1internal_1_1_type_feedback_info.html#a4314051e5e0fb9c20a824f8f76a62c8b">TypeFeedbackInfo::cast</a>(unoptimized_code-&gt;type_feedback_info()));</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  <span class="keywordtype">int</span> checksum = type_info-&gt;own_type_change_checksum();</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;  <span class="keywordtype">int</span> composite_checksum = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;update_type_change_checksum(checksum);</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;set_use_optimistic_licm(</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;      !type_info-&gt;matches_inlined_type_change_checksum(composite_checksum));</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;  type_info-&gt;set_inlined_type_change_checksum(composite_checksum);</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;  <span class="comment">// Perform any necessary OSR-specific cleanups or changes to the graph.</span></div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a867d40f0a6f0ba49621258b6c61e892e">osr</a>()-&gt;<a class="code" href="../../da/d28/classv8_1_1internal_1_1_h_osr_builder.html#a3676d4607f406871bb555f3f2f00801f">FinishGraph</a>();</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;}</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;<span class="keywordtype">bool</span> HGraph::Optimize(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">BailoutReason</a>* bailout_reason) {</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;  OrderBlocks();</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  AssignDominators();</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <span class="comment">// We need to create a HConstant &quot;zero&quot; now so that GVN will fold every</span></div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;  <span class="comment">// zero-valued constant in the graph together.</span></div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  <span class="comment">// The constant is needed to make idef-based bounds check work: the pass</span></div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  <span class="comment">// evaluates relations with &quot;zero&quot; and that zero cannot be created after GVN.</span></div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  GetConstant0();</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;  <span class="comment">// Do a full verify after building the graph and computing dominators.</span></div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  Verify(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;  <span class="keywordflow">if</span> (FLAG_analyze_environment_liveness &amp;&amp; maximum_environment_size() != 0) {</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;    Run&lt;HEnvironmentLivenessAnalysisPhase&gt;();</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;  }</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;  <span class="keywordflow">if</span> (!CheckConstPhiUses()) {</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    *bailout_reason = kUnsupportedPhiUseOfConstVariable;</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;  }</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;  Run&lt;HRedundantPhiEliminationPhase&gt;();</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;  <span class="keywordflow">if</span> (!CheckArgumentsPhiUses()) {</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    *bailout_reason = kUnsupportedPhiUseOfArguments;</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;  }</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;  <span class="comment">// Find and mark unreachable code to simplify optimizations, especially gvn,</span></div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;  <span class="comment">// where unreachable code could unnecessarily defeat LICM.</span></div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;  Run&lt;HMarkUnreachableBlocksPhase&gt;();</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;  <span class="keywordflow">if</span> (FLAG_dead_code_elimination) Run&lt;HDeadCodeEliminationPhase&gt;();</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;  <span class="keywordflow">if</span> (FLAG_use_escape_analysis) Run&lt;HEscapeAnalysisPhase&gt;();</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;  <span class="keywordflow">if</span> (FLAG_load_elimination) Run&lt;HLoadEliminationPhase&gt;();</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;  CollectPhis();</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;  <span class="keywordflow">if</span> (has_osr()) osr()-&gt;FinishOsrValues();</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  Run&lt;HInferRepresentationPhase&gt;();</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;  <span class="comment">// Remove HSimulate instructions that have turned out not to be needed</span></div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;  <span class="comment">// after all by folding them into the following HSimulate.</span></div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  <span class="comment">// This must happen after inferring representations.</span></div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;  Run&lt;HMergeRemovableSimulatesPhase&gt;();</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;  Run&lt;HMarkDeoptimizeOnUndefinedPhase&gt;();</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;  Run&lt;HRepresentationChangesPhase&gt;();</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;  Run&lt;HInferTypesPhase&gt;();</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;  <span class="comment">// Must be performed before canonicalization to ensure that Canonicalize</span></div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  <span class="comment">// will not remove semantically meaningful ToInt32 operations e.g. BIT_OR with</span></div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;  <span class="comment">// zero.</span></div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;  <span class="keywordflow">if</span> (FLAG_opt_safe_uint32_operations) Run&lt;HUint32AnalysisPhase&gt;();</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;  <span class="keywordflow">if</span> (FLAG_use_canonicalizing) Run&lt;HCanonicalizePhase&gt;();</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;  <span class="keywordflow">if</span> (FLAG_use_gvn) Run&lt;HGlobalValueNumberingPhase&gt;();</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;  <span class="keywordflow">if</span> (FLAG_check_elimination) Run&lt;HCheckEliminationPhase&gt;();</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;  <span class="keywordflow">if</span> (FLAG_store_elimination) Run&lt;HStoreEliminationPhase&gt;();</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;  Run&lt;HRangeAnalysisPhase&gt;();</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;  Run&lt;HComputeChangeUndefinedToNaN&gt;();</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  <span class="comment">// Eliminate redundant stack checks on backwards branches.</span></div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;  Run&lt;HStackCheckEliminationPhase&gt;();</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;  <span class="keywordflow">if</span> (FLAG_array_bounds_checks_elimination) Run&lt;HBoundsCheckEliminationPhase&gt;();</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;  <span class="keywordflow">if</span> (FLAG_array_bounds_checks_hoisting) Run&lt;HBoundsCheckHoistingPhase&gt;();</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;  <span class="keywordflow">if</span> (FLAG_array_index_dehoisting) Run&lt;HDehoistIndexComputationsPhase&gt;();</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;  <span class="keywordflow">if</span> (FLAG_dead_code_elimination) Run&lt;HDeadCodeEliminationPhase&gt;();</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;  RestoreActualValues();</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;  <span class="comment">// Find unreachable code a second time, GVN and other optimizations may have</span></div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;  <span class="comment">// made blocks unreachable that were previously reachable.</span></div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;  Run&lt;HMarkUnreachableBlocksPhase&gt;();</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;}</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;<span class="keywordtype">void</span> HGraph::RestoreActualValues() {</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;  HPhase phase(<span class="stringliteral">&quot;H_Restore actual values&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> block_index = 0; block_index &lt; blocks()-&gt;length(); block_index++) {</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;    HBasicBlock* block = blocks()-&gt;at(block_index);</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; block-&gt;phis()-&gt;length(); i++) {</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;      HPhi* phi = block-&gt;phis()-&gt;at(i);</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(phi-&gt;ActualValue() == phi);</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;    }</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;    <span class="keywordflow">for</span> (HInstructionIterator it(block); !it.Done(); it.Advance()) {</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;      HInstruction* instruction = it.Current();</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;      <span class="keywordflow">if</span> (instruction-&gt;ActualValue() == instruction) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;      <span class="keywordflow">if</span> (instruction-&gt;CheckFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa01682ea130c8f5a5ec095c703e4da34a">HValue::kIsDead</a>)) {</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;        <span class="comment">// The instruction was marked as deleted but left in the graph</span></div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;        <span class="comment">// as a control flow dependency point for subsequent</span></div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;        <span class="comment">// instructions.</span></div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;        instruction-&gt;DeleteAndReplaceWith(instruction-&gt;ActualValue());</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(instruction-&gt;IsInformativeDefinition());</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;        <span class="keywordflow">if</span> (instruction-&gt;IsPurelyInformativeDefinition()) {</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;          instruction-&gt;DeleteAndReplaceWith(instruction-&gt;RedefinedOperand());</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;          instruction-&gt;ReplaceAllUsesWith(instruction-&gt;ActualValue());</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;        }</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;      }</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;    }</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  }</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;}</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;</div>
<div class="line"><a name="l04109"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3"> 4109</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">HOptimizedGraphBuilder::PushArgumentsFromEnvironment</a>(<span class="keywordtype">int</span> count) {</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;HValue*&gt;</a> arguments(count, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;    arguments.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  }</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;  <span class="keywordflow">while</span> (!arguments.is_empty()) {</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    Add&lt;HPushArgument&gt;(arguments.RemoveLast());</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;  }</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;}</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Instruction&gt;</div>
<div class="line"><a name="l04122"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aeed4c5c6a9d593e226ec2006fe6f09ff"> 4122</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aeed4c5c6a9d593e226ec2006fe6f09ff">HOptimizedGraphBuilder::PreProcessCall</a>(<a class="code" href="../../dc/d06/classv8_1_1internal_1_1_instruction.html">Instruction</a>* call) {</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(call-&gt;argument_count());</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;  <span class="keywordflow">return</span> call;</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;}</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;</div>
<div class="line"><a name="l04128"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d6280d1f7fc717c2151d1ac0586744b"> 4128</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d6280d1f7fc717c2151d1ac0586744b">HOptimizedGraphBuilder::SetUpScope</a>(<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html">Scope</a>* scope) {</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  <span class="comment">// First special is HContext.</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* context = Add&lt;HContext&gt;();</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;BindContext(context);</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;  <span class="comment">// Create an arguments object containing the initial parameters.  Set the</span></div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;  <span class="comment">// initial values of parameters including &quot;this&quot; having parameter index 0.</span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a61de976d8872290d12f5d9d6f81ee4ce">num_parameters</a>() + 1, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;parameter_count());</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;  HArgumentsObject* arguments_object =</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;      New&lt;HArgumentsObject&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;parameter_count());</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;parameter_count(); ++i) {</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* parameter = Add&lt;HParameter&gt;(i);</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    arguments_object-&gt;AddArgument(parameter, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Bind(i, parameter);</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;  }</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(arguments_object);</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;SetArgumentsObject(arguments_object);</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;  HConstant* undefined_constant = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined();</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;  <span class="comment">// Initialize specials and locals to undefined.</span></div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;parameter_count() + 1;</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;       i &lt; <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;length();</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;       ++i) {</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Bind(i, undefined_constant);</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;  }</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;  <span class="comment">// Handle the arguments and arguments shadow variables specially (they do</span></div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;  <span class="comment">// not have declarations).</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  <span class="keywordflow">if</span> (scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#aab5774bc774f0fc66194687a327c31b1">arguments</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <span class="keywordflow">if</span> (!scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#aab5774bc774f0fc66194687a327c31b1">arguments</a>()-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#af47d0acfa2f3f472ce80c26953ff896c">IsStackAllocated</a>()) {</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kContextAllocatedArguments);</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    }</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Bind(scope-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#aab5774bc774f0fc66194687a327c31b1">arguments</a>(),</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;                        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetArgumentsObject());</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;  }</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;}</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;</div>
<div class="line"><a name="l04167"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3dc7547074f94ab51e0bf699b120c856"> 4167</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3dc7547074f94ab51e0bf699b120c856">HOptimizedGraphBuilder::VisitStatements</a>(<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;Statement*&gt;</a>* statements) {</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; statements-&gt;length(); i++) {</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    <a class="code" href="../../dd/d1b/classv8_1_1internal_1_1_statement.html">Statement</a>* stmt = statements-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(Visit(stmt));</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;    <span class="keywordflow">if</span> (stmt-&gt;<a class="code" href="../../dd/d1b/classv8_1_1internal_1_1_statement.html#a3d22c8c09d84b29f60ed9b296aff0f6f">IsJump</a>()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;  }</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;}</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitBlock(<a class="code" href="../../d2/df8/class_block.html">Block</a>* stmt) {</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  <span class="keywordflow">if</span> (stmt-&gt;scope() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kScopedBlock);</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;  }</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;  BreakAndContinueInfo break_info(stmt);</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;  { BreakAndContinueScope push(&amp;break_info, <span class="keyword">this</span>);</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3dc7547074f94ab51e0bf699b120c856">VisitStatements</a>(stmt-&gt;statements()));</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;  }</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;  HBasicBlock* break_block = break_info.break_block();</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;  <span class="keywordflow">if</span> (break_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(break_block);</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    break_block-&gt;SetJoinId(stmt-&gt;ExitId());</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(break_block);</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;  }</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;}</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitExpressionStatement(</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    ExpressionStatement* stmt) {</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(stmt-&gt;expression());</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;}</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitEmptyStatement(EmptyStatement* stmt) {</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;}</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitIfStatement(IfStatement* stmt) {</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  <span class="keywordflow">if</span> (stmt-&gt;condition()-&gt;ToBooleanIsTrue()) {</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    Add&lt;HSimulate&gt;(stmt-&gt;ThenId());</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    Visit(stmt-&gt;then_statement());</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stmt-&gt;condition()-&gt;ToBooleanIsFalse()) {</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;    Add&lt;HSimulate&gt;(stmt-&gt;ElseId());</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    Visit(stmt-&gt;else_statement());</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;    HBasicBlock* cond_true = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;    HBasicBlock* cond_false = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(stmt-&gt;condition(), cond_true, cond_false));</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="keywordflow">if</span> (cond_true-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;      cond_true-&gt;SetJoinId(stmt-&gt;ThenId());</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(cond_true);</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(Visit(stmt-&gt;then_statement()));</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;      cond_true = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;      cond_true = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;    }</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;    <span class="keywordflow">if</span> (cond_false-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      cond_false-&gt;SetJoinId(stmt-&gt;ElseId());</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(cond_false);</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(Visit(stmt-&gt;else_statement()));</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;      cond_false = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;      cond_false = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;    }</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;    HBasicBlock* join = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">CreateJoin</a>(cond_true, cond_false, stmt-&gt;IfId());</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join);</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;  }</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;}</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;HBasicBlock* HOptimizedGraphBuilder::BreakAndContinueScope::Get(</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    BreakableStatement* stmt,</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    BreakType type,</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    <span class="keywordtype">int</span>* drop_extra) {</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  *drop_extra = 0;</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  BreakAndContinueScope* current = <span class="keyword">this</span>;</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <span class="keywordflow">while</span> (current != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; current-&gt;info()-&gt;target() != stmt) {</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    *drop_extra += current-&gt;info()-&gt;drop_extra();</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    current = current-&gt;next();</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;  }</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(current != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);  <span class="comment">// Always found (unless stack is malformed).</span></div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  <span class="keywordflow">if</span> (type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a81bed5726796fba31edc333fbe5d4c36">BREAK</a>) {</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    *drop_extra += current-&gt;info()-&gt;drop_extra();</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  }</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  HBasicBlock* block = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;  <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a81bed5726796fba31edc333fbe5d4c36">BREAK</a>:</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;      block = current-&gt;info()-&gt;break_block();</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;      <span class="keywordflow">if</span> (block == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;        block = current-&gt;owner()-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;        current-&gt;info()-&gt;set_break_block(block);</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;      }</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    <span class="keywordflow">case</span> CONTINUE:</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;      block = current-&gt;info()-&gt;continue_block();</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;      <span class="keywordflow">if</span> (block == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;        block = current-&gt;owner()-&gt;graph()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;        current-&gt;info()-&gt;set_continue_block(block);</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;      }</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;  }</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;  <span class="keywordflow">return</span> block;</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;}</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitContinueStatement(</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    ContinueStatement* stmt) {</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;  <span class="keywordtype">int</span> drop_extra = 0;</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;  HBasicBlock* continue_block = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#abb8a7a0925f2d6b7a0276f3f065a9725">break_scope</a>()-&gt;Get(</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;      stmt-&gt;target(), BreakAndContinueScope::CONTINUE, &amp;drop_extra);</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(drop_extra);</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(continue_block);</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;}</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitBreakStatement(BreakStatement* stmt) {</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;  <span class="keywordtype">int</span> drop_extra = 0;</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;  HBasicBlock* break_block = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#abb8a7a0925f2d6b7a0276f3f065a9725">break_scope</a>()-&gt;Get(</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;      stmt-&gt;target(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a81bed5726796fba31edc333fbe5d4c36">BreakAndContinueScope::BREAK</a>, &amp;drop_extra);</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(drop_extra);</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(break_block);</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;}</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitReturnStatement(ReturnStatement* stmt) {</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4701e71c2466ba402928d2c2f816fb4a">FunctionState</a>* state = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>();</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a5f4a1744fc5eb14be17a570d979868c4">AstContext</a>* context = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>();</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="keywordflow">if</span> (context == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;    <span class="comment">// Not an inlined return, so an actual one.</span></div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(stmt-&gt;expression()));</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;    HValue* result = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Pop();</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;    Add&lt;HReturn&gt;(result);</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state-&gt;inlining_kind() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a344f0e0cab9e6c247c91d55f674091cf">CONSTRUCT_CALL_RETURN</a>) {</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;    <span class="comment">// Return from an inlined construct call. In a test context the return value</span></div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;    <span class="comment">// will always evaluate to true, in a value context the return value needs</span></div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;    <span class="comment">// to be a JSObject.</span></div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;    <span class="keywordflow">if</span> (context-&gt;IsTest()) {</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;      TestContext* test = TestContext::cast(context);</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(stmt-&gt;expression()));</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(test-&gt;if_true(), state);</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (context-&gt;IsEffect()) {</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(stmt-&gt;expression()));</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>(), state);</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(context-&gt;IsValue());</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(stmt-&gt;expression()));</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;      HValue* return_value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;      HValue* receiver = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;arguments_environment()-&gt;Lookup(0);</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;      HHasInstanceTypeAndBranch* typecheck =</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;          New&lt;HHasInstanceTypeAndBranch&gt;(return_value,</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;                                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a8b2de00af2e470c341f750b71b66aebf">FIRST_SPEC_OBJECT_TYPE</a>,</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;                                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27afdc7ef05f0aeeb356b0d7c0a3d8ab05b">LAST_SPEC_OBJECT_TYPE</a>);</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;      HBasicBlock* if_spec_object = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;      HBasicBlock* not_spec_object = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;      typecheck-&gt;SetSuccessorAt(0, if_spec_object);</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;      typecheck-&gt;SetSuccessorAt(1, not_spec_object);</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(typecheck);</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a30b98113e90352d2ec44b7ae2720a1cf">AddLeaveInlined</a>(if_spec_object, return_value, state);</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a30b98113e90352d2ec44b7ae2720a1cf">AddLeaveInlined</a>(not_spec_object, receiver, state);</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;    }</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state-&gt;inlining_kind() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a7d1a13bc2ae1bf8da31ac41c093985d5">SETTER_CALL_RETURN</a>) {</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;    <span class="comment">// Return from an inlined setter call. The returned value is never used, the</span></div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;    <span class="comment">// value of an assignment is always the value of the RHS of the assignment.</span></div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(stmt-&gt;expression()));</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;    <span class="keywordflow">if</span> (context-&gt;IsTest()) {</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;      HValue* rhs = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;arguments_environment()-&gt;Lookup(1);</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;      context-&gt;ReturnValue(rhs);</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (context-&gt;IsEffect()) {</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>(), state);</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(context-&gt;IsValue());</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;      HValue* rhs = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;arguments_environment()-&gt;Lookup(1);</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a30b98113e90352d2ec44b7ae2720a1cf">AddLeaveInlined</a>(rhs, state);</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;    }</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;    <span class="comment">// Return from a normal inlined function. Visit the subexpression in the</span></div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;    <span class="comment">// expression context of the call.</span></div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <span class="keywordflow">if</span> (context-&gt;IsTest()) {</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;      TestContext* test = TestContext::cast(context);</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(stmt-&gt;expression(), test-&gt;if_true(), test-&gt;if_false());</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (context-&gt;IsEffect()) {</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;      <span class="comment">// Visit in value context and ignore the result. This is needed to keep</span></div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;      <span class="comment">// environment in sync with full-codegen since some visitors (e.g.</span></div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;      <span class="comment">// VisitCountOperation) use the operand stack differently depending on</span></div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;      <span class="comment">// context.</span></div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(stmt-&gt;expression()));</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>(), state);</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(context-&gt;IsValue());</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(stmt-&gt;expression()));</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a30b98113e90352d2ec44b7ae2720a1cf">AddLeaveInlined</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>(), state);</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;    }</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;  }</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;}</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitWithStatement(WithStatement* stmt) {</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kWithStatement);</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;}</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitSwitchStatement(SwitchStatement* stmt) {</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;  <span class="comment">// We only optimize switch statements with a bounded number of clauses.</span></div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kCaseClauseLimit = 128;</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;  ZoneList&lt;CaseClause*&gt;* clauses = stmt-&gt;cases();</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;  <span class="keywordtype">int</span> clause_count = clauses-&gt;length();</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;  ZoneList&lt;HBasicBlock*&gt; body_blocks(clause_count, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;  <span class="keywordflow">if</span> (clause_count &gt; kCaseClauseLimit) {</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kSwitchStatementTooManyClauses);</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;  }</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(stmt-&gt;tag()));</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;  Add&lt;HSimulate&gt;(stmt-&gt;EntryId());</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;  HValue* tag_value = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* tag_type = stmt-&gt;tag()-&gt;bounds().lower;</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;  <span class="comment">// 1. Build all the tests, with dangling true branches</span></div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;  BailoutId default_id = <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a0aaa099c81ea7289740213df0076deac">BailoutId::None</a>();</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; clause_count; ++i) {</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;    CaseClause* clause = clauses-&gt;at(i);</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;    <span class="keywordflow">if</span> (clause-&gt;is_default()) {</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;      body_blocks.Add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;      <span class="keywordflow">if</span> (default_id.IsNone()) default_id = clause-&gt;EntryId();</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    }</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <span class="comment">// Generate a compare and branch.</span></div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(clause-&gt;label()));</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    HValue* label_value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* label_type = clause-&gt;label()-&gt;bounds().lower;</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* combined_type = clause-&gt;compare_type();</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;    HControlInstruction* compare = BuildCompareInstruction(</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;        Token::EQ_STRICT, tag_value, label_value, tag_type, label_type,</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;        combined_type,</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(stmt-&gt;tag()-&gt;position()),</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(clause-&gt;label()-&gt;position()),</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;        PUSH_BEFORE_SIMULATE, clause-&gt;id());</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    HBasicBlock* next_test_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    HBasicBlock* body_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    body_blocks.Add(body_block, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    compare-&gt;SetSuccessorAt(0, body_block);</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    compare-&gt;SetSuccessorAt(1, next_test_block);</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(compare);</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(body_block);</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// tag_value</span></div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(next_test_block);</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;  }</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;  <span class="comment">// Save the current block to use for the default or to join with the</span></div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;  <span class="comment">// exit.</span></div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;  HBasicBlock* last_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// tag_value</span></div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;  <span class="comment">// 2. Loop over the clauses and the linked list of tests in lockstep,</span></div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;  <span class="comment">// translating the clause bodies.</span></div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;  HBasicBlock* fall_through_block = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;  BreakAndContinueInfo break_info(stmt);</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;  { BreakAndContinueScope push(&amp;break_info, <span class="keyword">this</span>);</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; clause_count; ++i) {</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;      CaseClause* clause = clauses-&gt;at(i);</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;      <span class="comment">// Identify the block where normal (non-fall-through) control flow</span></div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;      <span class="comment">// goes to.</span></div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;      HBasicBlock* normal_block = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;      <span class="keywordflow">if</span> (clause-&gt;is_default()) {</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;        <span class="keywordflow">if</span> (last_block == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;        normal_block = last_block;</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;        last_block = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;  <span class="comment">// Cleared to indicate we&#39;ve handled it.</span></div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;        normal_block = body_blocks[i];</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;      }</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;      <span class="keywordflow">if</span> (fall_through_block == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(normal_block);</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;        HBasicBlock* join = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">CreateJoin</a>(fall_through_block,</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;                                       normal_block,</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;                                       clause-&gt;EntryId());</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join);</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;      }</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3dc7547074f94ab51e0bf699b120c856">VisitStatements</a>(clause-&gt;statements()));</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;      fall_through_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    }</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;  }</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;  <span class="comment">// Create an up-to-3-way join.  Use the break block if it exists since</span></div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;  <span class="comment">// it&#39;s already a join block.</span></div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;  HBasicBlock* break_block = break_info.break_block();</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;  <span class="keywordflow">if</span> (break_block == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">CreateJoin</a>(fall_through_block,</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;                                 last_block,</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;                                 stmt-&gt;ExitId()));</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    <span class="keywordflow">if</span> (fall_through_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(fall_through_block, break_block);</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;    <span class="keywordflow">if</span> (last_block != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(last_block, break_block);</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;    break_block-&gt;SetJoinId(stmt-&gt;ExitId());</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(break_block);</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;  }</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;}</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;</div>
<div class="line"><a name="l04512"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab7b918505556576c4bf512411e1c704c"> 4512</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab7b918505556576c4bf512411e1c704c">HOptimizedGraphBuilder::VisitLoopBody</a>(<a class="code" href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html">IterationStatement</a>* stmt,</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;                                           HBasicBlock* loop_entry,</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;                                           BreakAndContinueInfo* break_info) {</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;  BreakAndContinueScope push(break_info, <span class="keyword">this</span>);</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;  Add&lt;HSimulate&gt;(stmt-&gt;<a class="code" href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html#a0c9b2b9a72c5629d73ee4344ec015797">StackCheckId</a>());</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;  HStackCheck* stack_check =</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;      HStackCheck::cast(Add&lt;HStackCheck&gt;(HStackCheck::kBackwardsBranch));</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(loop_entry-&gt;IsLoopHeader());</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;  loop_entry-&gt;loop_information()-&gt;set_stack_check(stack_check);</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(Visit(stmt-&gt;<a class="code" href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html#a0f4a837929f7bdef79d9a0b10ba13c34">body</a>()));</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;}</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitDoWhileStatement(DoWhileStatement* stmt) {</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;  HBasicBlock* loop_entry = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f">BuildLoopEntry</a>(stmt);</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;  BreakAndContinueInfo break_info(stmt);</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab7b918505556576c4bf512411e1c704c">VisitLoopBody</a>(stmt, loop_entry, &amp;break_info));</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;  HBasicBlock* body_exit =</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3c49125ca9da72f340c89c9e38b002e3">JoinContinue</a>(stmt, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>(), break_info.continue_block());</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;  HBasicBlock* loop_successor = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;  <span class="keywordflow">if</span> (body_exit != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; !stmt-&gt;cond()-&gt;ToBooleanIsTrue()) {</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(body_exit);</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;    loop_successor = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;    <span class="keywordflow">if</span> (stmt-&gt;cond()-&gt;ToBooleanIsFalse()) {</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(loop_successor);</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;      body_exit = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;      <span class="comment">// The block for a true condition, the actual predecessor block of the</span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;      <span class="comment">// back edge.</span></div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;      body_exit = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(stmt-&gt;cond(), body_exit, loop_successor));</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;    }</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;    <span class="keywordflow">if</span> (body_exit != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; body_exit-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;      body_exit-&gt;SetJoinId(stmt-&gt;BackEdgeId());</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;      body_exit = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;    }</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;    <span class="keywordflow">if</span> (loop_successor-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;      loop_successor-&gt;SetJoinId(stmt-&gt;ExitId());</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;      loop_successor = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    }</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;  }</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;  HBasicBlock* loop_exit = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ac7b7d24a05cdf6542727fae3055b9481">CreateLoop</a>(stmt,</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;                                      loop_entry,</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;                                      body_exit,</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;                                      loop_successor,</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;                                      break_info.break_block());</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(loop_exit);</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;}</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitWhileStatement(WhileStatement* stmt) {</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;  HBasicBlock* loop_entry = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f">BuildLoopEntry</a>(stmt);</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;  <span class="comment">// If the condition is constant true, do not generate a branch.</span></div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;  HBasicBlock* loop_successor = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;  <span class="keywordflow">if</span> (!stmt-&gt;cond()-&gt;ToBooleanIsTrue()) {</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;    HBasicBlock* body_entry = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;    loop_successor = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(stmt-&gt;cond(), body_entry, loop_successor));</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;    <span class="keywordflow">if</span> (body_entry-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;      body_entry-&gt;SetJoinId(stmt-&gt;BodyId());</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(body_entry);</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;    }</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;    <span class="keywordflow">if</span> (loop_successor-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;      loop_successor-&gt;SetJoinId(stmt-&gt;ExitId());</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;      loop_successor = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;    }</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;  }</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;  BreakAndContinueInfo break_info(stmt);</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab7b918505556576c4bf512411e1c704c">VisitLoopBody</a>(stmt, loop_entry, &amp;break_info));</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;  }</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;  HBasicBlock* body_exit =</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3c49125ca9da72f340c89c9e38b002e3">JoinContinue</a>(stmt, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>(), break_info.continue_block());</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;  HBasicBlock* loop_exit = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ac7b7d24a05cdf6542727fae3055b9481">CreateLoop</a>(stmt,</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;                                      loop_entry,</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;                                      body_exit,</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;                                      loop_successor,</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;                                      break_info.break_block());</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(loop_exit);</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;}</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitForStatement(ForStatement* stmt) {</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;  <span class="keywordflow">if</span> (stmt-&gt;init() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(Visit(stmt-&gt;init()));</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;  }</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;  HBasicBlock* loop_entry = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f">BuildLoopEntry</a>(stmt);</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;  HBasicBlock* loop_successor = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;  <span class="keywordflow">if</span> (stmt-&gt;cond() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;    HBasicBlock* body_entry = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;    loop_successor = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(stmt-&gt;cond(), body_entry, loop_successor));</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;    <span class="keywordflow">if</span> (body_entry-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;      body_entry-&gt;SetJoinId(stmt-&gt;BodyId());</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(body_entry);</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    }</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;    <span class="keywordflow">if</span> (loop_successor-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;      loop_successor-&gt;SetJoinId(stmt-&gt;ExitId());</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;      loop_successor = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;    }</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;  }</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;  BreakAndContinueInfo break_info(stmt);</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab7b918505556576c4bf512411e1c704c">VisitLoopBody</a>(stmt, loop_entry, &amp;break_info));</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;  }</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;  HBasicBlock* body_exit =</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3c49125ca9da72f340c89c9e38b002e3">JoinContinue</a>(stmt, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>(), break_info.continue_block());</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  <span class="keywordflow">if</span> (stmt-&gt;next() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; body_exit != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(body_exit);</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(Visit(stmt-&gt;next()));</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;    body_exit = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;  }</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;  HBasicBlock* loop_exit = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ac7b7d24a05cdf6542727fae3055b9481">CreateLoop</a>(stmt,</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;                                      loop_entry,</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;                                      body_exit,</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;                                      loop_successor,</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;                                      break_info.break_block());</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(loop_exit);</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;}</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitForInStatement(ForInStatement* stmt) {</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;  <span class="keywordflow">if</span> (!FLAG_optimize_for_in) {</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kForInStatementOptimizationIsDisabled);</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;  }</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <span class="keywordflow">if</span> (stmt-&gt;for_in_type() != ForInStatement::FAST_FOR_IN) {</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kForInStatementIsNotFastCase);</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;  }</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;  <span class="keywordflow">if</span> (!stmt-&gt;each()-&gt;IsVariableProxy() ||</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;      !stmt-&gt;each()-&gt;AsVariableProxy()-&gt;var()-&gt;IsStackLocal()) {</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kForInStatementWithNonLocalEachVariable);</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;  }</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;  Variable* each_var = stmt-&gt;each()-&gt;AsVariableProxy()-&gt;var();</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(stmt-&gt;enumerable()));</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;  HValue* enumerable = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();  <span class="comment">// Leave enumerable at the top.</span></div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;  HInstruction* map = Add&lt;HForInPrepareMap&gt;(enumerable);</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;  Add&lt;HSimulate&gt;(stmt-&gt;PrepareId());</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;  HInstruction* array = Add&lt;HForInCacheArray&gt;(</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;      enumerable, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, <a class="code" href="../../d2/de9/classv8_1_1internal_1_1_descriptor_array.html#a84b96f3e8a05eaf65440360f1dfb4403">DescriptorArray::kEnumCacheBridgeCacheIndex</a>);</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;  HInstruction* enum_length = Add&lt;HMapEnumLength&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>);</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;  HInstruction* start_index = Add&lt;HConstant&gt;(0);</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(map);</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(array);</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(enum_length);</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(start_index);</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;  HInstruction* index_cache = Add&lt;HForInCacheArray&gt;(</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;      enumerable, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, <a class="code" href="../../d2/de9/classv8_1_1internal_1_1_descriptor_array.html#a797efd24938619e0c8105c9163e0ad8c">DescriptorArray::kEnumCacheBridgeIndicesCacheIndex</a>);</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;  HForInCacheArray::cast(array)-&gt;set_index_cache(</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;      HForInCacheArray::cast(index_cache));</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;  HBasicBlock* loop_entry = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f">BuildLoopEntry</a>(stmt);</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;  HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(0);</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;  HValue* limit = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(1);</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;  <span class="comment">// Check that we still have more keys.</span></div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;  HCompareNumericAndBranch* compare_index =</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;      New&lt;HCompareNumericAndBranch&gt;(index, limit, Token::LT);</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;  compare_index-&gt;set_observed_input_representation(</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;      <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#aefab3c6fec4cd73c28fdcdd5b4b4c5f5">Representation::Smi</a>(), <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#aefab3c6fec4cd73c28fdcdd5b4b4c5f5">Representation::Smi</a>());</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;  HBasicBlock* loop_body = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;  HBasicBlock* loop_successor = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;  compare_index-&gt;SetSuccessorAt(0, loop_body);</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;  compare_index-&gt;SetSuccessorAt(1, loop_successor);</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(compare_index);</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(loop_successor);</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(5);</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(loop_body);</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;  HValue* key = Add&lt;HLoadKeyed&gt;(</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(2),  <span class="comment">// Enum cache.</span></div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(0),  <span class="comment">// Iteration index.</span></div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(0),</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>);</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;  <span class="comment">// Check if the expected map still matches that of the enumerable.</span></div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;  <span class="comment">// If not just deoptimize.</span></div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;  Add&lt;HCheckMapValue&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(4),</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;                      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(3));</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aba81e7102c7dcdea37eb6fe668d89dc2">Bind</a>(each_var, key);</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;  BreakAndContinueInfo break_info(stmt, 5);</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab7b918505556576c4bf512411e1c704c">VisitLoopBody</a>(stmt, loop_entry, &amp;break_info));</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;  HBasicBlock* body_exit =</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3c49125ca9da72f340c89c9e38b002e3">JoinContinue</a>(stmt, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>(), break_info.continue_block());</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;  <span class="keywordflow">if</span> (body_exit != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(body_exit);</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    HValue* current_index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(AddUncasted&lt;HAdd&gt;(current_index, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant1()));</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    body_exit = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;  }</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;  HBasicBlock* loop_exit = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ac7b7d24a05cdf6542727fae3055b9481">CreateLoop</a>(stmt,</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;                                      loop_entry,</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;                                      body_exit,</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;                                      loop_successor,</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;                                      break_info.break_block());</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(loop_exit);</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;}</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitForOfStatement(ForOfStatement* stmt) {</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kForOfStatement);</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;}</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitTryCatchStatement(TryCatchStatement* stmt) {</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kTryCatchStatement);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;}</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitTryFinallyStatement(</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    TryFinallyStatement* stmt) {</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kTryFinallyStatement);</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;}</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitDebuggerStatement(DebuggerStatement* stmt) {</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kDebuggerStatement);</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;}</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitCaseClause(CaseClause* clause) {</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;}</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitFunctionLiteral(FunctionLiteral* expr) {</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;  Handle&lt;SharedFunctionInfo&gt; shared_info = expr-&gt;shared_info();</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;  <span class="keywordflow">if</span> (shared_info.is_null()) {</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    shared_info = <a class="code" href="../../d6/dd3/classv8_1_1internal_1_1_compiler.html#a23fb913095d539a5508b3244320f509e">Compiler::BuildFunctionInfo</a>(expr, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;script());</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;  }</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="comment">// We also have a stack overflow if the recursive compilation did.</span></div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;  <span class="keywordflow">if</span> (HasStackOverflow()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;  HFunctionLiteral* instr =</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;      New&lt;HFunctionLiteral&gt;(shared_info, expr-&gt;pretenure());</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;}</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitNativeFunctionLiteral(</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    NativeFunctionLiteral* expr) {</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kNativeFunctionLiteral);</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;}</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitConditional(Conditional* expr) {</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;  HBasicBlock* cond_true = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;  HBasicBlock* cond_false = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(expr-&gt;condition(), cond_true, cond_false));</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  <span class="comment">// Visit the true and false subexpressions in the same AST context as the</span></div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;  <span class="comment">// whole expression.</span></div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;  <span class="keywordflow">if</span> (cond_true-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    cond_true-&gt;SetJoinId(expr-&gt;ThenId());</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(cond_true);</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(Visit(expr-&gt;then_expression()));</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;    cond_true = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;    cond_true = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;  }</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;  <span class="keywordflow">if</span> (cond_false-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;    cond_false-&gt;SetJoinId(expr-&gt;ElseId());</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(cond_false);</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(Visit(expr-&gt;else_expression()));</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    cond_false = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    cond_false = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;  }</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsTest()) {</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    HBasicBlock* join = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">CreateJoin</a>(cond_true, cond_false, expr-&gt;id());</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join);</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    <span class="keywordflow">if</span> (join != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; !<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) {</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    }</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;  }</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;}</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;HOptimizedGraphBuilder::GlobalPropertyAccess</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;    HOptimizedGraphBuilder::LookupGlobalProperty(</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;        Variable* var, LookupResult* lookup, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type) {</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;  <span class="keywordflow">if</span> (var-&gt;is_this() || !<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#ab455f3de8d1ad565e926868ff9c56a40">has_global_object</a>()) {</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;    <span class="keywordflow">return</span> kUseGeneric;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  }</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  Handle&lt;GlobalObject&gt; global(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;global_object());</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  global-&gt;Lookup(*var-&gt;name(), lookup);</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;  <span class="keywordflow">if</span> (!lookup-&gt;IsNormal() ||</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;      (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> &amp;&amp; lookup-&gt;IsReadOnly()) ||</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;      lookup-&gt;holder() != *global) {</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;    <span class="keywordflow">return</span> kUseGeneric;</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;  }</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;  <span class="keywordflow">return</span> kUseCell;</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;}</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;HValue* HOptimizedGraphBuilder::BuildContextChainWalk(Variable* var) {</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(var-&gt;IsContextSlot());</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;  HValue* context = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;context();</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;  <span class="keywordtype">int</span> length = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8f5227b0eb369353404602683a4f2beb">scope</a>()-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a4030b43afeccf386c797ea24cf6dd6b5">ContextChainLength</a>(var-&gt;scope());</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;  <span class="keywordflow">while</span> (length-- &gt; 0) {</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;    context = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;        HObjectAccess::ForContextSlot(<a class="code" href="../../d4/d72/classv8_1_1internal_1_1_context.html#a0411cd49bb5b71852cecd93bcbf0ca2da9d9afe717dc665bfdbad663896bd9000">Context::PREVIOUS_INDEX</a>));</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;  }</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>;</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;}</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitVariableProxy(VariableProxy* expr) {</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;is_this()) {</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8e1e62025a58fbd712158065a1277995">set_this_has_uses</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;  }</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;  Variable* variable = expr-&gt;var();</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;  <span class="keywordflow">switch</span> (variable-&gt;location()) {</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4079064b49d023e3d885b939e1785242">Variable::UNALLOCATED</a>: {</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2dcc8fdad115890143437f76839010c3">IsLexicalVariableMode</a>(variable-&gt;mode())) {</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        <span class="comment">// TODO(rossberg): should this be an ASSERT?</span></div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kReferenceToGlobalLexicalVariable);</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;      }</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;      <span class="comment">// Handle known global constants like &#39;undefined&#39; specially to avoid a</span></div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;      <span class="comment">// load from a global cell for them.</span></div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;      Handle&lt;Object&gt; constant_value =</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;          <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;<a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html#af9aef60aabe649b40d1a32d8d4d4b2ba">GlobalConstantFor</a>(variable-&gt;name());</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;      <span class="keywordflow">if</span> (!constant_value.is_null()) {</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;        HConstant* instr = New&lt;HConstant&gt;(constant_value);</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;      }</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;      LookupResult lookup(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;      GlobalPropertyAccess type = LookupGlobalProperty(variable, &amp;lookup, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>);</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;      <span class="keywordflow">if</span> (type == kUseCell &amp;&amp;</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;          <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;global_object()-&gt;IsAccessCheckNeeded()) {</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;        type = kUseGeneric;</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;      }</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;      <span class="keywordflow">if</span> (type == kUseCell) {</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;        Handle&lt;GlobalObject&gt; global(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;global_object());</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;        Handle&lt;PropertyCell&gt; cell(global-&gt;GetPropertyCell(&amp;lookup));</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;        <span class="keywordflow">if</span> (cell-&gt;type()-&gt;IsConstant()) {</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;          cell-&gt;AddDependentCompilationInfo(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;          Handle&lt;Object&gt; constant_object = cell-&gt;type()-&gt;AsConstant();</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;          <span class="keywordflow">if</span> (constant_object-&gt;IsConsString()) {</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;            constant_object =</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada76c4fe81db9c32168c8ca541dedd91">FlattenGetString</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;String&gt;::cast</a>(constant_object));</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;          }</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;          HConstant* constant = New&lt;HConstant&gt;(constant_object);</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(constant, expr-&gt;id());</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;          HLoadGlobalCell* instr =</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;              New&lt;HLoadGlobalCell&gt;(cell, lookup.GetPropertyDetails());</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;        }</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;        HValue* global_object = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;            <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>(), <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;            HObjectAccess::ForContextSlot(<a class="code" href="../../d4/d72/classv8_1_1internal_1_1_context.html#a0411cd49bb5b71852cecd93bcbf0ca2dad659b33358ba073da0fdc9caf9dc5625">Context::GLOBAL_OBJECT_INDEX</a>));</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;        HLoadGlobalGeneric* instr =</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;            New&lt;HLoadGlobalGeneric&gt;(global_object,</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;                                    variable-&gt;name(),</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;                                    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#a3f88945cddf5c31cb34575e710f7f3c7">is_for_typeof</a>());</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;      }</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    }</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a194cde856bd2d79eac8adb9741c55940">Variable::PARAMETER</a>:</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43ad0ef00e708ed18ba004480dceb79ecfb">Variable::LOCAL</a>: {</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;      HValue* value = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a57ff951e46d8a0ffd5180d13f98372d8">LookupAndMakeLive</a>(variable);</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;      <span class="keywordflow">if</span> (value == <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantHole()) {</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a31340458faab509e80fe1f606ad61674">IsDeclaredVariableMode</a>(variable-&gt;mode()) &amp;&amp;</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;               variable-&gt;mode() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21af68346ce0bfce7ab2ca0a240f5132863">VAR</a>);</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kReferenceToUninitializedVariable);</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;      }</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(value);</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;    }</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a7f06283f0d1a4d167be6c37a3d24fd11">Variable::CONTEXT</a>: {</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;      HValue* context = BuildContextChainWalk(variable);</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;      HLoadContextSlot* instr = <span class="keyword">new</span>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) HLoadContextSlot(context, variable);</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;    }</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4909b1bd07519e440222256440fdcef1">Variable::LOOKUP</a>:</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kReferenceToAVariableWhichRequiresDynamicLookup);</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  }</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;}</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitLiteral(Literal* expr) {</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;  HConstant* instr = New&lt;HConstant&gt;(expr-&gt;value());</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;}</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitRegExpLiteral(RegExpLiteral* expr) {</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;  Handle&lt;JSFunction&gt; closure = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;compilation_info()-&gt;closure();</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;  Handle&lt;FixedArray&gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a90ce8264c80fb6758ed8d9b49ac5d5">literals</a>(closure-&gt;literals());</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;  HRegExpLiteral* instr = New&lt;HRegExpLiteral&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a90ce8264c80fb6758ed8d9b49ac5d5">literals</a>,</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;                                              expr-&gt;pattern(),</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;                                              expr-&gt;flags(),</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;                                              expr-&gt;literal_index());</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;}</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> CanInlinePropertyAccess(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* type) {</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;  <span class="keywordflow">if</span> (type-&gt;Is(Type::NumberOrString())) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  <span class="keywordflow">if</span> (!type-&gt;IsClass()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;  Handle&lt;Map&gt; map = type-&gt;AsClass();</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;  <span class="keywordflow">return</span> map-&gt;IsJSObjectMap() &amp;&amp;</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;      !map-&gt;is_dictionary_map() &amp;&amp;</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;      !map-&gt;has_named_interceptor();</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;}</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;<span class="comment">// Determines whether the given array or object literal boilerplate satisfies</span></div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;<span class="comment">// all limits to be considered for fast deep-copying and computes the total</span></div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;<span class="comment">// size of all objects that are part of the graph.</span></div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> IsFastLiteral(Handle&lt;JSObject&gt; boilerplate,</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;                          <span class="keywordtype">int</span> max_depth,</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;                          <span class="keywordtype">int</span>* max_properties) {</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;  <span class="keywordflow">if</span> (boilerplate-&gt;map()-&gt;is_deprecated()) {</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;    Handle&lt;Object&gt; result = <a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#ad818be99a903844f44c9bed4aaff54d3">JSObject::TryMigrateInstance</a>(boilerplate);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    <span class="keywordflow">if</span> (result.is_null()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;  }</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(max_depth &gt;= 0 &amp;&amp; *max_properties &gt;= 0);</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;  <span class="keywordflow">if</span> (max_depth == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;  Isolate* isolate = boilerplate-&gt;GetIsolate();</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;  Handle&lt;FixedArrayBase&gt; elements(boilerplate-&gt;elements());</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;  <span class="keywordflow">if</span> (elements-&gt;length() &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;      elements-&gt;map() != isolate-&gt;heap()-&gt;fixed_cow_array_map()) {</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;    <span class="keywordflow">if</span> (boilerplate-&gt;HasFastObjectElements()) {</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;      Handle&lt;FixedArray&gt; fast_elements = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;FixedArray&gt;::cast</a>(elements);</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;      <span class="keywordtype">int</span> length = elements-&gt;length();</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;        <span class="keywordflow">if</span> ((*max_properties)-- == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;        Handle&lt;Object&gt; value(fast_elements-&gt;get(i), isolate);</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;        <span class="keywordflow">if</span> (value-&gt;IsJSObject()) {</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;          Handle&lt;JSObject&gt; value_object = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSObject&gt;::cast</a>(value);</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;          <span class="keywordflow">if</span> (!IsFastLiteral(value_object,</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;                             max_depth - 1,</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;                             max_properties)) {</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;          }</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;        }</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;      }</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!boilerplate-&gt;HasFastDoubleElements()) {</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;    }</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;  }</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;  Handle&lt;FixedArray&gt; properties(boilerplate-&gt;properties());</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;  <span class="keywordflow">if</span> (properties-&gt;length() &gt; 0) {</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;    Handle&lt;DescriptorArray&gt; descriptors(</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;        boilerplate-&gt;map()-&gt;instance_descriptors());</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;    <span class="keywordtype">int</span> limit = boilerplate-&gt;map()-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; limit; i++) {</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;      PropertyDetails details = descriptors-&gt;GetDetails(i);</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;      <span class="keywordflow">if</span> (details.type() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7ff5a5c54f182b86d1cd993cf4512c87ad204836f74ffdd8c40784e385d04e88d">FIELD</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;      <span class="keywordtype">int</span> index = descriptors-&gt;GetFieldIndex(i);</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;      <span class="keywordflow">if</span> ((*max_properties)-- == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;      Handle&lt;Object&gt; value(boilerplate-&gt;InObjectPropertyAt(index), isolate);</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;      <span class="keywordflow">if</span> (value-&gt;IsJSObject()) {</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;        Handle&lt;JSObject&gt; value_object = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSObject&gt;::cast</a>(value);</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;        <span class="keywordflow">if</span> (!IsFastLiteral(value_object,</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;                           max_depth - 1,</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;                           max_properties)) {</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;        }</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;      }</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;    }</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;  }</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;}</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitObjectLiteral(ObjectLiteral* expr) {</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;  expr-&gt;BuildConstantProperties(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  Handle&lt;JSFunction&gt; closure = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;compilation_info()-&gt;closure();</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;  HInstruction* literal;</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;  <span class="comment">// Check whether to use fast or slow deep-copying for boilerplate.</span></div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;  <span class="keywordtype">int</span> max_properties = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab1de207d27c1e70cac0b4159729c7d76">kMaxFastLiteralProperties</a>;</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;  Handle&lt;Object&gt; literals_cell(closure-&gt;literals()-&gt;get(expr-&gt;literal_index()),</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;                               <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;  Handle&lt;AllocationSite&gt; site;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;  Handle&lt;JSObject&gt; boilerplate;</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;  <span class="keywordflow">if</span> (!literals_cell-&gt;IsUndefined()) {</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="comment">// Retrieve the boilerplate</span></div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;    site = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;AllocationSite&gt;::cast</a>(literals_cell);</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;    boilerplate = Handle&lt;JSObject&gt;(<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(site-&gt;transition_info()),</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;                                   <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;  }</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;  <span class="keywordflow">if</span> (!boilerplate.is_null() &amp;&amp;</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;      IsFastLiteral(boilerplate, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1ccd009aacc5d62fd10372e54dd3f8">kMaxFastLiteralDepth</a>, &amp;max_properties)) {</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    AllocationSiteUsageContext usage_context(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>(), site, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;    usage_context.EnterNewScope();</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    literal = BuildFastLiteral(boilerplate, &amp;usage_context);</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;    usage_context.ExitScope(site, boilerplate);</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    Handle&lt;FixedArray&gt; closure_literals(closure-&gt;literals(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;    Handle&lt;FixedArray&gt; constant_properties = expr-&gt;constant_properties();</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;    <span class="keywordtype">int</span> literal_index = expr-&gt;literal_index();</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a> = expr-&gt;fast_elements()</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;        ? ObjectLiteral::kFastElements : ObjectLiteral::kNoFlags;</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;    flags |= expr-&gt;has_function()</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;        ? ObjectLiteral::kHasFunction : ObjectLiteral::kNoFlags;</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(closure_literals));</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(literal_index));</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(constant_properties));</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a>));</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;    <span class="comment">// TODO(mvstanton): Add a flag to turn off creation of any</span></div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;    <span class="comment">// AllocationMementos for this call: we are in crankshaft and should have</span></div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;    <span class="comment">// learned enough about transition behavior to stop emitting mementos.</span></div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;    <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#aeadd8a6ad0a99e4d16b9a6352a9b2660">Runtime::FunctionId</a> function_id = Runtime::kHiddenCreateObjectLiteral;</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    literal = Add&lt;HCallRuntime&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;empty_string(),</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;                                <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#ace3a4921b31125f925fdb332a0d3ae73">Runtime::FunctionForId</a>(function_id),</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;                                4);</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  }</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;  <span class="comment">// The object is expected in the bailout environment during computation</span></div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;  <span class="comment">// of the property values and is the value of the entire expression.</span></div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(literal);</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;  expr-&gt;CalculateEmitStore(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; expr-&gt;properties()-&gt;length(); i++) {</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;    ObjectLiteral::Property* <span class="keyword">property</span> = expr-&gt;properties()-&gt;at(i);</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;    <span class="keywordflow">if</span> (property-&gt;IsCompileTimeValue()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;    Literal* key = <span class="keyword">property</span>-&gt;key();</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;    Expression* value = <span class="keyword">property</span>-&gt;value();</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    <span class="keywordflow">switch</span> (property-&gt;kind()) {</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;      <span class="keywordflow">case</span> ObjectLiteral::Property::MATERIALIZED_LITERAL:</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_compile_time_value.html#ad8fd18ab823ea0c9a6c87737e7f6ae0f">CompileTimeValue::IsCompileTimeValue</a>(value));</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;        <span class="comment">// Fall through.</span></div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;      <span class="keywordflow">case</span> ObjectLiteral::Property::COMPUTED:</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;        <span class="keywordflow">if</span> (key-&gt;value()-&gt;IsInternalizedString()) {</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;          <span class="keywordflow">if</span> (property-&gt;emit_store()) {</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;            <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(value));</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;            HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;            Handle&lt;Map&gt; map = <span class="keyword">property</span>-&gt;GetReceiverType();</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;            Handle&lt;String&gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a> = <span class="keyword">property</span>-&gt;key()-&gt;AsPropertyName();</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;            HInstruction* store;</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;            <span class="keywordflow">if</span> (map.is_null()) {</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;              <span class="comment">// If we don&#39;t know the monomorphic type, do a generic store.</span></div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;              <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(store = BuildNamedGeneric(</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;                  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>, literal, name, value));</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;              PropertyAccessInfo <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>(<span class="keyword">this</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">ToType</a>(map), name);</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;              <span class="keywordflow">if</span> (info.CanAccessMonomorphic()) {</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;                HValue* checked_literal = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac0fc9ecb5807b3e7e7e86a39754f625e">BuildCheckMap</a>(literal, map);</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;                <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!info.lookup()-&gt;IsPropertyCallbacks());</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;                store = BuildMonomorphicAccess(</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;                    &amp;info, literal, checked_literal, value,</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;                    <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a0aaa099c81ea7289740213df0076deac">BailoutId::None</a>(), <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a0aaa099c81ea7289740213df0076deac">BailoutId::None</a>());</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;                <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(store = BuildNamedGeneric(</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;                    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>, literal, name, value));</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;              }</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;            }</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;            <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(store);</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;            <span class="keywordflow">if</span> (store-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;              Add&lt;HSimulate&gt;(key-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;            }</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;            <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(value));</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;          }</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;        }</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;        <span class="comment">// Fall through.</span></div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;      <span class="keywordflow">case</span> ObjectLiteral::Property::PROTOTYPE:</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;      <span class="keywordflow">case</span> ObjectLiteral::Property::SETTER:</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;      <span class="keywordflow">case</span> ObjectLiteral::Property::GETTER:</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kObjectLiteralWithComplexProperty);</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;      <span class="keywordflow">default</span>: <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    }</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;  }</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;has_function()) {</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    <span class="comment">// Return the result of the transformation to fast properties</span></div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;    <span class="comment">// instead of the original since this operation changes the map</span></div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;    <span class="comment">// of the object. This makes sure that the original object won&#39;t</span></div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;    <span class="comment">// be used by other optimized code before it is transformed</span></div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    <span class="comment">// (e.g. because of code motion).</span></div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;    HToFastProperties* result = Add&lt;HToFastProperties&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(result);</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;  }</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;}</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitArrayLiteral(ArrayLiteral* expr) {</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;  expr-&gt;BuildConstantElements(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;  ZoneList&lt;Expression*&gt;* subexprs = expr-&gt;values();</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;  <span class="keywordtype">int</span> length = subexprs-&gt;length();</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;  HInstruction* literal;</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;  Handle&lt;AllocationSite&gt; site;</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;  Handle&lt;FixedArray&gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a90ce8264c80fb6758ed8d9b49ac5d5">literals</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;closure()-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a90ce8264c80fb6758ed8d9b49ac5d5">literals</a>(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  <span class="keywordtype">bool</span> uninitialized = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;  Handle&lt;Object&gt; literals_cell(literals-&gt;get(expr-&gt;literal_index()),</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;                               <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;  Handle&lt;JSObject&gt; boilerplate_object;</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;  <span class="keywordflow">if</span> (literals_cell-&gt;IsUndefined()) {</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;    uninitialized = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;    Handle&lt;Object&gt; raw_boilerplate = <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#ac73159cca4fc710b88d4ce5bb437fdcf">Runtime::CreateArrayLiteralBoilerplate</a>(</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>(), literals, expr-&gt;constant_elements());</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;    <span class="keywordflow">if</span> (raw_boilerplate.is_null()) {</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kArrayBoilerplateCreationFailed);</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;    }</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;    boilerplate_object = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSObject&gt;::cast</a>(raw_boilerplate);</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;    AllocationSiteCreationContext creation_context(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    site = creation_context.EnterNewScope();</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#a19bc89155ff5e0f68eacf9489261526a">JSObject::DeepWalk</a>(boilerplate_object, &amp;creation_context).is_null()) {</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kArrayBoilerplateCreationFailed);</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;    }</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;    creation_context.ExitScope(site, boilerplate_object);</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;    literals-&gt;set(expr-&gt;literal_index(), *site);</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;    <span class="keywordflow">if</span> (boilerplate_object-&gt;elements()-&gt;map() ==</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;fixed_cow_array_map()) {</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a4485d41849bdd07fb7dd9eca364731a8">counters</a>()-&gt;cow_arrays_created_runtime()-&gt;Increment();</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;    }</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(literals_cell-&gt;IsAllocationSite());</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;    site = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;AllocationSite&gt;::cast</a>(literals_cell);</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;    boilerplate_object = Handle&lt;JSObject&gt;(</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;        <a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(site-&gt;transition_info()), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;  }</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!boilerplate_object.is_null());</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(site-&gt;SitePointsToLiteral());</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> boilerplate_elements_kind =</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;      boilerplate_object-&gt;GetElementsKind();</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;  <span class="comment">// Check whether to use fast or slow deep-copying for boilerplate.</span></div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;  <span class="keywordtype">int</span> max_properties = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab1de207d27c1e70cac0b4159729c7d76">kMaxFastLiteralProperties</a>;</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;  <span class="keywordflow">if</span> (IsFastLiteral(boilerplate_object,</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;                    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1ccd009aacc5d62fd10372e54dd3f8">kMaxFastLiteralDepth</a>,</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;                    &amp;max_properties)) {</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;    AllocationSiteUsageContext usage_context(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>(), site, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;    usage_context.EnterNewScope();</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;    literal = BuildFastLiteral(boilerplate_object, &amp;usage_context);</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;    usage_context.ExitScope(site, boilerplate_object);</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <span class="comment">// Boilerplate already exists and constant elements are never accessed,</span></div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;    <span class="comment">// pass an empty fixed array to the runtime function instead.</span></div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;    Handle&lt;FixedArray&gt; constants = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;empty_fixed_array();</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    <span class="keywordtype">int</span> literal_index = expr-&gt;literal_index();</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a> = expr-&gt;depth() == 1</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;        ? ArrayLiteral::kShallowElements</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;        : ArrayLiteral::kNoFlags;</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;    flags |= ArrayLiteral::kDisableMementos;</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a90ce8264c80fb6758ed8d9b49ac5d5">literals</a>));</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(literal_index));</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(constants));</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a>));</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;    <span class="comment">// TODO(mvstanton): Consider a flag to turn off creation of any</span></div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;    <span class="comment">// AllocationMementos for this call: we are in crankshaft and should have</span></div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    <span class="comment">// learned enough about transition behavior to stop emitting mementos.</span></div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;    <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#aeadd8a6ad0a99e4d16b9a6352a9b2660">Runtime::FunctionId</a> function_id = Runtime::kHiddenCreateArrayLiteral;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;    literal = Add&lt;HCallRuntime&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;empty_string(),</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;                                <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#ace3a4921b31125f925fdb332a0d3ae73">Runtime::FunctionForId</a>(function_id),</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;                                4);</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <span class="comment">// De-opt if elements kind changed from boilerplate_elements_kind.</span></div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;    Handle&lt;Map&gt; map = Handle&lt;Map&gt;(boilerplate_object-&gt;map(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;    literal = Add&lt;HCheckMaps&gt;(literal, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;  }</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;  <span class="comment">// The array is expected in the bailout environment during computation</span></div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;  <span class="comment">// of the property values and is the value of the entire expression.</span></div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(literal);</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;  <span class="comment">// The literal index is on the stack, too.</span></div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(Add&lt;HConstant&gt;(expr-&gt;literal_index()));</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;  HInstruction* elements = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    Expression* subexpr = subexprs-&gt;at(i);</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;    <span class="comment">// If the subexpression is a literal or a simple materialized literal it</span></div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;    <span class="comment">// is already set in the cloned array.</span></div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_compile_time_value.html#ad8fd18ab823ea0c9a6c87737e7f6ae0f">CompileTimeValue::IsCompileTimeValue</a>(subexpr)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(subexpr));</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;    HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a0e7b84e859a843a61642145d21d8665b">Smi::IsValid</a>(i)) <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kNonSmiKeyInArrayLiteral);</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;    elements = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2da97a79e081c8cf483e6a4f3b6ab7f4">AddLoadElements</a>(literal);</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    HValue* key = Add&lt;HConstant&gt;(i);</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;    <span class="keywordflow">switch</span> (boilerplate_elements_kind) {</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5">FAST_SMI_ELEMENTS</a>:</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a58e8654e182fddc4db852328ca31beca">FAST_HOLEY_SMI_ELEMENTS</a>:</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a>:</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">FAST_HOLEY_ELEMENTS</a>:</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017abb07060403819e3e9ee9145513228f64">FAST_DOUBLE_ELEMENTS</a>:</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a7bfd0d305c9b6b28b8dc0c2fd4cefa39">FAST_HOLEY_DOUBLE_ELEMENTS</a>: {</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;        HStoreKeyed* instr = Add&lt;HStoreKeyed&gt;(elements, key, value,</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;                                              boilerplate_elements_kind);</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;        instr-&gt;SetUninitialized(uninitialized);</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;      }</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;    }</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    Add&lt;HSimulate&gt;(expr-&gt;GetIdForElement(i));</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;  }</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// array literal index</span></div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;}</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;HCheckMaps* HOptimizedGraphBuilder::AddCheckMap(HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;                                                Handle&lt;Map&gt; map) {</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;  <span class="keywordflow">return</span> Add&lt;HCheckMaps&gt;(object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;}</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildLoadNamedField(</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;    PropertyAccessInfo* info,</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;    HValue* checked_object) {</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;  HObjectAccess access = info-&gt;access();</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;  <span class="keywordflow">if</span> (access.representation().IsDouble()) {</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;    <span class="comment">// Load the heap number.</span></div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    checked_object = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;        checked_object, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;        access.WithRepresentation(<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a3f25582b3be90bb6e7d70307f10756d5">Representation::Tagged</a>()));</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;    checked_object-&gt;set_type(HType::HeapNumber());</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;    <span class="comment">// Load the double value from it.</span></div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;    access = HObjectAccess::ForHeapNumberValue();</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;  }</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;  <span class="keywordflow">return</span> New&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;      checked_object, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), access);</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;}</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildStoreNamedField(</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;    PropertyAccessInfo* info,</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;    HValue* checked_object,</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;    HValue* value) {</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;  <span class="keywordtype">bool</span> transition_to_field = info-&gt;lookup()-&gt;IsTransition();</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;  <span class="comment">// TODO(verwaest): Move this logic into PropertyAccessInfo.</span></div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;  HObjectAccess field_access = HObjectAccess::ForField(</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;      info-&gt;map(), info-&gt;lookup(), info-&gt;name());</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;  HStoreNamedField *instr;</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;  <span class="keywordflow">if</span> (field_access.representation().IsDouble()) {</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;    HObjectAccess heap_number_access =</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;        field_access.WithRepresentation(<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a3f25582b3be90bb6e7d70307f10756d5">Representation::Tagged</a>());</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;    <span class="keywordflow">if</span> (transition_to_field) {</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;      <span class="comment">// The store requires a mutable HeapNumber to be allocated.</span></div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;      NoObservableSideEffectsScope no_side_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;      HInstruction* heap_number_size = Add&lt;HConstant&gt;(<a class="code" href="../../d1/d8c/classv8_1_1internal_1_1_heap_number.html#aabca8545565b6a1f3c6fdc8bd948de49">HeapNumber::kSize</a>);</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7ea">PretenureFlag</a> pretenure_flag = !FLAG_allocation_site_pretenuring ?</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;          <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aac0d2638ba91cf80b046cf8141fde771">GetPretenureMode</a>() : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>;</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;      HInstruction* heap_number = Add&lt;HAllocate&gt;(heap_number_size,</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;          HType::HeapNumber(),</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;          pretenure_flag,</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a4321eba55b5ed532f9214d727fce7335">HEAP_NUMBER_TYPE</a>);</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74">AddStoreMapConstant</a>(heap_number, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;factory()-&gt;heap_number_map());</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;      Add&lt;HStoreNamedField&gt;(heap_number, HObjectAccess::ForHeapNumberValue(),</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;                            value);</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;      instr = New&lt;HStoreNamedField&gt;(checked_object-&gt;ActualValue(),</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;                                    heap_number_access,</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;                                    heap_number);</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;      <span class="comment">// Already holds a HeapNumber; load the box and write its value field.</span></div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;      HInstruction* heap_number = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;          checked_object, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), heap_number_access);</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;      heap_number-&gt;set_type(HType::HeapNumber());</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;      instr = New&lt;HStoreNamedField&gt;(heap_number,</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;                                    HObjectAccess::ForHeapNumberValue(),</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;                                    value, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a9f1432d7ea8c60fbf28bc3650602cb70">STORE_TO_INITIALIZED_ENTRY</a>);</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;    }</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    <span class="comment">// This is a normal store.</span></div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;    instr = New&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;        checked_object-&gt;ActualValue(), field_access, value,</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;        transition_to_field ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a54d2d7d5e0481f3de9ccdf36ef9b3c6c">INITIALIZING_STORE</a> : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a9f1432d7ea8c60fbf28bc3650602cb70">STORE_TO_INITIALIZED_ENTRY</a>);</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;  }</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;  <span class="keywordflow">if</span> (transition_to_field) {</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;    HConstant* transition_constant = Add&lt;HConstant&gt;(info-&gt;transition());</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;    instr-&gt;SetTransition(transition_constant, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;    instr-&gt;SetChangesFlag(kMaps);</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;  }</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;  <span class="keywordflow">return</span> instr;</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;}</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::PropertyAccessInfo::IsCompatible(</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;    PropertyAccessInfo* info) {</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;  <span class="keywordflow">if</span> (!CanInlinePropertyAccess(type_)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;  <span class="comment">// Currently only handle Type::Number as a polymorphic case.</span></div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;  <span class="comment">// TODO(verwaest): Support monomorphic handling of numbers with a HCheckNumber</span></div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;  <span class="comment">// instruction.</span></div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;  <span class="keywordflow">if</span> (type_-&gt;Is(Type::Number())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;  <span class="comment">// Values are only compatible for monomorphic load if they all behave the same</span></div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;  <span class="comment">// regarding value wrappers.</span></div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;  <span class="keywordflow">if</span> (type_-&gt;Is(Type::NumberOrString())) {</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    <span class="keywordflow">if</span> (!info-&gt;type_-&gt;Is(Type::NumberOrString())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;    <span class="keywordflow">if</span> (info-&gt;type_-&gt;Is(Type::NumberOrString())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;  }</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;  <span class="keywordflow">if</span> (!LookupDescriptor()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;  <span class="keywordflow">if</span> (!lookup_.IsFound()) {</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;    <span class="keywordflow">return</span> (!info-&gt;lookup_.IsFound() || info-&gt;has_holder()) &amp;&amp;</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>()-&gt;prototype() == info-&gt;map()-&gt;prototype();</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;  }</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;  <span class="comment">// Mismatch if the other access info found the property in the prototype</span></div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;  <span class="comment">// chain.</span></div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;  <span class="keywordflow">if</span> (info-&gt;has_holder()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;  <span class="keywordflow">if</span> (lookup_.IsPropertyCallbacks()) {</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;    <span class="keywordflow">return</span> accessor_.is_identical_to(info-&gt;accessor_) &amp;&amp;</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;        api_holder_.is_identical_to(info-&gt;api_holder_);</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;  }</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;  <span class="keywordflow">if</span> (lookup_.IsConstant()) {</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;    <span class="keywordflow">return</span> constant_.is_identical_to(info-&gt;constant_);</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;  }</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(lookup_.IsField());</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;  <span class="keywordflow">if</span> (!info-&gt;lookup_.IsField()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;  Representation r = access_.representation();</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;  <span class="keywordflow">if</span> (IsLoad()) {</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;    <span class="keywordflow">if</span> (!info-&gt;access_.representation().IsCompatibleForLoad(r)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;    <span class="keywordflow">if</span> (!info-&gt;access_.representation().IsCompatibleForStore(r)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;  }</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;  <span class="keywordflow">if</span> (info-&gt;access_.offset() != access_.offset()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;  <span class="keywordflow">if</span> (info-&gt;access_.IsInobject() != access_.IsInobject()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;  info-&gt;GeneralizeRepresentation(r);</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;}</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::PropertyAccessInfo::LookupDescriptor() {</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;  <span class="keywordflow">if</span> (!type_-&gt;IsClass()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>()-&gt;LookupDescriptor(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, *name_, &amp;lookup_);</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;  <span class="keywordflow">return</span> LoadResult(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>());</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;}</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::PropertyAccessInfo::LoadResult(Handle&lt;Map&gt; map) {</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;  <span class="keywordflow">if</span> (!IsLoad() &amp;&amp; lookup_.IsProperty() &amp;&amp;</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;      (lookup_.IsReadOnly() || !lookup_.IsCacheable())) {</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;  }</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;  <span class="keywordflow">if</span> (lookup_.IsField()) {</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;    access_ = HObjectAccess::ForField(map, &amp;lookup_, name_);</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lookup_.IsPropertyCallbacks()) {</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    Handle&lt;Object&gt; callback(lookup_.GetValueFromMap(*map), isolate());</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;    <span class="keywordflow">if</span> (!callback-&gt;IsAccessorPair()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafde67e17c0eff2ae6a6bef6b217148d">Object</a>* raw_accessor = IsLoad()</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;        ? <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;AccessorPair&gt;::cast</a>(callback)-&gt;getter()</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;        : <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;AccessorPair&gt;::cast</a>(callback)-&gt;setter();</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    <span class="keywordflow">if</span> (!raw_accessor-&gt;IsJSFunction()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    Handle&lt;JSFunction&gt; accessor = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(<a class="code" href="../../d0/d2c/classv8_1_1internal_1_1_j_s_function.html#aadcf8f00ff5f932119b67a97c33762da">JSFunction::cast</a>(raw_accessor));</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;    <span class="keywordflow">if</span> (accessor-&gt;shared()-&gt;IsApiFunction()) {</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;      CallOptimization call_optimization(accessor);</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;      <span class="keywordflow">if</span> (!call_optimization.is_simple_api_call()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;      CallOptimization::HolderLookup holder_lookup;</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;      api_holder_ = call_optimization.LookupHolderOfExpectedType(</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;          map, &amp;holder_lookup);</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;      <span class="keywordflow">switch</span> (holder_lookup) {</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;        <span class="keywordflow">case</span> CallOptimization::kHolderNotFound:</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;        <span class="keywordflow">case</span> CallOptimization::kHolderIsReceiver:</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;        <span class="keywordflow">case</span> CallOptimization::kHolderFound:</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;      }</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;    }</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;    accessor_ = accessor;</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lookup_.IsConstant()) {</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;    constant_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(lookup_.GetConstantFromMap(*map), isolate());</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;  }</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;}</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::PropertyAccessInfo::LookupInPrototypes() {</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;  Handle&lt;Map&gt; map = this-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>();</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;  <span class="keywordflow">while</span> (map-&gt;prototype()-&gt;IsJSObject()) {</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;    holder_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(map-&gt;prototype()));</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;    <span class="keywordflow">if</span> (holder_-&gt;map()-&gt;is_deprecated()) {</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;      <a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#ad818be99a903844f44c9bed4aaff54d3">JSObject::TryMigrateInstance</a>(holder_);</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;    }</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;    map = Handle&lt;Map&gt;(holder_-&gt;map());</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    <span class="keywordflow">if</span> (!CanInlinePropertyAccess(ToType(map))) {</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;      lookup_.NotFound();</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;    }</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;    map-&gt;LookupDescriptor(*holder_, *name_, &amp;lookup_);</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    <span class="keywordflow">if</span> (lookup_.IsFound()) <span class="keywordflow">return</span> LoadResult(map);</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;  }</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;  lookup_.NotFound();</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;}</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::PropertyAccessInfo::CanAccessMonomorphic() {</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;  <span class="keywordflow">if</span> (!CanInlinePropertyAccess(type_)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;  <span class="keywordflow">if</span> (IsJSObjectFieldAccessor()) <span class="keywordflow">return</span> IsLoad();</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;  <span class="keywordflow">if</span> (!LookupDescriptor()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;  <span class="keywordflow">if</span> (lookup_.IsFound()) {</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;    <span class="keywordflow">if</span> (IsLoad()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;    <span class="keywordflow">return</span> !lookup_.IsReadOnly() &amp;&amp; lookup_.IsCacheable();</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;  }</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;  <span class="keywordflow">if</span> (!LookupInPrototypes()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;  <span class="keywordflow">if</span> (IsLoad()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;  <span class="keywordflow">if</span> (lookup_.IsPropertyCallbacks()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;  Handle&lt;Map&gt; map = this-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>();</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;  map-&gt;LookupTransition(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, *name_, &amp;lookup_);</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;  <span class="keywordflow">if</span> (lookup_.IsTransitionToField() &amp;&amp; map-&gt;unused_property_fields() &gt; 0) {</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;  }</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;}</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::PropertyAccessInfo::CanAccessAsMonomorphic(</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;    SmallMapList* types) {</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(type_-&gt;Is(ToType(types-&gt;first())));</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;  <span class="keywordflow">if</span> (!CanAccessMonomorphic()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(kMaxLoadPolymorphism == kMaxStorePolymorphism);</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;  <span class="keywordflow">if</span> (types-&gt;length() &gt; kMaxLoadPolymorphism) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;  HObjectAccess access = HObjectAccess::ForMap();  <span class="comment">// bogus default</span></div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;  <span class="keywordflow">if</span> (GetJSObjectFieldAccess(&amp;access)) {</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; types-&gt;length(); ++i) {</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;      PropertyAccessInfo test_info(</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;          builder_, access_type_, ToType(types-&gt;at(i)), name_);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;      HObjectAccess test_access = HObjectAccess::ForMap();  <span class="comment">// bogus default</span></div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;      <span class="keywordflow">if</span> (!test_info.GetJSObjectFieldAccess(&amp;test_access)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;      <span class="keywordflow">if</span> (!access.Equals(test_access)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;    }</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;  }</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  <span class="comment">// Currently only handle Type::Number as a polymorphic case.</span></div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;  <span class="comment">// TODO(verwaest): Support monomorphic handling of numbers with a HCheckNumber</span></div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;  <span class="comment">// instruction.</span></div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;  <span class="keywordflow">if</span> (type_-&gt;Is(Type::Number())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;  <span class="comment">// Multiple maps cannot transition to the same target map.</span></div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!IsLoad() || !lookup_.IsTransition());</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;  <span class="keywordflow">if</span> (lookup_.IsTransition() &amp;&amp; types-&gt;length() &gt; 1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; types-&gt;length(); ++i) {</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;    PropertyAccessInfo test_info(</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;        builder_, access_type_, ToType(types-&gt;at(i)), name_);</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;    <span class="keywordflow">if</span> (!test_info.IsCompatible(<span class="keyword">this</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;  }</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;}</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> NeedsWrappingFor(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* type, Handle&lt;JSFunction&gt; target) {</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;  <span class="keywordflow">return</span> type-&gt;Is(Type::NumberOrString()) &amp;&amp;</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;      target-&gt;shared()-&gt;strict_mode() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66e9a5671f740245739cc6873ea1b445a01409a6eaf026ee7100680ac60d9a513">SLOPPY</a> &amp;&amp;</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;      !target-&gt;shared()-&gt;native();</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;}</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildMonomorphicAccess(</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;    PropertyAccessInfo* info,</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;    HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;    HValue* checked_object,</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;    HValue* value,</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;    BailoutId ast_id,</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;    BailoutId return_id,</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;    <span class="keywordtype">bool</span> can_inline_accessor) {</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;  HObjectAccess access = HObjectAccess::ForMap();  <span class="comment">// bogus default</span></div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;  <span class="keywordflow">if</span> (info-&gt;GetJSObjectFieldAccess(&amp;access)) {</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(info-&gt;IsLoad());</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;    <span class="keywordflow">return</span> New&lt;HLoadNamedField&gt;(object, checked_object, access);</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;  }</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;  HValue* checked_holder = checked_object;</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;  <span class="keywordflow">if</span> (info-&gt;has_holder()) {</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;    Handle&lt;JSObject&gt; prototype(<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(info-&gt;map()-&gt;prototype()));</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;    checked_holder = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a717d3e36d3edfa81af6bfb0c213a9fdf">BuildCheckPrototypeMaps</a>(prototype, info-&gt;holder());</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;  }</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;  <span class="keywordflow">if</span> (!info-&gt;lookup()-&gt;IsFound()) {</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(info-&gt;IsLoad());</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined();</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;  }</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;  <span class="keywordflow">if</span> (info-&gt;lookup()-&gt;IsField()) {</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;    <span class="keywordflow">if</span> (info-&gt;IsLoad()) {</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;      <span class="keywordflow">return</span> BuildLoadNamedField(info, checked_holder);</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;      <span class="keywordflow">return</span> BuildStoreNamedField(info, checked_object, value);</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;    }</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;  }</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;  <span class="keywordflow">if</span> (info-&gt;lookup()-&gt;IsTransition()) {</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!info-&gt;IsLoad());</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <span class="keywordflow">return</span> BuildStoreNamedField(info, checked_object, value);</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;  }</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;  <span class="keywordflow">if</span> (info-&gt;lookup()-&gt;IsPropertyCallbacks()) {</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(checked_object);</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;    <span class="keywordtype">int</span> argument_count = 1;</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    <span class="keywordflow">if</span> (!info-&gt;IsLoad()) {</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;      argument_count = 2;</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(value);</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    }</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;    <span class="keywordflow">if</span> (NeedsWrappingFor(info-&gt;type(), info-&gt;accessor())) {</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;      HValue* <span class="keyword">function</span> = Add&lt;HConstant&gt;(info-&gt;accessor());</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;      <span class="keywordflow">return</span> New&lt;HCallFunction&gt;(<span class="keyword">function</span>, argument_count, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436ab7af362adcfed46a5d204bb10b0fa9e1">WRAP_AND_CALL</a>);</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FLAG_inline_accessors &amp;&amp; can_inline_accessor) {</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;      <span class="keywordtype">bool</span> success = info-&gt;IsLoad()</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;          ? TryInlineGetter(info-&gt;accessor(), info-&gt;map(), ast_id, return_id)</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;          : TryInlineSetter(</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;              info-&gt;accessor(), info-&gt;map(), ast_id, return_id, value);</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;      <span class="keywordflow">if</span> (success) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;    }</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;    <span class="keywordflow">return</span> BuildCallConstantFunction(info-&gt;accessor(), argument_count);</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;  }</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(info-&gt;lookup()-&gt;IsConstant());</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;  <span class="keywordflow">if</span> (info-&gt;IsLoad()) {</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;    <span class="keywordflow">return</span> New&lt;HConstant&gt;(info-&gt;constant());</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;    <span class="keywordflow">return</span> New&lt;HCheckValue&gt;(value, <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSFunction&gt;::cast</a>(info-&gt;constant()));</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;  }</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;}</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::HandlePolymorphicNamedFieldAccess(</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type,</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;    BailoutId ast_id,</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;    BailoutId return_id,</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;    HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;    HValue* value,</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;    SmallMapList* types,</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;    Handle&lt;String&gt; name) {</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;  <span class="comment">// Something did not match; must use a polymorphic load.</span></div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;  HBasicBlock* join = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;  HBasicBlock* number_block = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;  <span class="keywordtype">bool</span> handled_string = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;  <span class="keywordtype">bool</span> handle_smi = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a1776bacf31b0f72870c13f8978263ebf">kMaxLoadPolymorphism</a> == <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#add053b19871d4139882394bd0f496a56">kMaxStorePolymorphism</a>);</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; types-&gt;length() &amp;&amp; count &lt; <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a1776bacf31b0f72870c13f8978263ebf">kMaxLoadPolymorphism</a>; ++i) {</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    PropertyAccessInfo <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>(<span class="keyword">this</span>, access_type, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">ToType</a>(types-&gt;at(i)), name);</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::String())) {</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;      <span class="keywordflow">if</span> (handled_string) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;      handled_string = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    }</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;    <span class="keywordflow">if</span> (info.CanAccessMonomorphic()) {</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;      count++;</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;      <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::Number())) {</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;        handle_smi = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;      }</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;    }</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;  }</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;  count = 0;</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;  HControlInstruction* smi_check = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;  handled_string = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; types-&gt;length() &amp;&amp; count &lt; <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a1776bacf31b0f72870c13f8978263ebf">kMaxLoadPolymorphism</a>; ++i) {</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;    PropertyAccessInfo <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>(<span class="keyword">this</span>, access_type, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">ToType</a>(types-&gt;at(i)), name);</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;    <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::String())) {</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;      <span class="keywordflow">if</span> (handled_string) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;      handled_string = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;    }</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;    <span class="keywordflow">if</span> (!info.CanAccessMonomorphic()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;    <span class="keywordflow">if</span> (count == 0) {</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;      join = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;      <span class="keywordflow">if</span> (handle_smi) {</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;        HBasicBlock* empty_smi_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;        HBasicBlock* not_smi_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;        number_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;        smi_check = New&lt;HIsSmiAndBranch&gt;(</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;            object, empty_smi_block, not_smi_block);</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(smi_check);</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6a998bcd4ddb7c919bc1001c34959e0c">GotoNoSimulate</a>(empty_smi_block, number_block);</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(not_smi_block);</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;      }</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;    }</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;    ++count;</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;    HBasicBlock* if_true = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;    HBasicBlock* if_false = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;    HUnaryControlInstruction* compare;</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;    HValue* dependency;</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::Number())) {</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;      Handle&lt;Map&gt; heap_number_map = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;heap_number_map();</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;      compare = New&lt;HCompareMap&gt;(object, heap_number_map, if_true, if_false);</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;      dependency = smi_check;</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::String())) {</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;      compare = New&lt;HIsStringAndBranch&gt;(object, if_true, if_false);</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;      dependency = compare;</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;      compare = New&lt;HCompareMap&gt;(object, info.map(), if_true, if_false);</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;      dependency = compare;</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    }</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(compare);</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;    <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::Number())) {</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6a998bcd4ddb7c919bc1001c34959e0c">GotoNoSimulate</a>(if_true, number_block);</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;      if_true = number_block;</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;    }</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(if_true);</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;    HInstruction* access = BuildMonomorphicAccess(</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;        &amp;info, <span class="keywordtype">object</span>, dependency, value, ast_id,</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;        return_id, FLAG_polymorphic_inlining);</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    HValue* result = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;    <span class="keywordflow">switch</span> (access_type) {</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>:</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;        result = access;</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>:</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;        result = value;</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;    }</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;    <span class="keywordflow">if</span> (access == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;      <span class="keywordflow">if</span> (HasStackOverflow()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;      <span class="keywordflow">if</span> (!access-&gt;IsLinked()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(access);</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(result);</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    }</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(join);</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(if_false);</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;  }</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;  <span class="comment">// Finish up.  Unconditionally deoptimize if we&#39;ve handled all the maps we</span></div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;  <span class="comment">// know about and do not want to handle ones we&#39;ve never seen.  Otherwise</span></div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;  <span class="comment">// use a generic IC.</span></div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;  <span class="keywordflow">if</span> (count == types-&gt;length() &amp;&amp; FLAG_deoptimize_uncommon_cases) {</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a08e820301240173b1001a88abd50f65a">FinishExitWithHardDeoptimization</a>(<span class="stringliteral">&quot;Uknown map in polymorphic access&quot;</span>);</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;    HInstruction* instr = BuildNamedGeneric(access_type, <span class="keywordtype">object</span>, name, value);</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(instr);</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a> ? instr : value);</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;    <span class="keywordflow">if</span> (join != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(join);</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;      Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;    }</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;  }</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(join != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;  <span class="keywordflow">if</span> (join-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;    join-&gt;SetJoinId(ast_id);</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join);</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;  }</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;}</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> ComputeReceiverTypes(Expression* expr,</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;                                 HValue* receiver,</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;                                 SmallMapList** t,</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;                                 Zone* zone) {</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;  SmallMapList* types = expr-&gt;GetReceiverTypes();</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;  *t = types;</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;  <span class="keywordtype">bool</span> monomorphic = expr-&gt;IsMonomorphic();</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;  <span class="keywordflow">if</span> (types != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; receiver-&gt;HasMonomorphicJSObjectType()) {</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;    Map* root_map = receiver-&gt;GetMonomorphicJSObjectMap()-&gt;FindRootMap();</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;    types-&gt;FilterForPossibleTransitions(root_map);</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;    monomorphic = types-&gt;length() == 1;</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;  }</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;  <span class="keywordflow">return</span> monomorphic &amp;&amp; CanInlinePropertyAccess(</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;      IC::MapToType&lt;Type&gt;(types-&gt;first(), zone));</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;}</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> AreStringTypes(SmallMapList* types) {</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; types-&gt;length(); i++) {</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;    <span class="keywordflow">if</span> (types-&gt;at(i)-&gt;instance_type() &gt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf">FIRST_NONSTRING_TYPE</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;  }</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;}</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildStore(Expression* expr,</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;                                        Property* prop,</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;                                        BailoutId ast_id,</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;                                        BailoutId return_id,</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;                                        <span class="keywordtype">bool</span> is_uninitialized) {</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;  <span class="keywordflow">if</span> (!prop-&gt;key()-&gt;IsPropertyName()) {</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;    <span class="comment">// Keyed store.</span></div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;    HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(0);</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;    HValue* key = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(1);</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;    HValue* <span class="keywordtype">object</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(2);</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;    <span class="keywordtype">bool</span> has_side_effects = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;    HandleKeyedElementAccess(<span class="keywordtype">object</span>, key, value, expr,</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;                             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>, &amp;has_side_effects);</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(3);</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(value);</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;    Add&lt;HSimulate&gt;(return_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;  }</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;  <span class="comment">// Named store.</span></div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;  HValue* <span class="keywordtype">object</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;  Literal* key = prop-&gt;key()-&gt;AsLiteral();</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;  Handle&lt;String&gt; name = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;String&gt;::cast</a>(key-&gt;value());</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!name.is_null());</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;  HInstruction* instr = BuildNamedAccess(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>, ast_id, return_id, expr,</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;                                         <span class="keywordtype">object</span>, name, value, is_uninitialized);</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;  <span class="keywordflow">if</span> (instr == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(value);</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(instr);</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;    Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;  }</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(value);</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;}</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::HandlePropertyAssignment(Assignment* expr) {</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;  Property* prop = expr-&gt;target()-&gt;AsProperty();</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(prop != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;obj()));</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;  <span class="keywordflow">if</span> (!prop-&gt;key()-&gt;IsPropertyName()) {</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;key()));</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;  }</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;value()));</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;  BuildStore(expr, prop, expr-&gt;id(),</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;             expr-&gt;AssignmentId(), expr-&gt;IsUninitialized());</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;}</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;<span class="comment">// Because not every expression has a position and there is not common</span></div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;<span class="comment">// superclass of Assignment and CountOperation, we cannot just pass the</span></div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;<span class="comment">// owning expression instead of position and ast_id separately.</span></div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::HandleGlobalVariableAssignment(</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;    Variable* var,</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;    HValue* value,</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;    BailoutId ast_id) {</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;  LookupResult lookup(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;  GlobalPropertyAccess type = LookupGlobalProperty(var, &amp;lookup, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>);</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;  <span class="keywordflow">if</span> (type == kUseCell) {</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    Handle&lt;GlobalObject&gt; global(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;global_object());</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    Handle&lt;PropertyCell&gt; cell(global-&gt;GetPropertyCell(&amp;lookup));</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;    <span class="keywordflow">if</span> (cell-&gt;type()-&gt;IsConstant()) {</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;      Handle&lt;Object&gt; constant = cell-&gt;type()-&gt;AsConstant();</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;      <span class="keywordflow">if</span> (value-&gt;IsConstant()) {</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;        HConstant* c_value = HConstant::cast(value);</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;        <span class="keywordflow">if</span> (!constant.is_identical_to(c_value-&gt;handle(isolate()))) {</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;          Add&lt;HDeoptimize&gt;(<span class="stringliteral">&quot;Constant global variable assignment&quot;</span>,</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;                           <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82af8251e3c119849c8d5639c06ac61d13e">Deoptimizer::EAGER</a>);</div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;        }</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;        HValue* c_constant = Add&lt;HConstant&gt;(constant);</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;        IfBuilder builder(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;        <span class="keywordflow">if</span> (constant-&gt;IsNumber()) {</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;          builder.If&lt;HCompareNumericAndBranch&gt;(value, c_constant, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;          builder.If&lt;HCompareObjectEqAndBranch&gt;(value, c_constant);</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;        }</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;        builder.Then();</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;        builder.Else();</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;        Add&lt;HDeoptimize&gt;(<span class="stringliteral">&quot;Constant global variable assignment&quot;</span>,</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;                         <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82af8251e3c119849c8d5639c06ac61d13e">Deoptimizer::EAGER</a>);</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;        builder.End();</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;      }</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;    }</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;    HInstruction* instr =</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;        Add&lt;HStoreGlobalCell&gt;(value, cell, lookup.GetPropertyDetails());</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;      Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;    }</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    HValue* global_object = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>(), <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;        HObjectAccess::ForContextSlot(<a class="code" href="../../d4/d72/classv8_1_1internal_1_1_context.html#a0411cd49bb5b71852cecd93bcbf0ca2dad659b33358ba073da0fdc9caf9dc5625">Context::GLOBAL_OBJECT_INDEX</a>));</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;    HStoreNamedGeneric* instr =</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;        Add&lt;HStoreNamedGeneric&gt;(global_object, var-&gt;name(),</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;                                 value, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4886203dfb6208b95c163e4bf8a301c0">function_strict_mode</a>());</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(instr);</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(instr-&gt;HasObservableSideEffects());</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;    Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;  }</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;}</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::HandleCompoundAssignment(Assignment* expr) {</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;  Expression* target = expr-&gt;target();</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;  VariableProxy* proxy = target-&gt;AsVariableProxy();</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;  Property* prop = target-&gt;AsProperty();</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(proxy == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> || prop == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;  <span class="comment">// We have a second position recorded in the FullCodeGenerator to have</span></div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;  <span class="comment">// type feedback for the binary operation.</span></div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;  BinaryOperation* operation = expr-&gt;binary_operation();</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;  <span class="keywordflow">if</span> (proxy != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    Variable* var = proxy-&gt;var();</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <span class="keywordflow">if</span> (var-&gt;mode() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21afb72619a5a922e816967c4aa49301754">LET</a>)  {</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kUnsupportedLetCompoundAssignment);</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;    }</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(operation));</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;    <span class="keywordflow">switch</span> (var-&gt;location()) {</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4079064b49d023e3d885b939e1785242">Variable::UNALLOCATED</a>:</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;        HandleGlobalVariableAssignment(var,</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;                                       <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>(),</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;                                       expr-&gt;AssignmentId());</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a194cde856bd2d79eac8adb9741c55940">Variable::PARAMETER</a>:</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43ad0ef00e708ed18ba004480dceb79ecfb">Variable::LOCAL</a>:</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;        <span class="keywordflow">if</span> (var-&gt;mode() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21ab47cad6c25d7dbef4dd8fb65933c7edf">CONST_LEGACY</a>)  {</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kUnsupportedConstCompoundAssignment);</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;        }</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a50b15cc06ceda90a2e0c189592bc7242">BindIfLive</a>(var, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>());</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a7f06283f0d1a4d167be6c37a3d24fd11">Variable::CONTEXT</a>: {</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;        <span class="comment">// Bail out if we try to mutate a parameter value in a function</span></div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;        <span class="comment">// using the arguments object.  We do not (yet) correctly handle the</span></div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;        <span class="comment">// arguments property of the function.</span></div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;scope()-&gt;arguments() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;          <span class="comment">// Parameters will be allocated to context slots.  We have no</span></div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;          <span class="comment">// direct way to detect that the variable is a parameter so we do</span></div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;          <span class="comment">// a linear search of the parameter variables.</span></div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;          <span class="keywordtype">int</span> count = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8f5227b0eb369353404602683a4f2beb">scope</a>()-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a61de976d8872290d12f5d9d6f81ee4ce">num_parameters</a>();</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;            <span class="keywordflow">if</span> (var == <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;scope()-&gt;parameter(i)) {</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;              <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kAssignmentToParameterFunctionUsesArgumentsObject);</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;            }</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;          }</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;        }</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;        HStoreContextSlot::Mode <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>;</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;        <span class="keywordflow">switch</span> (var-&gt;mode()) {</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21afb72619a5a922e816967c4aa49301754">LET</a>:</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;            mode = HStoreContextSlot::kCheckDeoptimize;</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21a3d044162d972156d897cea80f216b9ca">CONST</a>:</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;            <span class="comment">// This case is checked statically so no need to</span></div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;            <span class="comment">// perform checks here</span></div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21ab47cad6c25d7dbef4dd8fb65933c7edf">CONST_LEGACY</a>:</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;            mode = HStoreContextSlot::kNoCheck;</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;        }</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;        HValue* context = BuildContextChainWalk(var);</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;        HStoreContextSlot* instr = Add&lt;HStoreContextSlot&gt;(</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;            <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>, var-&gt;index(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>());</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;          Add&lt;HSimulate&gt;(expr-&gt;AssignmentId(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;        }</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;      }</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4909b1bd07519e440222256440fdcef1">Variable::LOOKUP</a>:</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kCompoundAssignmentToLookupSlot);</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;    }</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;obj()));</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;    HValue* <span class="keywordtype">object</span> = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;    HValue* key = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;    <span class="keywordflow">if</span> ((!prop-&gt;IsFunctionPrototype() &amp;&amp; !prop-&gt;key()-&gt;IsPropertyName()) ||</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;        prop-&gt;IsStringAccess()) {</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;key()));</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;      key = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;    }</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(PushLoad(prop, <span class="keywordtype">object</span>, key));</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;value()));</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(BuildBinaryOperation(operation, left, right, PUSH_BEFORE_SIMULATE));</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;    BuildStore(expr, prop, expr-&gt;id(),</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;               expr-&gt;AssignmentId(), expr-&gt;IsUninitialized());</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInvalidLhsInCompoundAssignment);</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;  }</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;}</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitAssignment(Assignment* expr) {</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;  VariableProxy* proxy = expr-&gt;target()-&gt;AsVariableProxy();</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;  Property* prop = expr-&gt;target()-&gt;AsProperty();</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(proxy == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> || prop == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;is_compound()) {</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;    HandleCompoundAssignment(expr);</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;  }</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;  <span class="keywordflow">if</span> (prop != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;    HandlePropertyAssignment(expr);</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (proxy != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;    Variable* var = proxy-&gt;var();</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;    <span class="keywordflow">if</span> (var-&gt;mode() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21a3d044162d972156d897cea80f216b9ca">CONST</a>) {</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;      <span class="keywordflow">if</span> (expr-&gt;op() != Token::INIT_CONST) {</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kNonInitializerAssignmentToConst);</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;      }</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (var-&gt;mode() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21ab47cad6c25d7dbef4dd8fb65933c7edf">CONST_LEGACY</a>) {</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;      <span class="keywordflow">if</span> (expr-&gt;op() != Token::INIT_CONST_LEGACY) {</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;        <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;value()));</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;      }</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;      <span class="keywordflow">if</span> (var-&gt;IsStackAllocated()) {</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;        <span class="comment">// We insert a use of the old value to detect unsupported uses of const</span></div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;        <span class="comment">// variables (e.g. initialization inside a loop).</span></div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;        HValue* old_value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Lookup(var);</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;        Add&lt;HUseConst&gt;(old_value);</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;      }</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;    }</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;    <span class="keywordflow">if</span> (proxy-&gt;IsArguments()) <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kAssignmentToArguments);</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;    <span class="comment">// Handle the assignment.</span></div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;    <span class="keywordflow">switch</span> (var-&gt;location()) {</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4079064b49d023e3d885b939e1785242">Variable::UNALLOCATED</a>:</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;        <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;value()));</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;        HandleGlobalVariableAssignment(var,</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;                                       <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>(),</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;                                       expr-&gt;AssignmentId());</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a194cde856bd2d79eac8adb9741c55940">Variable::PARAMETER</a>:</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43ad0ef00e708ed18ba004480dceb79ecfb">Variable::LOCAL</a>: {</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;        <span class="comment">// Perform an initialization check for let declared variables</span></div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;        <span class="comment">// or parameters.</span></div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;        <span class="keywordflow">if</span> (var-&gt;mode() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21afb72619a5a922e816967c4aa49301754">LET</a> &amp;&amp; expr-&gt;op() == Token::ASSIGN) {</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;          HValue* env_value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Lookup(var);</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;          <span class="keywordflow">if</span> (env_value == <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantHole()) {</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kAssignmentToLetVariableBeforeInitialization);</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;          }</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;        }</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;        <span class="comment">// We do not allow the arguments object to occur in a context where it</span></div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;        <span class="comment">// may escape, but assignments to stack-allocated locals are</span></div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;        <span class="comment">// permitted.</span></div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;        <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;value(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abce1eab366e996d40e43a1ec0e42e65ca96856df10030dfbb5b77444a0486a078">ARGUMENTS_ALLOWED</a>));</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;        HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a50b15cc06ceda90a2e0c189592bc7242">BindIfLive</a>(var, value);</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(value);</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;      }</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a7f06283f0d1a4d167be6c37a3d24fd11">Variable::CONTEXT</a>: {</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;        <span class="comment">// Bail out if we try to mutate a parameter value in a function using</span></div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;        <span class="comment">// the arguments object.  We do not (yet) correctly handle the</span></div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;        <span class="comment">// arguments property of the function.</span></div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;scope()-&gt;arguments() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;          <span class="comment">// Parameters will rewrite to context slots.  We have no direct way</span></div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;          <span class="comment">// to detect that the variable is a parameter.</span></div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;          <span class="keywordtype">int</span> count = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8f5227b0eb369353404602683a4f2beb">scope</a>()-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a61de976d8872290d12f5d9d6f81ee4ce">num_parameters</a>();</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;            <span class="keywordflow">if</span> (var == <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;scope()-&gt;parameter(i)) {</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kAssignmentToParameterInArgumentsObject);</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;            }</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;          }</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;        }</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;        <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;value()));</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;        HStoreContextSlot::Mode <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>;</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;        <span class="keywordflow">if</span> (expr-&gt;op() == Token::ASSIGN) {</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;          <span class="keywordflow">switch</span> (var-&gt;mode()) {</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21afb72619a5a922e816967c4aa49301754">LET</a>:</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;              mode = HStoreContextSlot::kCheckDeoptimize;</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21a3d044162d972156d897cea80f216b9ca">CONST</a>:</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;              <span class="comment">// This case is checked statically so no need to</span></div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;              <span class="comment">// perform checks here</span></div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;              <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21ab47cad6c25d7dbef4dd8fb65933c7edf">CONST_LEGACY</a>:</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;              mode = HStoreContextSlot::kNoCheck;</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;          }</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expr-&gt;op() == Token::INIT_VAR ||</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;                   expr-&gt;op() == Token::INIT_LET ||</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;                   expr-&gt;op() == Token::INIT_CONST) {</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;          mode = HStoreContextSlot::kNoCheck;</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;          <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(expr-&gt;op() == Token::INIT_CONST_LEGACY);</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;          mode = HStoreContextSlot::kCheckIgnoreAssignment;</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;        }</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;        HValue* context = BuildContextChainWalk(var);</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;        HStoreContextSlot* instr = Add&lt;HStoreContextSlot&gt;(</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;            <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>, var-&gt;index(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>());</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;          Add&lt;HSimulate&gt;(expr-&gt;AssignmentId(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;        }</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;      }</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4909b1bd07519e440222256440fdcef1">Variable::LOOKUP</a>:</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kAssignmentToLOOKUPVariable);</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;    }</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInvalidLeftHandSideInAssignment);</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;  }</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;}</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitYield(Yield* expr) {</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;  <span class="comment">// Generators are not optimized, so we should never get here.</span></div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;}</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitThrow(Throw* expr) {</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;  <span class="comment">// We don&#39;t optimize functions with invalid left-hand sides in</span></div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;  <span class="comment">// assignments, count operations, or for-in.  Consequently throw can</span></div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;  <span class="comment">// currently only occur in an effect context.</span></div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect());</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;exception()));</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Pop();</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;  <span class="keywordflow">if</span> (!FLAG_hydrogen_track_positions) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;  Add&lt;HPushArgument&gt;(value);</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;  Add&lt;HCallRuntime&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;empty_string(),</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;                    <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#ace3a4921b31125f925fdb332a0d3ae73">Runtime::FunctionForId</a>(Runtime::kHiddenThrow), 1);</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;  Add&lt;HSimulate&gt;(expr-&gt;id());</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;  <span class="comment">// If the throw definitely exits the function, we can finish with a dummy</span></div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;  <span class="comment">// control flow at this point.  This is not the case if the throw is inside</span></div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;  <span class="comment">// an inlined function which may be replaced.</span></div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a85c8c3e6d4b69b6e25a8a94f803cdaee">FinishExitCurrentBlock</a>(New&lt;HAbnormalExit&gt;());</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;  }</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;}</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;</div>
<div class="line"><a name="l06205"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a5ca186e95070abd486484cfe8e699ef0"> 6205</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a5ca186e95070abd486484cfe8e699ef0">HGraphBuilder::AddLoadStringInstanceType</a>(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;  <span class="keywordflow">if</span> (string-&gt;IsConstant()) {</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    HConstant* c_string = HConstant::cast(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    <span class="keywordflow">if</span> (c_string-&gt;HasStringValue()) {</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;      <span class="keywordflow">return</span> Add&lt;HConstant&gt;(c_string-&gt;StringValue()-&gt;map()-&gt;instance_type());</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    }</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;  }</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;  <span class="keywordflow">return</span> Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;      Add&lt;HLoadNamedField&gt;(string, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;                           HObjectAccess::ForMap()),</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;      static_cast&lt;HValue*&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), HObjectAccess::ForMapInstanceType());</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;}</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;</div>
<div class="line"><a name="l06219"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac53daea5faaa438caaf83a554c00711b"> 6219</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac53daea5faaa438caaf83a554c00711b">HGraphBuilder::AddLoadStringLength</a>(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;  <span class="keywordflow">if</span> (string-&gt;IsConstant()) {</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;    HConstant* c_string = HConstant::cast(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;    <span class="keywordflow">if</span> (c_string-&gt;HasStringValue()) {</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;      <span class="keywordflow">return</span> Add&lt;HConstant&gt;(c_string-&gt;StringValue()-&gt;length());</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;    }</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;  }</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;  <span class="keywordflow">return</span> Add&lt;HLoadNamedField&gt;(string, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;                              HObjectAccess::ForStringLength());</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;}</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;</div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* HOptimizedGraphBuilder::BuildNamedGeneric(</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type,</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> name,</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">HValue</a>* value,</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;    <span class="keywordtype">bool</span> is_uninitialized) {</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;  <span class="keywordflow">if</span> (is_uninitialized) {</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;    Add&lt;HDeoptimize&gt;(<span class="stringliteral">&quot;Insufficient type feedback for generic named access&quot;</span>,</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;                     <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82a93cba370b0f4922682be437a439c1a56">Deoptimizer::SOFT</a>);</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;  }</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>) {</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;    <span class="keywordflow">return</span> New&lt;HLoadNamedGeneric&gt;(object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a>);</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;    <span class="keywordflow">return</span> New&lt;HStoreNamedGeneric&gt;(object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a>, value, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4886203dfb6208b95c163e4bf8a301c0">function_strict_mode</a>());</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;  }</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;}</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildKeyedGeneric(</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type,</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;    HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;    HValue* key,</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;    HValue* value) {</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>) {</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;    <span class="keywordflow">return</span> New&lt;HLoadKeyedGeneric&gt;(object, key);</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;    <span class="keywordflow">return</span> New&lt;HStoreKeyedGeneric&gt;(object, key, value, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4886203dfb6208b95c163e4bf8a301c0">function_strict_mode</a>());</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;  }</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;}</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22a">LoadKeyedHoleMode</a> HOptimizedGraphBuilder::BuildKeyedHoleMode(Handle&lt;Map&gt; map) {</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;  <span class="comment">// Loads from a &quot;stock&quot; fast holey double arrays can elide the hole check.</span></div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22a">LoadKeyedHoleMode</a> load_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aa62d34769fade412a6389d4cb42ad620f">NEVER_RETURN_HOLE</a>;</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;  <span class="keywordflow">if</span> (*map == <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;get_initial_js_array_map(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a7bfd0d305c9b6b28b8dc0c2fd4cefa39">FAST_HOLEY_DOUBLE_ELEMENTS</a>) &amp;&amp;</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;IsFastArrayConstructorPrototypeChainIntact()) {</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;    Handle&lt;JSObject&gt; prototype(<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(map-&gt;prototype()), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    Handle&lt;JSObject&gt; object_prototype = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;initial_object_prototype();</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a717d3e36d3edfa81af6bfb0c213a9fdf">BuildCheckPrototypeMaps</a>(prototype, object_prototype);</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;    load_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687">ALLOW_RETURN_HOLE</a>;</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;MarkDependsOnEmptyArrayProtoElements();</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;  }</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;  <span class="keywordflow">return</span> load_mode;</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;}</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildMonomorphicElementAccess(</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;    HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;    HValue* key,</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;    HValue* val,</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;    HValue* dependency,</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;    Handle&lt;Map&gt; map,</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type,</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fc">KeyedAccessStoreMode</a> store_mode) {</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;  HCheckMaps* checked_object = Add&lt;HCheckMaps&gt;(object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>(),</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;                                               dependency);</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;  <span class="keywordflow">if</span> (dependency) {</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;    checked_object-&gt;ClearDependsOnFlag(kElementsKind);</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;  }</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> &amp;&amp; map-&gt;prototype()-&gt;IsJSObject()) {</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;    <span class="comment">// monomorphic stores need a prototype chain check because shape</span></div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;    <span class="comment">// changes could allow callbacks on elements in the chain that</span></div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;    <span class="comment">// aren&#39;t compatible with monomorphic keyed stores.</span></div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;    Handle&lt;JSObject&gt; prototype(<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(map-&gt;prototype()));</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafde67e17c0eff2ae6a6bef6b217148d">Object</a>* holder = map-&gt;prototype();</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;    <span class="keywordflow">while</span> (holder-&gt;GetPrototype(isolate())-&gt;IsJSObject()) {</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;      holder = holder-&gt;GetPrototype(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;    }</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(holder-&gt;GetPrototype(isolate())-&gt;IsNull());</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a717d3e36d3edfa81af6bfb0c213a9fdf">BuildCheckPrototypeMaps</a>(prototype,</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;                            Handle&lt;JSObject&gt;(<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(holder)));</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;  }</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22a">LoadKeyedHoleMode</a> load_mode = BuildKeyedHoleMode(map);</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a996288ec3d6236035c152e0174942291">BuildUncheckedMonomorphicElementAccess</a>(</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;      checked_object, key, val,</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;      map-&gt;instance_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>,</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;      map-&gt;elements_kind(), access_type,</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;      load_mode, store_mode);</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;}</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;HInstruction* HOptimizedGraphBuilder::TryBuildConsolidatedElementLoad(</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;    HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    HValue* key,</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;    HValue* val,</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;    SmallMapList* maps) {</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;  <span class="comment">// For polymorphic loads of similar elements kinds (i.e. all tagged or all</span></div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;  <span class="comment">// double), always use the &quot;worst case&quot; code without a transition.  This is</span></div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;  <span class="comment">// much faster than transitioning the elements to the worst case, trading a</span></div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;  <span class="comment">// HTransitionElements for a HCheckMaps, and avoiding mutation of the array.</span></div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;  <span class="keywordtype">bool</span> has_double_maps = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;  <span class="keywordtype">bool</span> has_smi_or_object_maps = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;  <span class="keywordtype">bool</span> has_js_array_access = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;  <span class="keywordtype">bool</span> has_non_js_array_access = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;  <span class="keywordtype">bool</span> has_seen_holey_elements = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;  Handle&lt;Map&gt; most_general_consolidated_map;</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; maps-&gt;length(); ++i) {</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;    Handle&lt;Map&gt; map = maps-&gt;at(i);</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;    <span class="keywordflow">if</span> (!map-&gt;IsJSObjectMap()) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;    <span class="comment">// Don&#39;t allow mixing of JSArrays with JSObjects.</span></div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;    <span class="keywordflow">if</span> (map-&gt;instance_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>) {</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;      <span class="keywordflow">if</span> (has_non_js_array_access) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;      has_js_array_access = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (has_js_array_access) {</div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;      has_non_js_array_access = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;    }</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    <span class="comment">// Don&#39;t allow mixed, incompatible elements kinds.</span></div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;    <span class="keywordflow">if</span> (map-&gt;has_fast_double_elements()) {</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;      <span class="keywordflow">if</span> (has_smi_or_object_maps) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;      has_double_maps = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (map-&gt;has_fast_smi_or_object_elements()) {</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;      <span class="keywordflow">if</span> (has_double_maps) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;      has_smi_or_object_maps = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;    }</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;    <span class="comment">// Remember if we&#39;ve ever seen holey elements.</span></div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a53a6bf552f8190db0bd7c7d53f1c7918">IsHoleyElementsKind</a>(map-&gt;elements_kind())) {</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;      has_seen_holey_elements = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;    }</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;    <span class="comment">// Remember the most general elements kind, the code for its load will</span></div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;    <span class="comment">// properly handle all of the more specific cases.</span></div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;    <span class="keywordflow">if</span> ((i == 0) || <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6baaca87a1767e2130114e682cd50db9">IsMoreGeneralElementsKindTransition</a>(</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;            most_general_consolidated_map-&gt;elements_kind(),</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;            map-&gt;elements_kind())) {</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;      most_general_consolidated_map = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>;</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;    }</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;  }</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;  <span class="keywordflow">if</span> (!has_double_maps &amp;&amp; !has_smi_or_object_maps) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;  HCheckMaps* checked_object = Add&lt;HCheckMaps&gt;(object, maps);</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;  <span class="comment">// FAST_ELEMENTS is considered more general than FAST_HOLEY_SMI_ELEMENTS.</span></div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;  <span class="comment">// If we&#39;ve seen both, the consolidated load must use FAST_HOLEY_ELEMENTS.</span></div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> consolidated_elements_kind = has_seen_holey_elements</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;      ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a833aa35070c4d09a0539211b3f2e3ec5">GetHoleyElementsKind</a>(most_general_consolidated_map-&gt;elements_kind())</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;      : most_general_consolidated_map-&gt;elements_kind();</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;  HInstruction* instr = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a996288ec3d6236035c152e0174942291">BuildUncheckedMonomorphicElementAccess</a>(</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;      checked_object, key, val,</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;      most_general_consolidated_map-&gt;instance_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>,</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;      consolidated_elements_kind,</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aa62d34769fade412a6389d4cb42ad620f">NEVER_RETURN_HOLE</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fca66b2cc45fbc29b0b2f72a80a3f9c1bf3">STANDARD_STORE</a>);</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;  <span class="keywordflow">return</span> instr;</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;}</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;HValue* HOptimizedGraphBuilder::HandlePolymorphicElementAccess(</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;    HValue* key,</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;    HValue* val,</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    SmallMapList* maps,</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type,</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fc">KeyedAccessStoreMode</a> store_mode,</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    <span class="keywordtype">bool</span>* has_side_effects) {</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;  *has_side_effects = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>) {</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;    HInstruction* consolidated_load =</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;        TryBuildConsolidatedElementLoad(<span class="keywordtype">object</span>, key, val, maps);</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;    <span class="keywordflow">if</span> (consolidated_load != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;      *has_side_effects |= consolidated_load-&gt;HasObservableSideEffects();</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;      <span class="keywordflow">return</span> consolidated_load;</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    }</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;  }</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;  <span class="comment">// Elements_kind transition support.</span></div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6cfc1ff6cff1f0d5011c965aa7f12d1d">MapHandleList</a> transition_target(maps-&gt;length());</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;  <span class="comment">// Collect possible transition targets.</span></div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6cfc1ff6cff1f0d5011c965aa7f12d1d">MapHandleList</a> possible_transitioned_maps(maps-&gt;length());</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; maps-&gt;length(); ++i) {</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;    Handle&lt;Map&gt; map = maps-&gt;at(i);</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> elements_kind = map-&gt;elements_kind();</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a915c289a31a33b4c18de441e4a1e5aab">IsFastElementsKind</a>(elements_kind) &amp;&amp;</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;        elements_kind != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af0e5d13d39f10d3ddf6bff5ba717bb8a">GetInitialFastElementsKind</a>()) {</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;      possible_transitioned_maps.Add(map);</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;    }</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    <span class="keywordflow">if</span> (elements_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a8a59c09d0d108a6c2d36d7fb9df6fd2c">SLOPPY_ARGUMENTS_ELEMENTS</a>) {</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;      HInstruction* result = BuildKeyedGeneric(access_type, <span class="keywordtype">object</span>, key, val);</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;      *has_side_effects = result-&gt;HasObservableSideEffects();</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(result);</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    }</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;  }</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;  <span class="comment">// Get transition target for each map (NULL == no transition).</span></div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; maps-&gt;length(); ++i) {</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    Handle&lt;Map&gt; map = maps-&gt;at(i);</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;    Handle&lt;Map&gt; transitioned_map =</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;        map-&gt;FindTransitionedMap(&amp;possible_transitioned_maps);</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;    transition_target.Add(transitioned_map);</div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;  }</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;</div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6cfc1ff6cff1f0d5011c965aa7f12d1d">MapHandleList</a> untransitionable_maps(maps-&gt;length());</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;  HTransitionElementsKind* transition = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; maps-&gt;length(); ++i) {</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;    Handle&lt;Map&gt; map = maps-&gt;at(i);</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(map-&gt;IsMap());</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;    <span class="keywordflow">if</span> (!transition_target.at(i).is_null()) {</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../de/dfe/classv8_1_1internal_1_1_map.html#a93bc9d6d381054a80ae203b641a6914c">Map::IsValidElementsTransition</a>(</div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;          map-&gt;elements_kind(),</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;          transition_target.at(i)-&gt;elements_kind()));</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;      transition = Add&lt;HTransitionElementsKind&gt;(object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>,</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;                                                transition_target.at(i));</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;      untransitionable_maps.Add(map);</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;    }</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;  }</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;  <span class="comment">// If only one map is left after transitioning, handle this case</span></div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;  <span class="comment">// monomorphically.</span></div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(untransitionable_maps.length() &gt;= 1);</div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;  <span class="keywordflow">if</span> (untransitionable_maps.length() == 1) {</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;    Handle&lt;Map&gt; untransitionable_map = untransitionable_maps[0];</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;    HInstruction* instr = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;    <span class="keywordflow">if</span> (untransitionable_map-&gt;has_slow_elements_kind() ||</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;        !untransitionable_map-&gt;IsJSObjectMap()) {</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;      instr = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(BuildKeyedGeneric(access_type, <span class="keywordtype">object</span>, key, val));</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;      instr = BuildMonomorphicElementAccess(</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;          <span class="keywordtype">object</span>, key, val, transition, untransitionable_map, access_type,</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;          store_mode);</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;    }</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;    *has_side_effects |= instr-&gt;HasObservableSideEffects();</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;    <span class="keywordflow">return</span> access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> : instr;</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;  }</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;  HBasicBlock* join = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; untransitionable_maps.length(); ++i) {</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;    Handle&lt;Map&gt; map = untransitionable_maps[i];</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;    <span class="keywordflow">if</span> (!map-&gt;IsJSObjectMap()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> elements_kind = map-&gt;elements_kind();</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;    HBasicBlock* this_map = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;    HBasicBlock* other_map = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;    HCompareMap* mapcompare =</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;        New&lt;HCompareMap&gt;(object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, this_map, other_map);</div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(mapcompare);</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(this_map);</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;    HInstruction* access = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa118dae48e9e2a76fcbae30229a33c17">IsDictionaryElementsKind</a>(elements_kind)) {</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;      access = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(BuildKeyedGeneric(access_type, <span class="keywordtype">object</span>, key, val));</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a915c289a31a33b4c18de441e4a1e5aab">IsFastElementsKind</a>(elements_kind) ||</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a20318bbc99b21525406362d2c106e24f">IsExternalArrayElementsKind</a>(elements_kind) ||</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abfa756fecfd44769fe637d8892887110">IsFixedTypedArrayElementsKind</a>(elements_kind));</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22a">LoadKeyedHoleMode</a> load_mode = BuildKeyedHoleMode(map);</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;      <span class="comment">// Happily, mapcompare is a checked object.</span></div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;      access = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a996288ec3d6236035c152e0174942291">BuildUncheckedMonomorphicElementAccess</a>(</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;          mapcompare, key, val,</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;          map-&gt;instance_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>,</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;          elements_kind, access_type,</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;          load_mode,</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;          store_mode);</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;    }</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;    *has_side_effects |= access-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#aceb0f7af1e8b7e17b9d1f8b5a44da7f4">HasObservableSideEffects</a>();</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;    <span class="comment">// The caller will use has_side_effects and add a correct Simulate.</span></div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;    access-&gt;SetFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa46e4dcb5db5814cdbf1f7b1e40ff2744">HValue::kHasNoObservableSideEffects</a>);</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;    <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>) {</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(access);</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;    }</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;    NoObservableSideEffectsScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6a998bcd4ddb7c919bc1001c34959e0c">GotoNoSimulate</a>(join);</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(other_map);</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;  }</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;  <span class="comment">// Ensure that we visited at least one map above that goes to join. This is</span></div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;  <span class="comment">// necessary because FinishExitWithHardDeoptimization does an AbnormalExit</span></div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;  <span class="comment">// rather than joining the join block. If this becomes an issue, insert a</span></div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;  <span class="comment">// generic access in the case length() == 0.</span></div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(join-&gt;predecessors()-&gt;length() &gt; 0);</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;  <span class="comment">// Deopt if none of the cases matched.</span></div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;  NoObservableSideEffectsScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a08e820301240173b1001a88abd50f65a">FinishExitWithHardDeoptimization</a>(<span class="stringliteral">&quot;Unknown map in polymorphic element access&quot;</span>);</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join);</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;  <span class="keywordflow">return</span> access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> : <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;}</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;</div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;HValue* HOptimizedGraphBuilder::HandleKeyedElementAccess(</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;    HValue* <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    HValue* key,</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;    HValue* val,</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;    Expression* expr,</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access_type,</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;    <span class="keywordtype">bool</span>* has_side_effects) {</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!expr-&gt;IsPropertyName());</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;  HInstruction* instr = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;  SmallMapList* types;</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;  <span class="keywordtype">bool</span> monomorphic = ComputeReceiverTypes(expr, obj, &amp;types, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;  <span class="keywordtype">bool</span> force_generic = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;  <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a> &amp;&amp;</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;      (monomorphic || (types != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; !types-&gt;is_empty()))) {</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;    <span class="comment">// Stores can&#39;t be mono/polymorphic if their prototype chain has dictionary</span></div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;    <span class="comment">// elements. However a receiver map that has dictionary elements itself</span></div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;    <span class="comment">// should be left to normal mono/poly behavior (the other maps may benefit</span></div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;    <span class="comment">// from highly optimized stores).</span></div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; types-&gt;length(); i++) {</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;      Handle&lt;Map&gt; current_map = types-&gt;at(i);</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;      <span class="keywordflow">if</span> (current_map-&gt;DictionaryElementsInPrototypeChainOnly()) {</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;        force_generic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;        monomorphic = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;      }</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;    }</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;  }</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;  <span class="keywordflow">if</span> (monomorphic) {</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;    Handle&lt;Map&gt; map = types-&gt;first();</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    <span class="keywordflow">if</span> (map-&gt;has_slow_elements_kind() || !map-&gt;IsJSObjectMap()) {</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;      instr = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(BuildKeyedGeneric(access_type, obj, key, val));</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(obj);</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;      instr = BuildMonomorphicElementAccess(</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;          obj, key, val, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, map, access_type, expr-&gt;GetStoreMode());</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;    }</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!force_generic &amp;&amp; (types != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; !types-&gt;is_empty())) {</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    <span class="keywordflow">return</span> HandlePolymorphicElementAccess(</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;        obj, key, val, types, access_type,</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;        expr-&gt;GetStoreMode(), has_side_effects);</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;    <span class="keywordflow">if</span> (access_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>) {</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;      <span class="keywordflow">if</span> (expr-&gt;IsAssignment() &amp;&amp;</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;          expr-&gt;AsAssignment()-&gt;HasNoTypeInformation()) {</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;        Add&lt;HDeoptimize&gt;(<span class="stringliteral">&quot;Insufficient type feedback for keyed store&quot;</span>,</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;                         <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82a93cba370b0f4922682be437a439c1a56">Deoptimizer::SOFT</a>);</div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;      }</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;      <span class="keywordflow">if</span> (expr-&gt;AsProperty()-&gt;HasNoTypeInformation()) {</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;        Add&lt;HDeoptimize&gt;(<span class="stringliteral">&quot;Insufficient type feedback for keyed load&quot;</span>,</div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;                         <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82a93cba370b0f4922682be437a439c1a56">Deoptimizer::SOFT</a>);</div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;      }</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;    }</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;    instr = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(BuildKeyedGeneric(access_type, obj, key, val));</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;  }</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;  *has_side_effects = instr-&gt;HasObservableSideEffects();</div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;  <span class="keywordflow">return</span> instr;</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;}</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::EnsureArgumentsArePushedForAccess() {</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;  <span class="comment">// Outermost function already has arguments on the stack.</span></div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;outer() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;arguments_pushed()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;  <span class="comment">// Push arguments when entering inlined function.</span></div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;  HEnterInlined* entry = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;entry();</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;  entry-&gt;set_arguments_pushed();</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;  HArgumentsObject* arguments = entry-&gt;arguments_object();</div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;  <span class="keyword">const</span> ZoneList&lt;HValue*&gt;* arguments_values = arguments-&gt;arguments_values();</div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;</div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;  HInstruction* insert_after = entry;</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; arguments_values-&gt;length(); i++) {</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;    HValue* argument = arguments_values-&gt;at(i);</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;    HInstruction* push_argument = New&lt;HPushArgument&gt;(argument);</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;    push_argument-&gt;InsertAfter(insert_after);</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    insert_after = push_argument;</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;  }</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;  HArgumentsElements* arguments_elements = New&lt;HArgumentsElements&gt;(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;  arguments_elements-&gt;ClearFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa7916713c20b23c785131483142654efa">HValue::kUseGVN</a>);</div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;  arguments_elements-&gt;InsertAfter(insert_after);</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;set_arguments_elements(arguments_elements);</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;}</div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryArgumentsAccess(Property* expr) {</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;  VariableProxy* proxy = expr-&gt;obj()-&gt;AsVariableProxy();</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;  <span class="keywordflow">if</span> (proxy == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;  <span class="keywordflow">if</span> (!proxy-&gt;var()-&gt;IsStackAllocated()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Lookup(proxy-&gt;var())-&gt;CheckFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905">HValue::kIsArguments</a>)) {</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;  }</div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;  HInstruction* result = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;key()-&gt;IsPropertyName()) {</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;    Handle&lt;String&gt; name = expr-&gt;key()-&gt;AsLiteral()-&gt;AsPropertyName();</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;    <span class="keywordflow">if</span> (!name-&gt;IsOneByteEqualTo(<a class="code" href="../../d5/d60/utils_8h.html#aaf2b51ac357499a1739790fd94bf90ec">STATIC_ASCII_VECTOR</a>(<span class="stringliteral">&quot;length&quot;</span>))) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;outer() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;      HInstruction* elements = Add&lt;HArgumentsElements&gt;(<span class="keyword">false</span>);</div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;      result = New&lt;HArgumentsLength&gt;(elements);</div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;      <span class="comment">// Number of arguments without receiver.</span></div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;      <span class="keywordtype">int</span> argument_count = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;</div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;          arguments_environment()-&gt;parameter_count() - 1;</div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;      result = New&lt;HConstant&gt;(argument_count);</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    }</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetArgumentsObject());</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ad67af5e4a8d3e657992e10f75cbbc650">CHECK_ALIVE_OR_RETURN</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;key()), <span class="keyword">true</span>);</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;    HValue* key = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Arguments object.</span></div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;outer() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;      HInstruction* elements = Add&lt;HArgumentsElements&gt;(<span class="keyword">false</span>);</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;      HInstruction* length = Add&lt;HArgumentsLength&gt;(elements);</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;      HInstruction* checked_key = Add&lt;HBoundsCheck&gt;(key, length);</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;      result = New&lt;HAccessArgumentsAt&gt;(elements, length, checked_key);</div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;      EnsureArgumentsArePushedForAccess();</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;</div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;      <span class="comment">// Number of arguments without receiver.</span></div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;      HInstruction* elements = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;arguments_elements();</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;      <span class="keywordtype">int</span> argument_count = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;          arguments_environment()-&gt;parameter_count() - 1;</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;      HInstruction* length = Add&lt;HConstant&gt;(argument_count);</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;      HInstruction* checked_key = Add&lt;HBoundsCheck&gt;(key, length);</div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;      result = New&lt;HAccessArgumentsAt&gt;(elements, length, checked_key);</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;    }</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;  }</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;}</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;</div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildNamedAccess(</div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">PropertyAccessType</a> access,</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;    BailoutId ast_id,</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;    BailoutId return_id,</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;    Expression* expr,</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;    HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;    Handle&lt;String&gt; name,</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;    HValue* value,</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;    <span class="keywordtype">bool</span> is_uninitialized) {</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;  SmallMapList* types;</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;  ComputeReceiverTypes(expr, <span class="keywordtype">object</span>, &amp;types, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(types != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;  <span class="keywordflow">if</span> (types-&gt;length() &gt; 0) {</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;    PropertyAccessInfo <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>(<span class="keyword">this</span>, access, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">ToType</a>(types-&gt;first()), name);</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;    <span class="keywordflow">if</span> (!info.CanAccessAsMonomorphic(types)) {</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;      HandlePolymorphicNamedFieldAccess(</div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;          access, ast_id, return_id, <span class="keywordtype">object</span>, value, types, name);</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;    }</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;    HValue* checked_object;</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;    <span class="comment">// Type::Number() is only supported by polymorphic load/call handling.</span></div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!info.type()-&gt;Is(Type::Number()));</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;    <span class="keywordflow">if</span> (AreStringTypes(types)) {</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;      checked_object =</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;          Add&lt;HCheckInstanceType&gt;(object, HCheckInstanceType::IS_STRING);</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;      checked_object = Add&lt;HCheckMaps&gt;(object, types);</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;    }</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;    <span class="keywordflow">return</span> BuildMonomorphicAccess(</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;        &amp;info, <span class="keywordtype">object</span>, checked_object, value, ast_id, return_id);</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;  }</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;  <span class="keywordflow">return</span> BuildNamedGeneric(access, <span class="keywordtype">object</span>, name, value, is_uninitialized);</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;}</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::PushLoad(Property* expr,</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;                                      HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;                                      HValue* key) {</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;  ValueContext for_value(<span class="keyword">this</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abce1eab366e996d40e43a1ec0e42e65caa6fe6d1581b1e2d2ba6c19d1c4716e04">ARGUMENTS_NOT_ALLOWED</a>);</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;  <span class="keywordflow">if</span> (key != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(key);</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;  BuildLoad(expr, expr-&gt;LoadId());</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;}</div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildLoad(Property* expr,</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;                                       BailoutId ast_id) {</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;  HInstruction* instr = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;IsStringAccess()) {</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;    HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;    HValue* <span class="keywordtype">string</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;    HInstruction* char_code = BuildStringCharCodeAt(<span class="keywordtype">string</span>, index);</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(char_code);</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;    instr = NewUncasted&lt;HStringCharFromCode&gt;(char_code);</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expr-&gt;IsFunctionPrototype()) {</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;    HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;    instr = New&lt;HLoadFunctionPrototype&gt;(<span class="keyword">function</span>);</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expr-&gt;key()-&gt;IsPropertyName()) {</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;    Handle&lt;String&gt; name = expr-&gt;key()-&gt;AsLiteral()-&gt;AsPropertyName();</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;    HValue* <span class="keywordtype">object</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;    instr = BuildNamedAccess(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>, ast_id, expr-&gt;LoadId(), expr,</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;                             object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, expr-&gt;IsUninitialized());</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;    <span class="keywordflow">if</span> (instr == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;IsLinked()) <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(instr);</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;    HValue* key = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;    HValue* obj = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;    <span class="keywordtype">bool</span> has_side_effects = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;    HValue* load = HandleKeyedElementAccess(</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;        obj, key, NULL, expr, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>, &amp;has_side_effects);</div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;    <span class="keywordflow">if</span> (has_side_effects) {</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) {</div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;        Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(load);</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;        Add&lt;HSimulate&gt;(ast_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;      }</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;    }</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(load);</div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;  }</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, ast_id);</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;}</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;</div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitProperty(Property* expr) {</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;  <span class="keywordflow">if</span> (TryArgumentsAccess(expr)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;obj()));</div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;  <span class="keywordflow">if</span> ((!expr-&gt;IsFunctionPrototype() &amp;&amp; !expr-&gt;key()-&gt;IsPropertyName()) ||</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;      expr-&gt;IsStringAccess()) {</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;key()));</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;  }</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;  BuildLoad(expr, expr-&gt;id());</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;}</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;</div>
<div class="line"><a name="l06767"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a4b437d31c4c9ee106d37709f0ec4e8da"> 6767</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a4b437d31c4c9ee106d37709f0ec4e8da">HGraphBuilder::BuildConstantMapCheck</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> constant,</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;                                                   <a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html">CompilationInfo</a>* info) {</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;  HConstant* constant_value = New&lt;HConstant&gt;(constant);</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;  <span class="keywordflow">if</span> (constant-&gt;map()-&gt;CanOmitMapChecks()) {</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;    constant-&gt;map()-&gt;AddDependentCompilationInfo(</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;        <a class="code" href="../../db/dc5/classv8_1_1internal_1_1_dependent_code.html#a66edae9ca9e69d08e0ac7aa83bbb926aa92c7b0ca46dfcbd79546c3d59e86536c">DependentCode::kPrototypeCheckGroup</a>, info);</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;    <span class="keywordflow">return</span> constant_value;</div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;  }</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(constant_value);</div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;  HCheckMaps* <a class="code" href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a> =</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;      Add&lt;HCheckMaps&gt;(constant_value, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(constant-&gt;map()), info);</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;  check-&gt;ClearDependsOnFlag(kElementsKind);</div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a>;</div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;}</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;</div>
<div class="line"><a name="l06785"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a717d3e36d3edfa81af6bfb0c213a9fdf"> 6785</a></span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a717d3e36d3edfa81af6bfb0c213a9fdf">HGraphBuilder::BuildCheckPrototypeMaps</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> prototype,</div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;                                                     <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> holder) {</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;  <span class="keywordflow">while</span> (!prototype.is_identical_to(holder)) {</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a4b437d31c4c9ee106d37709f0ec4e8da">BuildConstantMapCheck</a>(prototype, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;    prototype = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(prototype-&gt;GetPrototype()));</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;  }</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* checked_object = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a4b437d31c4c9ee106d37709f0ec4e8da">BuildConstantMapCheck</a>(prototype, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;  <span class="keywordflow">if</span> (!checked_object-&gt;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html#ad34b350674b9050dfa5d26760da8ec92">IsLinked</a>()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(checked_object);</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;  <span class="keywordflow">return</span> checked_object;</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;}</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;</div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::AddCheckPrototypeMaps(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> holder,</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;                                                   <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> receiver_map) {</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;  <span class="keywordflow">if</span> (!holder.<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a3c45461717ff230edd665ce24da988c5">is_null</a>()) {</div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> prototype(<a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(receiver_map-&gt;prototype()));</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a717d3e36d3edfa81af6bfb0c213a9fdf">BuildCheckPrototypeMaps</a>(prototype, holder);</div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;  }</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;}</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;</div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;HInstruction* HOptimizedGraphBuilder::NewPlainFunctionCall(</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;    HValue* fun, <span class="keywordtype">int</span> argument_count, <span class="keywordtype">bool</span> pass_argument_count) {</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;  <span class="keywordflow">return</span> New&lt;HCallJSFunction&gt;(</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;      fun, argument_count, pass_argument_count);</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;}</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;</div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;HInstruction* HOptimizedGraphBuilder::NewArgumentAdaptorCall(</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;    HValue* fun, HValue* context,</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;    <span class="keywordtype">int</span> argument_count, HValue* expected_param_count) {</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;  CallInterfaceDescriptor* descriptor =</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8caea30588dd8437e24438621711f39a">call_descriptor</a>(<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#ac5e8d679e912c212dd17e8b44bfccabbab6a31c741cea2d36f83106db20cb5ae1">Isolate::ArgumentAdaptorCall</a>);</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;</div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;  HValue* arity = Add&lt;HConstant&gt;(argument_count - 1);</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;</div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;  HValue* op_vals[] = { fun, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>, arity, expected_param_count };</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;  Handle&lt;Code&gt; adaptor =</div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3d230319268e1c88dc3e54cbddccf643">builtins</a>()-&gt;ArgumentsAdaptorTrampoline();</div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;  HConstant* adaptor_value = Add&lt;HConstant&gt;(adaptor);</div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;  <span class="keywordflow">return</span> New&lt;HCallWithDescriptor&gt;(</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;      adaptor_value, argument_count, descriptor,</div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;      Vector&lt;HValue*&gt;(op_vals, descriptor-&gt;environment_length()));</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;}</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;</div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;</div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildCallConstantFunction(</div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;    Handle&lt;JSFunction&gt; jsfun, <span class="keywordtype">int</span> argument_count) {</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;  HValue* target = Add&lt;HConstant&gt;(jsfun);</div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;  <span class="comment">// For constant functions, we try to avoid calling the</span></div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;  <span class="comment">// argument adaptor and instead call the function directly</span></div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6ddf95dba7f56f0f5bb385b2117969ee">formal_parameter_count</a> = jsfun-&gt;shared()-&gt;formal_parameter_count();</div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;  <span class="keywordtype">bool</span> dont_adapt_arguments =</div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;      (formal_parameter_count ==</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;       <a class="code" href="../../db/dc5/classv8_1_1internal_1_1_shared_function_info.html#a17fd71a1d4e430d68733db72857f1512">SharedFunctionInfo::kDontAdaptArgumentsSentinel</a>);</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;  <span class="keywordtype">int</span> arity = argument_count - 1;</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;  <span class="keywordtype">bool</span> can_invoke_directly =</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;      dont_adapt_arguments || formal_parameter_count == arity;</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;  <span class="keywordflow">if</span> (can_invoke_directly) {</div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;    <span class="keywordflow">if</span> (jsfun.is_identical_to(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;closure())) {</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;MarkRecursive();</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;    }</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;    <span class="keywordflow">return</span> NewPlainFunctionCall(target, argument_count, dont_adapt_arguments);</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;    HValue* param_count_value = Add&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6ddf95dba7f56f0f5bb385b2117969ee">formal_parameter_count</a>);</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;    HValue* context = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;        target, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;        HObjectAccess::ForFunctionContextPointer());</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;    <span class="keywordflow">return</span> NewArgumentAdaptorCall(target, context,</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;        argument_count, param_count_value);</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;  }</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;}</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;</div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::HandlePolymorphicCallNamed(</div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;    Call* expr,</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;    HValue* receiver,</div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;    SmallMapList* types,</div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;    Handle&lt;String&gt; name) {</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;  <span class="keywordtype">int</span> argument_count = expr-&gt;arguments()-&gt;length() + 1;  <span class="comment">// Includes receiver.</span></div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;  <span class="keywordtype">int</span> order[<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#abb0b69d0784701104857e5259cd2807f">kMaxCallPolymorphism</a>];</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;</div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;  <span class="keywordtype">bool</span> handle_smi = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;  <span class="keywordtype">bool</span> handled_string = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;  <span class="keywordtype">int</span> ordered_functions = 0;</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;       i &lt; types-&gt;length() &amp;&amp; ordered_functions &lt; <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#abb0b69d0784701104857e5259cd2807f">kMaxCallPolymorphism</a>;</div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;       ++i) {</div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;    PropertyAccessInfo <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>(<span class="keyword">this</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">ToType</a>(types-&gt;at(i)), name);</div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;    <span class="keywordflow">if</span> (info.CanAccessMonomorphic() &amp;&amp;</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;        info.lookup()-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;        info.constant()-&gt;IsJSFunction()) {</div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;      <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::String())) {</div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;        <span class="keywordflow">if</span> (handled_string) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;        handled_string = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;      }</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;      Handle&lt;JSFunction&gt; target = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSFunction&gt;::cast</a>(info.constant());</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;      <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::Number())) {</div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;        handle_smi = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;      }</div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;      expr-&gt;set_target(target);</div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;      order[ordered_functions++] = i;</div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;    }</div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;  }</div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;  HBasicBlock* number_block = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;  HBasicBlock* join = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;  handled_string = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;</div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fn = 0; fn &lt; ordered_functions; ++fn) {</div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;    <span class="keywordtype">int</span> i = order[fn];</div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;    PropertyAccessInfo <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>(<span class="keyword">this</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">ToType</a>(types-&gt;at(i)), name);</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;    <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::String())) {</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;      <span class="keywordflow">if</span> (handled_string) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;      handled_string = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;    }</div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;    <span class="comment">// Reloads the target.</span></div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;    info.CanAccessMonomorphic();</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;    Handle&lt;JSFunction&gt; target = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSFunction&gt;::cast</a>(info.constant());</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;    expr-&gt;set_target(target);</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;    <span class="keywordflow">if</span> (count == 0) {</div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;      <span class="comment">// Only needed once.</span></div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;      join = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;      <span class="keywordflow">if</span> (handle_smi) {</div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;        HBasicBlock* empty_smi_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;        HBasicBlock* not_smi_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;        number_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(New&lt;HIsSmiAndBranch&gt;(</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;                receiver, empty_smi_block, not_smi_block));</div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6a998bcd4ddb7c919bc1001c34959e0c">GotoNoSimulate</a>(empty_smi_block, number_block);</div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(not_smi_block);</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(receiver);</div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;      }</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;    }</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;    ++count;</div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;    HBasicBlock* if_true = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;    HBasicBlock* if_false = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;    HUnaryControlInstruction* compare;</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;    Handle&lt;Map&gt; map = info.map();</div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;    <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::Number())) {</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;      Handle&lt;Map&gt; heap_number_map = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;heap_number_map();</div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;      compare = New&lt;HCompareMap&gt;(receiver, heap_number_map, if_true, if_false);</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::String())) {</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;      compare = New&lt;HIsStringAndBranch&gt;(receiver, if_true, if_false);</div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;      compare = New&lt;HCompareMap&gt;(receiver, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>, if_true, if_false);</div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;    }</div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(compare);</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;    <span class="keywordflow">if</span> (info.type()-&gt;Is(Type::Number())) {</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6a998bcd4ddb7c919bc1001c34959e0c">GotoNoSimulate</a>(if_true, number_block);</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;      if_true = number_block;</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;    }</div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;</div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(if_true);</div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;</div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;    AddCheckPrototypeMaps(info.holder(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>);</div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;</div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;    HValue* <span class="keyword">function</span> = Add&lt;HConstant&gt;(expr-&gt;target());</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(0, <span class="keyword">function</span>);</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(receiver);</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;    <span class="keywordtype">bool</span> needs_wrapping = NeedsWrappingFor(info.type(), target);</div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;    <span class="keywordtype">bool</span> try_inline = FLAG_polymorphic_inlining &amp;&amp; !needs_wrapping;</div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;    <span class="keywordflow">if</span> (FLAG_trace_inlining &amp;&amp; try_inline) {</div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;      Handle&lt;JSFunction&gt; caller = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a43d5916dd68b23ba4a7c6b3f0d9e03a0">closure</a>();</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;      SmartArrayPointer&lt;char&gt; caller_name =</div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;          caller-&gt;shared()-&gt;DebugName()-&gt;ToCString();</div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Trying to inline the polymorphic call to %s from %s\n&quot;</span>,</div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;             name-&gt;ToCString().get(),</div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;             caller_name.get());</div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;    }</div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;    <span class="keywordflow">if</span> (try_inline &amp;&amp; TryInlineCall(expr)) {</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;      <span class="comment">// Trying to inline will signal that we should bailout from the</span></div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;      <span class="comment">// entire compilation by setting stack overflow on the visitor.</span></div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;      <span class="keywordflow">if</span> (HasStackOverflow()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;      <span class="comment">// Since HWrapReceiver currently cannot actually wrap numbers and strings,</span></div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;      <span class="comment">// use the regular CallFunctionStub for method calls to wrap the receiver.</span></div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;      <span class="comment">// TODO(verwaest): Support creation of value wrappers directly in</span></div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;      <span class="comment">// HWrapReceiver.</span></div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;      HInstruction* call = needs_wrapping</div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;          ? NewUncasted&lt;HCallFunction&gt;(</div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;              <span class="keyword">function</span>, argument_count, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436ab7af362adcfed46a5d204bb10b0fa9e1">WRAP_AND_CALL</a>)</div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;          : BuildCallConstantFunction(target, argument_count);</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(call);</div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Drop the function.</span></div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(call);</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;    }</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;</div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(join);</div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(if_false);</div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;  }</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;</div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;  <span class="comment">// Finish up.  Unconditionally deoptimize if we&#39;ve handled all the maps we</span></div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;  <span class="comment">// know about and do not want to handle ones we&#39;ve never seen.  Otherwise</span></div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;  <span class="comment">// use a generic IC.</span></div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;  <span class="keywordflow">if</span> (ordered_functions == types-&gt;length() &amp;&amp; FLAG_deoptimize_uncommon_cases) {</div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a08e820301240173b1001a88abd50f65a">FinishExitWithHardDeoptimization</a>(<span class="stringliteral">&quot;Unknown map in polymorphic call&quot;</span>);</div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;    Property* prop = expr-&gt;expression()-&gt;AsProperty();</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;    HInstruction* <span class="keyword">function</span> = BuildNamedGeneric(</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>, receiver, name, NULL, prop-&gt;IsUninitialized());</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a03ce1190c6f922905011ae419ea700d9">AddSimulate</a>(prop-&gt;LoadId(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(1, <span class="keyword">function</span>);</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(0, receiver);</div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;</div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436">CallFunctionFlags</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a> = receiver-&gt;type().IsJSObject()</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;        ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436a92bd7a85c89f0d4afc3686b142829eba">NO_CALL_FUNCTION_FLAGS</a> : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436a867d7e93065f39103b9e480005ee1250">CALL_AS_METHOD</a>;</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;    HInstruction* call = New&lt;HCallFunction&gt;(</div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;        <span class="keyword">function</span>, argument_count, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a>);</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;</div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Function.</span></div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;</div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;    <span class="keywordflow">if</span> (join != NULL) {</div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(call);</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(call);</div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(join);</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(call, expr-&gt;id());</div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;    }</div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;  }</div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;  <span class="comment">// We assume that control flow is always live after an expression.  So</span></div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;  <span class="comment">// even without predecessors to the join block, we set it as the exit</span></div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;  <span class="comment">// block and continue by adding instructions there.</span></div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(join != NULL);</div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;  <span class="keywordflow">if</span> (join-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join);</div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;    join-&gt;SetJoinId(expr-&gt;id());</div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(NULL);</div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;  }</div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;}</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;</div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;</div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::TraceInline(Handle&lt;JSFunction&gt; target,</div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;                                         Handle&lt;JSFunction&gt; caller,</div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;                                         <span class="keyword">const</span> <span class="keywordtype">char</span>* reason) {</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;  <span class="keywordflow">if</span> (FLAG_trace_inlining) {</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;    SmartArrayPointer&lt;char&gt; target_name =</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;        target-&gt;shared()-&gt;DebugName()-&gt;ToCString();</div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;    SmartArrayPointer&lt;char&gt; caller_name =</div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;        caller-&gt;shared()-&gt;DebugName()-&gt;ToCString();</div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;    <span class="keywordflow">if</span> (reason == NULL) {</div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Inlined %s called from %s.\n&quot;</span>, target_name.get(),</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;             caller_name.get());</div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Did not inline %s called from %s (%s).\n&quot;</span>,</div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;             target_name.get(), caller_name.get(), reason);</div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;    }</div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;  }</div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;}</div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;</div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;</div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNotInlinable = 1000000000;</div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;</div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;</div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;<span class="keywordtype">int</span> HOptimizedGraphBuilder::InliningAstSize(Handle&lt;JSFunction&gt; target) {</div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;  <span class="keywordflow">if</span> (!FLAG_use_inlining) <span class="keywordflow">return</span> kNotInlinable;</div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;</div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;  <span class="comment">// Precondition: call is monomorphic and we have found a target with the</span></div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;  <span class="comment">// appropriate arity.</span></div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;  Handle&lt;JSFunction&gt; caller = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a43d5916dd68b23ba4a7c6b3f0d9e03a0">closure</a>();</div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;  Handle&lt;SharedFunctionInfo&gt; target_shared(target-&gt;shared());</div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;</div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;  <span class="comment">// Always inline builtins marked for inlining.</span></div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;  <span class="keywordflow">if</span> (target-&gt;IsBuiltin()) {</div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;    <span class="keywordflow">return</span> target_shared-&gt;inline_builtin() ? 0 : kNotInlinable;</div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;  }</div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;</div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;  <span class="comment">// Do a quick check on source code length to avoid parsing large</span></div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;  <span class="comment">// inlining candidates.</span></div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;  <span class="keywordflow">if</span> (target_shared-&gt;SourceSize() &gt;</div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(FLAG_max_inlined_source_size, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a273f056167a57c81457080483af499c3">kUnlimitedMaxInlinedSourceSize</a>)) {</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;target text too big&quot;</span>);</div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;    <span class="keywordflow">return</span> kNotInlinable;</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;  }</div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;</div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;  <span class="comment">// Target must be inlineable.</span></div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;  <span class="keywordflow">if</span> (!target_shared-&gt;IsInlineable()) {</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;target not inlineable&quot;</span>);</div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;    <span class="keywordflow">return</span> kNotInlinable;</div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;  }</div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;  <span class="keywordflow">if</span> (target_shared-&gt;dont_inline() || target_shared-&gt;dont_optimize()) {</div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;target contains unsupported syntax [early]&quot;</span>);</div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;    <span class="keywordflow">return</span> kNotInlinable;</div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;  }</div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;</div>
<div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;  <span class="keywordtype">int</span> nodes_added = target_shared-&gt;ast_node_count();</div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;  <span class="keywordflow">return</span> nodes_added;</div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;}</div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;</div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;</div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInline(Handle&lt;JSFunction&gt; target,</div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;                                       <span class="keywordtype">int</span> arguments_count,</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;                                       HValue* implicit_return_value,</div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;                                       BailoutId ast_id,</div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;                                       BailoutId return_id,</div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;                                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312">InliningKind</a> inlining_kind,</div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;                                       HSourcePosition position) {</div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;  <span class="keywordtype">int</span> nodes_added = InliningAstSize(target);</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;  <span class="keywordflow">if</span> (nodes_added == kNotInlinable) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;  Handle&lt;JSFunction&gt; caller = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a43d5916dd68b23ba4a7c6b3f0d9e03a0">closure</a>();</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;  <span class="keywordflow">if</span> (nodes_added &gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(FLAG_max_inlined_nodes, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a73a84cc619e5b663a2636a948533c40e">kUnlimitedMaxInlinedNodes</a>)) {</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;target AST is too large [early]&quot;</span>);</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;  }</div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;  <span class="comment">// Don&#39;t inline deeper than the maximum number of inlining levels.</span></div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;  HEnvironment* env = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>();</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;  <span class="keywordtype">int</span> current_level = 1;</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;  <span class="keywordflow">while</span> (env-&gt;outer() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;    <span class="keywordflow">if</span> (current_level == FLAG_max_inlining_levels) {</div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;      TraceInline(target, caller, <span class="stringliteral">&quot;inline depth limit reached&quot;</span>);</div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;    }</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;    <span class="keywordflow">if</span> (env-&gt;outer()-&gt;frame_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2">JS_FUNCTION</a>) {</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;      current_level++;</div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;    }</div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;    env = env-&gt;outer();</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;  }</div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;</div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;  <span class="comment">// Don&#39;t inline recursive functions.</span></div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4701e71c2466ba402928d2c2f816fb4a">FunctionState</a>* state = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>();</div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;       state != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;       state = state-&gt;outer()) {</div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;    <span class="keywordflow">if</span> (*state-&gt;compilation_info()-&gt;closure() == *target) {</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;      TraceInline(target, caller, <span class="stringliteral">&quot;target is recursive&quot;</span>);</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;    }</div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;  }</div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;</div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;  <span class="comment">// We don&#39;t want to add more than a certain number of nodes from inlining.</span></div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;  <span class="keywordflow">if</span> (inlined_count_ &gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(FLAG_max_inlined_nodes_cumulative,</div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;                           <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a9178497969531f003b1601efac92faa2">kUnlimitedMaxInlinedNodesCumulative</a>)) {</div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;cumulative AST node limit reached&quot;</span>);</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;  }</div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;</div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;  <span class="comment">// Parse and allocate variables.</span></div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;  CompilationInfo target_info(target, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;  Handle&lt;SharedFunctionInfo&gt; target_shared(target-&gt;shared());</div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../db/dd5/classv8_1_1internal_1_1_parser.html#a2dcaf78b9824c17d022a8c1fd2c33b14">Parser::Parse</a>(&amp;target_info) || !<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a96fa453b7221d11bcf0a02ba08ea5f67">Scope::Analyze</a>(&amp;target_info)) {</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;    <span class="keywordflow">if</span> (target_info.isolate()-&gt;has_pending_exception()) {</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;      <span class="comment">// Parse or scope error, never optimize this function.</span></div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;      SetStackOverflow();</div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;      target_shared-&gt;DisableOptimization(kParseScopeError);</div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;    }</div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;parse failure&quot;</span>);</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;  }</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;</div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;  <span class="keywordflow">if</span> (target_info.scope()-&gt;num_heap_slots() &gt; 0) {</div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;target has context-allocated variables&quot;</span>);</div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;  }</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;  FunctionLiteral* <span class="keyword">function</span> = target_info.function();</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;</div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;  <span class="comment">// The following conditions must be checked again after re-parsing, because</span></div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;  <span class="comment">// earlier the information might not have been complete due to lazy parsing.</span></div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;  nodes_added = <span class="keyword">function</span>-&gt;ast_node_count();</div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;  <span class="keywordflow">if</span> (nodes_added &gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(FLAG_max_inlined_nodes, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a73a84cc619e5b663a2636a948533c40e">kUnlimitedMaxInlinedNodes</a>)) {</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;target AST is too large [late]&quot;</span>);</div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;  }</div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;  AstProperties::Flags* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a>(function-&gt;flags());</div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;  <span class="keywordflow">if</span> (flags-&gt;Contains(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a460e9913460fd2c1ca1c0a4360c8e818afcccfb681c3288636fc4d56d0cad21fa">kDontInline</a>) || <span class="keyword">function</span>-&gt;dont_optimize()) {</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;target contains unsupported syntax [late]&quot;</span>);</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;  }</div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;  <span class="comment">// If the function uses the arguments object check that inlining of functions</span></div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;  <span class="comment">// with arguments object is enabled and the arguments-variable is</span></div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;  <span class="comment">// stack allocated.</span></div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;  <span class="keywordflow">if</span> (function-&gt;scope()-&gt;arguments() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;    <span class="keywordflow">if</span> (!FLAG_inline_arguments) {</div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;      TraceInline(target, caller, <span class="stringliteral">&quot;target uses arguments object&quot;</span>);</div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;    }</div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;</div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;    <span class="keywordflow">if</span> (!function-&gt;scope()-&gt;arguments()-&gt;IsStackAllocated()) {</div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;      TraceInline(target,</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;                  caller,</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;                  <span class="stringliteral">&quot;target uses non-stackallocated arguments object&quot;</span>);</div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;    }</div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;  }</div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;  <span class="comment">// All declarations must be inlineable.</span></div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;  ZoneList&lt;Declaration*&gt;* decls = target_info.scope()-&gt;declarations();</div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;  <span class="keywordtype">int</span> decl_count = decls-&gt;length();</div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; decl_count; ++i) {</div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;    <span class="keywordflow">if</span> (!decls-&gt;at(i)-&gt;IsInlineable()) {</div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;      TraceInline(target, caller, <span class="stringliteral">&quot;target has non-trivial declaration&quot;</span>);</div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;    }</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;  }</div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;  <span class="comment">// Generate the deoptimization data for the unoptimized version of</span></div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;  <span class="comment">// the target function if we don&#39;t already have it.</span></div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;  <span class="keywordflow">if</span> (!target_shared-&gt;has_deoptimization_support()) {</div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;    <span class="comment">// Note that we compile here using the same AST that we will use for</span></div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;    <span class="comment">// generating the optimized inline code.</span></div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;    target_info.EnableDeoptimizationSupport();</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/da6/classv8_1_1internal_1_1_full_code_generator.html#a470e7c99901e65556fa0ccaf040ceb0c">FullCodeGenerator::MakeCode</a>(&amp;target_info)) {</div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;      TraceInline(target, caller, <span class="stringliteral">&quot;could not generate deoptimization info&quot;</span>);</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;    }</div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;    <span class="keywordflow">if</span> (target_shared-&gt;scope_info() == <a class="code" href="../../d3/d5a/classv8_1_1internal_1_1_scope_info.html#a449a8a9edc202db7118199738772154b">ScopeInfo::Empty</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>())) {</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;      <span class="comment">// The scope info might not have been set if a lazily compiled</span></div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;      <span class="comment">// function is inlined before being called for the first time.</span></div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;      Handle&lt;ScopeInfo&gt; target_scope_info =</div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;          <a class="code" href="../../d3/d5a/classv8_1_1internal_1_1_scope_info.html#a3f9b28f6d2aa26d2e892fd249f5d6581">ScopeInfo::Create</a>(target_info.scope(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;      target_shared-&gt;set_scope_info(*target_scope_info);</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;    }</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;    target_shared-&gt;EnableDeoptimizationSupport(*target_info.code());</div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;    <a class="code" href="../../d6/dd3/classv8_1_1internal_1_1_compiler.html#a3f7a4b436feb61ad90e35a85aad003cf">Compiler::RecordFunctionCompilation</a>(Logger::FUNCTION_TAG,</div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;                                        &amp;target_info,</div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;                                        target_shared);</div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;  }</div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;</div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;  <span class="comment">// ----------------------------------------------------------------</span></div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;  <span class="comment">// After this point, we&#39;ve made a decision to inline this function (so</span></div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;  <span class="comment">// TryInline should always return true).</span></div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;</div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;  <span class="comment">// Type-check the inlined function.</span></div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(target_shared-&gt;has_deoptimization_support());</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;  <a class="code" href="../../d3/d42/classv8_1_1internal_1_1_ast_typer.html#a73a66389a4617a80e6fb67bb7f35f79f">AstTyper::Run</a>(&amp;target_info);</div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;</div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;  <span class="keywordtype">int</span> function_id = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;TraceInlinedFunction(target_shared, position);</div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;  <span class="comment">// Save the pending call context. Set up new one for the inlined function.</span></div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;  <span class="comment">// The function state is new-allocated because we need to delete it</span></div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;  <span class="comment">// in two different places.</span></div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4701e71c2466ba402928d2c2f816fb4a">FunctionState</a>* target_state = <span class="keyword">new</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4701e71c2466ba402928d2c2f816fb4a">FunctionState</a>(</div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;      <span class="keyword">this</span>, &amp;target_info, inlining_kind, function_id);</div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;</div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;  HConstant* undefined = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined();</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;</div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;  HEnvironment* inner_env =</div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;CopyForInlining(target,</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;                                     arguments_count,</div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;                                     <span class="keyword">function</span>,</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;                                     undefined,</div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;                                     <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;inlining_kind());</div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;  HConstant* context = Add&lt;HConstant&gt;(Handle&lt;Context&gt;(target-&gt;context()));</div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;  inner_env-&gt;BindContext(context);</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;  Add&lt;HSimulate&gt;(return_id);</div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;UpdateEnvironment(inner_env);</div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;  HArgumentsObject* arguments_object = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;</div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;  <span class="comment">// If the function uses arguments object create and bind one, also copy</span></div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;  <span class="comment">// current arguments values to use them for materialization.</span></div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;  <span class="keywordflow">if</span> (function-&gt;scope()-&gt;arguments() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(function-&gt;scope()-&gt;arguments()-&gt;IsStackAllocated());</div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;    HEnvironment* arguments_env = inner_env-&gt;arguments_environment();</div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;    <span class="keywordtype">int</span> arguments_count = arguments_env-&gt;parameter_count();</div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;    arguments_object = Add&lt;HArgumentsObject&gt;(arguments_count);</div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;    inner_env-&gt;Bind(function-&gt;scope()-&gt;arguments(), arguments_object);</div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; arguments_count; i++) {</div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;      arguments_object-&gt;AddArgument(arguments_env-&gt;Lookup(i), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;    }</div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;  }</div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;</div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;  HEnterInlined* enter_inlined =</div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;      Add&lt;HEnterInlined&gt;(target, arguments_count, <span class="keyword">function</span>,</div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;                         <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;inlining_kind(),</div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;                         <span class="keyword">function</span>-&gt;scope()-&gt;arguments(),</div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;                         arguments_object);</div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;set_entry(enter_inlined);</div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;</div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a441748933d86305d6e102f1c1f541b7b">VisitDeclarations</a>(target_info.scope()-&gt;declarations());</div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3dc7547074f94ab51e0bf699b120c856">VisitStatements</a>(function-&gt;body());</div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;  <span class="keywordflow">if</span> (HasStackOverflow()) {</div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;    <span class="comment">// Bail out if the inline function did, as we cannot residualize a call</span></div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;    <span class="comment">// instead.</span></div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;inline graph construction failed&quot;</span>);</div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;    target_shared-&gt;DisableOptimization(kInliningBailedOut);</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;    inline_bailout_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;    <span class="keyword">delete</span> target_state;</div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;  }</div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;</div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;  <span class="comment">// Update inlined nodes count.</span></div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;  inlined_count_ += nodes_added;</div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;</div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;  Handle&lt;Code&gt; unoptimized_code(target_shared-&gt;code());</div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(unoptimized_code-&gt;kind() == Code::FUNCTION);</div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;  Handle&lt;TypeFeedbackInfo&gt; type_info(</div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;      <a class="code" href="../../d5/d14/classv8_1_1internal_1_1_type_feedback_info.html#a4314051e5e0fb9c20a824f8f76a62c8b">TypeFeedbackInfo::cast</a>(unoptimized_code-&gt;type_feedback_info()));</div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;update_type_change_checksum(type_info-&gt;own_type_change_checksum());</div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;</div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;  TraceInline(target, caller, NULL);</div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;</div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL) {</div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4701e71c2466ba402928d2c2f816fb4a">FunctionState</a>* state = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>();</div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;    <span class="keywordflow">if</span> (state-&gt;inlining_kind() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a344f0e0cab9e6c247c91d55f674091cf">CONSTRUCT_CALL_RETURN</a>) {</div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;      <span class="comment">// Falling off the end of an inlined construct call. In a test context the</span></div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;      <span class="comment">// return value will always evaluate to true, in a value context the</span></div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;      <span class="comment">// return value is the newly allocated receiver.</span></div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#a3927d4be0a253f5555bc8437b4ad5f01">IsTest</a>()) {</div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7f3e4cf14567a107b9699fa9e7a0e525">inlined_test_context</a>()-&gt;if_true(), state);</div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;IsEffect()) {</div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>(), state);</div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;IsValue());</div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a30b98113e90352d2ec44b7ae2720a1cf">AddLeaveInlined</a>(implicit_return_value, state);</div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;      }</div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state-&gt;inlining_kind() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a7d1a13bc2ae1bf8da31ac41c093985d5">SETTER_CALL_RETURN</a>) {</div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;      <span class="comment">// Falling off the end of an inlined setter call. The returned value is</span></div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;      <span class="comment">// never used, the value of an assignment is always the value of the RHS</span></div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;      <span class="comment">// of the assignment.</span></div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#a3927d4be0a253f5555bc8437b4ad5f01">IsTest</a>()) {</div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7f3e4cf14567a107b9699fa9e7a0e525">inlined_test_context</a>()-&gt;ReturnValue(implicit_return_value);</div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;IsEffect()) {</div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>(), state);</div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;IsValue());</div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a30b98113e90352d2ec44b7ae2720a1cf">AddLeaveInlined</a>(implicit_return_value, state);</div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;      }</div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;      <span class="comment">// Falling off the end of a normal inlined function. This basically means</span></div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;      <span class="comment">// returning undefined.</span></div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;IsTest()) {</div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7f3e4cf14567a107b9699fa9e7a0e525">inlined_test_context</a>()-&gt;if_false(), state);</div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;IsEffect()) {</div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>(), state);</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">call_context</a>()-&gt;IsValue());</div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a30b98113e90352d2ec44b7ae2720a1cf">AddLeaveInlined</a>(undefined, state);</div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;      }</div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;    }</div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;  }</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;</div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;  <span class="comment">// Fix up the function exits.</span></div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7f3e4cf14567a107b9699fa9e7a0e525">inlined_test_context</a>() != NULL) {</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;    HBasicBlock* if_true = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7f3e4cf14567a107b9699fa9e7a0e525">inlined_test_context</a>()-&gt;if_true();</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;    HBasicBlock* if_false = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7f3e4cf14567a107b9699fa9e7a0e525">inlined_test_context</a>()-&gt;if_false();</div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;    HEnterInlined* entry = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;entry();</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;    <span class="comment">// Pop the return test context from the expression context stack.</span></div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>() == <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7f3e4cf14567a107b9699fa9e7a0e525">inlined_test_context</a>());</div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa4d06e7241735c40e3edb2a7cd48bc70">ClearInlinedTestContext</a>();</div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;    <span class="keyword">delete</span> target_state;</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;    <span class="comment">// Forward to the real test context.</span></div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;    <span class="keywordflow">if</span> (if_true-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;      entry-&gt;RegisterReturnTarget(if_true, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;      if_true-&gt;SetJoinId(ast_id);</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;      HBasicBlock* true_target = TestContext::cast(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>())-&gt;if_true();</div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(if_true, true_target, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>());</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;    }</div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;    <span class="keywordflow">if</span> (if_false-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;      entry-&gt;RegisterReturnTarget(if_false, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;      if_false-&gt;SetJoinId(ast_id);</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;      HBasicBlock* false_target = TestContext::cast(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>())-&gt;if_false();</div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">Goto</a>(if_false, false_target, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>());</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;    }</div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(NULL);</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;</div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>()-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;entry()-&gt;RegisterReturnTarget(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>()-&gt;SetJoinId(ast_id);</div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">function_return</a>());</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(NULL);</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;  }</div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;  <span class="keyword">delete</span> target_state;</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;}</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineCall(Call* expr) {</div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;  <span class="keywordflow">return</span> TryInline(expr-&gt;target(),</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;                   expr-&gt;arguments()-&gt;length(),</div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>,</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;                   expr-&gt;id(),</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;                   expr-&gt;ReturnId(),</div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312ab59913d2688782bce300f8d56bccf952">NORMAL_RETURN</a>,</div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;                   <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(expr-&gt;position()));</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;}</div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineConstruct(CallNew* expr,</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;                                                HValue* implicit_return_value) {</div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;  <span class="keywordflow">return</span> TryInline(expr-&gt;target(),</div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;                   expr-&gt;arguments()-&gt;length(),</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;                   implicit_return_value,</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;                   expr-&gt;id(),</div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;                   expr-&gt;ReturnId(),</div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a344f0e0cab9e6c247c91d55f674091cf">CONSTRUCT_CALL_RETURN</a>,</div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;                   <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(expr-&gt;position()));</div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;}</div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;</div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;</div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineGetter(Handle&lt;JSFunction&gt; getter,</div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;                                             Handle&lt;Map&gt; receiver_map,</div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;                                             BailoutId ast_id,</div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;                                             BailoutId return_id) {</div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;  <span class="keywordflow">if</span> (TryInlineApiGetter(getter, receiver_map, ast_id)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;  <span class="keywordflow">return</span> TryInline(getter,</div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;                   0,</div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;                   NULL,</div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;                   ast_id,</div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;                   return_id,</div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a15d9cc32285e1c5e26ed4e761782ebd5">GETTER_CALL_RETURN</a>,</div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;                   <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0275713dabf03a3ae81851b4313abcb1">source_position</a>());</div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;}</div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;</div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;</div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineSetter(Handle&lt;JSFunction&gt; setter,</div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;                                             Handle&lt;Map&gt; receiver_map,</div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;                                             BailoutId <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;                                             BailoutId assignment_id,</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;                                             HValue* implicit_return_value) {</div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;  <span class="keywordflow">if</span> (TryInlineApiSetter(setter, receiver_map, <span class="keywordtype">id</span>)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;  <span class="keywordflow">return</span> TryInline(setter,</div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;                   1,</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;                   implicit_return_value,</div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;                   <span class="keywordtype">id</span>, assignment_id,</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a7d1a13bc2ae1bf8da31ac41c093985d5">SETTER_CALL_RETURN</a>,</div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;                   <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0275713dabf03a3ae81851b4313abcb1">source_position</a>());</div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;}</div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;</div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;</div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineApply(Handle&lt;JSFunction&gt; <span class="keyword">function</span>,</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;                                            Call* expr,</div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;                                            <span class="keywordtype">int</span> arguments_count) {</div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;  <span class="keywordflow">return</span> TryInline(<span class="keyword">function</span>,</div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;                   arguments_count,</div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;                   NULL,</div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;                   expr-&gt;id(),</div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;                   expr-&gt;ReturnId(),</div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312ab59913d2688782bce300f8d56bccf952">NORMAL_RETURN</a>,</div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;                   <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(expr-&gt;position()));</div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;}</div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;</div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;</div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineBuiltinFunctionCall(Call* expr) {</div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;  <span class="keywordflow">if</span> (!expr-&gt;target()-&gt;shared()-&gt;HasBuiltinFunctionId()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20f">BuiltinFunctionId</a> <span class="keywordtype">id</span> = expr-&gt;target()-&gt;shared()-&gt;builtin_function_id();</div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;  <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;    <span class="keywordflow">case</span> kMathExp:</div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;      <span class="keywordflow">if</span> (!FLAG_fast_math) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;      <span class="comment">// Fall through if FLAG_fast_math.</span></div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;    <span class="keywordflow">case</span> kMathRound:</div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;    <span class="keywordflow">case</span> kMathFloor:</div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;    <span class="keywordflow">case</span> kMathAbs:</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;    <span class="keywordflow">case</span> kMathSqrt:</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;    <span class="keywordflow">case</span> kMathLog:</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20fa5232e3ca97bc06154c3b4763f5cfe0d9">kMathClz32</a>:</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;      <span class="keywordflow">if</span> (expr-&gt;arguments()-&gt;length() == 1) {</div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;        HValue* argument = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(2);  <span class="comment">// Receiver and function.</span></div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;        HInstruction* op = NewUncasted&lt;HUnaryMathOperation&gt;(argument, id);</div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(op, expr-&gt;id());</div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;      }</div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;    <span class="keywordflow">case</span> kMathImul:</div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;      <span class="keywordflow">if</span> (expr-&gt;arguments()-&gt;length() == 2) {</div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;        HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;        HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(2);  <span class="comment">// Receiver and function.</span></div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;        HInstruction* op = HMul::NewImul(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>(), <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>(), left, right);</div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(op, expr-&gt;id());</div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;      }</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;      <span class="comment">// Not supported for inlining yet.</span></div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;  }</div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;}</div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;</div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;</div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineBuiltinMethodCall(</div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;    Call* expr,</div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;    HValue* receiver,</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;    Handle&lt;Map&gt; receiver_map) {</div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;  <span class="comment">// Try to inline calls like Math.* as operations in the calling function.</span></div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;  <span class="keywordflow">if</span> (!expr-&gt;target()-&gt;shared()-&gt;HasBuiltinFunctionId()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20f">BuiltinFunctionId</a> <span class="keywordtype">id</span> = expr-&gt;target()-&gt;shared()-&gt;builtin_function_id();</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;  <span class="keywordtype">int</span> argument_count = expr-&gt;arguments()-&gt;length() + 1;  <span class="comment">// Plus receiver.</span></div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;  <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;    <span class="keywordflow">case</span> kStringCharCodeAt:</div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;    <span class="keywordflow">case</span> kStringCharAt:</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;      <span class="keywordflow">if</span> (argument_count == 2) {</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;        HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;        HValue* <span class="keywordtype">string</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Function.</span></div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;        HInstruction* char_code =</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;            BuildStringCharCodeAt(<span class="keywordtype">string</span>, index);</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == kStringCharCodeAt) {</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;          <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(char_code, expr-&gt;id());</div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;        }</div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(char_code);</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;        HInstruction* result = NewUncasted&lt;HStringCharFromCode&gt;(char_code);</div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;      }</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;    <span class="keywordflow">case</span> kStringFromCharCode:</div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;      <span class="keywordflow">if</span> (argument_count == 2) {</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;        HValue* argument = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(2);  <span class="comment">// Receiver and function.</span></div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;        HInstruction* result = NewUncasted&lt;HStringCharFromCode&gt;(argument);</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;      }</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;    <span class="keywordflow">case</span> kMathExp:</div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;      <span class="keywordflow">if</span> (!FLAG_fast_math) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;      <span class="comment">// Fall through if FLAG_fast_math.</span></div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;    <span class="keywordflow">case</span> kMathRound:</div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;    <span class="keywordflow">case</span> kMathFloor:</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;    <span class="keywordflow">case</span> kMathAbs:</div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;    <span class="keywordflow">case</span> kMathSqrt:</div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;    <span class="keywordflow">case</span> kMathLog:</div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20fa5232e3ca97bc06154c3b4763f5cfe0d9">kMathClz32</a>:</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;      <span class="keywordflow">if</span> (argument_count == 2) {</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;        HValue* argument = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(2);  <span class="comment">// Receiver and function.</span></div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;        HInstruction* op = NewUncasted&lt;HUnaryMathOperation&gt;(argument, id);</div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(op, expr-&gt;id());</div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;      }</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;    <span class="keywordflow">case</span> kMathPow:</div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;      <span class="keywordflow">if</span> (argument_count == 3) {</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;        HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;        HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(2);  <span class="comment">// Receiver and function.</span></div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;        HInstruction* result = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;        <span class="comment">// Use sqrt() if exponent is 0.5 or -0.5.</span></div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;        <span class="keywordflow">if</span> (right-&gt;IsConstant() &amp;&amp; HConstant::cast(right)-&gt;HasDoubleValue()) {</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;          <span class="keywordtype">double</span> exponent = HConstant::cast(right)-&gt;DoubleValue();</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;          <span class="keywordflow">if</span> (exponent == 0.5) {</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;            result = NewUncasted&lt;HUnaryMathOperation&gt;(left, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20fa677fa7591f30d7b60eb87aa1963922d6">kMathPowHalf</a>);</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (exponent == -0.5) {</div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;            HValue* one = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant1();</div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;            HInstruction* sqrt = AddUncasted&lt;HUnaryMathOperation&gt;(</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;                left, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20fa677fa7591f30d7b60eb87aa1963922d6">kMathPowHalf</a>);</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;            <span class="comment">// MathPowHalf doesn&#39;t have side effects so there&#39;s no need for</span></div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;            <span class="comment">// an environment simulation here.</span></div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!sqrt-&gt;HasObservableSideEffects());</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;            result = NewUncasted&lt;HDiv&gt;(one, sqrt);</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (exponent == 2.0) {</div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;            result = NewUncasted&lt;HMul&gt;(left, left);</div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;          }</div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;        }</div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;</div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;        <span class="keywordflow">if</span> (result == NULL) {</div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;          result = NewUncasted&lt;HPower&gt;(left, right);</div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;        }</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;      }</div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;    <span class="keywordflow">case</span> kMathMax:</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;    <span class="keywordflow">case</span> kMathMin:</div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;      <span class="keywordflow">if</span> (argument_count == 3) {</div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;        HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;        HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(2);  <span class="comment">// Receiver and function.</span></div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;        HMathMinMax::Operation op = (<span class="keywordtype">id</span> == kMathMin) ? HMathMinMax::kMathMin</div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;                                                     : HMathMinMax::kMathMax;</div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;        HInstruction* result = NewUncasted&lt;HMathMinMax&gt;(left, right, op);</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;      }</div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;    <span class="keywordflow">case</span> kMathImul:</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;      <span class="keywordflow">if</span> (argument_count == 3) {</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;        HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;        HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(2);  <span class="comment">// Receiver and function.</span></div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;        HInstruction* result = HMul::NewImul(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>(), <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>(), left, right);</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;      }</div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;    <span class="keywordflow">case</span> kArrayPop: {</div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;      <span class="keywordflow">if</span> (receiver_map.is_null()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;      <span class="keywordflow">if</span> (receiver_map-&gt;instance_type() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> elements_kind = receiver_map-&gt;elements_kind();</div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a915c289a31a33b4c18de441e4a1e5aab">IsFastElementsKind</a>(elements_kind)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;</div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(expr-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;      HValue* result;</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;      HValue* reduced_length;</div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;      HValue* receiver = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;      HValue* checked_object = AddCheckMap(receiver, receiver_map);</div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;      HValue* length = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;          checked_object, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;          HObjectAccess::ForArrayLength(elements_kind));</div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;</div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Function.</span></div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;</div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;      { NoObservableSideEffectsScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;        IfBuilder length_checker(<span class="keyword">this</span>);</div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;</div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;        HValue* bounds_check = length_checker.If&lt;HCompareNumericAndBranch&gt;(</div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;            length, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant0(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;        length_checker.Then();</div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;</div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;        length_checker.Else();</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;        HValue* elements = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2da97a79e081c8cf483e6a4f3b6ab7f4">AddLoadElements</a>(checked_object);</div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;        <span class="comment">// Ensure that we aren&#39;t popping from a copy-on-write array.</span></div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2e0435e2e2b377a3b332e6acaada0fc1">IsFastSmiOrObjectElementsKind</a>(elements_kind)) {</div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;          elements = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a77803267732602ba152ad63de51aee58">BuildCopyElementsOnWrite</a>(checked_object, elements,</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;                                              elements_kind, length);</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;        }</div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;        reduced_length = AddUncasted&lt;HSub&gt;(length, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant1());</div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;        result = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af5efac17e5d40de7aceda441346988af">AddElementAccess</a>(elements, reduced_length, NULL,</div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;                                  bounds_check, elements_kind, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>);</div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;        Factory* factory = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>();</div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;        <span class="keywordtype">double</span> nan_double = <a class="code" href="../../dc/d5b/classv8_1_1internal_1_1_fixed_double_array.html#ac707eba93880560aceeb2d53ee78b31a">FixedDoubleArray::hole_nan_as_double</a>();</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;        HValue* hole = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2e0435e2e2b377a3b332e6acaada0fc1">IsFastSmiOrObjectElementsKind</a>(elements_kind)</div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;            ? Add&lt;HConstant&gt;(factory-&gt;the_hole_value())</div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;            : Add&lt;HConstant&gt;(nan_double);</div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2e0435e2e2b377a3b332e6acaada0fc1">IsFastSmiOrObjectElementsKind</a>(elements_kind)) {</div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;          elements_kind = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">FAST_HOLEY_ELEMENTS</a>;</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;        }</div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af5efac17e5d40de7aceda441346988af">AddElementAccess</a>(</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;            elements, reduced_length, hole, bounds_check, elements_kind, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">STORE</a>);</div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;        Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;            checked_object, HObjectAccess::ForArrayLength(elements_kind),</div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;            reduced_length, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a9f1432d7ea8c60fbf28bc3650602cb70">STORE_TO_INITIALIZED_ENTRY</a>);</div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;</div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(result);</div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;</div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;        length_checker.End();</div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;      }</div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;      result = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>() ? <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant0() : <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;      Add&lt;HSimulate&gt;(expr-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);</div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;</div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(result);</div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;    }</div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;    <span class="keywordflow">case</span> kArrayPush: {</div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;      <span class="keywordflow">if</span> (receiver_map.is_null()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;      <span class="keywordflow">if</span> (receiver_map-&gt;instance_type() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> elements_kind = receiver_map-&gt;elements_kind();</div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a915c289a31a33b4c18de441e4a1e5aab">IsFastElementsKind</a>(elements_kind)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;</div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;      HValue* op_vals[] = {</div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>(),</div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;        <span class="comment">// Receiver.</span></div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(expr-&gt;arguments()-&gt;length())</div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;      };</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;</div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> argc = expr-&gt;arguments()-&gt;length();</div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;      <span class="comment">// Includes receiver.</span></div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argc + 1);</div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;      CallInterfaceDescriptor* descriptor =</div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;          <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8caea30588dd8437e24438621711f39a">call_descriptor</a>(<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#ac5e8d679e912c212dd17e8b44bfccabbadc97b01cb7ea35850176ce41304083af">Isolate::CallHandler</a>);</div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;</div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;      ArrayPushStub stub(receiver_map-&gt;elements_kind(), argc);</div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;      Handle&lt;Code&gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab91e71e972251cbfe502d5f3856e5762">code</a> = stub.GetCode(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;      HConstant* code_value = Add&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab91e71e972251cbfe502d5f3856e5762">code</a>);</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((<span class="keyword">sizeof</span>(op_vals) / <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) ==</div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;             descriptor-&gt;environment_length());</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;</div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;      HInstruction* call = New&lt;HCallWithDescriptor&gt;(</div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;          code_value, argc + 1, descriptor,</div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;          Vector&lt;HValue*&gt;(op_vals, descriptor-&gt;environment_length()));</div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Drop function.</span></div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(call, expr-&gt;id());</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;    }</div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;      <span class="comment">// Not yet supported for inlining.</span></div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;  }</div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;}</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;</div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;</div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineApiFunctionCall(Call* expr,</div>
<div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;                                                      HValue* receiver) {</div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;  Handle&lt;JSFunction&gt; <span class="keyword">function</span> = expr-&gt;target();</div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;  <span class="keywordtype">int</span> argc = expr-&gt;arguments()-&gt;length();</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;  SmallMapList receiver_maps;</div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;  <span class="keywordflow">return</span> TryInlineApiCall(<span class="keyword">function</span>,</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;                          receiver,</div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;                          &amp;receiver_maps,</div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;                          argc,</div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;                          expr-&gt;id(),</div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;                          kCallApiFunction);</div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;}</div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;</div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;</div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineApiMethodCall(</div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;    Call* expr,</div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;    HValue* receiver,</div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;    SmallMapList* receiver_maps) {</div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;  Handle&lt;JSFunction&gt; <span class="keyword">function</span> = expr-&gt;target();</div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;  <span class="keywordtype">int</span> argc = expr-&gt;arguments()-&gt;length();</div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;  <span class="keywordflow">return</span> TryInlineApiCall(<span class="keyword">function</span>,</div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;                          receiver,</div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;                          receiver_maps,</div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;                          argc,</div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;                          expr-&gt;id(),</div>
<div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;                          kCallApiMethod);</div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;}</div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;</div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineApiGetter(Handle&lt;JSFunction&gt; <span class="keyword">function</span>,</div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;                                                Handle&lt;Map&gt; receiver_map,</div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;                                                BailoutId ast_id) {</div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;  SmallMapList receiver_maps(1, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;  receiver_maps.Add(receiver_map, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;  <span class="keywordflow">return</span> TryInlineApiCall(<span class="keyword">function</span>,</div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;                          NULL,  <span class="comment">// Receiver is on expression stack.</span></div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;                          &amp;receiver_maps,</div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;                          0,</div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;                          ast_id,</div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;                          kCallApiGetter);</div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;}</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;</div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineApiSetter(Handle&lt;JSFunction&gt; <span class="keyword">function</span>,</div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;                                                Handle&lt;Map&gt; receiver_map,</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;                                                BailoutId ast_id) {</div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;  SmallMapList receiver_maps(1, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;  receiver_maps.Add(receiver_map, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;  <span class="keywordflow">return</span> TryInlineApiCall(<span class="keyword">function</span>,</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;                          NULL,  <span class="comment">// Receiver is on expression stack.</span></div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;                          &amp;receiver_maps,</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;                          1,</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;                          ast_id,</div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;                          kCallApiSetter);</div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;}</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;</div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;</div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryInlineApiCall(Handle&lt;JSFunction&gt; <span class="keyword">function</span>,</div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;                                               HValue* receiver,</div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;                                               SmallMapList* receiver_maps,</div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;                                               <span class="keywordtype">int</span> argc,</div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;                                               BailoutId ast_id,</div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;                                               ApiCallType call_type) {</div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;  CallOptimization optimization(<span class="keyword">function</span>);</div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;  <span class="keywordflow">if</span> (!optimization.is_simple_api_call()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;  Handle&lt;Map&gt; holder_map;</div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;  <span class="keywordflow">if</span> (call_type == kCallApiFunction) {</div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;    <span class="comment">// Cannot embed a direct reference to the global proxy map</span></div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;    <span class="comment">// as it maybe dropped on deserialization.</span></div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="../../dc/df7/classv8_1_1internal_1_1_serializer.html#af0c1a3e6f2be36e95694c03c291f2495">Serializer::enabled</a>());</div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(0, receiver_maps-&gt;length());</div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;    receiver_maps-&gt;Add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;        function-&gt;context()-&gt;global_object()-&gt;global_receiver()-&gt;map()),</div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;  }</div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;  CallOptimization::HolderLookup holder_lookup =</div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160;      CallOptimization::kHolderNotFound;</div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;  Handle&lt;JSObject&gt; api_holder = optimization.LookupHolderOfExpectedType(</div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;      receiver_maps-&gt;first(), &amp;holder_lookup);</div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;  <span class="keywordflow">if</span> (holder_lookup == CallOptimization::kHolderNotFound) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;</div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;  <span class="keywordflow">if</span> (FLAG_trace_inlining) {</div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Inlining api function &quot;</span>);</div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;    <span class="keyword">function</span>-&gt;ShortPrint();</div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;  }</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;</div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;  <span class="keywordtype">bool</span> drop_extra = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;  <span class="keywordtype">bool</span> is_store = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;  <span class="keywordflow">switch</span> (call_type) {</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;    <span class="keywordflow">case</span> kCallApiFunction:</div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;    <span class="keywordflow">case</span> kCallApiMethod:</div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;      <span class="comment">// Need to check that none of the receiver maps could have changed.</span></div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;      Add&lt;HCheckMaps&gt;(receiver, receiver_maps);</div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;      <span class="comment">// Need to ensure the chain between receiver and api_holder is intact.</span></div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;      <span class="keywordflow">if</span> (holder_lookup == CallOptimization::kHolderFound) {</div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;        AddCheckPrototypeMaps(api_holder, receiver_maps-&gt;first());</div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(holder_lookup, CallOptimization::kHolderIsReceiver);</div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;      }</div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;      <span class="comment">// Includes receiver.</span></div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argc + 1);</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;      <span class="comment">// Drop function after call.</span></div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;      drop_extra = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;    <span class="keywordflow">case</span> kCallApiGetter:</div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;      <span class="comment">// Receiver and prototype chain cannot have changed.</span></div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(0, argc);</div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(NULL, receiver);</div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;      <span class="comment">// Receiver is on expression stack.</span></div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;      receiver = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;      Add&lt;HPushArgument&gt;(receiver);</div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;    <span class="keywordflow">case</span> kCallApiSetter:</div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;      {</div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;        is_store = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;        <span class="comment">// Receiver and prototype chain cannot have changed.</span></div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(1, argc);</div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(NULL, receiver);</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;        <span class="comment">// Receiver and value are on expression stack.</span></div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;        HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;        receiver = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;        Add&lt;HPushArgument&gt;(receiver);</div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;        Add&lt;HPushArgument&gt;(value);</div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;     }</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;  }</div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;</div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;  HValue* holder = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;  <span class="keywordflow">switch</span> (holder_lookup) {</div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;    <span class="keywordflow">case</span> CallOptimization::kHolderFound:</div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;      holder = Add&lt;HConstant&gt;(api_holder);</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;    <span class="keywordflow">case</span> CallOptimization::kHolderIsReceiver:</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;      holder = receiver;</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;    <span class="keywordflow">case</span> CallOptimization::kHolderNotFound:</div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;  }</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;  Handle&lt;CallHandlerInfo&gt; api_call_info = optimization.api_call_info();</div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;  Handle&lt;Object&gt; call_data_obj(api_call_info-&gt;data(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;  <span class="keywordtype">bool</span> call_data_is_undefined = call_data_obj-&gt;IsUndefined();</div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;  HValue* call_data = Add&lt;HConstant&gt;(call_data_obj);</div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;  ApiFunction fun(v8::ToCData&lt;Address&gt;(api_call_info-&gt;callback()));</div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;  ExternalReference ref = ExternalReference(&amp;fun,</div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;                                            ExternalReference::DIRECT_API_CALL,</div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;                                            <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;  HValue* api_function_address = Add&lt;HConstant&gt;(ExternalReference(ref));</div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;</div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;  HValue* op_vals[] = {</div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;    Add&lt;HConstant&gt;(<span class="keyword">function</span>),</div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;    call_data,</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;    holder,</div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;    api_function_address,</div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>()</div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;  };</div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;</div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;  CallInterfaceDescriptor* descriptor =</div>
<div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8caea30588dd8437e24438621711f39a">call_descriptor</a>(<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#ac5e8d679e912c212dd17e8b44bfccabba06a5704560a74122aec18dec6e9f3dd1">Isolate::ApiFunctionCall</a>);</div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;</div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;  CallApiFunctionStub stub(is_store, call_data_is_undefined, argc);</div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;  Handle&lt;Code&gt; code = stub.GetCode(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;  HConstant* code_value = Add&lt;HConstant&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab91e71e972251cbfe502d5f3856e5762">code</a>);</div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;</div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((<span class="keyword">sizeof</span>(op_vals) / <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) ==</div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;         descriptor-&gt;environment_length());</div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;</div>
<div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;  HInstruction* call = New&lt;HCallWithDescriptor&gt;(</div>
<div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;      code_value, argc + 1, descriptor,</div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;      Vector&lt;HValue*&gt;(op_vals, descriptor-&gt;environment_length()));</div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160;</div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;  <span class="keywordflow">if</span> (drop_extra) <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Drop function.</span></div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(call, ast_id);</div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;}</div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;</div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::TryCallApply(Call* expr) {</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(expr-&gt;expression()-&gt;IsProperty());</div>
<div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160;</div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;  <span class="keywordflow">if</span> (!expr-&gt;IsMonomorphic()) {</div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160;  }</div>
<div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;  Handle&lt;Map&gt; function_map = expr-&gt;GetReceiverTypes()-&gt;first();</div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;  <span class="keywordflow">if</span> (function_map-&gt;instance_type() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a02670a3c9633129c524842afc57c106d">JS_FUNCTION_TYPE</a> ||</div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;      !expr-&gt;target()-&gt;shared()-&gt;HasBuiltinFunctionId() ||</div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;      expr-&gt;target()-&gt;shared()-&gt;builtin_function_id() != kFunctionApply) {</div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;  }</div>
<div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;</div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8f5227b0eb369353404602683a4f2beb">scope</a>()-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#aab5774bc774f0fc66194687a327c31b1">arguments</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;</div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;  ZoneList&lt;Expression*&gt;* args = expr-&gt;arguments();</div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;  <span class="keywordflow">if</span> (args-&gt;length() != 2) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;</div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;  VariableProxy* arg_two = args-&gt;at(1)-&gt;AsVariableProxy();</div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;  <span class="keywordflow">if</span> (arg_two == NULL || !arg_two-&gt;var()-&gt;IsStackAllocated()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;  HValue* arg_two_value = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a57ff951e46d8a0ffd5180d13f98372d8">LookupAndMakeLive</a>(arg_two-&gt;var());</div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;  <span class="keywordflow">if</span> (!arg_two_value-&gt;CheckFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905">HValue::kIsArguments</a>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;</div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;  <span class="comment">// Found pattern f.apply(receiver, arguments).</span></div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ad67af5e4a8d3e657992e10f75cbbc650">CHECK_ALIVE_OR_RETURN</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(args-&gt;at(0)), <span class="keyword">true</span>);</div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;  HValue* receiver = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();  <span class="comment">// receiver</span></div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;  HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();  <span class="comment">// f</span></div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// apply</span></div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;</div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;outer() == NULL) {</div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;    HInstruction* elements = Add&lt;HArgumentsElements&gt;(<span class="keyword">false</span>);</div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;    HInstruction* length = Add&lt;HArgumentsLength&gt;(elements);</div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;    HValue* wrapped_receiver = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1f74519e82c730b5c8e0a8918a13632e">BuildWrapReceiver</a>(receiver, <span class="keyword">function</span>);</div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;    HInstruction* result = New&lt;HApplyArguments&gt;(<span class="keyword">function</span>,</div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160;                                                wrapped_receiver,</div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;                                                length,</div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;                                                elements);</div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;    <span class="comment">// We are inside inlined function and we know exactly what is inside</span></div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;    <span class="comment">// arguments object. But we need to be able to materialize at deopt.</span></div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;arguments_environment()-&gt;parameter_count(),</div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;              <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;entry()-&gt;arguments_object()-&gt;arguments_count());</div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;    HArgumentsObject* args = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;entry()-&gt;arguments_object();</div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;    <span class="keyword">const</span> ZoneList&lt;HValue*&gt;* arguments_values = args-&gt;arguments_values();</div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;    <span class="keywordtype">int</span> arguments_count = arguments_values-&gt;length();</div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1f74519e82c730b5c8e0a8918a13632e">BuildWrapReceiver</a>(receiver, <span class="keyword">function</span>));</div>
<div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; arguments_count; i++) {</div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(arguments_values-&gt;at(i));</div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;    }</div>
<div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;</div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;    Handle&lt;JSFunction&gt; known_function;</div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;    <span class="keywordflow">if</span> (function-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;        HConstant::cast(<span class="keyword">function</span>)-&gt;handle(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>())-&gt;IsJSFunction()) {</div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;      known_function = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSFunction&gt;::cast</a>(</div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;          HConstant::cast(<span class="keyword">function</span>)-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()));</div>
<div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;      <span class="keywordtype">int</span> args_count = arguments_count - 1;  <span class="comment">// Excluding receiver.</span></div>
<div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;      <span class="keywordflow">if</span> (TryInlineApply(known_function, expr, args_count)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;    }</div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;</div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(arguments_count);</div>
<div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;    HInvokeFunction* call = New&lt;HInvokeFunction&gt;(</div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160;        <span class="keyword">function</span>, known_function, arguments_count);</div>
<div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Function.</span></div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(call, expr-&gt;id());</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;  }</div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;}</div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;</div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;</div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;HValue* HOptimizedGraphBuilder::ImplicitReceiverFor(HValue* <span class="keyword">function</span>,</div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;                                                    Handle&lt;JSFunction&gt; target) {</div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;  SharedFunctionInfo* shared = target-&gt;shared();</div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160;  <span class="keywordflow">if</span> (shared-&gt;strict_mode() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66e9a5671f740245739cc6873ea1b445a01409a6eaf026ee7100680ac60d9a513">SLOPPY</a> &amp;&amp; !shared-&gt;native()) {</div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;    <span class="comment">// Cannot embed a direct reference to the global proxy</span></div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160;    <span class="comment">// as is it dropped on deserialization.</span></div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="../../dc/df7/classv8_1_1internal_1_1_serializer.html#af0c1a3e6f2be36e95694c03c291f2495">Serializer::enabled</a>());</div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;    Handle&lt;JSObject&gt; global_receiver(</div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160;        target-&gt;context()-&gt;global_object()-&gt;global_receiver());</div>
<div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;    <span class="keywordflow">return</span> Add&lt;HConstant&gt;(global_receiver);</div>
<div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;  }</div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined();</div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;}</div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;</div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;</div>
<div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitCall(Call* expr) {</div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160;  Expression* callee = expr-&gt;expression();</div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;  <span class="keywordtype">int</span> argument_count = expr-&gt;arguments()-&gt;length() + 1;  <span class="comment">// Plus receiver.</span></div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;  HInstruction* call = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;</div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;  Property* prop = callee-&gt;AsProperty();</div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;  <span class="keywordflow">if</span> (prop != NULL) {</div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;obj()));</div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;    HValue* receiver = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;</div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;    SmallMapList* types;</div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;    ComputeReceiverTypes(expr, receiver, &amp;types, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;</div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;    <span class="keywordflow">if</span> (prop-&gt;key()-&gt;IsPropertyName() &amp;&amp; types-&gt;length() &gt; 0) {</div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;      Handle&lt;String&gt; name = prop-&gt;key()-&gt;AsLiteral()-&gt;AsPropertyName();</div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;      PropertyAccessInfo <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>(<span class="keyword">this</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">ToType</a>(types-&gt;first()), name);</div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;      <span class="keywordflow">if</span> (!info.CanAccessAsMonomorphic(types)) {</div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;        HandlePolymorphicCallNamed(expr, receiver, types, name);</div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;      }</div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;    }</div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;</div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;    HValue* key = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;    <span class="keywordflow">if</span> (!prop-&gt;key()-&gt;IsPropertyName()) {</div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;key()));</div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;      key = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;    }</div>
<div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;</div>
<div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(PushLoad(prop, receiver, key));</div>
<div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;    HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;</div>
<div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;    <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;</div>
<div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;    <span class="comment">// Push the function under the receiver.</span></div>
<div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(0, <span class="keyword">function</span>);</div>
<div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160;</div>
<div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(receiver);</div>
<div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;</div>
<div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;    <span class="keywordflow">if</span> (function-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;        HConstant::cast(<span class="keyword">function</span>)-&gt;handle(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>())-&gt;IsJSFunction()) {</div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;      Handle&lt;JSFunction&gt; known_function = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSFunction&gt;::cast</a>(</div>
<div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160;          HConstant::cast(<span class="keyword">function</span>)-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()));</div>
<div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;      expr-&gt;set_target(known_function);</div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;</div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;      <span class="keywordflow">if</span> (TryCallApply(expr)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;</div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;      Handle&lt;Map&gt; map = types-&gt;length() == 1 ? types-&gt;first() : Handle&lt;Map&gt;();</div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;      <span class="keywordflow">if</span> (TryInlineBuiltinMethodCall(expr, receiver, map)) {</div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160;        <span class="keywordflow">if</span> (FLAG_trace_inlining) {</div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Inlining builtin &quot;</span>);</div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;          known_function-&gt;ShortPrint();</div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;        }</div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;      }</div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;      <span class="keywordflow">if</span> (TryInlineApiMethodCall(expr, receiver, types)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;</div>
<div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160;      <span class="comment">// Wrap the receiver if necessary.</span></div>
<div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;      <span class="keywordflow">if</span> (NeedsWrappingFor(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">ToType</a>(types-&gt;first()), known_function)) {</div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;        <span class="comment">// Since HWrapReceiver currently cannot actually wrap numbers and</span></div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;        <span class="comment">// strings, use the regular CallFunctionStub for method calls to wrap</span></div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160;        <span class="comment">// the receiver.</span></div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;        <span class="comment">// TODO(verwaest): Support creation of value wrappers directly in</span></div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160;        <span class="comment">// HWrapReceiver.</span></div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;        call = New&lt;HCallFunction&gt;(</div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;            <span class="keyword">function</span>, argument_count, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436ab7af362adcfed46a5d204bb10b0fa9e1">WRAP_AND_CALL</a>);</div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TryInlineCall(expr)) {</div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;        call = BuildCallConstantFunction(known_function, argument_count);</div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;      }</div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;</div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436">CallFunctionFlags</a> flags = receiver-&gt;type().IsJSObject()</div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;          ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436a92bd7a85c89f0d4afc3686b142829eba">NO_CALL_FUNCTION_FLAGS</a> : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436a867d7e93065f39103b9e480005ee1250">CALL_AS_METHOD</a>;</div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;      call = New&lt;HCallFunction&gt;(<span class="keyword">function</span>, argument_count, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a>);</div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;    }</div>
<div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;</div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;    VariableProxy* proxy = expr-&gt;expression()-&gt;AsVariableProxy();</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;    <span class="keywordflow">if</span> (proxy != NULL &amp;&amp; proxy-&gt;var()-&gt;is_possibly_eval(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>())) {</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kPossibleDirectCallToEval);</div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160;    }</div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;</div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;    <span class="comment">// The function is on the stack in the unoptimized code during</span></div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160;    <span class="comment">// evaluation of the arguments.</span></div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;expression()));</div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;    HValue* <span class="keyword">function</span> = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;    <span class="keywordtype">bool</span> global_call = proxy != NULL &amp;&amp; proxy-&gt;var()-&gt;IsUnallocated();</div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;    <span class="keywordflow">if</span> (global_call) {</div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;      Variable* var = proxy-&gt;var();</div>
<div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160;      <span class="keywordtype">bool</span> known_global_function = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;      <span class="comment">// If there is a global property cell for the name at compile time and</span></div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160;      <span class="comment">// access check is not enabled we assume that the function will not change</span></div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;      <span class="comment">// and generate optimized code for calling the function.</span></div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;      LookupResult lookup(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;      GlobalPropertyAccess type = LookupGlobalProperty(var, &amp;lookup, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">LOAD</a>);</div>
<div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;      <span class="keywordflow">if</span> (type == kUseCell &amp;&amp;</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;          !<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;global_object()-&gt;IsAccessCheckNeeded()) {</div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;        Handle&lt;GlobalObject&gt; global(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;global_object());</div>
<div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160;        known_global_function = expr-&gt;ComputeGlobalTarget(global, &amp;lookup);</div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;      }</div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160;      <span class="keywordflow">if</span> (known_global_function) {</div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;        Add&lt;HCheckValue&gt;(<span class="keyword">function</span>, expr-&gt;target());</div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;</div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160;        <span class="comment">// Placeholder for the receiver.</span></div>
<div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;        <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;</div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160;        <span class="comment">// Patch the global object on the stack by the expected receiver.</span></div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160;        HValue* receiver = ImplicitReceiverFor(<span class="keyword">function</span>, expr-&gt;target());</div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> receiver_index = argument_count - 1;</div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(receiver_index, receiver);</div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;</div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;        <span class="keywordflow">if</span> (TryInlineBuiltinFunctionCall(expr)) {</div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;          <span class="keywordflow">if</span> (FLAG_trace_inlining) {</div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160;            <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Inlining builtin &quot;</span>);</div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;            expr-&gt;target()-&gt;ShortPrint();</div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;            <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;          }</div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160;        }</div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;        <span class="keywordflow">if</span> (TryInlineApiFunctionCall(expr, receiver)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160;        <span class="keywordflow">if</span> (TryInlineCall(expr)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160;        call = BuildCallConstantFunction(expr-&gt;target(), argument_count);</div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;        <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;        call = New&lt;HCallFunction&gt;(<span class="keyword">function</span>, argument_count);</div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160;      }</div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160;</div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expr-&gt;IsMonomorphic()) {</div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;      Add&lt;HCheckValue&gt;(<span class="keyword">function</span>, expr-&gt;target());</div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160;</div>
<div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;</div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;      HValue* receiver = ImplicitReceiverFor(<span class="keyword">function</span>, expr-&gt;target());</div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> receiver_index = argument_count - 1;</div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(receiver_index, receiver);</div>
<div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160;</div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;      <span class="keywordflow">if</span> (TryInlineBuiltinFunctionCall(expr)) {</div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;        <span class="keywordflow">if</span> (FLAG_trace_inlining) {</div>
<div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Inlining builtin &quot;</span>);</div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;          expr-&gt;target()-&gt;ShortPrint();</div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;        }</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;      }</div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;      <span class="keywordflow">if</span> (TryInlineApiFunctionCall(expr, receiver)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160;</div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;      <span class="keywordflow">if</span> (TryInlineCall(expr)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;</div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;      call = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aeed4c5c6a9d593e226ec2006fe6f09ff">PreProcessCall</a>(New&lt;HInvokeFunction&gt;(</div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;          <span class="keyword">function</span>, expr-&gt;target(), argument_count));</div>
<div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160;</div>
<div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;      call = New&lt;HCallFunction&gt;(<span class="keyword">function</span>, argument_count);</div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;    }</div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;  }</div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;</div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Drop the function.</span></div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(call, expr-&gt;id());</div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;}</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;</div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;</div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildInlinedCallNewArray(CallNew* expr) {</div>
<div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160;  NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160;</div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;  <span class="keywordtype">int</span> argument_count = expr-&gt;arguments()-&gt;length();</div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;  <span class="comment">// We should at least have the constructor on the expression stack.</span></div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160;  HValue* constructor = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(argument_count);</div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;</div>
<div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind = expr-&gt;elements_kind();</div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;  Handle&lt;AllocationSite&gt; site = expr-&gt;allocation_site();</div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!site.is_null());</div>
<div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160;</div>
<div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;  <span class="comment">// Register on the site for deoptimization if the transition feedback changes.</span></div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;  <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#a6b67448212244ba093b8ba6b55135f16">AllocationSite::AddDependentCompilationInfo</a>(</div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;      site, <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#af38960e2d1da2c992b2232eb3f285c4eaf7b8eebab344dffc2a70a811fc30b1a1">AllocationSite::TRANSITIONS</a>, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160;  HInstruction* site_instruction = Add&lt;HConstant&gt;(site);</div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;</div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160;  <span class="comment">// In the single constant argument case, we may have to adjust elements kind</span></div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;  <span class="comment">// to avoid creating a packed non-empty array.</span></div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;  <span class="keywordflow">if</span> (argument_count == 1 &amp;&amp; !<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a53a6bf552f8190db0bd7c7d53f1c7918">IsHoleyElementsKind</a>(kind)) {</div>
<div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;    HValue* argument = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Top();</div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;    <span class="keywordflow">if</span> (argument-&gt;IsConstant()) {</div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;      HConstant* constant_argument = HConstant::cast(argument);</div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(constant_argument-&gt;HasSmiValue());</div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;      <span class="keywordtype">int</span> constant_array_size = constant_argument-&gt;Integer32Value();</div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;      <span class="keywordflow">if</span> (constant_array_size != 0) {</div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160;        kind = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a833aa35070c4d09a0539211b3f2e3ec5">GetHoleyElementsKind</a>(kind);</div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160;      }</div>
<div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160;    }</div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;  }</div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;</div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;  <span class="comment">// Build the array.</span></div>
<div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;  JSArrayBuilder array_builder(<span class="keyword">this</span>,</div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;                               kind,</div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;                               site_instruction,</div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;                               constructor,</div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;                               <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab4b5f34ae4a9feae0be7d4fd237faf97aeb923d7e876fe3522433556fdd154fab">DISABLE_ALLOCATION_SITES</a>);</div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160;  HValue* new_object;</div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;  <span class="keywordflow">if</span> (argument_count == 0) {</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160;    new_object = array_builder.AllocateEmptyArray();</div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argument_count == 1) {</div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;    HValue* argument = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Top();</div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;    new_object = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a605a6cab8b5b12ab882e1952f10ba203">BuildAllocateArrayFromLength</a>(&amp;array_builder, argument);</div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;    HValue* length = Add&lt;HConstant&gt;(argument_count);</div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;    <span class="comment">// Smi arrays need to initialize array elements with the hole because</span></div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160;    <span class="comment">// bailout could occur if the arguments don&#39;t fit in a smi.</span></div>
<div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;    <span class="comment">// TODO(mvstanton): If all the arguments are constants in smi range, then</span></div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160;    <span class="comment">// we could set fill_with_hole to false and save a few instructions.</span></div>
<div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160;    JSArrayBuilder::FillMode fill_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acd71b5be49493207889bd7ebe7cedaeb">IsFastSmiElementsKind</a>(kind)</div>
<div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;        ? JSArrayBuilder::FILL_WITH_HOLE</div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;        : JSArrayBuilder::DONT_FILL_WITH_HOLE;</div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;    new_object = array_builder.AllocateArray(length, length, fill_mode);</div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;    HValue* elements = array_builder.GetElementsLocation();</div>
<div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; argument_count; i++) {</div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;      HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(argument_count - i - 1);</div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160;      HValue* constant_i = Add&lt;HConstant&gt;(i);</div>
<div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;      Add&lt;HStoreKeyed&gt;(elements, constant_i, value, kind);</div>
<div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;    }</div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160;  }</div>
<div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160;</div>
<div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(argument_count + 1);  <span class="comment">// drop constructor and args.</span></div>
<div class="line"><a name="l08202"></a><span class="lineno"> 8202</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(new_object);</div>
<div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;}</div>
<div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160;</div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;</div>
<div class="line"><a name="l08206"></a><span class="lineno"> 8206</span>&#160;<span class="comment">// Checks whether allocation using the given constructor can be inlined.</span></div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> IsAllocationInlineable(Handle&lt;JSFunction&gt; constructor) {</div>
<div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160;  <span class="keywordflow">return</span> constructor-&gt;has_initial_map() &amp;&amp;</div>
<div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160;      constructor-&gt;initial_map()-&gt;instance_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a539a1a5410833e10ed1535106612dc3b">JS_OBJECT_TYPE</a> &amp;&amp;</div>
<div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;      constructor-&gt;initial_map()-&gt;instance_size() &lt; HAllocate::kMaxInlineSize &amp;&amp;</div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;      constructor-&gt;initial_map()-&gt;InitialPropertiesLength() == 0;</div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;}</div>
<div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;</div>
<div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160;</div>
<div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160;<span class="keywordtype">bool</span> HOptimizedGraphBuilder::IsCallNewArrayInlineable(CallNew* expr) {</div>
<div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;  Handle&lt;JSFunction&gt; caller = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a43d5916dd68b23ba4a7c6b3f0d9e03a0">closure</a>();</div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160;  Handle&lt;JSFunction&gt; target(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;native_context()-&gt;array_function(),</div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;                            <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l08219"></a><span class="lineno"> 8219</span>&#160;  <span class="keywordtype">int</span> argument_count = expr-&gt;arguments()-&gt;length();</div>
<div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160;  <span class="comment">// We should have the function plus array arguments on the environment stack.</span></div>
<div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;length() &gt;= (argument_count + 1));</div>
<div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160;  Handle&lt;AllocationSite&gt; site = expr-&gt;allocation_site();</div>
<div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!site.is_null());</div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;</div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;  <span class="keywordtype">bool</span> inline_ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160;  <span class="keywordflow">if</span> (site-&gt;CanInlineCall()) {</div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;    <span class="comment">// We also want to avoid inlining in certain 1 argument scenarios.</span></div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;    <span class="keywordflow">if</span> (argument_count == 1) {</div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160;      HValue* argument = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;      <span class="keywordflow">if</span> (argument-&gt;IsConstant()) {</div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;        <span class="comment">// Do not inline if the constant length argument is not a smi or</span></div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;        <span class="comment">// outside the valid range for a fast array.</span></div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;        HConstant* constant_argument = HConstant::cast(argument);</div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;        <span class="keywordflow">if</span> (constant_argument-&gt;HasSmiValue()) {</div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;          <span class="keywordtype">int</span> value = constant_argument-&gt;Integer32Value();</div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160;          inline_ok = value &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;              value &lt; <a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aeb7d5dd8d8a452e2e4e4c4be4a52ce3e">JSObject::kInitialMaxFastElementArray</a>;</div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;          <span class="keywordflow">if</span> (!inline_ok) {</div>
<div class="line"><a name="l08239"></a><span class="lineno"> 8239</span>&#160;            TraceInline(target, caller,</div>
<div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160;                        <span class="stringliteral">&quot;Length outside of valid array range&quot;</span>);</div>
<div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;          }</div>
<div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;        }</div>
<div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;        inline_ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;      }</div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160;      inline_ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;    }</div>
<div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;    TraceInline(target, caller, <span class="stringliteral">&quot;AllocationSite requested no inlining.&quot;</span>);</div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;  }</div>
<div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160;</div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;  <span class="keywordflow">if</span> (inline_ok) {</div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;    TraceInline(target, caller, NULL);</div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;  }</div>
<div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160;  <span class="keywordflow">return</span> inline_ok;</div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;}</div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;</div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;</div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitCallNew(CallNew* expr) {</div>
<div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160;  <span class="keywordflow">if</span> (!FLAG_hydrogen_track_positions) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;  <span class="keywordtype">int</span> argument_count = expr-&gt;arguments()-&gt;length() + 1;  <span class="comment">// Plus constructor.</span></div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;  Factory* factory = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>();</div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;</div>
<div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160;  <span class="comment">// The constructor function is on the stack in the unoptimized code</span></div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;  <span class="comment">// during evaluation of the arguments.</span></div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;expression()));</div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;  HValue* <span class="keyword">function</span> = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160;</div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160;  <span class="keywordflow">if</span> (FLAG_inline_construct &amp;&amp;</div>
<div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;      expr-&gt;IsMonomorphic() &amp;&amp;</div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;      IsAllocationInlineable(expr-&gt;target())) {</div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160;    Handle&lt;JSFunction&gt; constructor = expr-&gt;target();</div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;    HValue* <a class="code" href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a> = Add&lt;HCheckValue&gt;(<span class="keyword">function</span>, constructor);</div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;</div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;    <span class="comment">// Force completion of inobject slack tracking before generating</span></div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;    <span class="comment">// allocation code to finalize instance size.</span></div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;    <span class="keywordflow">if</span> (constructor-&gt;shared()-&gt;IsInobjectSlackTrackingInProgress()) {</div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;      constructor-&gt;shared()-&gt;CompleteInobjectSlackTracking();</div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;    }</div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160;</div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;    <span class="comment">// Calculate instance size from initial map of constructor.</span></div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(constructor-&gt;has_initial_map());</div>
<div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;    Handle&lt;Map&gt; initial_map(constructor-&gt;initial_map());</div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160;    <span class="keywordtype">int</span> instance_size = initial_map-&gt;instance_size();</div>
<div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(initial_map-&gt;InitialPropertiesLength() == 0);</div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;</div>
<div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160;    <span class="comment">// Allocate an instance of the implicit receiver object.</span></div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;    HValue* size_in_bytes = Add&lt;HConstant&gt;(instance_size);</div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;    HAllocationMode allocation_mode;</div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160;    <span class="keywordflow">if</span> (FLAG_pretenuring_call_new) {</div>
<div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;      <span class="keywordflow">if</span> (FLAG_allocation_site_pretenuring) {</div>
<div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160;        <span class="comment">// Try to use pretenuring feedback.</span></div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;        Handle&lt;AllocationSite&gt; allocation_site = expr-&gt;allocation_site();</div>
<div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160;        allocation_mode = HAllocationMode(allocation_site);</div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;        <span class="comment">// Take a dependency on allocation site.</span></div>
<div class="line"><a name="l08301"></a><span class="lineno"> 8301</span>&#160;        <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#a6b67448212244ba093b8ba6b55135f16">AllocationSite::AddDependentCompilationInfo</a>(allocation_site,</div>
<div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;                                                    <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#af38960e2d1da2c992b2232eb3f285c4eade4902c0c5de2581f905a6be5c738f85">AllocationSite::TENURING</a>,</div>
<div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160;                                                    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08305"></a><span class="lineno"> 8305</span>&#160;        allocation_mode = HAllocationMode(</div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;            <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;heap()-&gt;GetPretenureMode());</div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;      }</div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;    }</div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160;</div>
<div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160;    HAllocate* receiver =</div>
<div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f47cd0b9de65db0afb340014a26aae3">BuildAllocate</a>(size_in_bytes, HType::JSObject(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a539a1a5410833e10ed1535106612dc3b">JS_OBJECT_TYPE</a>,</div>
<div class="line"><a name="l08312"></a><span class="lineno"> 8312</span>&#160;                      allocation_mode);</div>
<div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;    receiver-&gt;set_known_initial_map(initial_map);</div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;</div>
<div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160;    <span class="comment">// Load the initial map from the constructor.</span></div>
<div class="line"><a name="l08316"></a><span class="lineno"> 8316</span>&#160;    HValue* constructor_value = Add&lt;HConstant&gt;(constructor);</div>
<div class="line"><a name="l08317"></a><span class="lineno"> 8317</span>&#160;    HValue* initial_map_value =</div>
<div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160;      Add&lt;HLoadNamedField&gt;(constructor_value, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;                           HObjectAccess::ForMapAndOffset(</div>
<div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160;                               <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>(constructor-&gt;map()),</div>
<div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160;                               <a class="code" href="../../d0/d2c/classv8_1_1internal_1_1_j_s_function.html#ab6ff2464957e427546937ae2fd903954">JSFunction::kPrototypeOrInitialMapOffset</a>));</div>
<div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;</div>
<div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;    <span class="comment">// Initialize map and fields of the newly allocated object.</span></div>
<div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160;    { NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(initial_map-&gt;instance_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a539a1a5410833e10ed1535106612dc3b">JS_OBJECT_TYPE</a>);</div>
<div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160;      Add&lt;HStoreNamedField&gt;(receiver,</div>
<div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;          HObjectAccess::ForMapAndOffset(initial_map, <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#ad7e12860c8d658f6e59336d8c1ebf94d">JSObject::kMapOffset</a>),</div>
<div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;          initial_map_value);</div>
<div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;      HValue* empty_fixed_array = Add&lt;HConstant&gt;(factory-&gt;empty_fixed_array());</div>
<div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;      Add&lt;HStoreNamedField&gt;(receiver,</div>
<div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;          HObjectAccess::ForMapAndOffset(initial_map,</div>
<div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;                                         <a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#a1fb1c60c581bfe088e84d1b24c862b57">JSObject::kPropertiesOffset</a>),</div>
<div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160;          empty_fixed_array);</div>
<div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;      Add&lt;HStoreNamedField&gt;(receiver,</div>
<div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;          HObjectAccess::ForMapAndOffset(initial_map,</div>
<div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160;                                         <a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#a8c88edfc3f1a09f8305733762d5cb464">JSObject::kElementsOffset</a>),</div>
<div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;          empty_fixed_array);</div>
<div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160;      <span class="keywordflow">if</span> (initial_map-&gt;inobject_properties() != 0) {</div>
<div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;        HConstant* undefined = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined();</div>
<div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; initial_map-&gt;inobject_properties(); i++) {</div>
<div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160;          <span class="keywordtype">int</span> property_offset = initial_map-&gt;GetInObjectPropertyOffset(i);</div>
<div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;          Add&lt;HStoreNamedField&gt;(receiver,</div>
<div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160;              HObjectAccess::ForMapAndOffset(initial_map, property_offset),</div>
<div class="line"><a name="l08344"></a><span class="lineno"> 8344</span>&#160;              undefined);</div>
<div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160;        }</div>
<div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;      }</div>
<div class="line"><a name="l08347"></a><span class="lineno"> 8347</span>&#160;    }</div>
<div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160;</div>
<div class="line"><a name="l08349"></a><span class="lineno"> 8349</span>&#160;    <span class="comment">// Replace the constructor function with a newly allocated receiver using</span></div>
<div class="line"><a name="l08350"></a><span class="lineno"> 8350</span>&#160;    <span class="comment">// the index of the receiver from the top of the expression stack.</span></div>
<div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> receiver_index = argument_count - 1;</div>
<div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;ExpressionStackAt(receiver_index) == <span class="keyword">function</span>);</div>
<div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(receiver_index, receiver);</div>
<div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;</div>
<div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160;    <span class="keywordflow">if</span> (TryInlineConstruct(expr, receiver)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08356"></a><span class="lineno"> 8356</span>&#160;</div>
<div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160;    <span class="comment">// TODO(mstarzinger): For now we remove the previous HAllocate and all</span></div>
<div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;    <span class="comment">// corresponding instructions and instead add HPushArgument for the</span></div>
<div class="line"><a name="l08359"></a><span class="lineno"> 8359</span>&#160;    <span class="comment">// arguments in case inlining failed.  What we actually should do is for</span></div>
<div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;    <span class="comment">// inlining to try to build a subgraph without mutating the parent graph.</span></div>
<div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160;    HInstruction* instr = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;last();</div>
<div class="line"><a name="l08362"></a><span class="lineno"> 8362</span>&#160;    <span class="keywordflow">while</span> (instr != initial_map_value) {</div>
<div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;      HInstruction* prev_instr = instr-&gt;previous();</div>
<div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160;      instr-&gt;DeleteAndReplaceWith(NULL);</div>
<div class="line"><a name="l08365"></a><span class="lineno"> 8365</span>&#160;      instr = prev_instr;</div>
<div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;    }</div>
<div class="line"><a name="l08367"></a><span class="lineno"> 8367</span>&#160;    initial_map_value-&gt;DeleteAndReplaceWith(NULL);</div>
<div class="line"><a name="l08368"></a><span class="lineno"> 8368</span>&#160;    receiver-&gt;DeleteAndReplaceWith(NULL);</div>
<div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;    check-&gt;DeleteAndReplaceWith(NULL);</div>
<div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(receiver_index, <span class="keyword">function</span>);</div>
<div class="line"><a name="l08371"></a><span class="lineno"> 8371</span>&#160;    HInstruction* call =</div>
<div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aeed4c5c6a9d593e226ec2006fe6f09ff">PreProcessCall</a>(New&lt;HCallNew&gt;(<span class="keyword">function</span>, argument_count));</div>
<div class="line"><a name="l08373"></a><span class="lineno"> 8373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(call, expr-&gt;id());</div>
<div class="line"><a name="l08374"></a><span class="lineno"> 8374</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08375"></a><span class="lineno"> 8375</span>&#160;    <span class="comment">// The constructor function is both an operand to the instruction and an</span></div>
<div class="line"><a name="l08376"></a><span class="lineno"> 8376</span>&#160;    <span class="comment">// argument to the construct call.</span></div>
<div class="line"><a name="l08377"></a><span class="lineno"> 8377</span>&#160;    Handle&lt;JSFunction&gt; array_function(</div>
<div class="line"><a name="l08378"></a><span class="lineno"> 8378</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;native_context()-&gt;array_function(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l08379"></a><span class="lineno"> 8379</span>&#160;    <span class="keywordtype">bool</span> use_call_new_array = expr-&gt;target().is_identical_to(array_function);</div>
<div class="line"><a name="l08380"></a><span class="lineno"> 8380</span>&#160;    <span class="keywordflow">if</span> (use_call_new_array &amp;&amp; IsCallNewArrayInlineable(expr)) {</div>
<div class="line"><a name="l08381"></a><span class="lineno"> 8381</span>&#160;      <span class="comment">// Verify we are still calling the array function for our native context.</span></div>
<div class="line"><a name="l08382"></a><span class="lineno"> 8382</span>&#160;      Add&lt;HCheckValue&gt;(<span class="keyword">function</span>, array_function);</div>
<div class="line"><a name="l08383"></a><span class="lineno"> 8383</span>&#160;      BuildInlinedCallNewArray(expr);</div>
<div class="line"><a name="l08384"></a><span class="lineno"> 8384</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08385"></a><span class="lineno"> 8385</span>&#160;    }</div>
<div class="line"><a name="l08386"></a><span class="lineno"> 8386</span>&#160;</div>
<div class="line"><a name="l08387"></a><span class="lineno"> 8387</span>&#160;    HBinaryCall* call;</div>
<div class="line"><a name="l08388"></a><span class="lineno"> 8388</span>&#160;    <span class="keywordflow">if</span> (use_call_new_array) {</div>
<div class="line"><a name="l08389"></a><span class="lineno"> 8389</span>&#160;      Add&lt;HCheckValue&gt;(<span class="keyword">function</span>, array_function);</div>
<div class="line"><a name="l08390"></a><span class="lineno"> 8390</span>&#160;      call = New&lt;HCallNewArray&gt;(<span class="keyword">function</span>, argument_count,</div>
<div class="line"><a name="l08391"></a><span class="lineno"> 8391</span>&#160;                                expr-&gt;elements_kind());</div>
<div class="line"><a name="l08392"></a><span class="lineno"> 8392</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160;      call = New&lt;HCallNew&gt;(<span class="keyword">function</span>, argument_count);</div>
<div class="line"><a name="l08394"></a><span class="lineno"> 8394</span>&#160;    }</div>
<div class="line"><a name="l08395"></a><span class="lineno"> 8395</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aeed4c5c6a9d593e226ec2006fe6f09ff">PreProcessCall</a>(call);</div>
<div class="line"><a name="l08396"></a><span class="lineno"> 8396</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(call, expr-&gt;id());</div>
<div class="line"><a name="l08397"></a><span class="lineno"> 8397</span>&#160;  }</div>
<div class="line"><a name="l08398"></a><span class="lineno"> 8398</span>&#160;}</div>
<div class="line"><a name="l08399"></a><span class="lineno"> 8399</span>&#160;</div>
<div class="line"><a name="l08400"></a><span class="lineno"> 8400</span>&#160;</div>
<div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;<span class="comment">// Support for generating inlined runtime functions.</span></div>
<div class="line"><a name="l08402"></a><span class="lineno"> 8402</span>&#160;</div>
<div class="line"><a name="l08403"></a><span class="lineno"> 8403</span>&#160;<span class="comment">// Lookup table for generators for runtime calls that are generated inline.</span></div>
<div class="line"><a name="l08404"></a><span class="lineno"> 8404</span>&#160;<span class="comment">// Elements of the table are member pointers to functions of</span></div>
<div class="line"><a name="l08405"></a><span class="lineno"> 8405</span>&#160;<span class="comment">// HOptimizedGraphBuilder.</span></div>
<div class="line"><a name="l08406"></a><span class="lineno"><a class="line" href="../../d7/dd6/hydrogen_8cc.html#a4ac4eafb2ffd6b8823a3397d92062a0c"> 8406</a></span>&#160;<span class="preprocessor">#define INLINE_FUNCTION_GENERATOR_ADDRESS(Name, argc, ressize)  \</span></div>
<div class="line"><a name="l08407"></a><span class="lineno"> 8407</span>&#160;<span class="preprocessor">    &amp;HOptimizedGraphBuilder::Generate##Name,</span></div>
<div class="line"><a name="l08408"></a><span class="lineno"> 8408</span>&#160;</div>
<div class="line"><a name="l08409"></a><span class="lineno"> 8409</span>&#160;<span class="keyword">const</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa58493e3a03e1959db78f3068001a34a">HOptimizedGraphBuilder::InlineFunctionGenerator</a></div>
<div class="line"><a name="l08410"></a><span class="lineno"> 8410</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a602735c52843d1326daff42a72163d79">HOptimizedGraphBuilder::kInlineFunctionGenerators</a>[] = {</div>
<div class="line"><a name="l08411"></a><span class="lineno"> 8411</span>&#160;        <a class="code" href="../../d3/d51/runtime_8h.html#afebafe6b41aac618d9746b01faea83b2">INLINE_FUNCTION_LIST</a>(<a class="code" href="../../d7/dd6/hydrogen_8cc.html#a4ac4eafb2ffd6b8823a3397d92062a0c">INLINE_FUNCTION_GENERATOR_ADDRESS</a>)</div>
<div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;        <a class="code" href="../../d3/d51/runtime_8h.html#ab2a2d9301a4f7c481c9664e787f864f9">INLINE_OPTIMIZED_FUNCTION_LIST</a>(<a class="code" href="../../d7/dd6/hydrogen_8cc.html#a4ac4eafb2ffd6b8823a3397d92062a0c">INLINE_FUNCTION_GENERATOR_ADDRESS</a>)</div>
<div class="line"><a name="l08413"></a><span class="lineno"> 8413</span>&#160;};</div>
<div class="line"><a name="l08414"></a><span class="lineno"> 8414</span>&#160;<span class="preprocessor">#undef INLINE_FUNCTION_GENERATOR_ADDRESS</span></div>
<div class="line"><a name="l08415"></a><span class="lineno"> 8415</span>&#160;</div>
<div class="line"><a name="l08416"></a><span class="lineno"> 8416</span>&#160;</div>
<div class="line"><a name="l08417"></a><span class="lineno"> 8417</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> ViewClass&gt;</div>
<div class="line"><a name="l08418"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a8fe1314dc49c6de8c34c096d7c021ace"> 8418</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a8fe1314dc49c6de8c34c096d7c021ace">HGraphBuilder::BuildArrayBufferViewInitialization</a>(</div>
<div class="line"><a name="l08419"></a><span class="lineno"> 8419</span>&#160;    HValue* obj,</div>
<div class="line"><a name="l08420"></a><span class="lineno"> 8420</span>&#160;    HValue* buffer,</div>
<div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;    HValue* byte_offset,</div>
<div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160;    HValue* byte_length) {</div>
<div class="line"><a name="l08423"></a><span class="lineno"> 8423</span>&#160;</div>
<div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> offset = ViewClass::kSize;</div>
<div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;       offset &lt; ViewClass::kSizeWithInternalFields;</div>
<div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;       offset += <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) {</div>
<div class="line"><a name="l08427"></a><span class="lineno"> 8427</span>&#160;    Add&lt;HStoreNamedField&gt;(<a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160;        HObjectAccess::ForObservableJSObjectOffset(offset),</div>
<div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant0());</div>
<div class="line"><a name="l08430"></a><span class="lineno"> 8430</span>&#160;  }</div>
<div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160;</div>
<div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160;      <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;      HObjectAccess::ForJSArrayBufferViewByteOffset(),</div>
<div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160;      byte_offset);</div>
<div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l08437"></a><span class="lineno"> 8437</span>&#160;      <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;      HObjectAccess::ForJSArrayBufferViewByteLength(),</div>
<div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160;      byte_length);</div>
<div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160;</div>
<div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;  <span class="keywordflow">if</span> (buffer != NULL) {</div>
<div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160;    Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l08443"></a><span class="lineno"> 8443</span>&#160;        <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160;        HObjectAccess::ForJSArrayBufferViewBuffer(), buffer);</div>
<div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160;    HObjectAccess weak_first_view_access =</div>
<div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;        HObjectAccess::ForJSArrayBufferWeakFirstView();</div>
<div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160;    Add&lt;HStoreNamedField&gt;(<a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;        HObjectAccess::ForJSArrayBufferViewWeakNext(),</div>
<div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160;        Add&lt;HLoadNamedField&gt;(buffer,</div>
<div class="line"><a name="l08450"></a><span class="lineno"> 8450</span>&#160;                             <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;                             weak_first_view_access));</div>
<div class="line"><a name="l08452"></a><span class="lineno"> 8452</span>&#160;    Add&lt;HStoreNamedField&gt;(buffer, weak_first_view_access, <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>);</div>
<div class="line"><a name="l08453"></a><span class="lineno"> 8453</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160;    Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;        <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;        HObjectAccess::ForJSArrayBufferViewBuffer(),</div>
<div class="line"><a name="l08457"></a><span class="lineno"> 8457</span>&#160;        Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(0)));</div>
<div class="line"><a name="l08458"></a><span class="lineno"> 8458</span>&#160;    Add&lt;HStoreNamedField&gt;(<a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l08459"></a><span class="lineno"> 8459</span>&#160;        HObjectAccess::ForJSArrayBufferViewWeakNext(),</div>
<div class="line"><a name="l08460"></a><span class="lineno"> 8460</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l08461"></a><span class="lineno"> 8461</span>&#160;  }</div>
<div class="line"><a name="l08462"></a><span class="lineno"> 8462</span>&#160;}</div>
<div class="line"><a name="l08463"></a><span class="lineno"> 8463</span>&#160;</div>
<div class="line"><a name="l08464"></a><span class="lineno"> 8464</span>&#160;</div>
<div class="line"><a name="l08465"></a><span class="lineno"> 8465</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateDataViewInitialize(</div>
<div class="line"><a name="l08466"></a><span class="lineno"> 8466</span>&#160;    CallRuntime* expr) {</div>
<div class="line"><a name="l08467"></a><span class="lineno"> 8467</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;Expression*&gt;</a>* arguments = expr-&gt;arguments();</div>
<div class="line"><a name="l08468"></a><span class="lineno"> 8468</span>&#160;</div>
<div class="line"><a name="l08469"></a><span class="lineno"> 8469</span>&#160;  NoObservableSideEffectsScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l08470"></a><span class="lineno"> 8470</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(arguments-&gt;length()== 4);</div>
<div class="line"><a name="l08471"></a><span class="lineno"> 8471</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0)));</div>
<div class="line"><a name="l08472"></a><span class="lineno"> 8472</span>&#160;  HValue* obj = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08473"></a><span class="lineno"> 8473</span>&#160;</div>
<div class="line"><a name="l08474"></a><span class="lineno"> 8474</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(1)));</div>
<div class="line"><a name="l08475"></a><span class="lineno"> 8475</span>&#160;  HValue* buffer = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08476"></a><span class="lineno"> 8476</span>&#160;</div>
<div class="line"><a name="l08477"></a><span class="lineno"> 8477</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(2)));</div>
<div class="line"><a name="l08478"></a><span class="lineno"> 8478</span>&#160;  HValue* byte_offset = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08479"></a><span class="lineno"> 8479</span>&#160;</div>
<div class="line"><a name="l08480"></a><span class="lineno"> 8480</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(3)));</div>
<div class="line"><a name="l08481"></a><span class="lineno"> 8481</span>&#160;  HValue* byte_length = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08482"></a><span class="lineno"> 8482</span>&#160;</div>
<div class="line"><a name="l08483"></a><span class="lineno"> 8483</span>&#160;  BuildArrayBufferViewInitialization&lt;JSDataView&gt;(</div>
<div class="line"><a name="l08484"></a><span class="lineno"> 8484</span>&#160;      <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>, buffer, byte_offset, byte_length);</div>
<div class="line"><a name="l08485"></a><span class="lineno"> 8485</span>&#160;}</div>
<div class="line"><a name="l08486"></a><span class="lineno"> 8486</span>&#160;</div>
<div class="line"><a name="l08487"></a><span class="lineno"> 8487</span>&#160;</div>
<div class="line"><a name="l08488"></a><span class="lineno"> 8488</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Map&gt;</a> TypedArrayMap(<a class="code" href="../../d5/dda/classv8_1_1_isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l08489"></a><span class="lineno"> 8489</span>&#160;                                 <a class="code" href="../../d2/dc3/namespacev8.html#a5f53a3d1798730e03d542018271092ab">ExternalArrayType</a> array_type,</div>
<div class="line"><a name="l08490"></a><span class="lineno"> 8490</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> target_kind) {</div>
<div class="line"><a name="l08491"></a><span class="lineno"> 8491</span>&#160;  <a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Context&gt;</a> native_context = isolate-&gt;native_context();</div>
<div class="line"><a name="l08492"></a><span class="lineno"> 8492</span>&#160;  <a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;JSFunction&gt;</a> fun;</div>
<div class="line"><a name="l08493"></a><span class="lineno"> 8493</span>&#160;  <span class="keywordflow">switch</span> (array_type) {</div>
<div class="line"><a name="l08494"></a><span class="lineno"> 8494</span>&#160;<span class="preprocessor">#define TYPED_ARRAY_CASE(Type, type, TYPE, ctype, size)                       \</span></div>
<div class="line"><a name="l08495"></a><span class="lineno"> 8495</span>&#160;<span class="preprocessor">    case kExternal##Type##Array:                                              \</span></div>
<div class="line"><a name="l08496"></a><span class="lineno"> 8496</span>&#160;<span class="preprocessor">      fun = Handle&lt;JSFunction&gt;(native_context-&gt;type##_array_fun());           \</span></div>
<div class="line"><a name="l08497"></a><span class="lineno"> 8497</span>&#160;<span class="preprocessor">      break;</span></div>
<div class="line"><a name="l08498"></a><span class="lineno"> 8498</span>&#160;</div>
<div class="line"><a name="l08499"></a><span class="lineno"> 8499</span>&#160;    <a class="code" href="../../df/d91/objects_8h.html#aaef05632067c0265f29fe83f79b32536">TYPED_ARRAYS</a>(<a class="code" href="../../d7/dd6/hydrogen_8cc.html#af1539e36028f0cdb40351a7251785a62">TYPED_ARRAY_CASE</a>)</div>
<div class="line"><a name="l08500"></a><span class="lineno"> 8500</span>&#160;<span class="preprocessor">#undef TYPED_ARRAY_CASE</span></div>
<div class="line"><a name="l08501"></a><span class="lineno"> 8501</span>&#160;  }</div>
<div class="line"><a name="l08502"></a><span class="lineno"> 8502</span>&#160;  Handle&lt;Map&gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a>(fun-&gt;initial_map());</div>
<div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../de/dfe/classv8_1_1internal_1_1_map.html#a78efb9b54254bb69a0b56b37287d1cc4">Map::AsElementsKind</a>(map, target_kind);</div>
<div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160;}</div>
<div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;</div>
<div class="line"><a name="l08506"></a><span class="lineno"> 8506</span>&#160;</div>
<div class="line"><a name="l08507"></a><span class="lineno"> 8507</span>&#160;HValue* HOptimizedGraphBuilder::BuildAllocateExternalElements(</div>
<div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#a5f53a3d1798730e03d542018271092ab">ExternalArrayType</a> array_type,</div>
<div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160;    <span class="keywordtype">bool</span> is_zero_byte_offset,</div>
<div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160;    HValue* buffer, HValue* byte_offset, HValue* length) {</div>
<div class="line"><a name="l08511"></a><span class="lineno"> 8511</span>&#160;  Handle&lt;Map&gt; external_array_map(</div>
<div class="line"><a name="l08512"></a><span class="lineno"> 8512</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;heap()-&gt;MapForExternalArrayType(array_type));</div>
<div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;  HValue* elements =</div>
<div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160;      Add&lt;HAllocate&gt;(</div>
<div class="line"><a name="l08515"></a><span class="lineno"> 8515</span>&#160;          Add&lt;HConstant&gt;(<a class="code" href="../../df/dd1/classv8_1_1internal_1_1_external_array.html#a138714fd44070fe3d7c3ffad72276ff2">ExternalArray::kAlignedSize</a>),</div>
<div class="line"><a name="l08516"></a><span class="lineno"> 8516</span>&#160;          HType::Tagged(),</div>
<div class="line"><a name="l08517"></a><span class="lineno"> 8517</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>,</div>
<div class="line"><a name="l08518"></a><span class="lineno"> 8518</span>&#160;          external_array_map-&gt;instance_type());</div>
<div class="line"><a name="l08519"></a><span class="lineno"> 8519</span>&#160;</div>
<div class="line"><a name="l08520"></a><span class="lineno"> 8520</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74">AddStoreMapConstant</a>(elements, external_array_map);</div>
<div class="line"><a name="l08521"></a><span class="lineno"> 8521</span>&#160;</div>
<div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160;  HValue* backing_store = Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l08523"></a><span class="lineno"> 8523</span>&#160;      buffer, <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l08524"></a><span class="lineno"> 8524</span>&#160;      HObjectAccess::ForJSArrayBufferBackingStore());</div>
<div class="line"><a name="l08525"></a><span class="lineno"> 8525</span>&#160;</div>
<div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160;  HValue* typed_array_start;</div>
<div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;  <span class="keywordflow">if</span> (is_zero_byte_offset) {</div>
<div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;    typed_array_start = backing_store;</div>
<div class="line"><a name="l08529"></a><span class="lineno"> 8529</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08530"></a><span class="lineno"> 8530</span>&#160;    HInstruction* external_pointer =</div>
<div class="line"><a name="l08531"></a><span class="lineno"> 8531</span>&#160;        AddUncasted&lt;HAdd&gt;(backing_store, byte_offset);</div>
<div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160;    <span class="comment">// Arguments are checked prior to call to TypedArrayInitialize,</span></div>
<div class="line"><a name="l08533"></a><span class="lineno"> 8533</span>&#160;    <span class="comment">// including byte_offset.</span></div>
<div class="line"><a name="l08534"></a><span class="lineno"> 8534</span>&#160;    external_pointer-&gt;ClearFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa1039ede652127ba26e144a641f9f440a">HValue::kCanOverflow</a>);</div>
<div class="line"><a name="l08535"></a><span class="lineno"> 8535</span>&#160;    typed_array_start = external_pointer;</div>
<div class="line"><a name="l08536"></a><span class="lineno"> 8536</span>&#160;  }</div>
<div class="line"><a name="l08537"></a><span class="lineno"> 8537</span>&#160;</div>
<div class="line"><a name="l08538"></a><span class="lineno"> 8538</span>&#160;</div>
<div class="line"><a name="l08539"></a><span class="lineno"> 8539</span>&#160;  Add&lt;HStoreNamedField&gt;(elements,</div>
<div class="line"><a name="l08540"></a><span class="lineno"> 8540</span>&#160;      HObjectAccess::ForExternalArrayExternalPointer(),</div>
<div class="line"><a name="l08541"></a><span class="lineno"> 8541</span>&#160;      typed_array_start);</div>
<div class="line"><a name="l08542"></a><span class="lineno"> 8542</span>&#160;</div>
<div class="line"><a name="l08543"></a><span class="lineno"> 8543</span>&#160;  Add&lt;HStoreNamedField&gt;(elements,</div>
<div class="line"><a name="l08544"></a><span class="lineno"> 8544</span>&#160;      HObjectAccess::ForFixedArrayLength(), length);</div>
<div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;  <span class="keywordflow">return</span> elements;</div>
<div class="line"><a name="l08546"></a><span class="lineno"> 8546</span>&#160;}</div>
<div class="line"><a name="l08547"></a><span class="lineno"> 8547</span>&#160;</div>
<div class="line"><a name="l08548"></a><span class="lineno"> 8548</span>&#160;</div>
<div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160;HValue* HOptimizedGraphBuilder::BuildAllocateFixedTypedArray(</div>
<div class="line"><a name="l08550"></a><span class="lineno"> 8550</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#a5f53a3d1798730e03d542018271092ab">ExternalArrayType</a> array_type, <span class="keywordtype">size_t</span> element_size,</div>
<div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> fixed_elements_kind,</div>
<div class="line"><a name="l08552"></a><span class="lineno"> 8552</span>&#160;    HValue* byte_length, HValue* length) {</div>
<div class="line"><a name="l08553"></a><span class="lineno"> 8553</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(</div>
<div class="line"><a name="l08554"></a><span class="lineno"> 8554</span>&#160;      (<a class="code" href="../../dd/d33/classv8_1_1internal_1_1_fixed_array_base.html#ac1cb10d97e8091bf949042b4d67f91c8">FixedTypedArrayBase::kHeaderSize</a> &amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>) == 0);</div>
<div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160;  HValue* total_size;</div>
<div class="line"><a name="l08556"></a><span class="lineno"> 8556</span>&#160;</div>
<div class="line"><a name="l08557"></a><span class="lineno"> 8557</span>&#160;  <span class="comment">// if fixed array&#39;s elements are not aligned to object&#39;s alignment,</span></div>
<div class="line"><a name="l08558"></a><span class="lineno"> 8558</span>&#160;  <span class="comment">// we need to align the whole array to object alignment.</span></div>
<div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;  <span class="keywordflow">if</span> (element_size % <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a07cbfc3414b23664f579ae9c9de79444">kObjectAlignment</a> != 0) {</div>
<div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160;    total_size = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a74fd5739eb591d10bd28a2487ae879af">BuildObjectSizeAlignment</a>(</div>
<div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;        byte_length, <a class="code" href="../../dd/d33/classv8_1_1internal_1_1_fixed_array_base.html#ac1cb10d97e8091bf949042b4d67f91c8">FixedTypedArrayBase::kHeaderSize</a>);</div>
<div class="line"><a name="l08562"></a><span class="lineno"> 8562</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08563"></a><span class="lineno"> 8563</span>&#160;    total_size = AddUncasted&lt;HAdd&gt;(byte_length,</div>
<div class="line"><a name="l08564"></a><span class="lineno"> 8564</span>&#160;        Add&lt;HConstant&gt;(<a class="code" href="../../dd/d33/classv8_1_1internal_1_1_fixed_array_base.html#ac1cb10d97e8091bf949042b4d67f91c8">FixedTypedArrayBase::kHeaderSize</a>));</div>
<div class="line"><a name="l08565"></a><span class="lineno"> 8565</span>&#160;    total_size-&gt;ClearFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa1039ede652127ba26e144a641f9f440a">HValue::kCanOverflow</a>);</div>
<div class="line"><a name="l08566"></a><span class="lineno"> 8566</span>&#160;  }</div>
<div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160;</div>
<div class="line"><a name="l08568"></a><span class="lineno"> 8568</span>&#160;  Handle&lt;Map&gt; fixed_typed_array_map(</div>
<div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;heap()-&gt;MapForFixedTypedArray(array_type));</div>
<div class="line"><a name="l08570"></a><span class="lineno"> 8570</span>&#160;  HValue* elements =</div>
<div class="line"><a name="l08571"></a><span class="lineno"> 8571</span>&#160;      Add&lt;HAllocate&gt;(total_size, HType::Tagged(),</div>
<div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>,</div>
<div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;          fixed_typed_array_map-&gt;instance_type());</div>
<div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74">AddStoreMapConstant</a>(elements, fixed_typed_array_map);</div>
<div class="line"><a name="l08575"></a><span class="lineno"> 8575</span>&#160;</div>
<div class="line"><a name="l08576"></a><span class="lineno"> 8576</span>&#160;  Add&lt;HStoreNamedField&gt;(elements,</div>
<div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;      HObjectAccess::ForFixedArrayLength(),</div>
<div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160;      length);</div>
<div class="line"><a name="l08579"></a><span class="lineno"> 8579</span>&#160;  HValue* filler = Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(0));</div>
<div class="line"><a name="l08580"></a><span class="lineno"> 8580</span>&#160;</div>
<div class="line"><a name="l08581"></a><span class="lineno"> 8581</span>&#160;  {</div>
<div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;    LoopBuilder builder(<span class="keyword">this</span>, <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>(), LoopBuilder::kPostIncrement);</div>
<div class="line"><a name="l08583"></a><span class="lineno"> 8583</span>&#160;</div>
<div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;    HValue* key = builder.BeginBody(</div>
<div class="line"><a name="l08585"></a><span class="lineno"> 8585</span>&#160;        Add&lt;HConstant&gt;(static_cast&lt;int32_t&gt;(0)),</div>
<div class="line"><a name="l08586"></a><span class="lineno"> 8586</span>&#160;        length, Token::LT);</div>
<div class="line"><a name="l08587"></a><span class="lineno"> 8587</span>&#160;    Add&lt;HStoreKeyed&gt;(elements, key, filler, fixed_elements_kind);</div>
<div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160;</div>
<div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160;    builder.EndBody();</div>
<div class="line"><a name="l08590"></a><span class="lineno"> 8590</span>&#160;  }</div>
<div class="line"><a name="l08591"></a><span class="lineno"> 8591</span>&#160;  Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;      elements, HObjectAccess::ForFixedArrayLength(), length);</div>
<div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160;  <span class="keywordflow">return</span> elements;</div>
<div class="line"><a name="l08594"></a><span class="lineno"> 8594</span>&#160;}</div>
<div class="line"><a name="l08595"></a><span class="lineno"> 8595</span>&#160;</div>
<div class="line"><a name="l08596"></a><span class="lineno"> 8596</span>&#160;</div>
<div class="line"><a name="l08597"></a><span class="lineno"> 8597</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateTypedArrayInitialize(</div>
<div class="line"><a name="l08598"></a><span class="lineno"> 8598</span>&#160;    CallRuntime* expr) {</div>
<div class="line"><a name="l08599"></a><span class="lineno"> 8599</span>&#160;  ZoneList&lt;Expression*&gt;* arguments = expr-&gt;arguments();</div>
<div class="line"><a name="l08600"></a><span class="lineno"> 8600</span>&#160;</div>
<div class="line"><a name="l08601"></a><span class="lineno"> 8601</span>&#160;  NoObservableSideEffectsScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l08602"></a><span class="lineno"> 8602</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kObjectArg = 0;</div>
<div class="line"><a name="l08603"></a><span class="lineno"> 8603</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArrayIdArg = 1;</div>
<div class="line"><a name="l08604"></a><span class="lineno"> 8604</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBufferArg = 2;</div>
<div class="line"><a name="l08605"></a><span class="lineno"> 8605</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kByteOffsetArg = 3;</div>
<div class="line"><a name="l08606"></a><span class="lineno"> 8606</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kByteLengthArg = 4;</div>
<div class="line"><a name="l08607"></a><span class="lineno"> 8607</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArgsLength = 5;</div>
<div class="line"><a name="l08608"></a><span class="lineno"> 8608</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(arguments-&gt;length() == kArgsLength);</div>
<div class="line"><a name="l08609"></a><span class="lineno"> 8609</span>&#160;</div>
<div class="line"><a name="l08610"></a><span class="lineno"> 8610</span>&#160;</div>
<div class="line"><a name="l08611"></a><span class="lineno"> 8611</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;at(kObjectArg)));</div>
<div class="line"><a name="l08612"></a><span class="lineno"> 8612</span>&#160;  HValue* obj = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08613"></a><span class="lineno"> 8613</span>&#160;</div>
<div class="line"><a name="l08614"></a><span class="lineno"> 8614</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(arguments-&gt;at(kArrayIdArg)-&gt;node_type() == AstNode::kLiteral);</div>
<div class="line"><a name="l08615"></a><span class="lineno"> 8615</span>&#160;  Handle&lt;Object&gt; value =</div>
<div class="line"><a name="l08616"></a><span class="lineno"> 8616</span>&#160;      <span class="keyword">static_cast&lt;</span>Literal*<span class="keyword">&gt;</span>(arguments-&gt;at(kArrayIdArg))-&gt;value();</div>
<div class="line"><a name="l08617"></a><span class="lineno"> 8617</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(value-&gt;IsSmi());</div>
<div class="line"><a name="l08618"></a><span class="lineno"> 8618</span>&#160;  <span class="keywordtype">int</span> array_id = <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#abd7228db8201e7f65153a896fe8de9bd">Smi::cast</a>(*value)-&gt;<a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a7ecb839199ee379f9371723072e4148a">value</a>();</div>
<div class="line"><a name="l08619"></a><span class="lineno"> 8619</span>&#160;</div>
<div class="line"><a name="l08620"></a><span class="lineno"> 8620</span>&#160;  HValue* buffer;</div>
<div class="line"><a name="l08621"></a><span class="lineno"> 8621</span>&#160;  <span class="keywordflow">if</span> (!arguments-&gt;at(kBufferArg)-&gt;IsNullLiteral()) {</div>
<div class="line"><a name="l08622"></a><span class="lineno"> 8622</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;at(kBufferArg)));</div>
<div class="line"><a name="l08623"></a><span class="lineno"> 8623</span>&#160;    buffer = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08624"></a><span class="lineno"> 8624</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08625"></a><span class="lineno"> 8625</span>&#160;    buffer = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;  }</div>
<div class="line"><a name="l08627"></a><span class="lineno"> 8627</span>&#160;</div>
<div class="line"><a name="l08628"></a><span class="lineno"> 8628</span>&#160;  HValue* byte_offset;</div>
<div class="line"><a name="l08629"></a><span class="lineno"> 8629</span>&#160;  <span class="keywordtype">bool</span> is_zero_byte_offset;</div>
<div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;</div>
<div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;  <span class="keywordflow">if</span> (arguments-&gt;at(kByteOffsetArg)-&gt;node_type() == AstNode::kLiteral</div>
<div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160;      &amp;&amp; <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a53259c85a9a7f54c354c7871cb340073">Smi::FromInt</a>(0) ==</div>
<div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;      *<span class="keyword">static_cast&lt;</span>Literal*<span class="keyword">&gt;</span>(arguments-&gt;at(kByteOffsetArg))-&gt;value()) {</div>
<div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;    byte_offset = Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(0));</div>
<div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;    is_zero_byte_offset = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;at(kByteOffsetArg)));</div>
<div class="line"><a name="l08638"></a><span class="lineno"> 8638</span>&#160;    byte_offset = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160;    is_zero_byte_offset = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(buffer != NULL);</div>
<div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;  }</div>
<div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160;</div>
<div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;at(kByteLengthArg)));</div>
<div class="line"><a name="l08644"></a><span class="lineno"> 8644</span>&#160;  HValue* byte_length = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;</div>
<div class="line"><a name="l08646"></a><span class="lineno"> 8646</span>&#160;  IfBuilder byte_offset_smi(<span class="keyword">this</span>);</div>
<div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;</div>
<div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160;  <span class="keywordflow">if</span> (!is_zero_byte_offset) {</div>
<div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;    byte_offset_smi.If&lt;HIsSmiAndBranch&gt;(byte_offset);</div>
<div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;    byte_offset_smi.Then();</div>
<div class="line"><a name="l08651"></a><span class="lineno"> 8651</span>&#160;  }</div>
<div class="line"><a name="l08652"></a><span class="lineno"> 8652</span>&#160;</div>
<div class="line"><a name="l08653"></a><span class="lineno"> 8653</span>&#160;  <a class="code" href="../../d2/dc3/namespacev8.html#a5f53a3d1798730e03d542018271092ab">ExternalArrayType</a> array_type =</div>
<div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;      <a class="code" href="../../d2/dc3/namespacev8.html#a5f53a3d1798730e03d542018271092aba14dd96e8226ec268e625f060ea8d9c29">kExternalInt8Array</a>;  <span class="comment">// Bogus initialization.</span></div>
<div class="line"><a name="l08655"></a><span class="lineno"> 8655</span>&#160;  <span class="keywordtype">size_t</span> element_size = 1;  <span class="comment">// Bogus initialization.</span></div>
<div class="line"><a name="l08656"></a><span class="lineno"> 8656</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> external_elements_kind =  <span class="comment">// Bogus initialization.</span></div>
<div class="line"><a name="l08657"></a><span class="lineno"> 8657</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6d1358c35b9b244072c92c3df538f55b">EXTERNAL_INT8_ELEMENTS</a>;</div>
<div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> fixed_elements_kind =  <span class="comment">// Bogus initialization.</span></div>
<div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a1c946be83570bda42afc1d40890e852a">INT8_ELEMENTS</a>;</div>
<div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;  <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#aa2f1f954b625b8add75a3153b0446103">Runtime::ArrayIdToTypeAndSize</a>(array_id,</div>
<div class="line"><a name="l08661"></a><span class="lineno"> 8661</span>&#160;      &amp;array_type,</div>
<div class="line"><a name="l08662"></a><span class="lineno"> 8662</span>&#160;      &amp;external_elements_kind,</div>
<div class="line"><a name="l08663"></a><span class="lineno"> 8663</span>&#160;      &amp;fixed_elements_kind,</div>
<div class="line"><a name="l08664"></a><span class="lineno"> 8664</span>&#160;      &amp;element_size);</div>
<div class="line"><a name="l08665"></a><span class="lineno"> 8665</span>&#160;</div>
<div class="line"><a name="l08666"></a><span class="lineno"> 8666</span>&#160;</div>
<div class="line"><a name="l08667"></a><span class="lineno"> 8667</span>&#160;  { <span class="comment">//  byte_offset is Smi.</span></div>
<div class="line"><a name="l08668"></a><span class="lineno"> 8668</span>&#160;    BuildArrayBufferViewInitialization&lt;JSTypedArray&gt;(</div>
<div class="line"><a name="l08669"></a><span class="lineno"> 8669</span>&#160;        <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>, buffer, byte_offset, byte_length);</div>
<div class="line"><a name="l08670"></a><span class="lineno"> 8670</span>&#160;</div>
<div class="line"><a name="l08671"></a><span class="lineno"> 8671</span>&#160;</div>
<div class="line"><a name="l08672"></a><span class="lineno"> 8672</span>&#160;    HInstruction* length = AddUncasted&lt;HDiv&gt;(byte_length,</div>
<div class="line"><a name="l08673"></a><span class="lineno"> 8673</span>&#160;        Add&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(element_size)));</div>
<div class="line"><a name="l08674"></a><span class="lineno"> 8674</span>&#160;</div>
<div class="line"><a name="l08675"></a><span class="lineno"> 8675</span>&#160;    Add&lt;HStoreNamedField&gt;(<a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l08676"></a><span class="lineno"> 8676</span>&#160;        HObjectAccess::ForJSTypedArrayLength(),</div>
<div class="line"><a name="l08677"></a><span class="lineno"> 8677</span>&#160;        length);</div>
<div class="line"><a name="l08678"></a><span class="lineno"> 8678</span>&#160;</div>
<div class="line"><a name="l08679"></a><span class="lineno"> 8679</span>&#160;    HValue* elements;</div>
<div class="line"><a name="l08680"></a><span class="lineno"> 8680</span>&#160;    <span class="keywordflow">if</span> (buffer != NULL) {</div>
<div class="line"><a name="l08681"></a><span class="lineno"> 8681</span>&#160;      elements = BuildAllocateExternalElements(</div>
<div class="line"><a name="l08682"></a><span class="lineno"> 8682</span>&#160;          array_type, is_zero_byte_offset, buffer, byte_offset, length);</div>
<div class="line"><a name="l08683"></a><span class="lineno"> 8683</span>&#160;      Handle&lt;Map&gt; obj_map = TypedArrayMap(</div>
<div class="line"><a name="l08684"></a><span class="lineno"> 8684</span>&#160;          <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>(), array_type, external_elements_kind);</div>
<div class="line"><a name="l08685"></a><span class="lineno"> 8685</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74">AddStoreMapConstant</a>(obj, obj_map);</div>
<div class="line"><a name="l08686"></a><span class="lineno"> 8686</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08687"></a><span class="lineno"> 8687</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(is_zero_byte_offset);</div>
<div class="line"><a name="l08688"></a><span class="lineno"> 8688</span>&#160;      elements = BuildAllocateFixedTypedArray(</div>
<div class="line"><a name="l08689"></a><span class="lineno"> 8689</span>&#160;          array_type, element_size, fixed_elements_kind,</div>
<div class="line"><a name="l08690"></a><span class="lineno"> 8690</span>&#160;          byte_length, length);</div>
<div class="line"><a name="l08691"></a><span class="lineno"> 8691</span>&#160;    }</div>
<div class="line"><a name="l08692"></a><span class="lineno"> 8692</span>&#160;    Add&lt;HStoreNamedField&gt;(</div>
<div class="line"><a name="l08693"></a><span class="lineno"> 8693</span>&#160;        <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>, HObjectAccess::ForElementsPointer(), elements);</div>
<div class="line"><a name="l08694"></a><span class="lineno"> 8694</span>&#160;  }</div>
<div class="line"><a name="l08695"></a><span class="lineno"> 8695</span>&#160;</div>
<div class="line"><a name="l08696"></a><span class="lineno"> 8696</span>&#160;  <span class="keywordflow">if</span> (!is_zero_byte_offset) {</div>
<div class="line"><a name="l08697"></a><span class="lineno"> 8697</span>&#160;    byte_offset_smi.Else();</div>
<div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;    { <span class="comment">//  byte_offset is not Smi.</span></div>
<div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(obj);</div>
<div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(arguments-&gt;at(kArrayIdArg)));</div>
<div class="line"><a name="l08701"></a><span class="lineno"> 8701</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(buffer);</div>
<div class="line"><a name="l08702"></a><span class="lineno"> 8702</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(byte_offset);</div>
<div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(byte_length);</div>
<div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(kArgsLength);</div>
<div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;      Add&lt;HCallRuntime&gt;(expr-&gt;name(), expr-&gt;function(), kArgsLength);</div>
<div class="line"><a name="l08706"></a><span class="lineno"> 8706</span>&#160;    }</div>
<div class="line"><a name="l08707"></a><span class="lineno"> 8707</span>&#160;  }</div>
<div class="line"><a name="l08708"></a><span class="lineno"> 8708</span>&#160;  byte_offset_smi.End();</div>
<div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160;}</div>
<div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;</div>
<div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160;</div>
<div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateMaxSmi(CallRuntime* expr) {</div>
<div class="line"><a name="l08713"></a><span class="lineno"> 8713</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(expr-&gt;arguments()-&gt;length() == 0);</div>
<div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160;  HConstant* max_smi = New&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a0d444b088be14dc4fbd481a82fa06fc7">Smi::kMaxValue</a>));</div>
<div class="line"><a name="l08715"></a><span class="lineno"> 8715</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(max_smi, expr-&gt;id());</div>
<div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;}</div>
<div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;</div>
<div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160;</div>
<div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateTypedArrayMaxSizeInHeap(</div>
<div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;    CallRuntime* expr) {</div>
<div class="line"><a name="l08721"></a><span class="lineno"> 8721</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(expr-&gt;arguments()-&gt;length() == 0);</div>
<div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160;  HConstant* result = New&lt;HConstant&gt;(<span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l08723"></a><span class="lineno"> 8723</span>&#160;        FLAG_typed_array_max_size_in_heap));</div>
<div class="line"><a name="l08724"></a><span class="lineno"> 8724</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160;}</div>
<div class="line"><a name="l08726"></a><span class="lineno"> 8726</span>&#160;</div>
<div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;</div>
<div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitCallRuntime(CallRuntime* expr) {</div>
<div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l08732"></a><span class="lineno"> 8732</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;is_jsruntime()) {</div>
<div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kCallToAJavaScriptRuntimeFunction);</div>
<div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;  }</div>
<div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;</div>
<div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160;  <span class="keyword">const</span> Runtime::Function* <span class="keyword">function</span> = expr-&gt;function();</div>
<div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<span class="keyword">function</span> != NULL);</div>
<div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;</div>
<div class="line"><a name="l08739"></a><span class="lineno"> 8739</span>&#160;  <span class="keywordflow">if</span> (function-&gt;intrinsic_type == <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#a305cd7b2d5ede40e72db4ce438993fbca18c97cbdfea4a3b188d4efe2cf508e5b">Runtime::INLINE</a> ||</div>
<div class="line"><a name="l08740"></a><span class="lineno"> 8740</span>&#160;      function-&gt;intrinsic_type == <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#a305cd7b2d5ede40e72db4ce438993fbcab296fc028e1e8fdf97027441f36e0ae0">Runtime::INLINE_OPTIMIZED</a>) {</div>
<div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(expr-&gt;name()-&gt;length() &gt; 0);</div>
<div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(expr-&gt;name()-&gt;Get(0) == <span class="charliteral">&#39;_&#39;</span>);</div>
<div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;    <span class="comment">// Call to an inline function.</span></div>
<div class="line"><a name="l08744"></a><span class="lineno"> 8744</span>&#160;    <span class="keywordtype">int</span> lookup_index = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">function</span>-&gt;function_id) -</div>
<div class="line"><a name="l08745"></a><span class="lineno"> 8745</span>&#160;        static_cast&lt;int&gt;(<a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#aeadd8a6ad0a99e4d16b9a6352a9b2660a822d197a7e2d979c98bce9f8da78a639">Runtime::kFirstInlineFunction</a>);</div>
<div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(lookup_index &gt;= 0);</div>
<div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(static_cast&lt;size_t&gt;(lookup_index) &lt;</div>
<div class="line"><a name="l08748"></a><span class="lineno"> 8748</span>&#160;           <a class="code" href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a602735c52843d1326daff42a72163d79">kInlineFunctionGenerators</a>));</div>
<div class="line"><a name="l08749"></a><span class="lineno"> 8749</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa58493e3a03e1959db78f3068001a34a">InlineFunctionGenerator</a> generator = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a602735c52843d1326daff42a72163d79">kInlineFunctionGenerators</a>[lookup_index];</div>
<div class="line"><a name="l08750"></a><span class="lineno"> 8750</span>&#160;</div>
<div class="line"><a name="l08751"></a><span class="lineno"> 8751</span>&#160;    <span class="comment">// Call the inline code generator using the pointer-to-member.</span></div>
<div class="line"><a name="l08752"></a><span class="lineno"> 8752</span>&#160;    (this-&gt;*generator)(expr);</div>
<div class="line"><a name="l08753"></a><span class="lineno"> 8753</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08754"></a><span class="lineno"> 8754</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(function-&gt;intrinsic_type == <a class="code" href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#a305cd7b2d5ede40e72db4ce438993fbca53e721b85229cac6471e90c39ec5e530">Runtime::RUNTIME</a>);</div>
<div class="line"><a name="l08755"></a><span class="lineno"> 8755</span>&#160;    Handle&lt;String&gt; name = expr-&gt;name();</div>
<div class="line"><a name="l08756"></a><span class="lineno"> 8756</span>&#160;    <span class="keywordtype">int</span> argument_count = expr-&gt;arguments()-&gt;length();</div>
<div class="line"><a name="l08757"></a><span class="lineno"> 8757</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(expr-&gt;arguments()));</div>
<div class="line"><a name="l08758"></a><span class="lineno"> 8758</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(argument_count);</div>
<div class="line"><a name="l08759"></a><span class="lineno"> 8759</span>&#160;    HCallRuntime* call = New&lt;HCallRuntime&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a>, <span class="keyword">function</span>,</div>
<div class="line"><a name="l08760"></a><span class="lineno"> 8760</span>&#160;                                           argument_count);</div>
<div class="line"><a name="l08761"></a><span class="lineno"> 8761</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(call, expr-&gt;id());</div>
<div class="line"><a name="l08762"></a><span class="lineno"> 8762</span>&#160;  }</div>
<div class="line"><a name="l08763"></a><span class="lineno"> 8763</span>&#160;}</div>
<div class="line"><a name="l08764"></a><span class="lineno"> 8764</span>&#160;</div>
<div class="line"><a name="l08765"></a><span class="lineno"> 8765</span>&#160;</div>
<div class="line"><a name="l08766"></a><span class="lineno"> 8766</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitUnaryOperation(UnaryOperation* expr) {</div>
<div class="line"><a name="l08767"></a><span class="lineno"> 8767</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l08768"></a><span class="lineno"> 8768</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l08769"></a><span class="lineno"> 8769</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l08770"></a><span class="lineno"> 8770</span>&#160;  <span class="keywordflow">switch</span> (expr-&gt;op()) {</div>
<div class="line"><a name="l08771"></a><span class="lineno"> 8771</span>&#160;    <span class="keywordflow">case</span> Token::DELETE: <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d991e5436c66dce28b5e8a957134270">VisitDelete</a>(expr);</div>
<div class="line"><a name="l08772"></a><span class="lineno"> 8772</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d5/d27/platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf">Token::VOID</a>: <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8eead5234540d4b192b1b646327af660">VisitVoid</a>(expr);</div>
<div class="line"><a name="l08773"></a><span class="lineno"> 8773</span>&#160;    <span class="keywordflow">case</span> Token::TYPEOF: <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad298965c4631781c587cfedb116b4494">VisitTypeof</a>(expr);</div>
<div class="line"><a name="l08774"></a><span class="lineno"> 8774</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7cd0d204b82efe440e375e36463945a5a0378ebc895849163b249d0b330257dd6">Token::NOT</a>: <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7387f69900ab32a0acb27230fe04cb26">VisitNot</a>(expr);</div>
<div class="line"><a name="l08775"></a><span class="lineno"> 8775</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l08776"></a><span class="lineno"> 8776</span>&#160;  }</div>
<div class="line"><a name="l08777"></a><span class="lineno"> 8777</span>&#160;}</div>
<div class="line"><a name="l08778"></a><span class="lineno"> 8778</span>&#160;</div>
<div class="line"><a name="l08779"></a><span class="lineno"> 8779</span>&#160;</div>
<div class="line"><a name="l08780"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d991e5436c66dce28b5e8a957134270"> 8780</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d991e5436c66dce28b5e8a957134270">HOptimizedGraphBuilder::VisitDelete</a>(UnaryOperation* expr) {</div>
<div class="line"><a name="l08781"></a><span class="lineno"> 8781</span>&#160;  Property* prop = expr-&gt;expression()-&gt;AsProperty();</div>
<div class="line"><a name="l08782"></a><span class="lineno"> 8782</span>&#160;  VariableProxy* proxy = expr-&gt;expression()-&gt;AsVariableProxy();</div>
<div class="line"><a name="l08783"></a><span class="lineno"> 8783</span>&#160;  <span class="keywordflow">if</span> (prop != NULL) {</div>
<div class="line"><a name="l08784"></a><span class="lineno"> 8784</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;obj()));</div>
<div class="line"><a name="l08785"></a><span class="lineno"> 8785</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;key()));</div>
<div class="line"><a name="l08786"></a><span class="lineno"> 8786</span>&#160;    HValue* key = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08787"></a><span class="lineno"> 8787</span>&#160;    HValue* obj = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08788"></a><span class="lineno"> 8788</span>&#160;    HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1723360ac752b7889227b2ed67aa2e48">AddLoadJSBuiltin</a>(Builtins::DELETE);</div>
<div class="line"><a name="l08789"></a><span class="lineno"> 8789</span>&#160;    Add&lt;HPushArgument&gt;(<a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>);</div>
<div class="line"><a name="l08790"></a><span class="lineno"> 8790</span>&#160;    Add&lt;HPushArgument&gt;(key);</div>
<div class="line"><a name="l08791"></a><span class="lineno"> 8791</span>&#160;    Add&lt;HPushArgument&gt;(Add&lt;HConstant&gt;(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4886203dfb6208b95c163e4bf8a301c0">function_strict_mode</a>()));</div>
<div class="line"><a name="l08792"></a><span class="lineno"> 8792</span>&#160;    <span class="comment">// TODO(olivf) InvokeFunction produces a check for the parameter count,</span></div>
<div class="line"><a name="l08793"></a><span class="lineno"> 8793</span>&#160;    <span class="comment">// even though we are certain to pass the correct number of arguments here.</span></div>
<div class="line"><a name="l08794"></a><span class="lineno"> 8794</span>&#160;    <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* instr = New&lt;HInvokeFunction&gt;(<span class="keyword">function</span>, 3);</div>
<div class="line"><a name="l08795"></a><span class="lineno"> 8795</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#ae0c063cfb2479f614be43b9d2f92ba63">id</a>());</div>
<div class="line"><a name="l08796"></a><span class="lineno"> 8796</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (proxy != NULL) {</div>
<div class="line"><a name="l08797"></a><span class="lineno"> 8797</span>&#160;    <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html">Variable</a>* var = proxy-&gt;var();</div>
<div class="line"><a name="l08798"></a><span class="lineno"> 8798</span>&#160;    <span class="keywordflow">if</span> (var-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#a62b474d3da6033512c7b9e9cc8abefc6">IsUnallocated</a>()) {</div>
<div class="line"><a name="l08799"></a><span class="lineno"> 8799</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kDeleteWithGlobalVariable);</div>
<div class="line"><a name="l08800"></a><span class="lineno"> 8800</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (var-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#af47d0acfa2f3f472ce80c26953ff896c">IsStackAllocated</a>() || var-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#a07da0a3a426a35ae330ce4a2375d09de">IsContextSlot</a>()) {</div>
<div class="line"><a name="l08801"></a><span class="lineno"> 8801</span>&#160;      <span class="comment">// Result of deleting non-global variables is false.  &#39;this&#39; is not</span></div>
<div class="line"><a name="l08802"></a><span class="lineno"> 8802</span>&#160;      <span class="comment">// really a variable, though we implement it as one.  The</span></div>
<div class="line"><a name="l08803"></a><span class="lineno"> 8803</span>&#160;      <span class="comment">// subexpression does not have side effects.</span></div>
<div class="line"><a name="l08804"></a><span class="lineno"> 8804</span>&#160;      HValue* value = var-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#af343c8709a207832fe280d41e856541d">is_this</a>()</div>
<div class="line"><a name="l08805"></a><span class="lineno"> 8805</span>&#160;          ? <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantTrue()</div>
<div class="line"><a name="l08806"></a><span class="lineno"> 8806</span>&#160;          : <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantFalse();</div>
<div class="line"><a name="l08807"></a><span class="lineno"> 8807</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(value);</div>
<div class="line"><a name="l08808"></a><span class="lineno"> 8808</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08809"></a><span class="lineno"> 8809</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kDeleteWithNonGlobalVariable);</div>
<div class="line"><a name="l08810"></a><span class="lineno"> 8810</span>&#160;    }</div>
<div class="line"><a name="l08811"></a><span class="lineno"> 8811</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08812"></a><span class="lineno"> 8812</span>&#160;    <span class="comment">// Result of deleting non-property, non-variable reference is true.</span></div>
<div class="line"><a name="l08813"></a><span class="lineno"> 8813</span>&#160;    <span class="comment">// Evaluate the subexpression for side effects.</span></div>
<div class="line"><a name="l08814"></a><span class="lineno"> 8814</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(expr-&gt;expression()));</div>
<div class="line"><a name="l08815"></a><span class="lineno"> 8815</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantTrue());</div>
<div class="line"><a name="l08816"></a><span class="lineno"> 8816</span>&#160;  }</div>
<div class="line"><a name="l08817"></a><span class="lineno"> 8817</span>&#160;}</div>
<div class="line"><a name="l08818"></a><span class="lineno"> 8818</span>&#160;</div>
<div class="line"><a name="l08819"></a><span class="lineno"> 8819</span>&#160;</div>
<div class="line"><a name="l08820"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8eead5234540d4b192b1b646327af660"> 8820</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8eead5234540d4b192b1b646327af660">HOptimizedGraphBuilder::VisitVoid</a>(UnaryOperation* expr) {</div>
<div class="line"><a name="l08821"></a><span class="lineno"> 8821</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(expr-&gt;expression()));</div>
<div class="line"><a name="l08822"></a><span class="lineno"> 8822</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l08823"></a><span class="lineno"> 8823</span>&#160;}</div>
<div class="line"><a name="l08824"></a><span class="lineno"> 8824</span>&#160;</div>
<div class="line"><a name="l08825"></a><span class="lineno"> 8825</span>&#160;</div>
<div class="line"><a name="l08826"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad298965c4631781c587cfedb116b4494"> 8826</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad298965c4631781c587cfedb116b4494">HOptimizedGraphBuilder::VisitTypeof</a>(UnaryOperation* expr) {</div>
<div class="line"><a name="l08827"></a><span class="lineno"> 8827</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ae3efd69922a6aa4ad744803baacd6856">VisitForTypeOf</a>(expr-&gt;expression()));</div>
<div class="line"><a name="l08828"></a><span class="lineno"> 8828</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08829"></a><span class="lineno"> 8829</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* instr = New&lt;HTypeof&gt;(value);</div>
<div class="line"><a name="l08830"></a><span class="lineno"> 8830</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#ae0c063cfb2479f614be43b9d2f92ba63">id</a>());</div>
<div class="line"><a name="l08831"></a><span class="lineno"> 8831</span>&#160;}</div>
<div class="line"><a name="l08832"></a><span class="lineno"> 8832</span>&#160;</div>
<div class="line"><a name="l08833"></a><span class="lineno"> 8833</span>&#160;</div>
<div class="line"><a name="l08834"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7387f69900ab32a0acb27230fe04cb26"> 8834</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7387f69900ab32a0acb27230fe04cb26">HOptimizedGraphBuilder::VisitNot</a>(UnaryOperation* expr) {</div>
<div class="line"><a name="l08835"></a><span class="lineno"> 8835</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsTest()) {</div>
<div class="line"><a name="l08836"></a><span class="lineno"> 8836</span>&#160;    TestContext* context = TestContext::cast(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>());</div>
<div class="line"><a name="l08837"></a><span class="lineno"> 8837</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(expr-&gt;expression(),</div>
<div class="line"><a name="l08838"></a><span class="lineno"> 8838</span>&#160;                    context-&gt;if_false(),</div>
<div class="line"><a name="l08839"></a><span class="lineno"> 8839</span>&#160;                    context-&gt;if_true());</div>
<div class="line"><a name="l08840"></a><span class="lineno"> 8840</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08841"></a><span class="lineno"> 8841</span>&#160;  }</div>
<div class="line"><a name="l08842"></a><span class="lineno"> 8842</span>&#160;</div>
<div class="line"><a name="l08843"></a><span class="lineno"> 8843</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) {</div>
<div class="line"><a name="l08844"></a><span class="lineno"> 8844</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(expr-&gt;expression());</div>
<div class="line"><a name="l08845"></a><span class="lineno"> 8845</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08846"></a><span class="lineno"> 8846</span>&#160;  }</div>
<div class="line"><a name="l08847"></a><span class="lineno"> 8847</span>&#160;</div>
<div class="line"><a name="l08848"></a><span class="lineno"> 8848</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsValue());</div>
<div class="line"><a name="l08849"></a><span class="lineno"> 8849</span>&#160;  HBasicBlock* materialize_false = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l08850"></a><span class="lineno"> 8850</span>&#160;  HBasicBlock* materialize_true = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l08851"></a><span class="lineno"> 8851</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(expr-&gt;expression(),</div>
<div class="line"><a name="l08852"></a><span class="lineno"> 8852</span>&#160;                                materialize_false,</div>
<div class="line"><a name="l08853"></a><span class="lineno"> 8853</span>&#160;                                materialize_true));</div>
<div class="line"><a name="l08854"></a><span class="lineno"> 8854</span>&#160;</div>
<div class="line"><a name="l08855"></a><span class="lineno"> 8855</span>&#160;  <span class="keywordflow">if</span> (materialize_false-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l08856"></a><span class="lineno"> 8856</span>&#160;    materialize_false-&gt;SetJoinId(expr-&gt;MaterializeFalseId());</div>
<div class="line"><a name="l08857"></a><span class="lineno"> 8857</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(materialize_false);</div>
<div class="line"><a name="l08858"></a><span class="lineno"> 8858</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantFalse());</div>
<div class="line"><a name="l08859"></a><span class="lineno"> 8859</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08860"></a><span class="lineno"> 8860</span>&#160;    materialize_false = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l08861"></a><span class="lineno"> 8861</span>&#160;  }</div>
<div class="line"><a name="l08862"></a><span class="lineno"> 8862</span>&#160;</div>
<div class="line"><a name="l08863"></a><span class="lineno"> 8863</span>&#160;  <span class="keywordflow">if</span> (materialize_true-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l08864"></a><span class="lineno"> 8864</span>&#160;    materialize_true-&gt;SetJoinId(expr-&gt;MaterializeTrueId());</div>
<div class="line"><a name="l08865"></a><span class="lineno"> 8865</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(materialize_true);</div>
<div class="line"><a name="l08866"></a><span class="lineno"> 8866</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantTrue());</div>
<div class="line"><a name="l08867"></a><span class="lineno"> 8867</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08868"></a><span class="lineno"> 8868</span>&#160;    materialize_true = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l08869"></a><span class="lineno"> 8869</span>&#160;  }</div>
<div class="line"><a name="l08870"></a><span class="lineno"> 8870</span>&#160;</div>
<div class="line"><a name="l08871"></a><span class="lineno"> 8871</span>&#160;  HBasicBlock* join =</div>
<div class="line"><a name="l08872"></a><span class="lineno"> 8872</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">CreateJoin</a>(materialize_false, materialize_true, expr-&gt;id());</div>
<div class="line"><a name="l08873"></a><span class="lineno"> 8873</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join);</div>
<div class="line"><a name="l08874"></a><span class="lineno"> 8874</span>&#160;  <span class="keywordflow">if</span> (join != NULL) <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l08875"></a><span class="lineno"> 8875</span>&#160;}</div>
<div class="line"><a name="l08876"></a><span class="lineno"> 8876</span>&#160;</div>
<div class="line"><a name="l08877"></a><span class="lineno"> 8877</span>&#160;</div>
<div class="line"><a name="l08878"></a><span class="lineno"> 8878</span>&#160;<a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* HOptimizedGraphBuilder::BuildIncrement(</div>
<div class="line"><a name="l08879"></a><span class="lineno"> 8879</span>&#160;    <span class="keywordtype">bool</span> returns_original_input,</div>
<div class="line"><a name="l08880"></a><span class="lineno"> 8880</span>&#160;    CountOperation* expr) {</div>
<div class="line"><a name="l08881"></a><span class="lineno"> 8881</span>&#160;  <span class="comment">// The input to the count operation is on top of the expression stack.</span></div>
<div class="line"><a name="l08882"></a><span class="lineno"> 8882</span>&#160;  <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html">Representation</a> rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(expr-&gt;type());</div>
<div class="line"><a name="l08883"></a><span class="lineno"> 8883</span>&#160;  <span class="keywordflow">if</span> (rep.<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a592590f055219bc6134c36836359434b">IsNone</a>() || rep.<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a97b290cba018dbf70009f48f4fe61613">IsTagged</a>()) {</div>
<div class="line"><a name="l08884"></a><span class="lineno"> 8884</span>&#160;    rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#aefab3c6fec4cd73c28fdcdd5b4b4c5f5">Representation::Smi</a>();</div>
<div class="line"><a name="l08885"></a><span class="lineno"> 8885</span>&#160;  }</div>
<div class="line"><a name="l08886"></a><span class="lineno"> 8886</span>&#160;</div>
<div class="line"><a name="l08887"></a><span class="lineno"> 8887</span>&#160;  <span class="keywordflow">if</span> (returns_original_input) {</div>
<div class="line"><a name="l08888"></a><span class="lineno"> 8888</span>&#160;    <span class="comment">// We need an explicit HValue representing ToNumber(input).  The</span></div>
<div class="line"><a name="l08889"></a><span class="lineno"> 8889</span>&#160;    <span class="comment">// actual HChange instruction we need is (sometimes) added in a later</span></div>
<div class="line"><a name="l08890"></a><span class="lineno"> 8890</span>&#160;    <span class="comment">// phase, so it is not available now to be used as an input to HAdd and</span></div>
<div class="line"><a name="l08891"></a><span class="lineno"> 8891</span>&#160;    <span class="comment">// as the return value.</span></div>
<div class="line"><a name="l08892"></a><span class="lineno"> 8892</span>&#160;    HInstruction* number_input = AddUncasted&lt;HForceRepresentation&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>(), rep);</div>
<div class="line"><a name="l08893"></a><span class="lineno"> 8893</span>&#160;    <span class="keywordflow">if</span> (!rep.<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a297dbe5a9f0f9bc46f81c6e1730dbfe2">IsDouble</a>()) {</div>
<div class="line"><a name="l08894"></a><span class="lineno"> 8894</span>&#160;      number_input-&gt;SetFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa8a83882795dc01dc3cf98dcd7cccf705">HInstruction::kFlexibleRepresentation</a>);</div>
<div class="line"><a name="l08895"></a><span class="lineno"> 8895</span>&#160;      number_input-&gt;SetFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aaa7a82cffc5f09595f0bee7a7d5801e54">HInstruction::kCannotBeTagged</a>);</div>
<div class="line"><a name="l08896"></a><span class="lineno"> 8896</span>&#160;    }</div>
<div class="line"><a name="l08897"></a><span class="lineno"> 8897</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(number_input);</div>
<div class="line"><a name="l08898"></a><span class="lineno"> 8898</span>&#160;  }</div>
<div class="line"><a name="l08899"></a><span class="lineno"> 8899</span>&#160;</div>
<div class="line"><a name="l08900"></a><span class="lineno"> 8900</span>&#160;  <span class="comment">// The addition has no side effects, so we do not need</span></div>
<div class="line"><a name="l08901"></a><span class="lineno"> 8901</span>&#160;  <span class="comment">// to simulate the expression stack after this instruction.</span></div>
<div class="line"><a name="l08902"></a><span class="lineno"> 8902</span>&#160;  <span class="comment">// Any later failures deopt to the load of the input or earlier.</span></div>
<div class="line"><a name="l08903"></a><span class="lineno"> 8903</span>&#160;  HConstant* delta = (expr-&gt;op() == Token::INC)</div>
<div class="line"><a name="l08904"></a><span class="lineno"> 8904</span>&#160;      ? <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant1()</div>
<div class="line"><a name="l08905"></a><span class="lineno"> 8905</span>&#160;      : <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantMinus1();</div>
<div class="line"><a name="l08906"></a><span class="lineno"> 8906</span>&#160;  HInstruction* instr = AddUncasted&lt;HAdd&gt;(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>(), delta);</div>
<div class="line"><a name="l08907"></a><span class="lineno"> 8907</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;IsAdd()) {</div>
<div class="line"><a name="l08908"></a><span class="lineno"> 8908</span>&#160;    HAdd* add = HAdd::cast(instr);</div>
<div class="line"><a name="l08909"></a><span class="lineno"> 8909</span>&#160;    add-&gt;set_observed_input_representation(1, rep);</div>
<div class="line"><a name="l08910"></a><span class="lineno"> 8910</span>&#160;    add-&gt;set_observed_input_representation(2, <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#aefab3c6fec4cd73c28fdcdd5b4b4c5f5">Representation::Smi</a>());</div>
<div class="line"><a name="l08911"></a><span class="lineno"> 8911</span>&#160;  }</div>
<div class="line"><a name="l08912"></a><span class="lineno"> 8912</span>&#160;  instr-&gt;SetFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aaa7a82cffc5f09595f0bee7a7d5801e54">HInstruction::kCannotBeTagged</a>);</div>
<div class="line"><a name="l08913"></a><span class="lineno"> 8913</span>&#160;  instr-&gt;ClearAllSideEffects();</div>
<div class="line"><a name="l08914"></a><span class="lineno"> 8914</span>&#160;  <span class="keywordflow">return</span> instr;</div>
<div class="line"><a name="l08915"></a><span class="lineno"> 8915</span>&#160;}</div>
<div class="line"><a name="l08916"></a><span class="lineno"> 8916</span>&#160;</div>
<div class="line"><a name="l08917"></a><span class="lineno"> 8917</span>&#160;</div>
<div class="line"><a name="l08918"></a><span class="lineno"> 8918</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildStoreForEffect(Expression* expr,</div>
<div class="line"><a name="l08919"></a><span class="lineno"> 8919</span>&#160;                                                 Property* prop,</div>
<div class="line"><a name="l08920"></a><span class="lineno"> 8920</span>&#160;                                                 BailoutId ast_id,</div>
<div class="line"><a name="l08921"></a><span class="lineno"> 8921</span>&#160;                                                 BailoutId return_id,</div>
<div class="line"><a name="l08922"></a><span class="lineno"> 8922</span>&#160;                                                 HValue* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l08923"></a><span class="lineno"> 8923</span>&#160;                                                 HValue* key,</div>
<div class="line"><a name="l08924"></a><span class="lineno"> 8924</span>&#160;                                                 HValue* value) {</div>
<div class="line"><a name="l08925"></a><span class="lineno"> 8925</span>&#160;  EffectContext for_effect(<span class="keyword">this</span>);</div>
<div class="line"><a name="l08926"></a><span class="lineno"> 8926</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l08927"></a><span class="lineno"> 8927</span>&#160;  <span class="keywordflow">if</span> (key != NULL) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(key);</div>
<div class="line"><a name="l08928"></a><span class="lineno"> 8928</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(value);</div>
<div class="line"><a name="l08929"></a><span class="lineno"> 8929</span>&#160;  BuildStore(expr, prop, ast_id, return_id);</div>
<div class="line"><a name="l08930"></a><span class="lineno"> 8930</span>&#160;}</div>
<div class="line"><a name="l08931"></a><span class="lineno"> 8931</span>&#160;</div>
<div class="line"><a name="l08932"></a><span class="lineno"> 8932</span>&#160;</div>
<div class="line"><a name="l08933"></a><span class="lineno"> 8933</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitCountOperation(CountOperation* expr) {</div>
<div class="line"><a name="l08934"></a><span class="lineno"> 8934</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l08935"></a><span class="lineno"> 8935</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l08936"></a><span class="lineno"> 8936</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l08937"></a><span class="lineno"> 8937</span>&#160;  <span class="keywordflow">if</span> (!FLAG_hydrogen_track_positions) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l08938"></a><span class="lineno"> 8938</span>&#160;  Expression* target = expr-&gt;expression();</div>
<div class="line"><a name="l08939"></a><span class="lineno"> 8939</span>&#160;  VariableProxy* proxy = target-&gt;AsVariableProxy();</div>
<div class="line"><a name="l08940"></a><span class="lineno"> 8940</span>&#160;  Property* prop = target-&gt;AsProperty();</div>
<div class="line"><a name="l08941"></a><span class="lineno"> 8941</span>&#160;  <span class="keywordflow">if</span> (proxy == NULL &amp;&amp; prop == NULL) {</div>
<div class="line"><a name="l08942"></a><span class="lineno"> 8942</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInvalidLhsInCountOperation);</div>
<div class="line"><a name="l08943"></a><span class="lineno"> 8943</span>&#160;  }</div>
<div class="line"><a name="l08944"></a><span class="lineno"> 8944</span>&#160;</div>
<div class="line"><a name="l08945"></a><span class="lineno"> 8945</span>&#160;  <span class="comment">// Match the full code generator stack by simulating an extra stack</span></div>
<div class="line"><a name="l08946"></a><span class="lineno"> 8946</span>&#160;  <span class="comment">// element for postfix operations in a non-effect context.  The return</span></div>
<div class="line"><a name="l08947"></a><span class="lineno"> 8947</span>&#160;  <span class="comment">// value is ToNumber(input).</span></div>
<div class="line"><a name="l08948"></a><span class="lineno"> 8948</span>&#160;  <span class="keywordtype">bool</span> returns_original_input =</div>
<div class="line"><a name="l08949"></a><span class="lineno"> 8949</span>&#160;      expr-&gt;is_postfix() &amp;&amp; !<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>();</div>
<div class="line"><a name="l08950"></a><span class="lineno"> 8950</span>&#160;  HValue* input = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;  <span class="comment">// ToNumber(original_input).</span></div>
<div class="line"><a name="l08951"></a><span class="lineno"> 8951</span>&#160;  HValue* after = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;  <span class="comment">// The result after incrementing or decrementing.</span></div>
<div class="line"><a name="l08952"></a><span class="lineno"> 8952</span>&#160;</div>
<div class="line"><a name="l08953"></a><span class="lineno"> 8953</span>&#160;  <span class="keywordflow">if</span> (proxy != NULL) {</div>
<div class="line"><a name="l08954"></a><span class="lineno"> 8954</span>&#160;    Variable* var = proxy-&gt;var();</div>
<div class="line"><a name="l08955"></a><span class="lineno"> 8955</span>&#160;    <span class="keywordflow">if</span> (var-&gt;mode() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21ab47cad6c25d7dbef4dd8fb65933c7edf">CONST_LEGACY</a>)  {</div>
<div class="line"><a name="l08956"></a><span class="lineno"> 8956</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kUnsupportedCountOperationWithConst);</div>
<div class="line"><a name="l08957"></a><span class="lineno"> 8957</span>&#160;    }</div>
<div class="line"><a name="l08958"></a><span class="lineno"> 8958</span>&#160;    <span class="comment">// Argument of the count operation is a variable, not a property.</span></div>
<div class="line"><a name="l08959"></a><span class="lineno"> 8959</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(prop == NULL);</div>
<div class="line"><a name="l08960"></a><span class="lineno"> 8960</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(target));</div>
<div class="line"><a name="l08961"></a><span class="lineno"> 8961</span>&#160;</div>
<div class="line"><a name="l08962"></a><span class="lineno"> 8962</span>&#160;    after = BuildIncrement(returns_original_input, expr);</div>
<div class="line"><a name="l08963"></a><span class="lineno"> 8963</span>&#160;    input = returns_original_input ? <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>() : <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l08964"></a><span class="lineno"> 8964</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(after);</div>
<div class="line"><a name="l08965"></a><span class="lineno"> 8965</span>&#160;</div>
<div class="line"><a name="l08966"></a><span class="lineno"> 8966</span>&#160;    <span class="keywordflow">switch</span> (var-&gt;location()) {</div>
<div class="line"><a name="l08967"></a><span class="lineno"> 8967</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4079064b49d023e3d885b939e1785242">Variable::UNALLOCATED</a>:</div>
<div class="line"><a name="l08968"></a><span class="lineno"> 8968</span>&#160;        HandleGlobalVariableAssignment(var,</div>
<div class="line"><a name="l08969"></a><span class="lineno"> 8969</span>&#160;                                       after,</div>
<div class="line"><a name="l08970"></a><span class="lineno"> 8970</span>&#160;                                       expr-&gt;AssignmentId());</div>
<div class="line"><a name="l08971"></a><span class="lineno"> 8971</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08972"></a><span class="lineno"> 8972</span>&#160;</div>
<div class="line"><a name="l08973"></a><span class="lineno"> 8973</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a194cde856bd2d79eac8adb9741c55940">Variable::PARAMETER</a>:</div>
<div class="line"><a name="l08974"></a><span class="lineno"> 8974</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43ad0ef00e708ed18ba004480dceb79ecfb">Variable::LOCAL</a>:</div>
<div class="line"><a name="l08975"></a><span class="lineno"> 8975</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a50b15cc06ceda90a2e0c189592bc7242">BindIfLive</a>(var, after);</div>
<div class="line"><a name="l08976"></a><span class="lineno"> 8976</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08977"></a><span class="lineno"> 8977</span>&#160;</div>
<div class="line"><a name="l08978"></a><span class="lineno"> 8978</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a7f06283f0d1a4d167be6c37a3d24fd11">Variable::CONTEXT</a>: {</div>
<div class="line"><a name="l08979"></a><span class="lineno"> 8979</span>&#160;        <span class="comment">// Bail out if we try to mutate a parameter value in a function</span></div>
<div class="line"><a name="l08980"></a><span class="lineno"> 8980</span>&#160;        <span class="comment">// using the arguments object.  We do not (yet) correctly handle the</span></div>
<div class="line"><a name="l08981"></a><span class="lineno"> 8981</span>&#160;        <span class="comment">// arguments property of the function.</span></div>
<div class="line"><a name="l08982"></a><span class="lineno"> 8982</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;scope()-&gt;arguments() != NULL) {</div>
<div class="line"><a name="l08983"></a><span class="lineno"> 8983</span>&#160;          <span class="comment">// Parameters will rewrite to context slots.  We have no direct</span></div>
<div class="line"><a name="l08984"></a><span class="lineno"> 8984</span>&#160;          <span class="comment">// way to detect that the variable is a parameter so we use a</span></div>
<div class="line"><a name="l08985"></a><span class="lineno"> 8985</span>&#160;          <span class="comment">// linear search of the parameter list.</span></div>
<div class="line"><a name="l08986"></a><span class="lineno"> 8986</span>&#160;          <span class="keywordtype">int</span> count = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8f5227b0eb369353404602683a4f2beb">scope</a>()-&gt;<a class="code" href="../../de/db5/classv8_1_1internal_1_1_scope.html#a61de976d8872290d12f5d9d6f81ee4ce">num_parameters</a>();</div>
<div class="line"><a name="l08987"></a><span class="lineno"> 8987</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {</div>
<div class="line"><a name="l08988"></a><span class="lineno"> 8988</span>&#160;            <span class="keywordflow">if</span> (var == <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;scope()-&gt;parameter(i)) {</div>
<div class="line"><a name="l08989"></a><span class="lineno"> 8989</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kAssignmentToParameterInArgumentsObject);</div>
<div class="line"><a name="l08990"></a><span class="lineno"> 8990</span>&#160;            }</div>
<div class="line"><a name="l08991"></a><span class="lineno"> 8991</span>&#160;          }</div>
<div class="line"><a name="l08992"></a><span class="lineno"> 8992</span>&#160;        }</div>
<div class="line"><a name="l08993"></a><span class="lineno"> 8993</span>&#160;</div>
<div class="line"><a name="l08994"></a><span class="lineno"> 8994</span>&#160;        HValue* context = BuildContextChainWalk(var);</div>
<div class="line"><a name="l08995"></a><span class="lineno"> 8995</span>&#160;        HStoreContextSlot::Mode mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2dcc8fdad115890143437f76839010c3">IsLexicalVariableMode</a>(var-&gt;mode())</div>
<div class="line"><a name="l08996"></a><span class="lineno"> 8996</span>&#160;            ? HStoreContextSlot::kCheckDeoptimize : HStoreContextSlot::kNoCheck;</div>
<div class="line"><a name="l08997"></a><span class="lineno"> 8997</span>&#160;        HStoreContextSlot* instr = Add&lt;HStoreContextSlot&gt;(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>, var-&gt;index(),</div>
<div class="line"><a name="l08998"></a><span class="lineno"> 8998</span>&#160;                                                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>, after);</div>
<div class="line"><a name="l08999"></a><span class="lineno"> 8999</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l09000"></a><span class="lineno"> 9000</span>&#160;          Add&lt;HSimulate&gt;(expr-&gt;AssignmentId(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l09001"></a><span class="lineno"> 9001</span>&#160;        }</div>
<div class="line"><a name="l09002"></a><span class="lineno"> 9002</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09003"></a><span class="lineno"> 9003</span>&#160;      }</div>
<div class="line"><a name="l09004"></a><span class="lineno"> 9004</span>&#160;</div>
<div class="line"><a name="l09005"></a><span class="lineno"> 9005</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4909b1bd07519e440222256440fdcef1">Variable::LOOKUP</a>:</div>
<div class="line"><a name="l09006"></a><span class="lineno"> 9006</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kLookupVariableInCountOperation);</div>
<div class="line"><a name="l09007"></a><span class="lineno"> 9007</span>&#160;    }</div>
<div class="line"><a name="l09008"></a><span class="lineno"> 9008</span>&#160;</div>
<div class="line"><a name="l09009"></a><span class="lineno"> 9009</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(returns_original_input ? 2 : 1);</div>
<div class="line"><a name="l09010"></a><span class="lineno"> 9010</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(expr-&gt;is_postfix() ? input : after);</div>
<div class="line"><a name="l09011"></a><span class="lineno"> 9011</span>&#160;  }</div>
<div class="line"><a name="l09012"></a><span class="lineno"> 9012</span>&#160;</div>
<div class="line"><a name="l09013"></a><span class="lineno"> 9013</span>&#160;  <span class="comment">// Argument of the count operation is a property.</span></div>
<div class="line"><a name="l09014"></a><span class="lineno"> 9014</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(prop != NULL);</div>
<div class="line"><a name="l09015"></a><span class="lineno"> 9015</span>&#160;  <span class="keywordflow">if</span> (returns_original_input) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l09016"></a><span class="lineno"> 9016</span>&#160;</div>
<div class="line"><a name="l09017"></a><span class="lineno"> 9017</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;obj()));</div>
<div class="line"><a name="l09018"></a><span class="lineno"> 9018</span>&#160;  HValue* <span class="keywordtype">object</span> = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l09019"></a><span class="lineno"> 9019</span>&#160;</div>
<div class="line"><a name="l09020"></a><span class="lineno"> 9020</span>&#160;  HValue* key = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l09021"></a><span class="lineno"> 9021</span>&#160;  <span class="keywordflow">if</span> ((!prop-&gt;IsFunctionPrototype() &amp;&amp; !prop-&gt;key()-&gt;IsPropertyName()) ||</div>
<div class="line"><a name="l09022"></a><span class="lineno"> 9022</span>&#160;      prop-&gt;IsStringAccess()) {</div>
<div class="line"><a name="l09023"></a><span class="lineno"> 9023</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(prop-&gt;key()));</div>
<div class="line"><a name="l09024"></a><span class="lineno"> 9024</span>&#160;    key = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l09025"></a><span class="lineno"> 9025</span>&#160;  }</div>
<div class="line"><a name="l09026"></a><span class="lineno"> 9026</span>&#160;</div>
<div class="line"><a name="l09027"></a><span class="lineno"> 9027</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(PushLoad(prop, <span class="keywordtype">object</span>, key));</div>
<div class="line"><a name="l09028"></a><span class="lineno"> 9028</span>&#160;</div>
<div class="line"><a name="l09029"></a><span class="lineno"> 9029</span>&#160;  after = BuildIncrement(returns_original_input, expr);</div>
<div class="line"><a name="l09030"></a><span class="lineno"> 9030</span>&#160;</div>
<div class="line"><a name="l09031"></a><span class="lineno"> 9031</span>&#160;  <span class="keywordflow">if</span> (returns_original_input) {</div>
<div class="line"><a name="l09032"></a><span class="lineno"> 9032</span>&#160;    input = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l09033"></a><span class="lineno"> 9033</span>&#160;    <span class="comment">// Drop object and key to push it again in the effect context below.</span></div>
<div class="line"><a name="l09034"></a><span class="lineno"> 9034</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(key == NULL ? 1 : 2);</div>
<div class="line"><a name="l09035"></a><span class="lineno"> 9035</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(0, input);</div>
<div class="line"><a name="l09036"></a><span class="lineno"> 9036</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(BuildStoreForEffect(</div>
<div class="line"><a name="l09037"></a><span class="lineno"> 9037</span>&#160;        expr, prop, expr-&gt;id(), expr-&gt;AssignmentId(), object, key, after));</div>
<div class="line"><a name="l09038"></a><span class="lineno"> 9038</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l09039"></a><span class="lineno"> 9039</span>&#160;  }</div>
<div class="line"><a name="l09040"></a><span class="lineno"> 9040</span>&#160;</div>
<div class="line"><a name="l09041"></a><span class="lineno"> 9041</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;SetExpressionStackAt(0, after);</div>
<div class="line"><a name="l09042"></a><span class="lineno"> 9042</span>&#160;  <span class="keywordflow">return</span> BuildStore(expr, prop, expr-&gt;id(), expr-&gt;AssignmentId());</div>
<div class="line"><a name="l09043"></a><span class="lineno"> 9043</span>&#160;}</div>
<div class="line"><a name="l09044"></a><span class="lineno"> 9044</span>&#160;</div>
<div class="line"><a name="l09045"></a><span class="lineno"> 9045</span>&#160;</div>
<div class="line"><a name="l09046"></a><span class="lineno"> 9046</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildStringCharCodeAt(</div>
<div class="line"><a name="l09047"></a><span class="lineno"> 9047</span>&#160;    HValue* <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l09048"></a><span class="lineno"> 9048</span>&#160;    HValue* index) {</div>
<div class="line"><a name="l09049"></a><span class="lineno"> 9049</span>&#160;  <span class="keywordflow">if</span> (string-&gt;IsConstant() &amp;&amp; index-&gt;IsConstant()) {</div>
<div class="line"><a name="l09050"></a><span class="lineno"> 9050</span>&#160;    HConstant* c_string = HConstant::cast(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l09051"></a><span class="lineno"> 9051</span>&#160;    HConstant* c_index = HConstant::cast(index);</div>
<div class="line"><a name="l09052"></a><span class="lineno"> 9052</span>&#160;    <span class="keywordflow">if</span> (c_string-&gt;HasStringValue() &amp;&amp; c_index-&gt;HasNumberValue()) {</div>
<div class="line"><a name="l09053"></a><span class="lineno"> 9053</span>&#160;      <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> i = c_index-&gt;NumberValueAsInteger32();</div>
<div class="line"><a name="l09054"></a><span class="lineno"> 9054</span>&#160;      Handle&lt;String&gt; s = c_string-&gt;StringValue();</div>
<div class="line"><a name="l09055"></a><span class="lineno"> 9055</span>&#160;      <span class="keywordflow">if</span> (i &lt; 0 || i &gt;= s-&gt;length()) {</div>
<div class="line"><a name="l09056"></a><span class="lineno"> 9056</span>&#160;        <span class="keywordflow">return</span> New&lt;HConstant&gt;(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a2ad80cdfa895b81968050fa753ecda20">OS::nan_value</a>());</div>
<div class="line"><a name="l09057"></a><span class="lineno"> 9057</span>&#160;      }</div>
<div class="line"><a name="l09058"></a><span class="lineno"> 9058</span>&#160;      <span class="keywordflow">return</span> New&lt;HConstant&gt;(s-&gt;Get(i));</div>
<div class="line"><a name="l09059"></a><span class="lineno"> 9059</span>&#160;    }</div>
<div class="line"><a name="l09060"></a><span class="lineno"> 9060</span>&#160;  }</div>
<div class="line"><a name="l09061"></a><span class="lineno"> 9061</span>&#160;  <span class="keywordtype">string</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aacfb8b08512ff272a06084e0f0b2cbe3">BuildCheckString</a>(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l09062"></a><span class="lineno"> 9062</span>&#160;  index = Add&lt;HBoundsCheck&gt;(index, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac53daea5faaa438caaf83a554c00711b">AddLoadStringLength</a>(<span class="keywordtype">string</span>));</div>
<div class="line"><a name="l09063"></a><span class="lineno"> 9063</span>&#160;  <span class="keywordflow">return</span> New&lt;HStringCharCodeAt&gt;(string, index);</div>
<div class="line"><a name="l09064"></a><span class="lineno"> 9064</span>&#160;}</div>
<div class="line"><a name="l09065"></a><span class="lineno"> 9065</span>&#160;</div>
<div class="line"><a name="l09066"></a><span class="lineno"> 9066</span>&#160;</div>
<div class="line"><a name="l09067"></a><span class="lineno"> 9067</span>&#160;<span class="comment">// Checks if the given shift amounts have following forms:</span></div>
<div class="line"><a name="l09068"></a><span class="lineno"> 9068</span>&#160;<span class="comment">// (N1) and (N2) with N1 + N2 = 32; (sa) and (32 - sa).</span></div>
<div class="line"><a name="l09069"></a><span class="lineno"> 9069</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> ShiftAmountsAllowReplaceByRotate(HValue* sa,</div>
<div class="line"><a name="l09070"></a><span class="lineno"> 9070</span>&#160;                                             HValue* const32_minus_sa) {</div>
<div class="line"><a name="l09071"></a><span class="lineno"> 9071</span>&#160;  <span class="keywordflow">if</span> (sa-&gt;IsConstant() &amp;&amp; const32_minus_sa-&gt;IsConstant()) {</div>
<div class="line"><a name="l09072"></a><span class="lineno"> 9072</span>&#160;    <span class="keyword">const</span> HConstant* c1 = HConstant::cast(sa);</div>
<div class="line"><a name="l09073"></a><span class="lineno"> 9073</span>&#160;    <span class="keyword">const</span> HConstant* c2 = HConstant::cast(const32_minus_sa);</div>
<div class="line"><a name="l09074"></a><span class="lineno"> 9074</span>&#160;    <span class="keywordflow">return</span> c1-&gt;HasInteger32Value() &amp;&amp; c2-&gt;HasInteger32Value() &amp;&amp;</div>
<div class="line"><a name="l09075"></a><span class="lineno"> 9075</span>&#160;        (c1-&gt;Integer32Value() + c2-&gt;Integer32Value() == 32);</div>
<div class="line"><a name="l09076"></a><span class="lineno"> 9076</span>&#160;  }</div>
<div class="line"><a name="l09077"></a><span class="lineno"> 9077</span>&#160;  <span class="keywordflow">if</span> (!const32_minus_sa-&gt;IsSub()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09078"></a><span class="lineno"> 9078</span>&#160;  HSub* sub = HSub::cast(const32_minus_sa);</div>
<div class="line"><a name="l09079"></a><span class="lineno"> 9079</span>&#160;  <span class="keywordflow">return</span> sub-&gt;left()-&gt;EqualsInteger32Constant(32) &amp;&amp; sub-&gt;right() == sa;</div>
<div class="line"><a name="l09080"></a><span class="lineno"> 9080</span>&#160;}</div>
<div class="line"><a name="l09081"></a><span class="lineno"> 9081</span>&#160;</div>
<div class="line"><a name="l09082"></a><span class="lineno"> 9082</span>&#160;</div>
<div class="line"><a name="l09083"></a><span class="lineno"> 9083</span>&#160;<span class="comment">// Checks if the left and the right are shift instructions with the oposite</span></div>
<div class="line"><a name="l09084"></a><span class="lineno"> 9084</span>&#160;<span class="comment">// directions that can be replaced by one rotate right instruction or not.</span></div>
<div class="line"><a name="l09085"></a><span class="lineno"> 9085</span>&#160;<span class="comment">// Returns the operand and the shift amount for the rotate instruction in the</span></div>
<div class="line"><a name="l09086"></a><span class="lineno"> 9086</span>&#160;<span class="comment">// former case.</span></div>
<div class="line"><a name="l09087"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a780afe985448bf3feaf11759b4bfa98a"> 9087</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a780afe985448bf3feaf11759b4bfa98a">HGraphBuilder::MatchRotateRight</a>(HValue* left,</div>
<div class="line"><a name="l09088"></a><span class="lineno"> 9088</span>&#160;                                     HValue* right,</div>
<div class="line"><a name="l09089"></a><span class="lineno"> 9089</span>&#160;                                     HValue** operand,</div>
<div class="line"><a name="l09090"></a><span class="lineno"> 9090</span>&#160;                                     HValue** shift_amount) {</div>
<div class="line"><a name="l09091"></a><span class="lineno"> 9091</span>&#160;  HShl* shl;</div>
<div class="line"><a name="l09092"></a><span class="lineno"> 9092</span>&#160;  HShr* shr;</div>
<div class="line"><a name="l09093"></a><span class="lineno"> 9093</span>&#160;  <span class="keywordflow">if</span> (left-&gt;IsShl() &amp;&amp; right-&gt;IsShr()) {</div>
<div class="line"><a name="l09094"></a><span class="lineno"> 9094</span>&#160;    shl = HShl::cast(left);</div>
<div class="line"><a name="l09095"></a><span class="lineno"> 9095</span>&#160;    shr = HShr::cast(right);</div>
<div class="line"><a name="l09096"></a><span class="lineno"> 9096</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (left-&gt;IsShr() &amp;&amp; right-&gt;IsShl()) {</div>
<div class="line"><a name="l09097"></a><span class="lineno"> 9097</span>&#160;    shl = HShl::cast(right);</div>
<div class="line"><a name="l09098"></a><span class="lineno"> 9098</span>&#160;    shr = HShr::cast(left);</div>
<div class="line"><a name="l09099"></a><span class="lineno"> 9099</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09100"></a><span class="lineno"> 9100</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09101"></a><span class="lineno"> 9101</span>&#160;  }</div>
<div class="line"><a name="l09102"></a><span class="lineno"> 9102</span>&#160;  <span class="keywordflow">if</span> (shl-&gt;left() != shr-&gt;left()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09103"></a><span class="lineno"> 9103</span>&#160;</div>
<div class="line"><a name="l09104"></a><span class="lineno"> 9104</span>&#160;  <span class="keywordflow">if</span> (!ShiftAmountsAllowReplaceByRotate(shl-&gt;right(), shr-&gt;right()) &amp;&amp;</div>
<div class="line"><a name="l09105"></a><span class="lineno"> 9105</span>&#160;      !ShiftAmountsAllowReplaceByRotate(shr-&gt;right(), shl-&gt;right())) {</div>
<div class="line"><a name="l09106"></a><span class="lineno"> 9106</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09107"></a><span class="lineno"> 9107</span>&#160;  }</div>
<div class="line"><a name="l09108"></a><span class="lineno"> 9108</span>&#160;  *operand= shr-&gt;left();</div>
<div class="line"><a name="l09109"></a><span class="lineno"> 9109</span>&#160;  *shift_amount = shr-&gt;right();</div>
<div class="line"><a name="l09110"></a><span class="lineno"> 9110</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09111"></a><span class="lineno"> 9111</span>&#160;}</div>
<div class="line"><a name="l09112"></a><span class="lineno"> 9112</span>&#160;</div>
<div class="line"><a name="l09113"></a><span class="lineno"> 9113</span>&#160;</div>
<div class="line"><a name="l09114"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a6f02191e33d0793652606a57e312ffee"> 9114</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6f02191e33d0793652606a57e312ffee">CanBeZero</a>(HValue* right) {</div>
<div class="line"><a name="l09115"></a><span class="lineno"> 9115</span>&#160;  <span class="keywordflow">if</span> (right-&gt;IsConstant()) {</div>
<div class="line"><a name="l09116"></a><span class="lineno"> 9116</span>&#160;    HConstant* right_const = HConstant::cast(right);</div>
<div class="line"><a name="l09117"></a><span class="lineno"> 9117</span>&#160;    <span class="keywordflow">if</span> (right_const-&gt;HasInteger32Value() &amp;&amp;</div>
<div class="line"><a name="l09118"></a><span class="lineno"> 9118</span>&#160;       (right_const-&gt;Integer32Value() &amp; 0x1f) != 0) {</div>
<div class="line"><a name="l09119"></a><span class="lineno"> 9119</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09120"></a><span class="lineno"> 9120</span>&#160;    }</div>
<div class="line"><a name="l09121"></a><span class="lineno"> 9121</span>&#160;  }</div>
<div class="line"><a name="l09122"></a><span class="lineno"> 9122</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09123"></a><span class="lineno"> 9123</span>&#160;}</div>
<div class="line"><a name="l09124"></a><span class="lineno"> 9124</span>&#160;</div>
<div class="line"><a name="l09125"></a><span class="lineno"> 9125</span>&#160;</div>
<div class="line"><a name="l09126"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aac50e9966294c11640420283d8f576b8"> 9126</a></span>&#160;HValue* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aac50e9966294c11640420283d8f576b8">HGraphBuilder::EnforceNumberType</a>(HValue* number,</div>
<div class="line"><a name="l09127"></a><span class="lineno"> 9127</span>&#160;                                         <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* expected) {</div>
<div class="line"><a name="l09128"></a><span class="lineno"> 9128</span>&#160;  <span class="keywordflow">if</span> (expected-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::SignedSmall())) {</div>
<div class="line"><a name="l09129"></a><span class="lineno"> 9129</span>&#160;    <span class="keywordflow">return</span> AddUncasted&lt;HForceRepresentation&gt;(number, <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#aefab3c6fec4cd73c28fdcdd5b4b4c5f5">Representation::Smi</a>());</div>
<div class="line"><a name="l09130"></a><span class="lineno"> 9130</span>&#160;  }</div>
<div class="line"><a name="l09131"></a><span class="lineno"> 9131</span>&#160;  <span class="keywordflow">if</span> (expected-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::Signed32())) {</div>
<div class="line"><a name="l09132"></a><span class="lineno"> 9132</span>&#160;    <span class="keywordflow">return</span> AddUncasted&lt;HForceRepresentation&gt;(number,</div>
<div class="line"><a name="l09133"></a><span class="lineno"> 9133</span>&#160;                                             <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a4f0d544d3f5bdb305a8814d77b3a969d">Representation::Integer32</a>());</div>
<div class="line"><a name="l09134"></a><span class="lineno"> 9134</span>&#160;  }</div>
<div class="line"><a name="l09135"></a><span class="lineno"> 9135</span>&#160;  <span class="keywordflow">return</span> number;</div>
<div class="line"><a name="l09136"></a><span class="lineno"> 9136</span>&#160;}</div>
<div class="line"><a name="l09137"></a><span class="lineno"> 9137</span>&#160;</div>
<div class="line"><a name="l09138"></a><span class="lineno"> 9138</span>&#160;</div>
<div class="line"><a name="l09139"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae5f7a84db57f491f9d4ac7da3d79ea1c"> 9139</a></span>&#160;HValue* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae5f7a84db57f491f9d4ac7da3d79ea1c">HGraphBuilder::TruncateToNumber</a>(HValue* value, <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>** expected) {</div>
<div class="line"><a name="l09140"></a><span class="lineno"> 9140</span>&#160;  <span class="keywordflow">if</span> (value-&gt;IsConstant()) {</div>
<div class="line"><a name="l09141"></a><span class="lineno"> 9141</span>&#160;    HConstant* constant = HConstant::cast(value);</div>
<div class="line"><a name="l09142"></a><span class="lineno"> 9142</span>&#160;    <a class="code" href="../../dd/dd0/structv8_1_1_maybe.html">Maybe&lt;HConstant*&gt;</a> number = constant-&gt;CopyToTruncatedNumber(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l09143"></a><span class="lineno"> 9143</span>&#160;    <span class="keywordflow">if</span> (number.<a class="code" href="../../dd/dd0/structv8_1_1_maybe.html#a9dfa744f0c79dc3f439d054cc3878eaa">has_value</a>) {</div>
<div class="line"><a name="l09144"></a><span class="lineno"> 9144</span>&#160;      *expected = Type::Number(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l09145"></a><span class="lineno"> 9145</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(number.<a class="code" href="../../dd/dd0/structv8_1_1_maybe.html#a4fc7f59e3113e19697159919a5aad095">value</a>);</div>
<div class="line"><a name="l09146"></a><span class="lineno"> 9146</span>&#160;    }</div>
<div class="line"><a name="l09147"></a><span class="lineno"> 9147</span>&#160;  }</div>
<div class="line"><a name="l09148"></a><span class="lineno"> 9148</span>&#160;</div>
<div class="line"><a name="l09149"></a><span class="lineno"> 9149</span>&#160;  <span class="comment">// We put temporary values on the stack, which don&#39;t correspond to anything</span></div>
<div class="line"><a name="l09150"></a><span class="lineno"> 9150</span>&#160;  <span class="comment">// in baseline code. Since nothing is observable we avoid recording those</span></div>
<div class="line"><a name="l09151"></a><span class="lineno"> 9151</span>&#160;  <span class="comment">// pushes with a NoObservableSideEffectsScope.</span></div>
<div class="line"><a name="l09152"></a><span class="lineno"> 9152</span>&#160;  NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l09153"></a><span class="lineno"> 9153</span>&#160;</div>
<div class="line"><a name="l09154"></a><span class="lineno"> 9154</span>&#160;  <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* expected_type = *expected;</div>
<div class="line"><a name="l09155"></a><span class="lineno"> 9155</span>&#160;</div>
<div class="line"><a name="l09156"></a><span class="lineno"> 9156</span>&#160;  <span class="comment">// Separate the number type from the rest.</span></div>
<div class="line"><a name="l09157"></a><span class="lineno"> 9157</span>&#160;  <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* expected_obj =</div>
<div class="line"><a name="l09158"></a><span class="lineno"> 9158</span>&#160;      <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a018aa77accfdf68c8385816d6653b6fa">Type::Intersect</a>(expected_type, Type::NonNumber(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l09159"></a><span class="lineno"> 9159</span>&#160;  <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* expected_number =</div>
<div class="line"><a name="l09160"></a><span class="lineno"> 9160</span>&#160;      <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a018aa77accfdf68c8385816d6653b6fa">Type::Intersect</a>(expected_type, Type::Number(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l09161"></a><span class="lineno"> 9161</span>&#160;</div>
<div class="line"><a name="l09162"></a><span class="lineno"> 9162</span>&#160;  <span class="comment">// We expect to get a number.</span></div>
<div class="line"><a name="l09163"></a><span class="lineno"> 9163</span>&#160;  <span class="comment">// (We need to check first, since Type::None-&gt;Is(Type::Any()) == true.</span></div>
<div class="line"><a name="l09164"></a><span class="lineno"> 9164</span>&#160;  <span class="keywordflow">if</span> (expected_obj-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">Type::None</a>())) {</div>
<div class="line"><a name="l09165"></a><span class="lineno"> 9165</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!expected_number-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">Type::None</a>(zone())));</div>
<div class="line"><a name="l09166"></a><span class="lineno"> 9166</span>&#160;    <span class="keywordflow">return</span> value;</div>
<div class="line"><a name="l09167"></a><span class="lineno"> 9167</span>&#160;  }</div>
<div class="line"><a name="l09168"></a><span class="lineno"> 9168</span>&#160;</div>
<div class="line"><a name="l09169"></a><span class="lineno"> 9169</span>&#160;  <span class="keywordflow">if</span> (expected_obj-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(<a class="code" href="../../d2/dc3/namespacev8.html#ac271b6d4e39065b86eaf99135cb9f612">Type::Undefined</a>(zone()))) {</div>
<div class="line"><a name="l09170"></a><span class="lineno"> 9170</span>&#160;    <span class="comment">// This is already done by HChange.</span></div>
<div class="line"><a name="l09171"></a><span class="lineno"> 9171</span>&#160;    *expected = <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#ae3ed7286ff0596d82efd42054c4d0b02">Type::Union</a>(expected_number, Type::Float(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l09172"></a><span class="lineno"> 9172</span>&#160;    <span class="keywordflow">return</span> value;</div>
<div class="line"><a name="l09173"></a><span class="lineno"> 9173</span>&#160;  }</div>
<div class="line"><a name="l09174"></a><span class="lineno"> 9174</span>&#160;</div>
<div class="line"><a name="l09175"></a><span class="lineno"> 9175</span>&#160;  <span class="keywordflow">return</span> value;</div>
<div class="line"><a name="l09176"></a><span class="lineno"> 9176</span>&#160;}</div>
<div class="line"><a name="l09177"></a><span class="lineno"> 9177</span>&#160;</div>
<div class="line"><a name="l09178"></a><span class="lineno"> 9178</span>&#160;</div>
<div class="line"><a name="l09179"></a><span class="lineno"> 9179</span>&#160;HValue* HOptimizedGraphBuilder::BuildBinaryOperation(</div>
<div class="line"><a name="l09180"></a><span class="lineno"> 9180</span>&#160;    BinaryOperation* expr,</div>
<div class="line"><a name="l09181"></a><span class="lineno"> 9181</span>&#160;    HValue* left,</div>
<div class="line"><a name="l09182"></a><span class="lineno"> 9182</span>&#160;    HValue* right,</div>
<div class="line"><a name="l09183"></a><span class="lineno"> 9183</span>&#160;    PushBeforeSimulateBehavior push_sim_result) {</div>
<div class="line"><a name="l09184"></a><span class="lineno"> 9184</span>&#160;  <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* left_type = expr-&gt;left()-&gt;bounds().lower;</div>
<div class="line"><a name="l09185"></a><span class="lineno"> 9185</span>&#160;  <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* right_type = expr-&gt;right()-&gt;bounds().lower;</div>
<div class="line"><a name="l09186"></a><span class="lineno"> 9186</span>&#160;  <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* result_type = expr-&gt;bounds().lower;</div>
<div class="line"><a name="l09187"></a><span class="lineno"> 9187</span>&#160;  <a class="code" href="../../dd/dd0/structv8_1_1_maybe.html">Maybe&lt;int&gt;</a> fixed_right_arg = expr-&gt;fixed_right_arg();</div>
<div class="line"><a name="l09188"></a><span class="lineno"> 9188</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;AllocationSite&gt;</a> allocation_site = expr-&gt;allocation_site();</div>
<div class="line"><a name="l09189"></a><span class="lineno"> 9189</span>&#160;</div>
<div class="line"><a name="l09190"></a><span class="lineno"> 9190</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7ea">PretenureFlag</a> pretenure_flag = !FLAG_allocation_site_pretenuring ?</div>
<div class="line"><a name="l09191"></a><span class="lineno"> 9191</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aac0d2638ba91cf80b046cf8141fde771">GetPretenureMode</a>() : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">NOT_TENURED</a>;</div>
<div class="line"><a name="l09192"></a><span class="lineno"> 9192</span>&#160;</div>
<div class="line"><a name="l09193"></a><span class="lineno"> 9193</span>&#160;  HAllocationMode allocation_mode =</div>
<div class="line"><a name="l09194"></a><span class="lineno"> 9194</span>&#160;      FLAG_allocation_site_pretenuring</div>
<div class="line"><a name="l09195"></a><span class="lineno"> 9195</span>&#160;      ? (allocation_site.<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a3c45461717ff230edd665ce24da988c5">is_null</a>()</div>
<div class="line"><a name="l09196"></a><span class="lineno"> 9196</span>&#160;         ? HAllocationMode(NOT_TENURED)</div>
<div class="line"><a name="l09197"></a><span class="lineno"> 9197</span>&#160;         : HAllocationMode(allocation_site))</div>
<div class="line"><a name="l09198"></a><span class="lineno"> 9198</span>&#160;      : HAllocationMode(pretenure_flag);</div>
<div class="line"><a name="l09199"></a><span class="lineno"> 9199</span>&#160;</div>
<div class="line"><a name="l09200"></a><span class="lineno"> 9200</span>&#160;  HValue* result = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a38b93d05f4269f72824fe9851c0c282e">HGraphBuilder::BuildBinaryOperation</a>(</div>
<div class="line"><a name="l09201"></a><span class="lineno"> 9201</span>&#160;      expr-&gt;op(), left, right, left_type, right_type, result_type,</div>
<div class="line"><a name="l09202"></a><span class="lineno"> 9202</span>&#160;      fixed_right_arg, allocation_mode);</div>
<div class="line"><a name="l09203"></a><span class="lineno"> 9203</span>&#160;  <span class="comment">// Add a simulate after instructions with observable side effects, and</span></div>
<div class="line"><a name="l09204"></a><span class="lineno"> 9204</span>&#160;  <span class="comment">// after phis, which are the result of BuildBinaryOperation when we</span></div>
<div class="line"><a name="l09205"></a><span class="lineno"> 9205</span>&#160;  <span class="comment">// inlined some complex subgraph.</span></div>
<div class="line"><a name="l09206"></a><span class="lineno"> 9206</span>&#160;  <span class="keywordflow">if</span> (result-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#aceb0f7af1e8b7e17b9d1f8b5a44da7f4">HasObservableSideEffects</a>() || result-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a5324ca4e296811fe6088635c718876b0">IsPhi</a>()) {</div>
<div class="line"><a name="l09207"></a><span class="lineno"> 9207</span>&#160;    <span class="keywordflow">if</span> (push_sim_result == PUSH_BEFORE_SIMULATE) {</div>
<div class="line"><a name="l09208"></a><span class="lineno"> 9208</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(result);</div>
<div class="line"><a name="l09209"></a><span class="lineno"> 9209</span>&#160;      Add&lt;HSimulate&gt;(expr-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l09210"></a><span class="lineno"> 9210</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);</div>
<div class="line"><a name="l09211"></a><span class="lineno"> 9211</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09212"></a><span class="lineno"> 9212</span>&#160;      Add&lt;HSimulate&gt;(expr-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l09213"></a><span class="lineno"> 9213</span>&#160;    }</div>
<div class="line"><a name="l09214"></a><span class="lineno"> 9214</span>&#160;  }</div>
<div class="line"><a name="l09215"></a><span class="lineno"> 9215</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l09216"></a><span class="lineno"> 9216</span>&#160;}</div>
<div class="line"><a name="l09217"></a><span class="lineno"> 9217</span>&#160;</div>
<div class="line"><a name="l09218"></a><span class="lineno"> 9218</span>&#160;</div>
<div class="line"><a name="l09219"></a><span class="lineno"><a class="line" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a38b93d05f4269f72824fe9851c0c282e"> 9219</a></span>&#160;HValue* <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a38b93d05f4269f72824fe9851c0c282e">HGraphBuilder::BuildBinaryOperation</a>(</div>
<div class="line"><a name="l09220"></a><span class="lineno"> 9220</span>&#160;    <a class="code" href="../../d5/d2d/classv8_1_1internal_1_1_token.html#a896c037a32087c5c20d97e64a1786880">Token::Value</a> op,</div>
<div class="line"><a name="l09221"></a><span class="lineno"> 9221</span>&#160;    HValue* left,</div>
<div class="line"><a name="l09222"></a><span class="lineno"> 9222</span>&#160;    HValue* right,</div>
<div class="line"><a name="l09223"></a><span class="lineno"> 9223</span>&#160;    <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* left_type,</div>
<div class="line"><a name="l09224"></a><span class="lineno"> 9224</span>&#160;    <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* right_type,</div>
<div class="line"><a name="l09225"></a><span class="lineno"> 9225</span>&#160;    <a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">Type</a>* result_type,</div>
<div class="line"><a name="l09226"></a><span class="lineno"> 9226</span>&#160;    <a class="code" href="../../dd/dd0/structv8_1_1_maybe.html">Maybe&lt;int&gt;</a> fixed_right_arg,</div>
<div class="line"><a name="l09227"></a><span class="lineno"> 9227</span>&#160;    HAllocationMode allocation_mode) {</div>
<div class="line"><a name="l09228"></a><span class="lineno"> 9228</span>&#160;</div>
<div class="line"><a name="l09229"></a><span class="lineno"> 9229</span>&#160;  <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html">Representation</a> left_rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(left_type);</div>
<div class="line"><a name="l09230"></a><span class="lineno"> 9230</span>&#160;  <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html">Representation</a> right_rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(right_type);</div>
<div class="line"><a name="l09231"></a><span class="lineno"> 9231</span>&#160;</div>
<div class="line"><a name="l09232"></a><span class="lineno"> 9232</span>&#160;  <span class="keywordtype">bool</span> maybe_string_add = op == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81ad7ee10720f00c00084f137d33609a902">Token::ADD</a> &amp;&amp;</div>
<div class="line"><a name="l09233"></a><span class="lineno"> 9233</span>&#160;                          (left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a16c07037f3f546b977bd92150b76c4c3">Maybe</a>(Type::String()) ||</div>
<div class="line"><a name="l09234"></a><span class="lineno"> 9234</span>&#160;                           right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a16c07037f3f546b977bd92150b76c4c3">Maybe</a>(Type::String()));</div>
<div class="line"><a name="l09235"></a><span class="lineno"> 9235</span>&#160;</div>
<div class="line"><a name="l09236"></a><span class="lineno"> 9236</span>&#160;  <span class="keywordflow">if</span> (left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">Type::None</a>())) {</div>
<div class="line"><a name="l09237"></a><span class="lineno"> 9237</span>&#160;    Add&lt;HDeoptimize&gt;(<span class="stringliteral">&quot;Insufficient type feedback for LHS of binary operation&quot;</span>,</div>
<div class="line"><a name="l09238"></a><span class="lineno"> 9238</span>&#160;                     <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82a93cba370b0f4922682be437a439c1a56">Deoptimizer::SOFT</a>);</div>
<div class="line"><a name="l09239"></a><span class="lineno"> 9239</span>&#160;    <span class="comment">// TODO(rossberg): we should be able to get rid of non-continuous</span></div>
<div class="line"><a name="l09240"></a><span class="lineno"> 9240</span>&#160;    <span class="comment">// defaults.</span></div>
<div class="line"><a name="l09241"></a><span class="lineno"> 9241</span>&#160;    left_type = Type::Any(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l09242"></a><span class="lineno"> 9242</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09243"></a><span class="lineno"> 9243</span>&#160;    <span class="keywordflow">if</span> (!maybe_string_add) left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae5f7a84db57f491f9d4ac7da3d79ea1c">TruncateToNumber</a>(left, &amp;left_type);</div>
<div class="line"><a name="l09244"></a><span class="lineno"> 9244</span>&#160;    left_rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(left_type);</div>
<div class="line"><a name="l09245"></a><span class="lineno"> 9245</span>&#160;  }</div>
<div class="line"><a name="l09246"></a><span class="lineno"> 9246</span>&#160;</div>
<div class="line"><a name="l09247"></a><span class="lineno"> 9247</span>&#160;  <span class="keywordflow">if</span> (right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">Type::None</a>())) {</div>
<div class="line"><a name="l09248"></a><span class="lineno"> 9248</span>&#160;    Add&lt;HDeoptimize&gt;(<span class="stringliteral">&quot;Insufficient type feedback for RHS of binary operation&quot;</span>,</div>
<div class="line"><a name="l09249"></a><span class="lineno"> 9249</span>&#160;                     <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82a93cba370b0f4922682be437a439c1a56">Deoptimizer::SOFT</a>);</div>
<div class="line"><a name="l09250"></a><span class="lineno"> 9250</span>&#160;    right_type = Type::Any(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l09251"></a><span class="lineno"> 9251</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09252"></a><span class="lineno"> 9252</span>&#160;    <span class="keywordflow">if</span> (!maybe_string_add) right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae5f7a84db57f491f9d4ac7da3d79ea1c">TruncateToNumber</a>(right, &amp;right_type);</div>
<div class="line"><a name="l09253"></a><span class="lineno"> 9253</span>&#160;    right_rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(right_type);</div>
<div class="line"><a name="l09254"></a><span class="lineno"> 9254</span>&#160;  }</div>
<div class="line"><a name="l09255"></a><span class="lineno"> 9255</span>&#160;</div>
<div class="line"><a name="l09256"></a><span class="lineno"> 9256</span>&#160;  <span class="comment">// Special case for string addition here.</span></div>
<div class="line"><a name="l09257"></a><span class="lineno"> 9257</span>&#160;  <span class="keywordflow">if</span> (op == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81ad7ee10720f00c00084f137d33609a902">Token::ADD</a> &amp;&amp;</div>
<div class="line"><a name="l09258"></a><span class="lineno"> 9258</span>&#160;      (left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String()) || right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String()))) {</div>
<div class="line"><a name="l09259"></a><span class="lineno"> 9259</span>&#160;    <span class="comment">// Validate type feedback for left argument.</span></div>
<div class="line"><a name="l09260"></a><span class="lineno"> 9260</span>&#160;    <span class="keywordflow">if</span> (left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String())) {</div>
<div class="line"><a name="l09261"></a><span class="lineno"> 9261</span>&#160;      left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aacfb8b08512ff272a06084e0f0b2cbe3">BuildCheckString</a>(left);</div>
<div class="line"><a name="l09262"></a><span class="lineno"> 9262</span>&#160;    }</div>
<div class="line"><a name="l09263"></a><span class="lineno"> 9263</span>&#160;</div>
<div class="line"><a name="l09264"></a><span class="lineno"> 9264</span>&#160;    <span class="comment">// Validate type feedback for right argument.</span></div>
<div class="line"><a name="l09265"></a><span class="lineno"> 9265</span>&#160;    <span class="keywordflow">if</span> (right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String())) {</div>
<div class="line"><a name="l09266"></a><span class="lineno"> 9266</span>&#160;      right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aacfb8b08512ff272a06084e0f0b2cbe3">BuildCheckString</a>(right);</div>
<div class="line"><a name="l09267"></a><span class="lineno"> 9267</span>&#160;    }</div>
<div class="line"><a name="l09268"></a><span class="lineno"> 9268</span>&#160;</div>
<div class="line"><a name="l09269"></a><span class="lineno"> 9269</span>&#160;    <span class="comment">// Convert left argument as necessary.</span></div>
<div class="line"><a name="l09270"></a><span class="lineno"> 9270</span>&#160;    <span class="keywordflow">if</span> (left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::Number())) {</div>
<div class="line"><a name="l09271"></a><span class="lineno"> 9271</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String()));</div>
<div class="line"><a name="l09272"></a><span class="lineno"> 9272</span>&#160;      left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ab54d3c7c4ba44de14f19aa5b0909fed2">BuildNumberToString</a>(left, left_type);</div>
<div class="line"><a name="l09273"></a><span class="lineno"> 9273</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String())) {</div>
<div class="line"><a name="l09274"></a><span class="lineno"> 9274</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String()));</div>
<div class="line"><a name="l09275"></a><span class="lineno"> 9275</span>&#160;      HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1723360ac752b7889227b2ed67aa2e48">AddLoadJSBuiltin</a>(Builtins::STRING_ADD_RIGHT);</div>
<div class="line"><a name="l09276"></a><span class="lineno"> 9276</span>&#160;      Add&lt;HPushArgument&gt;(left);</div>
<div class="line"><a name="l09277"></a><span class="lineno"> 9277</span>&#160;      Add&lt;HPushArgument&gt;(right);</div>
<div class="line"><a name="l09278"></a><span class="lineno"> 9278</span>&#160;      <span class="keywordflow">return</span> AddUncasted&lt;HInvokeFunction&gt;(<span class="keyword">function</span>, 2);</div>
<div class="line"><a name="l09279"></a><span class="lineno"> 9279</span>&#160;    }</div>
<div class="line"><a name="l09280"></a><span class="lineno"> 9280</span>&#160;</div>
<div class="line"><a name="l09281"></a><span class="lineno"> 9281</span>&#160;    <span class="comment">// Convert right argument as necessary.</span></div>
<div class="line"><a name="l09282"></a><span class="lineno"> 9282</span>&#160;    <span class="keywordflow">if</span> (right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::Number())) {</div>
<div class="line"><a name="l09283"></a><span class="lineno"> 9283</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String()));</div>
<div class="line"><a name="l09284"></a><span class="lineno"> 9284</span>&#160;      right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ab54d3c7c4ba44de14f19aa5b0909fed2">BuildNumberToString</a>(right, right_type);</div>
<div class="line"><a name="l09285"></a><span class="lineno"> 9285</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String())) {</div>
<div class="line"><a name="l09286"></a><span class="lineno"> 9286</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::String()));</div>
<div class="line"><a name="l09287"></a><span class="lineno"> 9287</span>&#160;      HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1723360ac752b7889227b2ed67aa2e48">AddLoadJSBuiltin</a>(Builtins::STRING_ADD_LEFT);</div>
<div class="line"><a name="l09288"></a><span class="lineno"> 9288</span>&#160;      Add&lt;HPushArgument&gt;(left);</div>
<div class="line"><a name="l09289"></a><span class="lineno"> 9289</span>&#160;      Add&lt;HPushArgument&gt;(right);</div>
<div class="line"><a name="l09290"></a><span class="lineno"> 9290</span>&#160;      <span class="keywordflow">return</span> AddUncasted&lt;HInvokeFunction&gt;(<span class="keyword">function</span>, 2);</div>
<div class="line"><a name="l09291"></a><span class="lineno"> 9291</span>&#160;    }</div>
<div class="line"><a name="l09292"></a><span class="lineno"> 9292</span>&#160;</div>
<div class="line"><a name="l09293"></a><span class="lineno"> 9293</span>&#160;    <span class="comment">// Fast path for empty constant strings.</span></div>
<div class="line"><a name="l09294"></a><span class="lineno"> 9294</span>&#160;    <span class="keywordflow">if</span> (left-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l09295"></a><span class="lineno"> 9295</span>&#160;        HConstant::cast(left)-&gt;HasStringValue() &amp;&amp;</div>
<div class="line"><a name="l09296"></a><span class="lineno"> 9296</span>&#160;        HConstant::cast(left)-&gt;StringValue()-&gt;length() == 0) {</div>
<div class="line"><a name="l09297"></a><span class="lineno"> 9297</span>&#160;      <span class="keywordflow">return</span> right;</div>
<div class="line"><a name="l09298"></a><span class="lineno"> 9298</span>&#160;    }</div>
<div class="line"><a name="l09299"></a><span class="lineno"> 9299</span>&#160;    <span class="keywordflow">if</span> (right-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l09300"></a><span class="lineno"> 9300</span>&#160;        HConstant::cast(right)-&gt;HasStringValue() &amp;&amp;</div>
<div class="line"><a name="l09301"></a><span class="lineno"> 9301</span>&#160;        HConstant::cast(right)-&gt;StringValue()-&gt;length() == 0) {</div>
<div class="line"><a name="l09302"></a><span class="lineno"> 9302</span>&#160;      <span class="keywordflow">return</span> left;</div>
<div class="line"><a name="l09303"></a><span class="lineno"> 9303</span>&#160;    }</div>
<div class="line"><a name="l09304"></a><span class="lineno"> 9304</span>&#160;</div>
<div class="line"><a name="l09305"></a><span class="lineno"> 9305</span>&#160;    <span class="comment">// Register the dependent code with the allocation site.</span></div>
<div class="line"><a name="l09306"></a><span class="lineno"> 9306</span>&#160;    <span class="keywordflow">if</span> (!allocation_mode.feedback_site().is_null()) {</div>
<div class="line"><a name="l09307"></a><span class="lineno"> 9307</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;IsStub());</div>
<div class="line"><a name="l09308"></a><span class="lineno"> 9308</span>&#160;      <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;AllocationSite&gt;</a> site(allocation_mode.feedback_site());</div>
<div class="line"><a name="l09309"></a><span class="lineno"> 9309</span>&#160;      <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#a6b67448212244ba093b8ba6b55135f16">AllocationSite::AddDependentCompilationInfo</a>(</div>
<div class="line"><a name="l09310"></a><span class="lineno"> 9310</span>&#160;          site, <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#af38960e2d1da2c992b2232eb3f285c4eade4902c0c5de2581f905a6be5c738f85">AllocationSite::TENURING</a>, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l09311"></a><span class="lineno"> 9311</span>&#160;    }</div>
<div class="line"><a name="l09312"></a><span class="lineno"> 9312</span>&#160;</div>
<div class="line"><a name="l09313"></a><span class="lineno"> 9313</span>&#160;    <span class="comment">// Inline the string addition into the stub when creating allocation</span></div>
<div class="line"><a name="l09314"></a><span class="lineno"> 9314</span>&#160;    <span class="comment">// mementos to gather allocation site feedback, or if we can statically</span></div>
<div class="line"><a name="l09315"></a><span class="lineno"> 9315</span>&#160;    <span class="comment">// infer that we&#39;re going to create a cons string.</span></div>
<div class="line"><a name="l09316"></a><span class="lineno"> 9316</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;IsStub() &amp;&amp;</div>
<div class="line"><a name="l09317"></a><span class="lineno"> 9317</span>&#160;         allocation_mode.CreateAllocationMementos()) ||</div>
<div class="line"><a name="l09318"></a><span class="lineno"> 9318</span>&#160;        (left-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l09319"></a><span class="lineno"> 9319</span>&#160;         HConstant::cast(left)-&gt;HasStringValue() &amp;&amp;</div>
<div class="line"><a name="l09320"></a><span class="lineno"> 9320</span>&#160;         HConstant::cast(left)-&gt;StringValue()-&gt;length() + 1 &gt;=</div>
<div class="line"><a name="l09321"></a><span class="lineno"> 9321</span>&#160;           <a class="code" href="../../d7/dda/classv8_1_1internal_1_1_cons_string.html#af8caa6f49b0ab73aa9c915b5caec21df">ConsString::kMinLength</a>) ||</div>
<div class="line"><a name="l09322"></a><span class="lineno"> 9322</span>&#160;        (right-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l09323"></a><span class="lineno"> 9323</span>&#160;         HConstant::cast(right)-&gt;HasStringValue() &amp;&amp;</div>
<div class="line"><a name="l09324"></a><span class="lineno"> 9324</span>&#160;         HConstant::cast(right)-&gt;StringValue()-&gt;length() + 1 &gt;=</div>
<div class="line"><a name="l09325"></a><span class="lineno"> 9325</span>&#160;           <a class="code" href="../../d7/dda/classv8_1_1internal_1_1_cons_string.html#af8caa6f49b0ab73aa9c915b5caec21df">ConsString::kMinLength</a>)) {</div>
<div class="line"><a name="l09326"></a><span class="lineno"> 9326</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a9f856a151f6a2876b45db50599f4c22c">BuildStringAdd</a>(left, right, allocation_mode);</div>
<div class="line"><a name="l09327"></a><span class="lineno"> 9327</span>&#160;    }</div>
<div class="line"><a name="l09328"></a><span class="lineno"> 9328</span>&#160;</div>
<div class="line"><a name="l09329"></a><span class="lineno"> 9329</span>&#160;    <span class="comment">// Fallback to using the string add stub.</span></div>
<div class="line"><a name="l09330"></a><span class="lineno"> 9330</span>&#160;    <span class="keywordflow">return</span> AddUncasted&lt;HStringAdd&gt;(</div>
<div class="line"><a name="l09331"></a><span class="lineno"> 9331</span>&#160;        left, right, allocation_mode.GetPretenureMode(),</div>
<div class="line"><a name="l09332"></a><span class="lineno"> 9332</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e0e3f7a020b17501d805b9273606c30a0df60943d804c594ae1bdb2819721f12">STRING_ADD_CHECK_NONE</a>, allocation_mode.feedback_site());</div>
<div class="line"><a name="l09333"></a><span class="lineno"> 9333</span>&#160;  }</div>
<div class="line"><a name="l09334"></a><span class="lineno"> 9334</span>&#160;</div>
<div class="line"><a name="l09335"></a><span class="lineno"> 9335</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;info()-&gt;IsStub()) {</div>
<div class="line"><a name="l09336"></a><span class="lineno"> 9336</span>&#160;    left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aac50e9966294c11640420283d8f576b8">EnforceNumberType</a>(left, left_type);</div>
<div class="line"><a name="l09337"></a><span class="lineno"> 9337</span>&#160;    right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aac50e9966294c11640420283d8f576b8">EnforceNumberType</a>(right, right_type);</div>
<div class="line"><a name="l09338"></a><span class="lineno"> 9338</span>&#160;  }</div>
<div class="line"><a name="l09339"></a><span class="lineno"> 9339</span>&#160;</div>
<div class="line"><a name="l09340"></a><span class="lineno"> 9340</span>&#160;  <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html">Representation</a> result_rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(result_type);</div>
<div class="line"><a name="l09341"></a><span class="lineno"> 9341</span>&#160;</div>
<div class="line"><a name="l09342"></a><span class="lineno"> 9342</span>&#160;  <span class="keywordtype">bool</span> is_non_primitive = (left_rep.<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a97b290cba018dbf70009f48f4fe61613">IsTagged</a>() &amp;&amp; !left_rep.<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a99a09c5c43509611f5801096b4eec6ba">IsSmi</a>()) ||</div>
<div class="line"><a name="l09343"></a><span class="lineno"> 9343</span>&#160;                          (right_rep.<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a97b290cba018dbf70009f48f4fe61613">IsTagged</a>() &amp;&amp; !right_rep.<a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a99a09c5c43509611f5801096b4eec6ba">IsSmi</a>());</div>
<div class="line"><a name="l09344"></a><span class="lineno"> 9344</span>&#160;</div>
<div class="line"><a name="l09345"></a><span class="lineno"> 9345</span>&#160;  <a class="code" href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">HInstruction</a>* instr = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l09346"></a><span class="lineno"> 9346</span>&#160;  <span class="comment">// Only the stub is allowed to call into the runtime, since otherwise we would</span></div>
<div class="line"><a name="l09347"></a><span class="lineno"> 9347</span>&#160;  <span class="comment">// inline several instructions (including the two pushes) for every tagged</span></div>
<div class="line"><a name="l09348"></a><span class="lineno"> 9348</span>&#160;  <span class="comment">// operation in optimized code, which is more expensive, than a stub call.</span></div>
<div class="line"><a name="l09349"></a><span class="lineno"> 9349</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;info()-&gt;IsStub() &amp;&amp; is_non_primitive) {</div>
<div class="line"><a name="l09350"></a><span class="lineno"> 9350</span>&#160;    HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1723360ac752b7889227b2ed67aa2e48">AddLoadJSBuiltin</a>(<a class="code" href="../../dd/d95/classv8_1_1internal_1_1_binary_op_i_c.html#a097c6a9749a864263762c05659051f17">BinaryOpIC::TokenToJSBuiltin</a>(op));</div>
<div class="line"><a name="l09351"></a><span class="lineno"> 9351</span>&#160;    Add&lt;HPushArgument&gt;(left);</div>
<div class="line"><a name="l09352"></a><span class="lineno"> 9352</span>&#160;    Add&lt;HPushArgument&gt;(right);</div>
<div class="line"><a name="l09353"></a><span class="lineno"> 9353</span>&#160;    instr = AddUncasted&lt;HInvokeFunction&gt;(<span class="keyword">function</span>, 2);</div>
<div class="line"><a name="l09354"></a><span class="lineno"> 9354</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09355"></a><span class="lineno"> 9355</span>&#160;    <span class="keywordflow">switch</span> (op) {</div>
<div class="line"><a name="l09356"></a><span class="lineno"> 9356</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81ad7ee10720f00c00084f137d33609a902">Token::ADD</a>:</div>
<div class="line"><a name="l09357"></a><span class="lineno"> 9357</span>&#160;        instr = AddUncasted&lt;HAdd&gt;(left, right);</div>
<div class="line"><a name="l09358"></a><span class="lineno"> 9358</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09359"></a><span class="lineno"> 9359</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81ac4258182400772adf5bbee778dca04ed">Token::SUB</a>:</div>
<div class="line"><a name="l09360"></a><span class="lineno"> 9360</span>&#160;        instr = AddUncasted&lt;HSub&gt;(left, right);</div>
<div class="line"><a name="l09361"></a><span class="lineno"> 9361</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09362"></a><span class="lineno"> 9362</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a086ab1f2f4dac104b6826ebe0eaba8fd">Token::MUL</a>:</div>
<div class="line"><a name="l09363"></a><span class="lineno"> 9363</span>&#160;        instr = AddUncasted&lt;HMul&gt;(left, right);</div>
<div class="line"><a name="l09364"></a><span class="lineno"> 9364</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09365"></a><span class="lineno"> 9365</span>&#160;      <span class="keywordflow">case</span> Token::MOD: {</div>
<div class="line"><a name="l09366"></a><span class="lineno"> 9366</span>&#160;        <span class="keywordflow">if</span> (fixed_right_arg.<a class="code" href="../../dd/dd0/structv8_1_1_maybe.html#a9dfa744f0c79dc3f439d054cc3878eaa">has_value</a> &amp;&amp;</div>
<div class="line"><a name="l09367"></a><span class="lineno"> 9367</span>&#160;            !right-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#acfea3578bbcbd674ec99d804cf4b06cc">EqualsInteger32Constant</a>(fixed_right_arg.<a class="code" href="../../dd/dd0/structv8_1_1_maybe.html#a4fc7f59e3113e19697159919a5aad095">value</a>)) {</div>
<div class="line"><a name="l09368"></a><span class="lineno"> 9368</span>&#160;          HConstant* fixed_right = Add&lt;HConstant&gt;(</div>
<div class="line"><a name="l09369"></a><span class="lineno"> 9369</span>&#160;              <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(fixed_right_arg.<a class="code" href="../../dd/dd0/structv8_1_1_maybe.html#a4fc7f59e3113e19697159919a5aad095">value</a>));</div>
<div class="line"><a name="l09370"></a><span class="lineno"> 9370</span>&#160;          IfBuilder if_same(<span class="keyword">this</span>);</div>
<div class="line"><a name="l09371"></a><span class="lineno"> 9371</span>&#160;          if_same.If&lt;<a class="code" href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">HCompareNumericAndBranch</a>&gt;(right, fixed_right, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>);</div>
<div class="line"><a name="l09372"></a><span class="lineno"> 9372</span>&#160;          if_same.Then();</div>
<div class="line"><a name="l09373"></a><span class="lineno"> 9373</span>&#160;          if_same.ElseDeopt(<span class="stringliteral">&quot;Unexpected RHS of binary operation&quot;</span>);</div>
<div class="line"><a name="l09374"></a><span class="lineno"> 9374</span>&#160;          right = fixed_right;</div>
<div class="line"><a name="l09375"></a><span class="lineno"> 9375</span>&#160;        }</div>
<div class="line"><a name="l09376"></a><span class="lineno"> 9376</span>&#160;        instr = AddUncasted&lt;HMod&gt;(left, right);</div>
<div class="line"><a name="l09377"></a><span class="lineno"> 9377</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09378"></a><span class="lineno"> 9378</span>&#160;      }</div>
<div class="line"><a name="l09379"></a><span class="lineno"> 9379</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a8565f0d60c3ba6d468661c49d86e9744">Token::DIV</a>:</div>
<div class="line"><a name="l09380"></a><span class="lineno"> 9380</span>&#160;        instr = AddUncasted&lt;HDiv&gt;(left, right);</div>
<div class="line"><a name="l09381"></a><span class="lineno"> 9381</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09382"></a><span class="lineno"> 9382</span>&#160;      <span class="keywordflow">case</span> Token::BIT_XOR:</div>
<div class="line"><a name="l09383"></a><span class="lineno"> 9383</span>&#160;      <span class="keywordflow">case</span> Token::BIT_AND:</div>
<div class="line"><a name="l09384"></a><span class="lineno"> 9384</span>&#160;        instr = AddUncasted&lt;HBitwise&gt;(op, left, right);</div>
<div class="line"><a name="l09385"></a><span class="lineno"> 9385</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09386"></a><span class="lineno"> 9386</span>&#160;      <span class="keywordflow">case</span> Token::BIT_OR: {</div>
<div class="line"><a name="l09387"></a><span class="lineno"> 9387</span>&#160;        HValue* operand, *shift_amount;</div>
<div class="line"><a name="l09388"></a><span class="lineno"> 9388</span>&#160;        <span class="keywordflow">if</span> (left_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::Signed32()) &amp;&amp;</div>
<div class="line"><a name="l09389"></a><span class="lineno"> 9389</span>&#160;            right_type-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(Type::Signed32()) &amp;&amp;</div>
<div class="line"><a name="l09390"></a><span class="lineno"> 9390</span>&#160;            <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a780afe985448bf3feaf11759b4bfa98a">MatchRotateRight</a>(left, right, &amp;operand, &amp;shift_amount)) {</div>
<div class="line"><a name="l09391"></a><span class="lineno"> 9391</span>&#160;          instr = AddUncasted&lt;HRor&gt;(operand, shift_amount);</div>
<div class="line"><a name="l09392"></a><span class="lineno"> 9392</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09393"></a><span class="lineno"> 9393</span>&#160;          instr = AddUncasted&lt;HBitwise&gt;(op, left, right);</div>
<div class="line"><a name="l09394"></a><span class="lineno"> 9394</span>&#160;        }</div>
<div class="line"><a name="l09395"></a><span class="lineno"> 9395</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09396"></a><span class="lineno"> 9396</span>&#160;      }</div>
<div class="line"><a name="l09397"></a><span class="lineno"> 9397</span>&#160;      <span class="keywordflow">case</span> Token::SAR:</div>
<div class="line"><a name="l09398"></a><span class="lineno"> 9398</span>&#160;        instr = AddUncasted&lt;HSar&gt;(left, right);</div>
<div class="line"><a name="l09399"></a><span class="lineno"> 9399</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09400"></a><span class="lineno"> 9400</span>&#160;      <span class="keywordflow">case</span> Token::SHR:</div>
<div class="line"><a name="l09401"></a><span class="lineno"> 9401</span>&#160;        instr = AddUncasted&lt;HShr&gt;(left, right);</div>
<div class="line"><a name="l09402"></a><span class="lineno"> 9402</span>&#160;        <span class="keywordflow">if</span> (FLAG_opt_safe_uint32_operations &amp;&amp; instr-&gt;IsShr() &amp;&amp;</div>
<div class="line"><a name="l09403"></a><span class="lineno"> 9403</span>&#160;            <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6f02191e33d0793652606a57e312ffee">CanBeZero</a>(right)) {</div>
<div class="line"><a name="l09404"></a><span class="lineno"> 9404</span>&#160;          <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;RecordUint32Instruction(instr);</div>
<div class="line"><a name="l09405"></a><span class="lineno"> 9405</span>&#160;        }</div>
<div class="line"><a name="l09406"></a><span class="lineno"> 9406</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09407"></a><span class="lineno"> 9407</span>&#160;      <span class="keywordflow">case</span> Token::SHL:</div>
<div class="line"><a name="l09408"></a><span class="lineno"> 9408</span>&#160;        instr = AddUncasted&lt;HShl&gt;(left, right);</div>
<div class="line"><a name="l09409"></a><span class="lineno"> 9409</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09410"></a><span class="lineno"> 9410</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l09411"></a><span class="lineno"> 9411</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l09412"></a><span class="lineno"> 9412</span>&#160;    }</div>
<div class="line"><a name="l09413"></a><span class="lineno"> 9413</span>&#160;  }</div>
<div class="line"><a name="l09414"></a><span class="lineno"> 9414</span>&#160;</div>
<div class="line"><a name="l09415"></a><span class="lineno"> 9415</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;IsBinaryOperation()) {</div>
<div class="line"><a name="l09416"></a><span class="lineno"> 9416</span>&#160;    <a class="code" href="../../d8/d35/classv8_1_1internal_1_1_h_binary_operation.html">HBinaryOperation</a>* binop = <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f04f277465e629953e50da381df8c9b">HBinaryOperation::cast</a>(instr);</div>
<div class="line"><a name="l09417"></a><span class="lineno"> 9417</span>&#160;    binop-&gt;<a class="code" href="../../d8/d35/classv8_1_1internal_1_1_h_binary_operation.html#a4d4fab657973b204ff9771a2a960551c">set_observed_input_representation</a>(1, left_rep);</div>
<div class="line"><a name="l09418"></a><span class="lineno"> 9418</span>&#160;    binop-&gt;<a class="code" href="../../d8/d35/classv8_1_1internal_1_1_h_binary_operation.html#a4d4fab657973b204ff9771a2a960551c">set_observed_input_representation</a>(2, right_rep);</div>
<div class="line"><a name="l09419"></a><span class="lineno"> 9419</span>&#160;    binop-&gt;<a class="code" href="../../d8/d35/classv8_1_1internal_1_1_h_binary_operation.html#a77045a064c3d3c46d09e243df32c0c4b">initialize_output_representation</a>(result_rep);</div>
<div class="line"><a name="l09420"></a><span class="lineno"> 9420</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;IsStub()) {</div>
<div class="line"><a name="l09421"></a><span class="lineno"> 9421</span>&#160;      <span class="comment">// Stub should not call into stub.</span></div>
<div class="line"><a name="l09422"></a><span class="lineno"> 9422</span>&#160;      instr-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a818139a647c0ce70eb74f9f22a91eaa9">SetFlag</a>(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aaa7a82cffc5f09595f0bee7a7d5801e54">HValue::kCannotBeTagged</a>);</div>
<div class="line"><a name="l09423"></a><span class="lineno"> 9423</span>&#160;      <span class="comment">// And should truncate on HForceRepresentation already.</span></div>
<div class="line"><a name="l09424"></a><span class="lineno"> 9424</span>&#160;      <span class="keywordflow">if</span> (left-&gt;IsForceRepresentation()) {</div>
<div class="line"><a name="l09425"></a><span class="lineno"> 9425</span>&#160;        left-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a58402167dadb143826c6b69b0be2ee89">CopyFlag</a>(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aad62d9b69481ff8cbcb7f3c4f5f33a7f1">HValue::kTruncatingToSmi</a>, instr);</div>
<div class="line"><a name="l09426"></a><span class="lineno"> 9426</span>&#160;        left-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a58402167dadb143826c6b69b0be2ee89">CopyFlag</a>(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafd60d1e747bdd50ffeb04241df3ec6f0">HValue::kTruncatingToInt32</a>, instr);</div>
<div class="line"><a name="l09427"></a><span class="lineno"> 9427</span>&#160;      }</div>
<div class="line"><a name="l09428"></a><span class="lineno"> 9428</span>&#160;      <span class="keywordflow">if</span> (right-&gt;IsForceRepresentation()) {</div>
<div class="line"><a name="l09429"></a><span class="lineno"> 9429</span>&#160;        right-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a58402167dadb143826c6b69b0be2ee89">CopyFlag</a>(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aad62d9b69481ff8cbcb7f3c4f5f33a7f1">HValue::kTruncatingToSmi</a>, instr);</div>
<div class="line"><a name="l09430"></a><span class="lineno"> 9430</span>&#160;        right-&gt;<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a58402167dadb143826c6b69b0be2ee89">CopyFlag</a>(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafd60d1e747bdd50ffeb04241df3ec6f0">HValue::kTruncatingToInt32</a>, instr);</div>
<div class="line"><a name="l09431"></a><span class="lineno"> 9431</span>&#160;      }</div>
<div class="line"><a name="l09432"></a><span class="lineno"> 9432</span>&#160;    }</div>
<div class="line"><a name="l09433"></a><span class="lineno"> 9433</span>&#160;  }</div>
<div class="line"><a name="l09434"></a><span class="lineno"> 9434</span>&#160;  <span class="keywordflow">return</span> instr;</div>
<div class="line"><a name="l09435"></a><span class="lineno"> 9435</span>&#160;}</div>
<div class="line"><a name="l09436"></a><span class="lineno"> 9436</span>&#160;</div>
<div class="line"><a name="l09437"></a><span class="lineno"> 9437</span>&#160;</div>
<div class="line"><a name="l09438"></a><span class="lineno"> 9438</span>&#160;<span class="comment">// Check for the form (%_ClassOf(foo) === &#39;BarClass&#39;).</span></div>
<div class="line"><a name="l09439"></a><span class="lineno"> 9439</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> IsClassOfTest(CompareOperation* expr) {</div>
<div class="line"><a name="l09440"></a><span class="lineno"> 9440</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;op() != Token::EQ_STRICT) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09441"></a><span class="lineno"> 9441</span>&#160;  CallRuntime* call = expr-&gt;left()-&gt;AsCallRuntime();</div>
<div class="line"><a name="l09442"></a><span class="lineno"> 9442</span>&#160;  <span class="keywordflow">if</span> (call == NULL) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09443"></a><span class="lineno"> 9443</span>&#160;  Literal* literal = expr-&gt;right()-&gt;AsLiteral();</div>
<div class="line"><a name="l09444"></a><span class="lineno"> 9444</span>&#160;  <span class="keywordflow">if</span> (literal == NULL) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09445"></a><span class="lineno"> 9445</span>&#160;  <span class="keywordflow">if</span> (!literal-&gt;value()-&gt;IsString()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09446"></a><span class="lineno"> 9446</span>&#160;  <span class="keywordflow">if</span> (!call-&gt;name()-&gt;IsOneByteEqualTo(<a class="code" href="../../d5/d60/utils_8h.html#aaf2b51ac357499a1739790fd94bf90ec">STATIC_ASCII_VECTOR</a>(<span class="stringliteral">&quot;_ClassOf&quot;</span>))) {</div>
<div class="line"><a name="l09447"></a><span class="lineno"> 9447</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09448"></a><span class="lineno"> 9448</span>&#160;  }</div>
<div class="line"><a name="l09449"></a><span class="lineno"> 9449</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l09450"></a><span class="lineno"> 9450</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09451"></a><span class="lineno"> 9451</span>&#160;}</div>
<div class="line"><a name="l09452"></a><span class="lineno"> 9452</span>&#160;</div>
<div class="line"><a name="l09453"></a><span class="lineno"> 9453</span>&#160;</div>
<div class="line"><a name="l09454"></a><span class="lineno"> 9454</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitBinaryOperation(BinaryOperation* expr) {</div>
<div class="line"><a name="l09455"></a><span class="lineno"> 9455</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l09456"></a><span class="lineno"> 9456</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l09457"></a><span class="lineno"> 9457</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l09458"></a><span class="lineno"> 9458</span>&#160;  <span class="keywordflow">switch</span> (expr-&gt;op()) {</div>
<div class="line"><a name="l09459"></a><span class="lineno"> 9459</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa2f49001be13949a16a57e6c99ab00ad">Token::COMMA</a>:</div>
<div class="line"><a name="l09460"></a><span class="lineno"> 9460</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afc85d54539c300a80cf158f0709189d2">VisitComma</a>(expr);</div>
<div class="line"><a name="l09461"></a><span class="lineno"> 9461</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a96727447c0ad447987df1c6415aef074">Token::OR</a>:</div>
<div class="line"><a name="l09462"></a><span class="lineno"> 9462</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a4bbeceb3961f500cd37cb2e1be22d6d9">Token::AND</a>:</div>
<div class="line"><a name="l09463"></a><span class="lineno"> 9463</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a5b41f0d88a7a435ca8dcb64c1e7d4485">VisitLogicalExpression</a>(expr);</div>
<div class="line"><a name="l09464"></a><span class="lineno"> 9464</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l09465"></a><span class="lineno"> 9465</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a71874b107531fce02a3f2ca4288f43f5">VisitArithmeticExpression</a>(expr);</div>
<div class="line"><a name="l09466"></a><span class="lineno"> 9466</span>&#160;  }</div>
<div class="line"><a name="l09467"></a><span class="lineno"> 9467</span>&#160;}</div>
<div class="line"><a name="l09468"></a><span class="lineno"> 9468</span>&#160;</div>
<div class="line"><a name="l09469"></a><span class="lineno"> 9469</span>&#160;</div>
<div class="line"><a name="l09470"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afc85d54539c300a80cf158f0709189d2"> 9470</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afc85d54539c300a80cf158f0709189d2">HOptimizedGraphBuilder::VisitComma</a>(BinaryOperation* expr) {</div>
<div class="line"><a name="l09471"></a><span class="lineno"> 9471</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(expr-&gt;left()));</div>
<div class="line"><a name="l09472"></a><span class="lineno"> 9472</span>&#160;  <span class="comment">// Visit the right subexpression in the same AST context as the entire</span></div>
<div class="line"><a name="l09473"></a><span class="lineno"> 9473</span>&#160;  <span class="comment">// expression.</span></div>
<div class="line"><a name="l09474"></a><span class="lineno"> 9474</span>&#160;  Visit(expr-&gt;right());</div>
<div class="line"><a name="l09475"></a><span class="lineno"> 9475</span>&#160;}</div>
<div class="line"><a name="l09476"></a><span class="lineno"> 9476</span>&#160;</div>
<div class="line"><a name="l09477"></a><span class="lineno"> 9477</span>&#160;</div>
<div class="line"><a name="l09478"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a5b41f0d88a7a435ca8dcb64c1e7d4485"> 9478</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a5b41f0d88a7a435ca8dcb64c1e7d4485">HOptimizedGraphBuilder::VisitLogicalExpression</a>(BinaryOperation* expr) {</div>
<div class="line"><a name="l09479"></a><span class="lineno"> 9479</span>&#160;  <span class="keywordtype">bool</span> is_logical_and = expr-&gt;op() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a4bbeceb3961f500cd37cb2e1be22d6d9">Token::AND</a>;</div>
<div class="line"><a name="l09480"></a><span class="lineno"> 9480</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsTest()) {</div>
<div class="line"><a name="l09481"></a><span class="lineno"> 9481</span>&#160;    TestContext* context = TestContext::cast(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>());</div>
<div class="line"><a name="l09482"></a><span class="lineno"> 9482</span>&#160;    <span class="comment">// Translate left subexpression.</span></div>
<div class="line"><a name="l09483"></a><span class="lineno"> 9483</span>&#160;    HBasicBlock* eval_right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l09484"></a><span class="lineno"> 9484</span>&#160;    <span class="keywordflow">if</span> (is_logical_and) {</div>
<div class="line"><a name="l09485"></a><span class="lineno"> 9485</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(expr-&gt;left(),</div>
<div class="line"><a name="l09486"></a><span class="lineno"> 9486</span>&#160;                                    eval_right,</div>
<div class="line"><a name="l09487"></a><span class="lineno"> 9487</span>&#160;                                    context-&gt;if_false()));</div>
<div class="line"><a name="l09488"></a><span class="lineno"> 9488</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09489"></a><span class="lineno"> 9489</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(expr-&gt;left(),</div>
<div class="line"><a name="l09490"></a><span class="lineno"> 9490</span>&#160;                                    context-&gt;if_true(),</div>
<div class="line"><a name="l09491"></a><span class="lineno"> 9491</span>&#160;                                    eval_right));</div>
<div class="line"><a name="l09492"></a><span class="lineno"> 9492</span>&#160;    }</div>
<div class="line"><a name="l09493"></a><span class="lineno"> 9493</span>&#160;</div>
<div class="line"><a name="l09494"></a><span class="lineno"> 9494</span>&#160;    <span class="comment">// Translate right subexpression by visiting it in the same AST</span></div>
<div class="line"><a name="l09495"></a><span class="lineno"> 9495</span>&#160;    <span class="comment">// context as the entire expression.</span></div>
<div class="line"><a name="l09496"></a><span class="lineno"> 9496</span>&#160;    <span class="keywordflow">if</span> (eval_right-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l09497"></a><span class="lineno"> 9497</span>&#160;      eval_right-&gt;SetJoinId(expr-&gt;RightId());</div>
<div class="line"><a name="l09498"></a><span class="lineno"> 9498</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(eval_right);</div>
<div class="line"><a name="l09499"></a><span class="lineno"> 9499</span>&#160;      Visit(expr-&gt;right());</div>
<div class="line"><a name="l09500"></a><span class="lineno"> 9500</span>&#160;    }</div>
<div class="line"><a name="l09501"></a><span class="lineno"> 9501</span>&#160;</div>
<div class="line"><a name="l09502"></a><span class="lineno"> 9502</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#afac2036737acdc8332e3f0fcf8afd2fc">IsValue</a>()) {</div>
<div class="line"><a name="l09503"></a><span class="lineno"> 9503</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;left()));</div>
<div class="line"><a name="l09504"></a><span class="lineno"> 9504</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l09505"></a><span class="lineno"> 9505</span>&#160;    HValue* left_value = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">Top</a>();</div>
<div class="line"><a name="l09506"></a><span class="lineno"> 9506</span>&#160;</div>
<div class="line"><a name="l09507"></a><span class="lineno"> 9507</span>&#160;    <span class="comment">// Short-circuit left values that always evaluate to the same boolean value.</span></div>
<div class="line"><a name="l09508"></a><span class="lineno"> 9508</span>&#160;    <span class="keywordflow">if</span> (expr-&gt;left()-&gt;ToBooleanIsTrue() || expr-&gt;left()-&gt;ToBooleanIsFalse()) {</div>
<div class="line"><a name="l09509"></a><span class="lineno"> 9509</span>&#160;      <span class="comment">// l (evals true)  &amp;&amp; r -&gt; r</span></div>
<div class="line"><a name="l09510"></a><span class="lineno"> 9510</span>&#160;      <span class="comment">// l (evals true)  || r -&gt; l</span></div>
<div class="line"><a name="l09511"></a><span class="lineno"> 9511</span>&#160;      <span class="comment">// l (evals false) &amp;&amp; r -&gt; l</span></div>
<div class="line"><a name="l09512"></a><span class="lineno"> 9512</span>&#160;      <span class="comment">// l (evals false) || r -&gt; r</span></div>
<div class="line"><a name="l09513"></a><span class="lineno"> 9513</span>&#160;      <span class="keywordflow">if</span> (is_logical_and == expr-&gt;left()-&gt;ToBooleanIsTrue()) {</div>
<div class="line"><a name="l09514"></a><span class="lineno"> 9514</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);</div>
<div class="line"><a name="l09515"></a><span class="lineno"> 9515</span>&#160;        <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;right()));</div>
<div class="line"><a name="l09516"></a><span class="lineno"> 9516</span>&#160;      }</div>
<div class="line"><a name="l09517"></a><span class="lineno"> 9517</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l09518"></a><span class="lineno"> 9518</span>&#160;    }</div>
<div class="line"><a name="l09519"></a><span class="lineno"> 9519</span>&#160;</div>
<div class="line"><a name="l09520"></a><span class="lineno"> 9520</span>&#160;    <span class="comment">// We need an extra block to maintain edge-split form.</span></div>
<div class="line"><a name="l09521"></a><span class="lineno"> 9521</span>&#160;    HBasicBlock* empty_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l09522"></a><span class="lineno"> 9522</span>&#160;    HBasicBlock* eval_right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l09523"></a><span class="lineno"> 9523</span>&#160;    <a class="code" href="../../d6/dbf/classv8_1_1internal_1_1_to_boolean_stub_1_1_types.html">ToBooleanStub::Types</a> expected(expr-&gt;left()-&gt;to_boolean_types());</div>
<div class="line"><a name="l09524"></a><span class="lineno"> 9524</span>&#160;    HBranch* test = is_logical_and</div>
<div class="line"><a name="l09525"></a><span class="lineno"> 9525</span>&#160;        ? New&lt;HBranch&gt;(left_value, expected, eval_right, empty_block)</div>
<div class="line"><a name="l09526"></a><span class="lineno"> 9526</span>&#160;        : New&lt;HBranch&gt;(left_value, expected, empty_block, eval_right);</div>
<div class="line"><a name="l09527"></a><span class="lineno"> 9527</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">FinishCurrentBlock</a>(test);</div>
<div class="line"><a name="l09528"></a><span class="lineno"> 9528</span>&#160;</div>
<div class="line"><a name="l09529"></a><span class="lineno"> 9529</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(eval_right);</div>
<div class="line"><a name="l09530"></a><span class="lineno"> 9530</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);  <span class="comment">// Value of the left subexpression.</span></div>
<div class="line"><a name="l09531"></a><span class="lineno"> 9531</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;right()));</div>
<div class="line"><a name="l09532"></a><span class="lineno"> 9532</span>&#160;</div>
<div class="line"><a name="l09533"></a><span class="lineno"> 9533</span>&#160;    HBasicBlock* join_block =</div>
<div class="line"><a name="l09534"></a><span class="lineno"> 9534</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">CreateJoin</a>(empty_block, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>(), expr-&gt;id());</div>
<div class="line"><a name="l09535"></a><span class="lineno"> 9535</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join_block);</div>
<div class="line"><a name="l09536"></a><span class="lineno"> 9536</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l09537"></a><span class="lineno"> 9537</span>&#160;</div>
<div class="line"><a name="l09538"></a><span class="lineno"> 9538</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09539"></a><span class="lineno"> 9539</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect());</div>
<div class="line"><a name="l09540"></a><span class="lineno"> 9540</span>&#160;    <span class="comment">// In an effect context, we don&#39;t need the value of the left subexpression,</span></div>
<div class="line"><a name="l09541"></a><span class="lineno"> 9541</span>&#160;    <span class="comment">// only its control flow and side effects.  We need an extra block to</span></div>
<div class="line"><a name="l09542"></a><span class="lineno"> 9542</span>&#160;    <span class="comment">// maintain edge-split form.</span></div>
<div class="line"><a name="l09543"></a><span class="lineno"> 9543</span>&#160;    HBasicBlock* empty_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l09544"></a><span class="lineno"> 9544</span>&#160;    HBasicBlock* right_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;CreateBasicBlock();</div>
<div class="line"><a name="l09545"></a><span class="lineno"> 9545</span>&#160;    <span class="keywordflow">if</span> (is_logical_and) {</div>
<div class="line"><a name="l09546"></a><span class="lineno"> 9546</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(expr-&gt;left(), right_block, empty_block));</div>
<div class="line"><a name="l09547"></a><span class="lineno"> 9547</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09548"></a><span class="lineno"> 9548</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">VisitForControl</a>(expr-&gt;left(), empty_block, right_block));</div>
<div class="line"><a name="l09549"></a><span class="lineno"> 9549</span>&#160;    }</div>
<div class="line"><a name="l09550"></a><span class="lineno"> 9550</span>&#160;</div>
<div class="line"><a name="l09551"></a><span class="lineno"> 9551</span>&#160;    <span class="comment">// TODO(kmillikin): Find a way to fix this.  It&#39;s ugly that there are</span></div>
<div class="line"><a name="l09552"></a><span class="lineno"> 9552</span>&#160;    <span class="comment">// actually two empty blocks (one here and one inserted by</span></div>
<div class="line"><a name="l09553"></a><span class="lineno"> 9553</span>&#160;    <span class="comment">// TestContext::BuildBranch, and that they both have an HSimulate though the</span></div>
<div class="line"><a name="l09554"></a><span class="lineno"> 9554</span>&#160;    <span class="comment">// second one is not a merge node, and that we really have no good AST ID to</span></div>
<div class="line"><a name="l09555"></a><span class="lineno"> 9555</span>&#160;    <span class="comment">// put on that first HSimulate.</span></div>
<div class="line"><a name="l09556"></a><span class="lineno"> 9556</span>&#160;</div>
<div class="line"><a name="l09557"></a><span class="lineno"> 9557</span>&#160;    <span class="keywordflow">if</span> (empty_block-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l09558"></a><span class="lineno"> 9558</span>&#160;      empty_block-&gt;SetJoinId(expr-&gt;id());</div>
<div class="line"><a name="l09559"></a><span class="lineno"> 9559</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09560"></a><span class="lineno"> 9560</span>&#160;      empty_block = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l09561"></a><span class="lineno"> 9561</span>&#160;    }</div>
<div class="line"><a name="l09562"></a><span class="lineno"> 9562</span>&#160;</div>
<div class="line"><a name="l09563"></a><span class="lineno"> 9563</span>&#160;    <span class="keywordflow">if</span> (right_block-&gt;HasPredecessor()) {</div>
<div class="line"><a name="l09564"></a><span class="lineno"> 9564</span>&#160;      right_block-&gt;SetJoinId(expr-&gt;RightId());</div>
<div class="line"><a name="l09565"></a><span class="lineno"> 9565</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(right_block);</div>
<div class="line"><a name="l09566"></a><span class="lineno"> 9566</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">VisitForEffect</a>(expr-&gt;right()));</div>
<div class="line"><a name="l09567"></a><span class="lineno"> 9567</span>&#160;      right_block = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>();</div>
<div class="line"><a name="l09568"></a><span class="lineno"> 9568</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09569"></a><span class="lineno"> 9569</span>&#160;      right_block = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l09570"></a><span class="lineno"> 9570</span>&#160;    }</div>
<div class="line"><a name="l09571"></a><span class="lineno"> 9571</span>&#160;</div>
<div class="line"><a name="l09572"></a><span class="lineno"> 9572</span>&#160;    HBasicBlock* join_block =</div>
<div class="line"><a name="l09573"></a><span class="lineno"> 9573</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">CreateJoin</a>(empty_block, right_block, expr-&gt;id());</div>
<div class="line"><a name="l09574"></a><span class="lineno"> 9574</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">set_current_block</a>(join_block);</div>
<div class="line"><a name="l09575"></a><span class="lineno"> 9575</span>&#160;    <span class="comment">// We did not materialize any value in the predecessor environments,</span></div>
<div class="line"><a name="l09576"></a><span class="lineno"> 9576</span>&#160;    <span class="comment">// so there is no need to handle it here.</span></div>
<div class="line"><a name="l09577"></a><span class="lineno"> 9577</span>&#160;  }</div>
<div class="line"><a name="l09578"></a><span class="lineno"> 9578</span>&#160;}</div>
<div class="line"><a name="l09579"></a><span class="lineno"> 9579</span>&#160;</div>
<div class="line"><a name="l09580"></a><span class="lineno"> 9580</span>&#160;</div>
<div class="line"><a name="l09581"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a71874b107531fce02a3f2ca4288f43f5"> 9581</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a71874b107531fce02a3f2ca4288f43f5">HOptimizedGraphBuilder::VisitArithmeticExpression</a>(BinaryOperation* expr) {</div>
<div class="line"><a name="l09582"></a><span class="lineno"> 9582</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;left()));</div>
<div class="line"><a name="l09583"></a><span class="lineno"> 9583</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;right()));</div>
<div class="line"><a name="l09584"></a><span class="lineno"> 9584</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l09585"></a><span class="lineno"> 9585</span>&#160;  HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l09586"></a><span class="lineno"> 9586</span>&#160;  HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l09587"></a><span class="lineno"> 9587</span>&#160;  HValue* result =</div>
<div class="line"><a name="l09588"></a><span class="lineno"> 9588</span>&#160;      BuildBinaryOperation(expr, left, right,</div>
<div class="line"><a name="l09589"></a><span class="lineno"> 9589</span>&#160;          <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect() ? NO_PUSH_BEFORE_SIMULATE</div>
<div class="line"><a name="l09590"></a><span class="lineno"> 9590</span>&#160;                                    : PUSH_BEFORE_SIMULATE);</div>
<div class="line"><a name="l09591"></a><span class="lineno"> 9591</span>&#160;  <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions &amp;&amp; result-&gt;IsBinaryOperation()) {</div>
<div class="line"><a name="l09592"></a><span class="lineno"> 9592</span>&#160;    <a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f04f277465e629953e50da381df8c9b">HBinaryOperation::cast</a>(result)-&gt;SetOperandPositions(</div>
<div class="line"><a name="l09593"></a><span class="lineno"> 9593</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>(),</div>
<div class="line"><a name="l09594"></a><span class="lineno"> 9594</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(expr-&gt;left()-&gt;position()),</div>
<div class="line"><a name="l09595"></a><span class="lineno"> 9595</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(expr-&gt;right()-&gt;position()));</div>
<div class="line"><a name="l09596"></a><span class="lineno"> 9596</span>&#160;  }</div>
<div class="line"><a name="l09597"></a><span class="lineno"> 9597</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(result);</div>
<div class="line"><a name="l09598"></a><span class="lineno"> 9598</span>&#160;}</div>
<div class="line"><a name="l09599"></a><span class="lineno"> 9599</span>&#160;</div>
<div class="line"><a name="l09600"></a><span class="lineno"> 9600</span>&#160;</div>
<div class="line"><a name="l09601"></a><span class="lineno"> 9601</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::HandleLiteralCompareTypeof(CompareOperation* expr,</div>
<div class="line"><a name="l09602"></a><span class="lineno"> 9602</span>&#160;                                                        <a class="code" href="../../da/ddf/classv8_1_1internal_1_1_expression.html">Expression</a>* sub_expr,</div>
<div class="line"><a name="l09603"></a><span class="lineno"> 9603</span>&#160;                                                        <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> check) {</div>
<div class="line"><a name="l09604"></a><span class="lineno"> 9604</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ae3efd69922a6aa4ad744803baacd6856">VisitForTypeOf</a>(sub_expr));</div>
<div class="line"><a name="l09605"></a><span class="lineno"> 9605</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l09606"></a><span class="lineno"> 9606</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l09607"></a><span class="lineno"> 9607</span>&#160;  HTypeofIsAndBranch* instr = New&lt;HTypeofIsAndBranch&gt;(value, <a class="code" href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a>);</div>
<div class="line"><a name="l09608"></a><span class="lineno"> 9608</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l09609"></a><span class="lineno"> 9609</span>&#160;}</div>
<div class="line"><a name="l09610"></a><span class="lineno"> 9610</span>&#160;</div>
<div class="line"><a name="l09611"></a><span class="lineno"> 9611</span>&#160;</div>
<div class="line"><a name="l09612"></a><span class="lineno"> 9612</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> IsLiteralCompareBool(<a class="code" href="../../d5/dda/classv8_1_1_isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l09613"></a><span class="lineno"> 9613</span>&#160;                                 HValue* left,</div>
<div class="line"><a name="l09614"></a><span class="lineno"> 9614</span>&#160;                                 <a class="code" href="../../d5/d2d/classv8_1_1internal_1_1_token.html#a896c037a32087c5c20d97e64a1786880">Token::Value</a> op,</div>
<div class="line"><a name="l09615"></a><span class="lineno"> 9615</span>&#160;                                 HValue* right) {</div>
<div class="line"><a name="l09616"></a><span class="lineno"> 9616</span>&#160;  <span class="keywordflow">return</span> op == Token::EQ_STRICT &amp;&amp;</div>
<div class="line"><a name="l09617"></a><span class="lineno"> 9617</span>&#160;      ((left-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l09618"></a><span class="lineno"> 9618</span>&#160;          HConstant::cast(left)-&gt;handle(isolate)-&gt;IsBoolean()) ||</div>
<div class="line"><a name="l09619"></a><span class="lineno"> 9619</span>&#160;       (right-&gt;IsConstant() &amp;&amp;</div>
<div class="line"><a name="l09620"></a><span class="lineno"> 9620</span>&#160;           HConstant::cast(right)-&gt;handle(isolate)-&gt;IsBoolean()));</div>
<div class="line"><a name="l09621"></a><span class="lineno"> 9621</span>&#160;}</div>
<div class="line"><a name="l09622"></a><span class="lineno"> 9622</span>&#160;</div>
<div class="line"><a name="l09623"></a><span class="lineno"> 9623</span>&#160;</div>
<div class="line"><a name="l09624"></a><span class="lineno"> 9624</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitCompareOperation(CompareOperation* expr) {</div>
<div class="line"><a name="l09625"></a><span class="lineno"> 9625</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l09626"></a><span class="lineno"> 9626</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l09627"></a><span class="lineno"> 9627</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l09628"></a><span class="lineno"> 9628</span>&#160;</div>
<div class="line"><a name="l09629"></a><span class="lineno"> 9629</span>&#160;  <span class="keywordflow">if</span> (!FLAG_hydrogen_track_positions) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l09630"></a><span class="lineno"> 9630</span>&#160;</div>
<div class="line"><a name="l09631"></a><span class="lineno"> 9631</span>&#160;  <span class="comment">// Check for a few fast cases. The AST visiting behavior must be in sync</span></div>
<div class="line"><a name="l09632"></a><span class="lineno"> 9632</span>&#160;  <span class="comment">// with the full codegen: We don&#39;t push both left and right values onto</span></div>
<div class="line"><a name="l09633"></a><span class="lineno"> 9633</span>&#160;  <span class="comment">// the expression stack when one side is a special-case literal.</span></div>
<div class="line"><a name="l09634"></a><span class="lineno"> 9634</span>&#160;  Expression* sub_expr = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l09635"></a><span class="lineno"> 9635</span>&#160;  Handle&lt;String&gt; <a class="code" href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a>;</div>
<div class="line"><a name="l09636"></a><span class="lineno"> 9636</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;IsLiteralCompareTypeof(&amp;sub_expr, &amp;check)) {</div>
<div class="line"><a name="l09637"></a><span class="lineno"> 9637</span>&#160;    <span class="keywordflow">return</span> HandleLiteralCompareTypeof(expr, sub_expr, check);</div>
<div class="line"><a name="l09638"></a><span class="lineno"> 9638</span>&#160;  }</div>
<div class="line"><a name="l09639"></a><span class="lineno"> 9639</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;IsLiteralCompareUndefined(&amp;sub_expr, isolate())) {</div>
<div class="line"><a name="l09640"></a><span class="lineno"> 9640</span>&#160;    <span class="keywordflow">return</span> HandleLiteralCompareNil(expr, sub_expr, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf111e6f2baa3eb36f69875f39239210aa7b6e853bb192e838356b1639ef1949b">kUndefinedValue</a>);</div>
<div class="line"><a name="l09641"></a><span class="lineno"> 9641</span>&#160;  }</div>
<div class="line"><a name="l09642"></a><span class="lineno"> 9642</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;IsLiteralCompareNull(&amp;sub_expr)) {</div>
<div class="line"><a name="l09643"></a><span class="lineno"> 9643</span>&#160;    <span class="keywordflow">return</span> HandleLiteralCompareNil(expr, sub_expr, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf111e6f2baa3eb36f69875f39239210ae52fff543224ee52a46e471ecc241d30">kNullValue</a>);</div>
<div class="line"><a name="l09644"></a><span class="lineno"> 9644</span>&#160;  }</div>
<div class="line"><a name="l09645"></a><span class="lineno"> 9645</span>&#160;</div>
<div class="line"><a name="l09646"></a><span class="lineno"> 9646</span>&#160;  <span class="keywordflow">if</span> (IsClassOfTest(expr)) {</div>
<div class="line"><a name="l09647"></a><span class="lineno"> 9647</span>&#160;    CallRuntime* call = expr-&gt;left()-&gt;AsCallRuntime();</div>
<div class="line"><a name="l09648"></a><span class="lineno"> 9648</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l09649"></a><span class="lineno"> 9649</span>&#160;    <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l09650"></a><span class="lineno"> 9650</span>&#160;    HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l09651"></a><span class="lineno"> 9651</span>&#160;    Literal* literal = expr-&gt;right()-&gt;AsLiteral();</div>
<div class="line"><a name="l09652"></a><span class="lineno"> 9652</span>&#160;    Handle&lt;String&gt; rhs = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;String&gt;::cast</a>(literal-&gt;value());</div>
<div class="line"><a name="l09653"></a><span class="lineno"> 9653</span>&#160;    HClassOfTestAndBranch* instr = New&lt;HClassOfTestAndBranch&gt;(value, rhs);</div>
<div class="line"><a name="l09654"></a><span class="lineno"> 9654</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l09655"></a><span class="lineno"> 9655</span>&#160;  }</div>
<div class="line"><a name="l09656"></a><span class="lineno"> 9656</span>&#160;</div>
<div class="line"><a name="l09657"></a><span class="lineno"> 9657</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* left_type = expr-&gt;left()-&gt;bounds().lower;</div>
<div class="line"><a name="l09658"></a><span class="lineno"> 9658</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* right_type = expr-&gt;right()-&gt;bounds().lower;</div>
<div class="line"><a name="l09659"></a><span class="lineno"> 9659</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* combined_type = expr-&gt;combined_type();</div>
<div class="line"><a name="l09660"></a><span class="lineno"> 9660</span>&#160;</div>
<div class="line"><a name="l09661"></a><span class="lineno"> 9661</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;left()));</div>
<div class="line"><a name="l09662"></a><span class="lineno"> 9662</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(expr-&gt;right()));</div>
<div class="line"><a name="l09663"></a><span class="lineno"> 9663</span>&#160;</div>
<div class="line"><a name="l09664"></a><span class="lineno"> 9664</span>&#160;  <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l09665"></a><span class="lineno"> 9665</span>&#160;</div>
<div class="line"><a name="l09666"></a><span class="lineno"> 9666</span>&#160;  HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l09667"></a><span class="lineno"> 9667</span>&#160;  HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l09668"></a><span class="lineno"> 9668</span>&#160;  <a class="code" href="../../d5/d2d/classv8_1_1internal_1_1_token.html#a896c037a32087c5c20d97e64a1786880">Token::Value</a> op = expr-&gt;op();</div>
<div class="line"><a name="l09669"></a><span class="lineno"> 9669</span>&#160;</div>
<div class="line"><a name="l09670"></a><span class="lineno"> 9670</span>&#160;  <span class="keywordflow">if</span> (IsLiteralCompareBool(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>(), left, op, right)) {</div>
<div class="line"><a name="l09671"></a><span class="lineno"> 9671</span>&#160;    HCompareObjectEqAndBranch* result =</div>
<div class="line"><a name="l09672"></a><span class="lineno"> 9672</span>&#160;        New&lt;HCompareObjectEqAndBranch&gt;(left, right);</div>
<div class="line"><a name="l09673"></a><span class="lineno"> 9673</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l09674"></a><span class="lineno"> 9674</span>&#160;  }</div>
<div class="line"><a name="l09675"></a><span class="lineno"> 9675</span>&#160;</div>
<div class="line"><a name="l09676"></a><span class="lineno"> 9676</span>&#160;  <span class="keywordflow">if</span> (op == Token::INSTANCEOF) {</div>
<div class="line"><a name="l09677"></a><span class="lineno"> 9677</span>&#160;    <span class="comment">// Check to see if the rhs of the instanceof is a global function not</span></div>
<div class="line"><a name="l09678"></a><span class="lineno"> 9678</span>&#160;    <span class="comment">// residing in new space. If it is we assume that the function will stay the</span></div>
<div class="line"><a name="l09679"></a><span class="lineno"> 9679</span>&#160;    <span class="comment">// same.</span></div>
<div class="line"><a name="l09680"></a><span class="lineno"> 9680</span>&#160;    Handle&lt;JSFunction&gt; target = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a5c1c5f8dcdfd3fe359a6af56e98ec280">Handle&lt;JSFunction&gt;::null</a>();</div>
<div class="line"><a name="l09681"></a><span class="lineno"> 9681</span>&#160;    VariableProxy* proxy = expr-&gt;right()-&gt;AsVariableProxy();</div>
<div class="line"><a name="l09682"></a><span class="lineno"> 9682</span>&#160;    <span class="keywordtype">bool</span> global_function = (proxy != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) &amp;&amp; proxy-&gt;var()-&gt;IsUnallocated();</div>
<div class="line"><a name="l09683"></a><span class="lineno"> 9683</span>&#160;    <span class="keywordflow">if</span> (global_function &amp;&amp;</div>
<div class="line"><a name="l09684"></a><span class="lineno"> 9684</span>&#160;        <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;has_global_object() &amp;&amp;</div>
<div class="line"><a name="l09685"></a><span class="lineno"> 9685</span>&#160;        !<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;global_object()-&gt;IsAccessCheckNeeded()) {</div>
<div class="line"><a name="l09686"></a><span class="lineno"> 9686</span>&#160;      Handle&lt;String&gt; name = proxy-&gt;name();</div>
<div class="line"><a name="l09687"></a><span class="lineno"> 9687</span>&#160;      Handle&lt;GlobalObject&gt; global(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;global_object());</div>
<div class="line"><a name="l09688"></a><span class="lineno"> 9688</span>&#160;      LookupResult lookup(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l09689"></a><span class="lineno"> 9689</span>&#160;      global-&gt;Lookup(*name, &amp;lookup);</div>
<div class="line"><a name="l09690"></a><span class="lineno"> 9690</span>&#160;      <span class="keywordflow">if</span> (lookup.IsNormal() &amp;&amp; lookup.GetValue()-&gt;IsJSFunction()) {</div>
<div class="line"><a name="l09691"></a><span class="lineno"> 9691</span>&#160;        Handle&lt;JSFunction&gt; candidate(<a class="code" href="../../d0/d2c/classv8_1_1internal_1_1_j_s_function.html#aadcf8f00ff5f932119b67a97c33762da">JSFunction::cast</a>(lookup.GetValue()));</div>
<div class="line"><a name="l09692"></a><span class="lineno"> 9692</span>&#160;        <span class="comment">// If the function is in new space we assume it&#39;s more likely to</span></div>
<div class="line"><a name="l09693"></a><span class="lineno"> 9693</span>&#160;        <span class="comment">// change and thus prefer the general IC code.</span></div>
<div class="line"><a name="l09694"></a><span class="lineno"> 9694</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;heap()-&gt;InNewSpace(*candidate)) {</div>
<div class="line"><a name="l09695"></a><span class="lineno"> 9695</span>&#160;          target = candidate;</div>
<div class="line"><a name="l09696"></a><span class="lineno"> 9696</span>&#160;        }</div>
<div class="line"><a name="l09697"></a><span class="lineno"> 9697</span>&#160;      }</div>
<div class="line"><a name="l09698"></a><span class="lineno"> 9698</span>&#160;    }</div>
<div class="line"><a name="l09699"></a><span class="lineno"> 9699</span>&#160;</div>
<div class="line"><a name="l09700"></a><span class="lineno"> 9700</span>&#160;    <span class="comment">// If the target is not null we have found a known global function that is</span></div>
<div class="line"><a name="l09701"></a><span class="lineno"> 9701</span>&#160;    <span class="comment">// assumed to stay the same for this instanceof.</span></div>
<div class="line"><a name="l09702"></a><span class="lineno"> 9702</span>&#160;    <span class="keywordflow">if</span> (target.is_null()) {</div>
<div class="line"><a name="l09703"></a><span class="lineno"> 9703</span>&#160;      HInstanceOf* result = New&lt;HInstanceOf&gt;(left, right);</div>
<div class="line"><a name="l09704"></a><span class="lineno"> 9704</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l09705"></a><span class="lineno"> 9705</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09706"></a><span class="lineno"> 9706</span>&#160;      Add&lt;HCheckValue&gt;(right, target);</div>
<div class="line"><a name="l09707"></a><span class="lineno"> 9707</span>&#160;      HInstanceOfKnownGlobal* result =</div>
<div class="line"><a name="l09708"></a><span class="lineno"> 9708</span>&#160;        New&lt;HInstanceOfKnownGlobal&gt;(left, target);</div>
<div class="line"><a name="l09709"></a><span class="lineno"> 9709</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l09710"></a><span class="lineno"> 9710</span>&#160;    }</div>
<div class="line"><a name="l09711"></a><span class="lineno"> 9711</span>&#160;</div>
<div class="line"><a name="l09712"></a><span class="lineno"> 9712</span>&#160;    <span class="comment">// Code below assumes that we don&#39;t fall through.</span></div>
<div class="line"><a name="l09713"></a><span class="lineno"> 9713</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l09714"></a><span class="lineno"> 9714</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op == <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">Token::IN</a>) {</div>
<div class="line"><a name="l09715"></a><span class="lineno"> 9715</span>&#160;    HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1723360ac752b7889227b2ed67aa2e48">AddLoadJSBuiltin</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">Builtins::IN</a>);</div>
<div class="line"><a name="l09716"></a><span class="lineno"> 9716</span>&#160;    Add&lt;HPushArgument&gt;(left);</div>
<div class="line"><a name="l09717"></a><span class="lineno"> 9717</span>&#160;    Add&lt;HPushArgument&gt;(right);</div>
<div class="line"><a name="l09718"></a><span class="lineno"> 9718</span>&#160;    <span class="comment">// TODO(olivf) InvokeFunction produces a check for the parameter count,</span></div>
<div class="line"><a name="l09719"></a><span class="lineno"> 9719</span>&#160;    <span class="comment">// even though we are certain to pass the correct number of arguments here.</span></div>
<div class="line"><a name="l09720"></a><span class="lineno"> 9720</span>&#160;    HInstruction* result = New&lt;HInvokeFunction&gt;(<span class="keyword">function</span>, 2);</div>
<div class="line"><a name="l09721"></a><span class="lineno"> 9721</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, expr-&gt;id());</div>
<div class="line"><a name="l09722"></a><span class="lineno"> 9722</span>&#160;  }</div>
<div class="line"><a name="l09723"></a><span class="lineno"> 9723</span>&#160;</div>
<div class="line"><a name="l09724"></a><span class="lineno"> 9724</span>&#160;  PushBeforeSimulateBehavior push_behavior =</div>
<div class="line"><a name="l09725"></a><span class="lineno"> 9725</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>() ? NO_PUSH_BEFORE_SIMULATE</div>
<div class="line"><a name="l09726"></a><span class="lineno"> 9726</span>&#160;                              : PUSH_BEFORE_SIMULATE;</div>
<div class="line"><a name="l09727"></a><span class="lineno"> 9727</span>&#160;  HControlInstruction* compare = BuildCompareInstruction(</div>
<div class="line"><a name="l09728"></a><span class="lineno"> 9728</span>&#160;      op, left, right, left_type, right_type, combined_type,</div>
<div class="line"><a name="l09729"></a><span class="lineno"> 9729</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(expr-&gt;left()-&gt;position()),</div>
<div class="line"><a name="l09730"></a><span class="lineno"> 9730</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">ScriptPositionToSourcePosition</a>(expr-&gt;right()-&gt;position()),</div>
<div class="line"><a name="l09731"></a><span class="lineno"> 9731</span>&#160;      push_behavior, expr-&gt;id());</div>
<div class="line"><a name="l09732"></a><span class="lineno"> 9732</span>&#160;  <span class="keywordflow">if</span> (compare == NULL) <span class="keywordflow">return</span>;  <span class="comment">// Bailed out.</span></div>
<div class="line"><a name="l09733"></a><span class="lineno"> 9733</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(compare, expr-&gt;id());</div>
<div class="line"><a name="l09734"></a><span class="lineno"> 9734</span>&#160;}</div>
<div class="line"><a name="l09735"></a><span class="lineno"> 9735</span>&#160;</div>
<div class="line"><a name="l09736"></a><span class="lineno"> 9736</span>&#160;</div>
<div class="line"><a name="l09737"></a><span class="lineno"> 9737</span>&#160;HControlInstruction* HOptimizedGraphBuilder::BuildCompareInstruction(</div>
<div class="line"><a name="l09738"></a><span class="lineno"> 9738</span>&#160;    <a class="code" href="../../d5/d2d/classv8_1_1internal_1_1_token.html#a896c037a32087c5c20d97e64a1786880">Token::Value</a> op,</div>
<div class="line"><a name="l09739"></a><span class="lineno"> 9739</span>&#160;    HValue* left,</div>
<div class="line"><a name="l09740"></a><span class="lineno"> 9740</span>&#160;    HValue* right,</div>
<div class="line"><a name="l09741"></a><span class="lineno"> 9741</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* left_type,</div>
<div class="line"><a name="l09742"></a><span class="lineno"> 9742</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* right_type,</div>
<div class="line"><a name="l09743"></a><span class="lineno"> 9743</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* combined_type,</div>
<div class="line"><a name="l09744"></a><span class="lineno"> 9744</span>&#160;    HSourcePosition left_position,</div>
<div class="line"><a name="l09745"></a><span class="lineno"> 9745</span>&#160;    HSourcePosition right_position,</div>
<div class="line"><a name="l09746"></a><span class="lineno"> 9746</span>&#160;    PushBeforeSimulateBehavior push_sim_result,</div>
<div class="line"><a name="l09747"></a><span class="lineno"> 9747</span>&#160;    BailoutId bailout_id) {</div>
<div class="line"><a name="l09748"></a><span class="lineno"> 9748</span>&#160;  <span class="comment">// Cases handled below depend on collected type feedback. They should</span></div>
<div class="line"><a name="l09749"></a><span class="lineno"> 9749</span>&#160;  <span class="comment">// soft deoptimize when there is no type feedback.</span></div>
<div class="line"><a name="l09750"></a><span class="lineno"> 9750</span>&#160;  <span class="keywordflow">if</span> (combined_type-&gt;Is(<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">Type::None</a>())) {</div>
<div class="line"><a name="l09751"></a><span class="lineno"> 9751</span>&#160;    Add&lt;HDeoptimize&gt;(<span class="stringliteral">&quot;Insufficient type feedback for combined type &quot;</span></div>
<div class="line"><a name="l09752"></a><span class="lineno"> 9752</span>&#160;                     <span class="stringliteral">&quot;of binary operation&quot;</span>,</div>
<div class="line"><a name="l09753"></a><span class="lineno"> 9753</span>&#160;                     <a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82a93cba370b0f4922682be437a439c1a56">Deoptimizer::SOFT</a>);</div>
<div class="line"><a name="l09754"></a><span class="lineno"> 9754</span>&#160;    combined_type = left_type = right_type = Type::Any(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l09755"></a><span class="lineno"> 9755</span>&#160;  }</div>
<div class="line"><a name="l09756"></a><span class="lineno"> 9756</span>&#160;</div>
<div class="line"><a name="l09757"></a><span class="lineno"> 9757</span>&#160;  Representation left_rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(left_type);</div>
<div class="line"><a name="l09758"></a><span class="lineno"> 9758</span>&#160;  Representation right_rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(right_type);</div>
<div class="line"><a name="l09759"></a><span class="lineno"> 9759</span>&#160;  Representation combined_rep = <a class="code" href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">Representation::FromType</a>(combined_type);</div>
<div class="line"><a name="l09760"></a><span class="lineno"> 9760</span>&#160;</div>
<div class="line"><a name="l09761"></a><span class="lineno"> 9761</span>&#160;  <span class="keywordflow">if</span> (combined_type-&gt;Is(Type::Receiver())) {</div>
<div class="line"><a name="l09762"></a><span class="lineno"> 9762</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d2d/classv8_1_1internal_1_1_token.html#add084695715a82f87e1109c03be8b54e">Token::IsEqualityOp</a>(op)) {</div>
<div class="line"><a name="l09763"></a><span class="lineno"> 9763</span>&#160;      <span class="comment">// Can we get away with map check and not instance type check?</span></div>
<div class="line"><a name="l09764"></a><span class="lineno"> 9764</span>&#160;      HValue* operand_to_check =</div>
<div class="line"><a name="l09765"></a><span class="lineno"> 9765</span>&#160;          left-&gt;block()-&gt;block_id() &lt; right-&gt;block()-&gt;block_id() ? left : right;</div>
<div class="line"><a name="l09766"></a><span class="lineno"> 9766</span>&#160;      <span class="keywordflow">if</span> (combined_type-&gt;IsClass()) {</div>
<div class="line"><a name="l09767"></a><span class="lineno"> 9767</span>&#160;        Handle&lt;Map&gt; map = combined_type-&gt;AsClass();</div>
<div class="line"><a name="l09768"></a><span class="lineno"> 9768</span>&#160;        AddCheckMap(operand_to_check, map);</div>
<div class="line"><a name="l09769"></a><span class="lineno"> 9769</span>&#160;        HCompareObjectEqAndBranch* result =</div>
<div class="line"><a name="l09770"></a><span class="lineno"> 9770</span>&#160;            New&lt;HCompareObjectEqAndBranch&gt;(left, right);</div>
<div class="line"><a name="l09771"></a><span class="lineno"> 9771</span>&#160;        <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions) {</div>
<div class="line"><a name="l09772"></a><span class="lineno"> 9772</span>&#160;          result-&gt;set_operand_position(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>(), 0, left_position);</div>
<div class="line"><a name="l09773"></a><span class="lineno"> 9773</span>&#160;          result-&gt;set_operand_position(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>(), 1, right_position);</div>
<div class="line"><a name="l09774"></a><span class="lineno"> 9774</span>&#160;        }</div>
<div class="line"><a name="l09775"></a><span class="lineno"> 9775</span>&#160;        <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l09776"></a><span class="lineno"> 9776</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09777"></a><span class="lineno"> 9777</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(operand_to_check);</div>
<div class="line"><a name="l09778"></a><span class="lineno"> 9778</span>&#160;        Add&lt;HCheckInstanceType&gt;(operand_to_check,</div>
<div class="line"><a name="l09779"></a><span class="lineno"> 9779</span>&#160;                                HCheckInstanceType::IS_SPEC_OBJECT);</div>
<div class="line"><a name="l09780"></a><span class="lineno"> 9780</span>&#160;        HCompareObjectEqAndBranch* result =</div>
<div class="line"><a name="l09781"></a><span class="lineno"> 9781</span>&#160;            New&lt;HCompareObjectEqAndBranch&gt;(left, right);</div>
<div class="line"><a name="l09782"></a><span class="lineno"> 9782</span>&#160;        <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l09783"></a><span class="lineno"> 9783</span>&#160;      }</div>
<div class="line"><a name="l09784"></a><span class="lineno"> 9784</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09785"></a><span class="lineno"> 9785</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kUnsupportedNonPrimitiveCompare);</div>
<div class="line"><a name="l09786"></a><span class="lineno"> 9786</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l09787"></a><span class="lineno"> 9787</span>&#160;    }</div>
<div class="line"><a name="l09788"></a><span class="lineno"> 9788</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (combined_type-&gt;Is(Type::InternalizedString()) &amp;&amp;</div>
<div class="line"><a name="l09789"></a><span class="lineno"> 9789</span>&#160;             <a class="code" href="../../d5/d2d/classv8_1_1internal_1_1_token.html#add084695715a82f87e1109c03be8b54e">Token::IsEqualityOp</a>(op)) {</div>
<div class="line"><a name="l09790"></a><span class="lineno"> 9790</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(left);</div>
<div class="line"><a name="l09791"></a><span class="lineno"> 9791</span>&#160;    Add&lt;HCheckInstanceType&gt;(left, HCheckInstanceType::IS_INTERNALIZED_STRING);</div>
<div class="line"><a name="l09792"></a><span class="lineno"> 9792</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(right);</div>
<div class="line"><a name="l09793"></a><span class="lineno"> 9793</span>&#160;    Add&lt;HCheckInstanceType&gt;(right, HCheckInstanceType::IS_INTERNALIZED_STRING);</div>
<div class="line"><a name="l09794"></a><span class="lineno"> 9794</span>&#160;    HCompareObjectEqAndBranch* result =</div>
<div class="line"><a name="l09795"></a><span class="lineno"> 9795</span>&#160;        New&lt;HCompareObjectEqAndBranch&gt;(left, right);</div>
<div class="line"><a name="l09796"></a><span class="lineno"> 9796</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l09797"></a><span class="lineno"> 9797</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (combined_type-&gt;Is(Type::String())) {</div>
<div class="line"><a name="l09798"></a><span class="lineno"> 9798</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(left);</div>
<div class="line"><a name="l09799"></a><span class="lineno"> 9799</span>&#160;    Add&lt;HCheckInstanceType&gt;(left, HCheckInstanceType::IS_STRING);</div>
<div class="line"><a name="l09800"></a><span class="lineno"> 9800</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">BuildCheckHeapObject</a>(right);</div>
<div class="line"><a name="l09801"></a><span class="lineno"> 9801</span>&#160;    Add&lt;HCheckInstanceType&gt;(right, HCheckInstanceType::IS_STRING);</div>
<div class="line"><a name="l09802"></a><span class="lineno"> 9802</span>&#160;    HStringCompareAndBranch* result =</div>
<div class="line"><a name="l09803"></a><span class="lineno"> 9803</span>&#160;        New&lt;HStringCompareAndBranch&gt;(left, right, op);</div>
<div class="line"><a name="l09804"></a><span class="lineno"> 9804</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l09805"></a><span class="lineno"> 9805</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09806"></a><span class="lineno"> 9806</span>&#160;    <span class="keywordflow">if</span> (combined_rep.IsTagged() || combined_rep.IsNone()) {</div>
<div class="line"><a name="l09807"></a><span class="lineno"> 9807</span>&#160;      HCompareGeneric* result = Add&lt;HCompareGeneric&gt;(left, right, op);</div>
<div class="line"><a name="l09808"></a><span class="lineno"> 9808</span>&#160;      result-&gt;set_observed_input_representation(1, left_rep);</div>
<div class="line"><a name="l09809"></a><span class="lineno"> 9809</span>&#160;      result-&gt;set_observed_input_representation(2, right_rep);</div>
<div class="line"><a name="l09810"></a><span class="lineno"> 9810</span>&#160;      <span class="keywordflow">if</span> (result-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l09811"></a><span class="lineno"> 9811</span>&#160;        <span class="keywordflow">if</span> (push_sim_result == PUSH_BEFORE_SIMULATE) {</div>
<div class="line"><a name="l09812"></a><span class="lineno"> 9812</span>&#160;          <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(result);</div>
<div class="line"><a name="l09813"></a><span class="lineno"> 9813</span>&#160;          <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a03ce1190c6f922905011ae419ea700d9">AddSimulate</a>(bailout_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l09814"></a><span class="lineno"> 9814</span>&#160;          <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);</div>
<div class="line"><a name="l09815"></a><span class="lineno"> 9815</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09816"></a><span class="lineno"> 9816</span>&#160;          <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a03ce1190c6f922905011ae419ea700d9">AddSimulate</a>(bailout_id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l09817"></a><span class="lineno"> 9817</span>&#160;        }</div>
<div class="line"><a name="l09818"></a><span class="lineno"> 9818</span>&#160;      }</div>
<div class="line"><a name="l09819"></a><span class="lineno"> 9819</span>&#160;      <span class="comment">// TODO(jkummerow): Can we make this more efficient?</span></div>
<div class="line"><a name="l09820"></a><span class="lineno"> 9820</span>&#160;      HBranch* branch = New&lt;HBranch&gt;(result);</div>
<div class="line"><a name="l09821"></a><span class="lineno"> 9821</span>&#160;      <span class="keywordflow">return</span> branch;</div>
<div class="line"><a name="l09822"></a><span class="lineno"> 9822</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09823"></a><span class="lineno"> 9823</span>&#160;      HCompareNumericAndBranch* result =</div>
<div class="line"><a name="l09824"></a><span class="lineno"> 9824</span>&#160;          New&lt;HCompareNumericAndBranch&gt;(left, right, op);</div>
<div class="line"><a name="l09825"></a><span class="lineno"> 9825</span>&#160;      result-&gt;set_observed_input_representation(left_rep, right_rep);</div>
<div class="line"><a name="l09826"></a><span class="lineno"> 9826</span>&#160;      <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions) {</div>
<div class="line"><a name="l09827"></a><span class="lineno"> 9827</span>&#160;        result-&gt;SetOperandPositions(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>(), left_position, right_position);</div>
<div class="line"><a name="l09828"></a><span class="lineno"> 9828</span>&#160;      }</div>
<div class="line"><a name="l09829"></a><span class="lineno"> 9829</span>&#160;      <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l09830"></a><span class="lineno"> 9830</span>&#160;    }</div>
<div class="line"><a name="l09831"></a><span class="lineno"> 9831</span>&#160;  }</div>
<div class="line"><a name="l09832"></a><span class="lineno"> 9832</span>&#160;}</div>
<div class="line"><a name="l09833"></a><span class="lineno"> 9833</span>&#160;</div>
<div class="line"><a name="l09834"></a><span class="lineno"> 9834</span>&#160;</div>
<div class="line"><a name="l09835"></a><span class="lineno"> 9835</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::HandleLiteralCompareNil(CompareOperation* expr,</div>
<div class="line"><a name="l09836"></a><span class="lineno"> 9836</span>&#160;                                                     Expression* sub_expr,</div>
<div class="line"><a name="l09837"></a><span class="lineno"> 9837</span>&#160;                                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf111e6f2baa3eb36f69875f39239210">NilValue</a> nil) {</div>
<div class="line"><a name="l09838"></a><span class="lineno"> 9838</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l09839"></a><span class="lineno"> 9839</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l09840"></a><span class="lineno"> 9840</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l09841"></a><span class="lineno"> 9841</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(expr-&gt;op() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a> || expr-&gt;op() == Token::EQ_STRICT);</div>
<div class="line"><a name="l09842"></a><span class="lineno"> 9842</span>&#160;  <span class="keywordflow">if</span> (!FLAG_hydrogen_track_positions) <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">SetSourcePosition</a>(expr-&gt;position());</div>
<div class="line"><a name="l09843"></a><span class="lineno"> 9843</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(sub_expr));</div>
<div class="line"><a name="l09844"></a><span class="lineno"> 9844</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l09845"></a><span class="lineno"> 9845</span>&#160;  <span class="keywordflow">if</span> (expr-&gt;op() == Token::EQ_STRICT) {</div>
<div class="line"><a name="l09846"></a><span class="lineno"> 9846</span>&#160;    HConstant* nil_constant = nil == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf111e6f2baa3eb36f69875f39239210ae52fff543224ee52a46e471ecc241d30">kNullValue</a></div>
<div class="line"><a name="l09847"></a><span class="lineno"> 9847</span>&#160;        ? <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantNull()</div>
<div class="line"><a name="l09848"></a><span class="lineno"> 9848</span>&#160;        : <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined();</div>
<div class="line"><a name="l09849"></a><span class="lineno"> 9849</span>&#160;    HCompareObjectEqAndBranch* instr =</div>
<div class="line"><a name="l09850"></a><span class="lineno"> 9850</span>&#160;        New&lt;HCompareObjectEqAndBranch&gt;(value, nil_constant);</div>
<div class="line"><a name="l09851"></a><span class="lineno"> 9851</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l09852"></a><span class="lineno"> 9852</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09853"></a><span class="lineno"> 9853</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">Token::EQ</a>, expr-&gt;op());</div>
<div class="line"><a name="l09854"></a><span class="lineno"> 9854</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">Type</a>* type = expr-&gt;combined_type()-&gt;<a class="code" href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">Is</a>(<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">Type::None</a>())</div>
<div class="line"><a name="l09855"></a><span class="lineno"> 9855</span>&#160;        ? Type::Any(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) : expr-&gt;combined_type();</div>
<div class="line"><a name="l09856"></a><span class="lineno"> 9856</span>&#160;    HIfContinuation continuation;</div>
<div class="line"><a name="l09857"></a><span class="lineno"> 9857</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a97cf28cee139c6071680b6c8d6ffe570">BuildCompareNil</a>(value, type, &amp;continuation);</div>
<div class="line"><a name="l09858"></a><span class="lineno"> 9858</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab13476683ae06167bfa0d7e60c525649">ReturnContinuation</a>(&amp;continuation, expr-&gt;id());</div>
<div class="line"><a name="l09859"></a><span class="lineno"> 9859</span>&#160;  }</div>
<div class="line"><a name="l09860"></a><span class="lineno"> 9860</span>&#160;}</div>
<div class="line"><a name="l09861"></a><span class="lineno"> 9861</span>&#160;</div>
<div class="line"><a name="l09862"></a><span class="lineno"> 9862</span>&#160;</div>
<div class="line"><a name="l09863"></a><span class="lineno"> 9863</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildThisFunction() {</div>
<div class="line"><a name="l09864"></a><span class="lineno"> 9864</span>&#160;  <span class="comment">// If we share optimized code between different closures, the</span></div>
<div class="line"><a name="l09865"></a><span class="lineno"> 9865</span>&#160;  <span class="comment">// this-function is not a constant, except inside an inlined body.</span></div>
<div class="line"><a name="l09866"></a><span class="lineno"> 9866</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;outer() != NULL) {</div>
<div class="line"><a name="l09867"></a><span class="lineno"> 9867</span>&#160;      <span class="keywordflow">return</span> New&lt;HConstant&gt;(</div>
<div class="line"><a name="l09868"></a><span class="lineno"> 9868</span>&#160;          <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;compilation_info()-&gt;closure());</div>
<div class="line"><a name="l09869"></a><span class="lineno"> 9869</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09870"></a><span class="lineno"> 9870</span>&#160;      <span class="keywordflow">return</span> New&lt;HThisFunction&gt;();</div>
<div class="line"><a name="l09871"></a><span class="lineno"> 9871</span>&#160;  }</div>
<div class="line"><a name="l09872"></a><span class="lineno"> 9872</span>&#160;}</div>
<div class="line"><a name="l09873"></a><span class="lineno"> 9873</span>&#160;</div>
<div class="line"><a name="l09874"></a><span class="lineno"> 9874</span>&#160;</div>
<div class="line"><a name="l09875"></a><span class="lineno"> 9875</span>&#160;HInstruction* HOptimizedGraphBuilder::BuildFastLiteral(</div>
<div class="line"><a name="l09876"></a><span class="lineno"> 9876</span>&#160;    Handle&lt;JSObject&gt; boilerplate_object,</div>
<div class="line"><a name="l09877"></a><span class="lineno"> 9877</span>&#160;    AllocationSiteUsageContext* site_context) {</div>
<div class="line"><a name="l09878"></a><span class="lineno"> 9878</span>&#160;  NoObservableSideEffectsScope no_effects(<span class="keyword">this</span>);</div>
<div class="line"><a name="l09879"></a><span class="lineno"> 9879</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> instance_type = boilerplate_object-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l09880"></a><span class="lineno"> 9880</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(instance_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a> || instance_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a539a1a5410833e10ed1535106612dc3b">JS_OBJECT_TYPE</a>);</div>
<div class="line"><a name="l09881"></a><span class="lineno"> 9881</span>&#160;</div>
<div class="line"><a name="l09882"></a><span class="lineno"> 9882</span>&#160;  HType type = instance_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a></div>
<div class="line"><a name="l09883"></a><span class="lineno"> 9883</span>&#160;      ? HType::JSArray() : HType::JSObject();</div>
<div class="line"><a name="l09884"></a><span class="lineno"> 9884</span>&#160;  HValue* object_size_constant = Add&lt;HConstant&gt;(</div>
<div class="line"><a name="l09885"></a><span class="lineno"> 9885</span>&#160;      boilerplate_object-&gt;map()-&gt;instance_size());</div>
<div class="line"><a name="l09886"></a><span class="lineno"> 9886</span>&#160;</div>
<div class="line"><a name="l09887"></a><span class="lineno"> 9887</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7ea">PretenureFlag</a> pretenure_flag = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aac0d2638ba91cf80b046cf8141fde771">GetPretenureMode</a>();</div>
<div class="line"><a name="l09888"></a><span class="lineno"> 9888</span>&#160;  <span class="keywordflow">if</span> (FLAG_allocation_site_pretenuring) {</div>
<div class="line"><a name="l09889"></a><span class="lineno"> 9889</span>&#160;    pretenure_flag = site_context-&gt;current()-&gt;GetPretenureMode();</div>
<div class="line"><a name="l09890"></a><span class="lineno"> 9890</span>&#160;    Handle&lt;AllocationSite&gt; site(site_context-&gt;current());</div>
<div class="line"><a name="l09891"></a><span class="lineno"> 9891</span>&#160;    <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#a6b67448212244ba093b8ba6b55135f16">AllocationSite::AddDependentCompilationInfo</a>(</div>
<div class="line"><a name="l09892"></a><span class="lineno"> 9892</span>&#160;        site, <a class="code" href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#af38960e2d1da2c992b2232eb3f285c4eade4902c0c5de2581f905a6be5c738f85">AllocationSite::TENURING</a>, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">top_info</a>());</div>
<div class="line"><a name="l09893"></a><span class="lineno"> 9893</span>&#160;  }</div>
<div class="line"><a name="l09894"></a><span class="lineno"> 9894</span>&#160;</div>
<div class="line"><a name="l09895"></a><span class="lineno"> 9895</span>&#160;  HInstruction* <span class="keywordtype">object</span> = Add&lt;HAllocate&gt;(object_size_constant, type,</div>
<div class="line"><a name="l09896"></a><span class="lineno"> 9896</span>&#160;      pretenure_flag, instance_type, site_context-&gt;current());</div>
<div class="line"><a name="l09897"></a><span class="lineno"> 9897</span>&#160;</div>
<div class="line"><a name="l09898"></a><span class="lineno"> 9898</span>&#160;  <span class="comment">// If allocation folding reaches Page::kMaxRegularHeapObjectSize the</span></div>
<div class="line"><a name="l09899"></a><span class="lineno"> 9899</span>&#160;  <span class="comment">// elements array may not get folded into the object. Hence, we set the</span></div>
<div class="line"><a name="l09900"></a><span class="lineno"> 9900</span>&#160;  <span class="comment">// elements pointer to empty fixed array and let store elimination remove</span></div>
<div class="line"><a name="l09901"></a><span class="lineno"> 9901</span>&#160;  <span class="comment">// this store in the folding case.</span></div>
<div class="line"><a name="l09902"></a><span class="lineno"> 9902</span>&#160;  HConstant* empty_fixed_array = Add&lt;HConstant&gt;(</div>
<div class="line"><a name="l09903"></a><span class="lineno"> 9903</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;empty_fixed_array());</div>
<div class="line"><a name="l09904"></a><span class="lineno"> 9904</span>&#160;  Add&lt;HStoreNamedField&gt;(object, HObjectAccess::ForElementsPointer(),</div>
<div class="line"><a name="l09905"></a><span class="lineno"> 9905</span>&#160;      empty_fixed_array, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a54d2d7d5e0481f3de9ccdf36ef9b3c6c">INITIALIZING_STORE</a>);</div>
<div class="line"><a name="l09906"></a><span class="lineno"> 9906</span>&#160;</div>
<div class="line"><a name="l09907"></a><span class="lineno"> 9907</span>&#160;  BuildEmitObjectHeader(boilerplate_object, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l09908"></a><span class="lineno"> 9908</span>&#160;</div>
<div class="line"><a name="l09909"></a><span class="lineno"> 9909</span>&#160;  Handle&lt;FixedArrayBase&gt; elements(boilerplate_object-&gt;elements());</div>
<div class="line"><a name="l09910"></a><span class="lineno"> 9910</span>&#160;  <span class="keywordtype">int</span> elements_size = (elements-&gt;length() &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l09911"></a><span class="lineno"> 9911</span>&#160;      elements-&gt;map() != <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;fixed_cow_array_map()) ?</div>
<div class="line"><a name="l09912"></a><span class="lineno"> 9912</span>&#160;          elements-&gt;Size() : 0;</div>
<div class="line"><a name="l09913"></a><span class="lineno"> 9913</span>&#160;</div>
<div class="line"><a name="l09914"></a><span class="lineno"> 9914</span>&#160;  <span class="keywordflow">if</span> (pretenure_flag == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf3d0d752de4b5754a85fcdaaf0a2f26c">TENURED</a> &amp;&amp;</div>
<div class="line"><a name="l09915"></a><span class="lineno"> 9915</span>&#160;      elements-&gt;map() == <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;fixed_cow_array_map() &amp;&amp;</div>
<div class="line"><a name="l09916"></a><span class="lineno"> 9916</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#adf7b8da84cc9609b0373f431cf09fd81">InNewSpace</a>(*elements)) {</div>
<div class="line"><a name="l09917"></a><span class="lineno"> 9917</span>&#160;    <span class="comment">// If we would like to pretenure a fixed cow array, we must ensure that the</span></div>
<div class="line"><a name="l09918"></a><span class="lineno"> 9918</span>&#160;    <span class="comment">// array is already in old space, otherwise we&#39;ll create too many old-to-</span></div>
<div class="line"><a name="l09919"></a><span class="lineno"> 9919</span>&#160;    <span class="comment">// new-space pointers (overflowing the store buffer).</span></div>
<div class="line"><a name="l09920"></a><span class="lineno"> 9920</span>&#160;    elements = Handle&lt;FixedArrayBase&gt;(</div>
<div class="line"><a name="l09921"></a><span class="lineno"> 9921</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;<a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html#ae496a525e991d9456aaa253f1d9f8b4b">CopyAndTenureFixedCOWArray</a>(</div>
<div class="line"><a name="l09922"></a><span class="lineno"> 9922</span>&#160;            Handle&lt;FixedArray&gt;::cast(elements)));</div>
<div class="line"><a name="l09923"></a><span class="lineno"> 9923</span>&#160;    boilerplate_object-&gt;set_elements(*elements);</div>
<div class="line"><a name="l09924"></a><span class="lineno"> 9924</span>&#160;  }</div>
<div class="line"><a name="l09925"></a><span class="lineno"> 9925</span>&#160;</div>
<div class="line"><a name="l09926"></a><span class="lineno"> 9926</span>&#160;  HInstruction* object_elements = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l09927"></a><span class="lineno"> 9927</span>&#160;  <span class="keywordflow">if</span> (elements_size &gt; 0) {</div>
<div class="line"><a name="l09928"></a><span class="lineno"> 9928</span>&#160;    HValue* object_elements_size = Add&lt;HConstant&gt;(elements_size);</div>
<div class="line"><a name="l09929"></a><span class="lineno"> 9929</span>&#160;    <span class="keywordflow">if</span> (boilerplate_object-&gt;HasFastDoubleElements()) {</div>
<div class="line"><a name="l09930"></a><span class="lineno"> 9930</span>&#160;      object_elements = Add&lt;HAllocate&gt;(object_elements_size, HType::Tagged(),</div>
<div class="line"><a name="l09931"></a><span class="lineno"> 9931</span>&#160;          pretenure_flag, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27afa57e7600638a388cb2107f38b167251">FIXED_DOUBLE_ARRAY_TYPE</a>, site_context-&gt;current());</div>
<div class="line"><a name="l09932"></a><span class="lineno"> 9932</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09933"></a><span class="lineno"> 9933</span>&#160;      object_elements = Add&lt;HAllocate&gt;(object_elements_size, HType::Tagged(),</div>
<div class="line"><a name="l09934"></a><span class="lineno"> 9934</span>&#160;          pretenure_flag, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27aba0f93e6cf8af6a861213b3df3cfccd5">FIXED_ARRAY_TYPE</a>, site_context-&gt;current());</div>
<div class="line"><a name="l09935"></a><span class="lineno"> 9935</span>&#160;    }</div>
<div class="line"><a name="l09936"></a><span class="lineno"> 9936</span>&#160;  }</div>
<div class="line"><a name="l09937"></a><span class="lineno"> 9937</span>&#160;  BuildInitElementsInObjectHeader(boilerplate_object, <span class="keywordtype">object</span>, object_elements);</div>
<div class="line"><a name="l09938"></a><span class="lineno"> 9938</span>&#160;</div>
<div class="line"><a name="l09939"></a><span class="lineno"> 9939</span>&#160;  <span class="comment">// Copy object elements if non-COW.</span></div>
<div class="line"><a name="l09940"></a><span class="lineno"> 9940</span>&#160;  <span class="keywordflow">if</span> (object_elements != NULL) {</div>
<div class="line"><a name="l09941"></a><span class="lineno"> 9941</span>&#160;    BuildEmitElements(boilerplate_object, elements, object_elements,</div>
<div class="line"><a name="l09942"></a><span class="lineno"> 9942</span>&#160;                      site_context);</div>
<div class="line"><a name="l09943"></a><span class="lineno"> 9943</span>&#160;  }</div>
<div class="line"><a name="l09944"></a><span class="lineno"> 9944</span>&#160;</div>
<div class="line"><a name="l09945"></a><span class="lineno"> 9945</span>&#160;  <span class="comment">// Copy in-object properties.</span></div>
<div class="line"><a name="l09946"></a><span class="lineno"> 9946</span>&#160;  <span class="keywordflow">if</span> (boilerplate_object-&gt;map()-&gt;NumberOfFields() != 0) {</div>
<div class="line"><a name="l09947"></a><span class="lineno"> 9947</span>&#160;    BuildEmitInObjectProperties(boilerplate_object, <span class="keywordtype">object</span>, site_context,</div>
<div class="line"><a name="l09948"></a><span class="lineno"> 9948</span>&#160;                                pretenure_flag);</div>
<div class="line"><a name="l09949"></a><span class="lineno"> 9949</span>&#160;  }</div>
<div class="line"><a name="l09950"></a><span class="lineno"> 9950</span>&#160;  <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l09951"></a><span class="lineno"> 9951</span>&#160;}</div>
<div class="line"><a name="l09952"></a><span class="lineno"> 9952</span>&#160;</div>
<div class="line"><a name="l09953"></a><span class="lineno"> 9953</span>&#160;</div>
<div class="line"><a name="l09954"></a><span class="lineno"> 9954</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildEmitObjectHeader(</div>
<div class="line"><a name="l09955"></a><span class="lineno"> 9955</span>&#160;    Handle&lt;JSObject&gt; boilerplate_object,</div>
<div class="line"><a name="l09956"></a><span class="lineno"> 9956</span>&#160;    HInstruction* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l09957"></a><span class="lineno"> 9957</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(boilerplate_object-&gt;properties()-&gt;length() == 0);</div>
<div class="line"><a name="l09958"></a><span class="lineno"> 9958</span>&#160;</div>
<div class="line"><a name="l09959"></a><span class="lineno"> 9959</span>&#160;  Handle&lt;Map&gt; boilerplate_object_map(boilerplate_object-&gt;map());</div>
<div class="line"><a name="l09960"></a><span class="lineno"> 9960</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74">AddStoreMapConstant</a>(<span class="keywordtype">object</span>, boilerplate_object_map);</div>
<div class="line"><a name="l09961"></a><span class="lineno"> 9961</span>&#160;</div>
<div class="line"><a name="l09962"></a><span class="lineno"> 9962</span>&#160;  Handle&lt;Object&gt; properties_field =</div>
<div class="line"><a name="l09963"></a><span class="lineno"> 9963</span>&#160;      Handle&lt;Object&gt;(boilerplate_object-&gt;properties(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l09964"></a><span class="lineno"> 9964</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(*properties_field == <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;heap()-&gt;empty_fixed_array());</div>
<div class="line"><a name="l09965"></a><span class="lineno"> 9965</span>&#160;  HInstruction* properties = Add&lt;HConstant&gt;(properties_field);</div>
<div class="line"><a name="l09966"></a><span class="lineno"> 9966</span>&#160;  HObjectAccess access = HObjectAccess::ForPropertiesPointer();</div>
<div class="line"><a name="l09967"></a><span class="lineno"> 9967</span>&#160;  Add&lt;HStoreNamedField&gt;(object, access, properties);</div>
<div class="line"><a name="l09968"></a><span class="lineno"> 9968</span>&#160;</div>
<div class="line"><a name="l09969"></a><span class="lineno"> 9969</span>&#160;  <span class="keywordflow">if</span> (boilerplate_object-&gt;IsJSArray()) {</div>
<div class="line"><a name="l09970"></a><span class="lineno"> 9970</span>&#160;    Handle&lt;JSArray&gt; boilerplate_array =</div>
<div class="line"><a name="l09971"></a><span class="lineno"> 9971</span>&#160;        <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSArray&gt;::cast</a>(boilerplate_object);</div>
<div class="line"><a name="l09972"></a><span class="lineno"> 9972</span>&#160;    Handle&lt;Object&gt; length_field =</div>
<div class="line"><a name="l09973"></a><span class="lineno"> 9973</span>&#160;        Handle&lt;Object&gt;(boilerplate_array-&gt;length(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l09974"></a><span class="lineno"> 9974</span>&#160;    HInstruction* length = Add&lt;HConstant&gt;(length_field);</div>
<div class="line"><a name="l09975"></a><span class="lineno"> 9975</span>&#160;</div>
<div class="line"><a name="l09976"></a><span class="lineno"> 9976</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(boilerplate_array-&gt;length()-&gt;IsSmi());</div>
<div class="line"><a name="l09977"></a><span class="lineno"> 9977</span>&#160;    Add&lt;HStoreNamedField&gt;(object, HObjectAccess::ForArrayLength(</div>
<div class="line"><a name="l09978"></a><span class="lineno"> 9978</span>&#160;        boilerplate_array-&gt;GetElementsKind()), length);</div>
<div class="line"><a name="l09979"></a><span class="lineno"> 9979</span>&#160;  }</div>
<div class="line"><a name="l09980"></a><span class="lineno"> 9980</span>&#160;}</div>
<div class="line"><a name="l09981"></a><span class="lineno"> 9981</span>&#160;</div>
<div class="line"><a name="l09982"></a><span class="lineno"> 9982</span>&#160;</div>
<div class="line"><a name="l09983"></a><span class="lineno"> 9983</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildInitElementsInObjectHeader(</div>
<div class="line"><a name="l09984"></a><span class="lineno"> 9984</span>&#160;    Handle&lt;JSObject&gt; boilerplate_object,</div>
<div class="line"><a name="l09985"></a><span class="lineno"> 9985</span>&#160;    HInstruction* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l09986"></a><span class="lineno"> 9986</span>&#160;    HInstruction* object_elements) {</div>
<div class="line"><a name="l09987"></a><span class="lineno"> 9987</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(boilerplate_object-&gt;properties()-&gt;length() == 0);</div>
<div class="line"><a name="l09988"></a><span class="lineno"> 9988</span>&#160;  <span class="keywordflow">if</span> (object_elements == NULL) {</div>
<div class="line"><a name="l09989"></a><span class="lineno"> 9989</span>&#160;    Handle&lt;Object&gt; elements_field =</div>
<div class="line"><a name="l09990"></a><span class="lineno"> 9990</span>&#160;        Handle&lt;Object&gt;(boilerplate_object-&gt;elements(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l09991"></a><span class="lineno"> 9991</span>&#160;    object_elements = Add&lt;HConstant&gt;(elements_field);</div>
<div class="line"><a name="l09992"></a><span class="lineno"> 9992</span>&#160;  }</div>
<div class="line"><a name="l09993"></a><span class="lineno"> 9993</span>&#160;  Add&lt;HStoreNamedField&gt;(object, HObjectAccess::ForElementsPointer(),</div>
<div class="line"><a name="l09994"></a><span class="lineno"> 9994</span>&#160;      object_elements);</div>
<div class="line"><a name="l09995"></a><span class="lineno"> 9995</span>&#160;}</div>
<div class="line"><a name="l09996"></a><span class="lineno"> 9996</span>&#160;</div>
<div class="line"><a name="l09997"></a><span class="lineno"> 9997</span>&#160;</div>
<div class="line"><a name="l09998"></a><span class="lineno"> 9998</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildEmitInObjectProperties(</div>
<div class="line"><a name="l09999"></a><span class="lineno"> 9999</span>&#160;    Handle&lt;JSObject&gt; boilerplate_object,</div>
<div class="line"><a name="l10000"></a><span class="lineno">10000</span>&#160;    HInstruction* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l10001"></a><span class="lineno">10001</span>&#160;    AllocationSiteUsageContext* site_context,</div>
<div class="line"><a name="l10002"></a><span class="lineno">10002</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7ea">PretenureFlag</a> pretenure_flag) {</div>
<div class="line"><a name="l10003"></a><span class="lineno">10003</span>&#160;  Handle&lt;Map&gt; boilerplate_map(boilerplate_object-&gt;map());</div>
<div class="line"><a name="l10004"></a><span class="lineno">10004</span>&#160;  Handle&lt;DescriptorArray&gt; descriptors(boilerplate_map-&gt;instance_descriptors());</div>
<div class="line"><a name="l10005"></a><span class="lineno">10005</span>&#160;  <span class="keywordtype">int</span> limit = boilerplate_map-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l10006"></a><span class="lineno">10006</span>&#160;</div>
<div class="line"><a name="l10007"></a><span class="lineno">10007</span>&#160;  <span class="keywordtype">int</span> copied_fields = 0;</div>
<div class="line"><a name="l10008"></a><span class="lineno">10008</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; limit; i++) {</div>
<div class="line"><a name="l10009"></a><span class="lineno">10009</span>&#160;    PropertyDetails details = descriptors-&gt;GetDetails(i);</div>
<div class="line"><a name="l10010"></a><span class="lineno">10010</span>&#160;    <span class="keywordflow">if</span> (details.type() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7ff5a5c54f182b86d1cd993cf4512c87ad204836f74ffdd8c40784e385d04e88d">FIELD</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l10011"></a><span class="lineno">10011</span>&#160;    copied_fields++;</div>
<div class="line"><a name="l10012"></a><span class="lineno">10012</span>&#160;    <span class="keywordtype">int</span> index = descriptors-&gt;GetFieldIndex(i);</div>
<div class="line"><a name="l10013"></a><span class="lineno">10013</span>&#160;    <span class="keywordtype">int</span> property_offset = boilerplate_object-&gt;GetInObjectPropertyOffset(index);</div>
<div class="line"><a name="l10014"></a><span class="lineno">10014</span>&#160;    Handle&lt;Name&gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a>(descriptors-&gt;GetKey(i));</div>
<div class="line"><a name="l10015"></a><span class="lineno">10015</span>&#160;    Handle&lt;Object&gt; value =</div>
<div class="line"><a name="l10016"></a><span class="lineno">10016</span>&#160;        Handle&lt;Object&gt;(boilerplate_object-&gt;InObjectPropertyAt(index),</div>
<div class="line"><a name="l10017"></a><span class="lineno">10017</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l10018"></a><span class="lineno">10018</span>&#160;</div>
<div class="line"><a name="l10019"></a><span class="lineno">10019</span>&#160;    <span class="comment">// The access for the store depends on the type of the boilerplate.</span></div>
<div class="line"><a name="l10020"></a><span class="lineno">10020</span>&#160;    HObjectAccess access = boilerplate_object-&gt;IsJSArray() ?</div>
<div class="line"><a name="l10021"></a><span class="lineno">10021</span>&#160;        HObjectAccess::ForJSArrayOffset(property_offset) :</div>
<div class="line"><a name="l10022"></a><span class="lineno">10022</span>&#160;        HObjectAccess::ForMapAndOffset(boilerplate_map, property_offset);</div>
<div class="line"><a name="l10023"></a><span class="lineno">10023</span>&#160;</div>
<div class="line"><a name="l10024"></a><span class="lineno">10024</span>&#160;    <span class="keywordflow">if</span> (value-&gt;IsJSObject()) {</div>
<div class="line"><a name="l10025"></a><span class="lineno">10025</span>&#160;      Handle&lt;JSObject&gt; value_object = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSObject&gt;::cast</a>(value);</div>
<div class="line"><a name="l10026"></a><span class="lineno">10026</span>&#160;      Handle&lt;AllocationSite&gt; current_site = site_context-&gt;EnterNewScope();</div>
<div class="line"><a name="l10027"></a><span class="lineno">10027</span>&#160;      HInstruction* result =</div>
<div class="line"><a name="l10028"></a><span class="lineno">10028</span>&#160;          BuildFastLiteral(value_object, site_context);</div>
<div class="line"><a name="l10029"></a><span class="lineno">10029</span>&#160;      site_context-&gt;ExitScope(current_site, value_object);</div>
<div class="line"><a name="l10030"></a><span class="lineno">10030</span>&#160;      Add&lt;HStoreNamedField&gt;(object, access, result);</div>
<div class="line"><a name="l10031"></a><span class="lineno">10031</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10032"></a><span class="lineno">10032</span>&#160;      Representation representation = details.representation();</div>
<div class="line"><a name="l10033"></a><span class="lineno">10033</span>&#160;      HInstruction* value_instruction;</div>
<div class="line"><a name="l10034"></a><span class="lineno">10034</span>&#160;</div>
<div class="line"><a name="l10035"></a><span class="lineno">10035</span>&#160;      <span class="keywordflow">if</span> (representation.IsDouble()) {</div>
<div class="line"><a name="l10036"></a><span class="lineno">10036</span>&#160;        <span class="comment">// Allocate a HeapNumber box and store the value into it.</span></div>
<div class="line"><a name="l10037"></a><span class="lineno">10037</span>&#160;        HValue* heap_number_constant = Add&lt;HConstant&gt;(<a class="code" href="../../d1/d8c/classv8_1_1internal_1_1_heap_number.html#aabca8545565b6a1f3c6fdc8bd948de49">HeapNumber::kSize</a>);</div>
<div class="line"><a name="l10038"></a><span class="lineno">10038</span>&#160;        <span class="comment">// This heap number alloc does not have a corresponding</span></div>
<div class="line"><a name="l10039"></a><span class="lineno">10039</span>&#160;        <span class="comment">// AllocationSite. That is okay because</span></div>
<div class="line"><a name="l10040"></a><span class="lineno">10040</span>&#160;        <span class="comment">// 1) it&#39;s a child object of another object with a valid allocation site</span></div>
<div class="line"><a name="l10041"></a><span class="lineno">10041</span>&#160;        <span class="comment">// 2) we can just use the mode of the parent object for pretenuring</span></div>
<div class="line"><a name="l10042"></a><span class="lineno">10042</span>&#160;        HInstruction* double_box =</div>
<div class="line"><a name="l10043"></a><span class="lineno">10043</span>&#160;            Add&lt;HAllocate&gt;(heap_number_constant, HType::HeapNumber(),</div>
<div class="line"><a name="l10044"></a><span class="lineno">10044</span>&#160;                pretenure_flag, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a4321eba55b5ed532f9214d727fce7335">HEAP_NUMBER_TYPE</a>);</div>
<div class="line"><a name="l10045"></a><span class="lineno">10045</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74">AddStoreMapConstant</a>(double_box,</div>
<div class="line"><a name="l10046"></a><span class="lineno">10046</span>&#160;            <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;factory()-&gt;heap_number_map());</div>
<div class="line"><a name="l10047"></a><span class="lineno">10047</span>&#160;        Add&lt;HStoreNamedField&gt;(double_box, HObjectAccess::ForHeapNumberValue(),</div>
<div class="line"><a name="l10048"></a><span class="lineno">10048</span>&#160;                              Add&lt;HConstant&gt;(value));</div>
<div class="line"><a name="l10049"></a><span class="lineno">10049</span>&#160;        value_instruction = double_box;</div>
<div class="line"><a name="l10050"></a><span class="lineno">10050</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (representation.IsSmi()) {</div>
<div class="line"><a name="l10051"></a><span class="lineno">10051</span>&#160;        value_instruction = value-&gt;IsUninitialized()</div>
<div class="line"><a name="l10052"></a><span class="lineno">10052</span>&#160;            ? <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant0()</div>
<div class="line"><a name="l10053"></a><span class="lineno">10053</span>&#160;            : Add&lt;HConstant&gt;(value);</div>
<div class="line"><a name="l10054"></a><span class="lineno">10054</span>&#160;        <span class="comment">// Ensure that value is stored as smi.</span></div>
<div class="line"><a name="l10055"></a><span class="lineno">10055</span>&#160;        access = access.WithRepresentation(representation);</div>
<div class="line"><a name="l10056"></a><span class="lineno">10056</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10057"></a><span class="lineno">10057</span>&#160;        value_instruction = Add&lt;HConstant&gt;(value);</div>
<div class="line"><a name="l10058"></a><span class="lineno">10058</span>&#160;      }</div>
<div class="line"><a name="l10059"></a><span class="lineno">10059</span>&#160;</div>
<div class="line"><a name="l10060"></a><span class="lineno">10060</span>&#160;      Add&lt;HStoreNamedField&gt;(object, access, value_instruction);</div>
<div class="line"><a name="l10061"></a><span class="lineno">10061</span>&#160;    }</div>
<div class="line"><a name="l10062"></a><span class="lineno">10062</span>&#160;  }</div>
<div class="line"><a name="l10063"></a><span class="lineno">10063</span>&#160;</div>
<div class="line"><a name="l10064"></a><span class="lineno">10064</span>&#160;  <span class="keywordtype">int</span> inobject_properties = boilerplate_object-&gt;map()-&gt;inobject_properties();</div>
<div class="line"><a name="l10065"></a><span class="lineno">10065</span>&#160;  HInstruction* value_instruction =</div>
<div class="line"><a name="l10066"></a><span class="lineno">10066</span>&#160;      Add&lt;HConstant&gt;(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;one_pointer_filler_map());</div>
<div class="line"><a name="l10067"></a><span class="lineno">10067</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = copied_fields; i &lt; inobject_properties; i++) {</div>
<div class="line"><a name="l10068"></a><span class="lineno">10068</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(boilerplate_object-&gt;IsJSObject());</div>
<div class="line"><a name="l10069"></a><span class="lineno">10069</span>&#160;    <span class="keywordtype">int</span> property_offset = boilerplate_object-&gt;GetInObjectPropertyOffset(i);</div>
<div class="line"><a name="l10070"></a><span class="lineno">10070</span>&#160;    HObjectAccess access =</div>
<div class="line"><a name="l10071"></a><span class="lineno">10071</span>&#160;        HObjectAccess::ForMapAndOffset(boilerplate_map, property_offset);</div>
<div class="line"><a name="l10072"></a><span class="lineno">10072</span>&#160;    Add&lt;HStoreNamedField&gt;(object, access, value_instruction);</div>
<div class="line"><a name="l10073"></a><span class="lineno">10073</span>&#160;  }</div>
<div class="line"><a name="l10074"></a><span class="lineno">10074</span>&#160;}</div>
<div class="line"><a name="l10075"></a><span class="lineno">10075</span>&#160;</div>
<div class="line"><a name="l10076"></a><span class="lineno">10076</span>&#160;</div>
<div class="line"><a name="l10077"></a><span class="lineno">10077</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildEmitElements(</div>
<div class="line"><a name="l10078"></a><span class="lineno">10078</span>&#160;    Handle&lt;JSObject&gt; boilerplate_object,</div>
<div class="line"><a name="l10079"></a><span class="lineno">10079</span>&#160;    Handle&lt;FixedArrayBase&gt; elements,</div>
<div class="line"><a name="l10080"></a><span class="lineno">10080</span>&#160;    HValue* object_elements,</div>
<div class="line"><a name="l10081"></a><span class="lineno">10081</span>&#160;    AllocationSiteUsageContext* site_context) {</div>
<div class="line"><a name="l10082"></a><span class="lineno">10082</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind = boilerplate_object-&gt;map()-&gt;elements_kind();</div>
<div class="line"><a name="l10083"></a><span class="lineno">10083</span>&#160;  <span class="keywordtype">int</span> elements_length = elements-&gt;length();</div>
<div class="line"><a name="l10084"></a><span class="lineno">10084</span>&#160;  HValue* object_elements_length = Add&lt;HConstant&gt;(elements_length);</div>
<div class="line"><a name="l10085"></a><span class="lineno">10085</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac0fe29aa49349af3cf1fc8b578d9911a">BuildInitializeElementsHeader</a>(object_elements, kind, object_elements_length);</div>
<div class="line"><a name="l10086"></a><span class="lineno">10086</span>&#160;</div>
<div class="line"><a name="l10087"></a><span class="lineno">10087</span>&#160;  <span class="comment">// Copy elements backing store content.</span></div>
<div class="line"><a name="l10088"></a><span class="lineno">10088</span>&#160;  <span class="keywordflow">if</span> (elements-&gt;IsFixedDoubleArray()) {</div>
<div class="line"><a name="l10089"></a><span class="lineno">10089</span>&#160;    BuildEmitFixedDoubleArray(elements, kind, object_elements);</div>
<div class="line"><a name="l10090"></a><span class="lineno">10090</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elements-&gt;IsFixedArray()) {</div>
<div class="line"><a name="l10091"></a><span class="lineno">10091</span>&#160;    BuildEmitFixedArray(elements, kind, object_elements,</div>
<div class="line"><a name="l10092"></a><span class="lineno">10092</span>&#160;                        site_context);</div>
<div class="line"><a name="l10093"></a><span class="lineno">10093</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10094"></a><span class="lineno">10094</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10095"></a><span class="lineno">10095</span>&#160;  }</div>
<div class="line"><a name="l10096"></a><span class="lineno">10096</span>&#160;}</div>
<div class="line"><a name="l10097"></a><span class="lineno">10097</span>&#160;</div>
<div class="line"><a name="l10098"></a><span class="lineno">10098</span>&#160;</div>
<div class="line"><a name="l10099"></a><span class="lineno">10099</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildEmitFixedDoubleArray(</div>
<div class="line"><a name="l10100"></a><span class="lineno">10100</span>&#160;    Handle&lt;FixedArrayBase&gt; elements,</div>
<div class="line"><a name="l10101"></a><span class="lineno">10101</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l10102"></a><span class="lineno">10102</span>&#160;    HValue* object_elements) {</div>
<div class="line"><a name="l10103"></a><span class="lineno">10103</span>&#160;  HInstruction* boilerplate_elements = Add&lt;HConstant&gt;(elements);</div>
<div class="line"><a name="l10104"></a><span class="lineno">10104</span>&#160;  <span class="keywordtype">int</span> elements_length = elements-&gt;length();</div>
<div class="line"><a name="l10105"></a><span class="lineno">10105</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; elements_length; i++) {</div>
<div class="line"><a name="l10106"></a><span class="lineno">10106</span>&#160;    HValue* key_constant = Add&lt;HConstant&gt;(i);</div>
<div class="line"><a name="l10107"></a><span class="lineno">10107</span>&#160;    HInstruction* value_instruction =</div>
<div class="line"><a name="l10108"></a><span class="lineno">10108</span>&#160;        Add&lt;HLoadKeyed&gt;(boilerplate_elements, key_constant,</div>
<div class="line"><a name="l10109"></a><span class="lineno">10109</span>&#160;                        <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), kind,</div>
<div class="line"><a name="l10110"></a><span class="lineno">10110</span>&#160;                        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687">ALLOW_RETURN_HOLE</a>);</div>
<div class="line"><a name="l10111"></a><span class="lineno">10111</span>&#160;    HInstruction* store = Add&lt;HStoreKeyed&gt;(object_elements, key_constant,</div>
<div class="line"><a name="l10112"></a><span class="lineno">10112</span>&#160;                                           value_instruction, kind);</div>
<div class="line"><a name="l10113"></a><span class="lineno">10113</span>&#160;    store-&gt;SetFlag(<a class="code" href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa6eaebd28f9ed680a20428befacb5c563">HValue::kAllowUndefinedAsNaN</a>);</div>
<div class="line"><a name="l10114"></a><span class="lineno">10114</span>&#160;  }</div>
<div class="line"><a name="l10115"></a><span class="lineno">10115</span>&#160;}</div>
<div class="line"><a name="l10116"></a><span class="lineno">10116</span>&#160;</div>
<div class="line"><a name="l10117"></a><span class="lineno">10117</span>&#160;</div>
<div class="line"><a name="l10118"></a><span class="lineno">10118</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::BuildEmitFixedArray(</div>
<div class="line"><a name="l10119"></a><span class="lineno">10119</span>&#160;    Handle&lt;FixedArrayBase&gt; elements,</div>
<div class="line"><a name="l10120"></a><span class="lineno">10120</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> kind,</div>
<div class="line"><a name="l10121"></a><span class="lineno">10121</span>&#160;    HValue* object_elements,</div>
<div class="line"><a name="l10122"></a><span class="lineno">10122</span>&#160;    AllocationSiteUsageContext* site_context) {</div>
<div class="line"><a name="l10123"></a><span class="lineno">10123</span>&#160;  HInstruction* boilerplate_elements = Add&lt;HConstant&gt;(elements);</div>
<div class="line"><a name="l10124"></a><span class="lineno">10124</span>&#160;  <span class="keywordtype">int</span> elements_length = elements-&gt;length();</div>
<div class="line"><a name="l10125"></a><span class="lineno">10125</span>&#160;  Handle&lt;FixedArray&gt; fast_elements = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;FixedArray&gt;::cast</a>(elements);</div>
<div class="line"><a name="l10126"></a><span class="lineno">10126</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; elements_length; i++) {</div>
<div class="line"><a name="l10127"></a><span class="lineno">10127</span>&#160;    Handle&lt;Object&gt; value(fast_elements-&gt;get(i), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>());</div>
<div class="line"><a name="l10128"></a><span class="lineno">10128</span>&#160;    HValue* key_constant = Add&lt;HConstant&gt;(i);</div>
<div class="line"><a name="l10129"></a><span class="lineno">10129</span>&#160;    <span class="keywordflow">if</span> (value-&gt;IsJSObject()) {</div>
<div class="line"><a name="l10130"></a><span class="lineno">10130</span>&#160;      Handle&lt;JSObject&gt; value_object = <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;JSObject&gt;::cast</a>(value);</div>
<div class="line"><a name="l10131"></a><span class="lineno">10131</span>&#160;      Handle&lt;AllocationSite&gt; current_site = site_context-&gt;EnterNewScope();</div>
<div class="line"><a name="l10132"></a><span class="lineno">10132</span>&#160;      HInstruction* result =</div>
<div class="line"><a name="l10133"></a><span class="lineno">10133</span>&#160;          BuildFastLiteral(value_object, site_context);</div>
<div class="line"><a name="l10134"></a><span class="lineno">10134</span>&#160;      site_context-&gt;ExitScope(current_site, value_object);</div>
<div class="line"><a name="l10135"></a><span class="lineno">10135</span>&#160;      Add&lt;HStoreKeyed&gt;(object_elements, key_constant, result, kind);</div>
<div class="line"><a name="l10136"></a><span class="lineno">10136</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10137"></a><span class="lineno">10137</span>&#160;      HInstruction* value_instruction =</div>
<div class="line"><a name="l10138"></a><span class="lineno">10138</span>&#160;          Add&lt;HLoadKeyed&gt;(boilerplate_elements, key_constant,</div>
<div class="line"><a name="l10139"></a><span class="lineno">10139</span>&#160;                          <span class="keyword">static_cast&lt;</span>HValue*<span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), kind,</div>
<div class="line"><a name="l10140"></a><span class="lineno">10140</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687">ALLOW_RETURN_HOLE</a>);</div>
<div class="line"><a name="l10141"></a><span class="lineno">10141</span>&#160;      Add&lt;HStoreKeyed&gt;(object_elements, key_constant, value_instruction, kind);</div>
<div class="line"><a name="l10142"></a><span class="lineno">10142</span>&#160;    }</div>
<div class="line"><a name="l10143"></a><span class="lineno">10143</span>&#160;  }</div>
<div class="line"><a name="l10144"></a><span class="lineno">10144</span>&#160;}</div>
<div class="line"><a name="l10145"></a><span class="lineno">10145</span>&#160;</div>
<div class="line"><a name="l10146"></a><span class="lineno">10146</span>&#160;</div>
<div class="line"><a name="l10147"></a><span class="lineno">10147</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitThisFunction(ThisFunction* expr) {</div>
<div class="line"><a name="l10148"></a><span class="lineno">10148</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!HasStackOverflow());</div>
<div class="line"><a name="l10149"></a><span class="lineno">10149</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>() != NULL);</div>
<div class="line"><a name="l10150"></a><span class="lineno">10150</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">current_block</a>()-&gt;HasPredecessor());</div>
<div class="line"><a name="l10151"></a><span class="lineno">10151</span>&#160;  HInstruction* instr = BuildThisFunction();</div>
<div class="line"><a name="l10152"></a><span class="lineno">10152</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(instr, expr-&gt;id());</div>
<div class="line"><a name="l10153"></a><span class="lineno">10153</span>&#160;}</div>
<div class="line"><a name="l10154"></a><span class="lineno">10154</span>&#160;</div>
<div class="line"><a name="l10155"></a><span class="lineno">10155</span>&#160;</div>
<div class="line"><a name="l10156"></a><span class="lineno"><a class="line" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a441748933d86305d6e102f1c1f541b7b">10156</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a441748933d86305d6e102f1c1f541b7b">HOptimizedGraphBuilder::VisitDeclarations</a>(</div>
<div class="line"><a name="l10157"></a><span class="lineno">10157</span>&#160;    <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;Declaration*&gt;</a>* declarations) {</div>
<div class="line"><a name="l10158"></a><span class="lineno">10158</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(globals_.is_empty());</div>
<div class="line"><a name="l10159"></a><span class="lineno">10159</span>&#160;  AstVisitor::VisitDeclarations(declarations);</div>
<div class="line"><a name="l10160"></a><span class="lineno">10160</span>&#160;  <span class="keywordflow">if</span> (!globals_.is_empty()) {</div>
<div class="line"><a name="l10161"></a><span class="lineno">10161</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;FixedArray&gt;</a> array =</div>
<div class="line"><a name="l10162"></a><span class="lineno">10162</span>&#160;       <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;<a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html#a8db338249d0ae8ae7a73ed2453da5def">NewFixedArray</a>(globals_.length(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf3d0d752de4b5754a85fcdaaf0a2f26c">TENURED</a>);</div>
<div class="line"><a name="l10163"></a><span class="lineno">10163</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; globals_.length(); ++i) array-&gt;set(i, *globals_.at(i));</div>
<div class="line"><a name="l10164"></a><span class="lineno">10164</span>&#160;    <span class="keywordtype">int</span> flags = <a class="code" href="../../d6/dfa/classv8_1_1internal_1_1_bit_field_base.html#a6a00048376027faa270478528b75d0e3">DeclareGlobalsEvalFlag::encode</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;is_eval()) |</div>
<div class="line"><a name="l10165"></a><span class="lineno">10165</span>&#160;        <a class="code" href="../../d6/dfa/classv8_1_1internal_1_1_bit_field_base.html#a6a00048376027faa270478528b75d0e3">DeclareGlobalsNativeFlag::encode</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;is_native()) |</div>
<div class="line"><a name="l10166"></a><span class="lineno">10166</span>&#160;        <a class="code" href="../../d6/dfa/classv8_1_1internal_1_1_bit_field_base.html#a6a00048376027faa270478528b75d0e3">DeclareGlobalsStrictMode::encode</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;strict_mode());</div>
<div class="line"><a name="l10167"></a><span class="lineno">10167</span>&#160;    Add&lt;HDeclareGlobals&gt;(array, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a>);</div>
<div class="line"><a name="l10168"></a><span class="lineno">10168</span>&#160;    globals_.Clear();</div>
<div class="line"><a name="l10169"></a><span class="lineno">10169</span>&#160;  }</div>
<div class="line"><a name="l10170"></a><span class="lineno">10170</span>&#160;}</div>
<div class="line"><a name="l10171"></a><span class="lineno">10171</span>&#160;</div>
<div class="line"><a name="l10172"></a><span class="lineno">10172</span>&#160;</div>
<div class="line"><a name="l10173"></a><span class="lineno">10173</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitVariableDeclaration(</div>
<div class="line"><a name="l10174"></a><span class="lineno">10174</span>&#160;    VariableDeclaration* declaration) {</div>
<div class="line"><a name="l10175"></a><span class="lineno">10175</span>&#160;  VariableProxy* proxy = declaration-&gt;proxy();</div>
<div class="line"><a name="l10176"></a><span class="lineno">10176</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21">VariableMode</a> mode = declaration-&gt;mode();</div>
<div class="line"><a name="l10177"></a><span class="lineno">10177</span>&#160;  <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html">Variable</a>* variable = proxy-&gt;var();</div>
<div class="line"><a name="l10178"></a><span class="lineno">10178</span>&#160;  <span class="keywordtype">bool</span> hole_init = mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21afb72619a5a922e816967c4aa49301754">LET</a> || mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21a3d044162d972156d897cea80f216b9ca">CONST</a> || mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21ab47cad6c25d7dbef4dd8fb65933c7edf">CONST_LEGACY</a>;</div>
<div class="line"><a name="l10179"></a><span class="lineno">10179</span>&#160;  <span class="keywordflow">switch</span> (variable-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#a8deb8244f9242a7e71e13d34c0afcbf8">location</a>()) {</div>
<div class="line"><a name="l10180"></a><span class="lineno">10180</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4079064b49d023e3d885b939e1785242">Variable::UNALLOCATED</a>:</div>
<div class="line"><a name="l10181"></a><span class="lineno">10181</span>&#160;      globals_.Add(variable-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#a45babfc4efc34b334a6eabddb404313c">name</a>(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l10182"></a><span class="lineno">10182</span>&#160;      globals_.Add(variable-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#af8ca8945a52a422e9d98928ecd0fe1b8">binding_needs_init</a>()</div>
<div class="line"><a name="l10183"></a><span class="lineno">10183</span>&#160;                       ? <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;the_hole_value()</div>
<div class="line"><a name="l10184"></a><span class="lineno">10184</span>&#160;                       : <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;undefined_value(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l10185"></a><span class="lineno">10185</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10186"></a><span class="lineno">10186</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a194cde856bd2d79eac8adb9741c55940">Variable::PARAMETER</a>:</div>
<div class="line"><a name="l10187"></a><span class="lineno">10187</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43ad0ef00e708ed18ba004480dceb79ecfb">Variable::LOCAL</a>:</div>
<div class="line"><a name="l10188"></a><span class="lineno">10188</span>&#160;      <span class="keywordflow">if</span> (hole_init) {</div>
<div class="line"><a name="l10189"></a><span class="lineno">10189</span>&#160;        HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantHole();</div>
<div class="line"><a name="l10190"></a><span class="lineno">10190</span>&#160;        <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;Bind(variable, value);</div>
<div class="line"><a name="l10191"></a><span class="lineno">10191</span>&#160;      }</div>
<div class="line"><a name="l10192"></a><span class="lineno">10192</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10193"></a><span class="lineno">10193</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a7f06283f0d1a4d167be6c37a3d24fd11">Variable::CONTEXT</a>:</div>
<div class="line"><a name="l10194"></a><span class="lineno">10194</span>&#160;      <span class="keywordflow">if</span> (hole_init) {</div>
<div class="line"><a name="l10195"></a><span class="lineno">10195</span>&#160;        HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantHole();</div>
<div class="line"><a name="l10196"></a><span class="lineno">10196</span>&#160;        HValue* context = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;context();</div>
<div class="line"><a name="l10197"></a><span class="lineno">10197</span>&#160;        HStoreContextSlot* store = Add&lt;HStoreContextSlot&gt;(</div>
<div class="line"><a name="l10198"></a><span class="lineno">10198</span>&#160;            <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>, variable-&gt;<a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#ad9c88ed5e8125d66291acd55da72d73e">index</a>(), HStoreContextSlot::kNoCheck, value);</div>
<div class="line"><a name="l10199"></a><span class="lineno">10199</span>&#160;        <span class="keywordflow">if</span> (store-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l10200"></a><span class="lineno">10200</span>&#160;          Add&lt;HSimulate&gt;(proxy-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l10201"></a><span class="lineno">10201</span>&#160;        }</div>
<div class="line"><a name="l10202"></a><span class="lineno">10202</span>&#160;      }</div>
<div class="line"><a name="l10203"></a><span class="lineno">10203</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10204"></a><span class="lineno">10204</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4909b1bd07519e440222256440fdcef1">Variable::LOOKUP</a>:</div>
<div class="line"><a name="l10205"></a><span class="lineno">10205</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kUnsupportedLookupSlotInDeclaration);</div>
<div class="line"><a name="l10206"></a><span class="lineno">10206</span>&#160;  }</div>
<div class="line"><a name="l10207"></a><span class="lineno">10207</span>&#160;}</div>
<div class="line"><a name="l10208"></a><span class="lineno">10208</span>&#160;</div>
<div class="line"><a name="l10209"></a><span class="lineno">10209</span>&#160;</div>
<div class="line"><a name="l10210"></a><span class="lineno">10210</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitFunctionDeclaration(</div>
<div class="line"><a name="l10211"></a><span class="lineno">10211</span>&#160;    FunctionDeclaration* declaration) {</div>
<div class="line"><a name="l10212"></a><span class="lineno">10212</span>&#160;  VariableProxy* proxy = declaration-&gt;proxy();</div>
<div class="line"><a name="l10213"></a><span class="lineno">10213</span>&#160;  Variable* variable = proxy-&gt;var();</div>
<div class="line"><a name="l10214"></a><span class="lineno">10214</span>&#160;  <span class="keywordflow">switch</span> (variable-&gt;location()) {</div>
<div class="line"><a name="l10215"></a><span class="lineno">10215</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4079064b49d023e3d885b939e1785242">Variable::UNALLOCATED</a>: {</div>
<div class="line"><a name="l10216"></a><span class="lineno">10216</span>&#160;      globals_.Add(variable-&gt;name(), <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l10217"></a><span class="lineno">10217</span>&#160;      Handle&lt;SharedFunctionInfo&gt; <span class="keyword">function</span> = <a class="code" href="../../d6/dd3/classv8_1_1internal_1_1_compiler.html#a23fb913095d539a5508b3244320f509e">Compiler::BuildFunctionInfo</a>(</div>
<div class="line"><a name="l10218"></a><span class="lineno">10218</span>&#160;          declaration-&gt;fun(), <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">current_info</a>()-&gt;<a class="code" href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a6b2ed8283ad68790ff0bea12f865d599">script</a>());</div>
<div class="line"><a name="l10219"></a><span class="lineno">10219</span>&#160;      <span class="comment">// Check for stack-overflow exception.</span></div>
<div class="line"><a name="l10220"></a><span class="lineno">10220</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">function</span>.is_null()) <span class="keywordflow">return</span> SetStackOverflow();</div>
<div class="line"><a name="l10221"></a><span class="lineno">10221</span>&#160;      globals_.Add(<span class="keyword">function</span>, <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l10222"></a><span class="lineno">10222</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10223"></a><span class="lineno">10223</span>&#160;    }</div>
<div class="line"><a name="l10224"></a><span class="lineno">10224</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a194cde856bd2d79eac8adb9741c55940">Variable::PARAMETER</a>:</div>
<div class="line"><a name="l10225"></a><span class="lineno">10225</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43ad0ef00e708ed18ba004480dceb79ecfb">Variable::LOCAL</a>: {</div>
<div class="line"><a name="l10226"></a><span class="lineno">10226</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(declaration-&gt;fun()));</div>
<div class="line"><a name="l10227"></a><span class="lineno">10227</span>&#160;      HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10228"></a><span class="lineno">10228</span>&#160;      <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a50b15cc06ceda90a2e0c189592bc7242">BindIfLive</a>(variable, value);</div>
<div class="line"><a name="l10229"></a><span class="lineno">10229</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10230"></a><span class="lineno">10230</span>&#160;    }</div>
<div class="line"><a name="l10231"></a><span class="lineno">10231</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a7f06283f0d1a4d167be6c37a3d24fd11">Variable::CONTEXT</a>: {</div>
<div class="line"><a name="l10232"></a><span class="lineno">10232</span>&#160;      <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(declaration-&gt;fun()));</div>
<div class="line"><a name="l10233"></a><span class="lineno">10233</span>&#160;      HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10234"></a><span class="lineno">10234</span>&#160;      HValue* context = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">environment</a>()-&gt;context();</div>
<div class="line"><a name="l10235"></a><span class="lineno">10235</span>&#160;      HStoreContextSlot* store = Add&lt;HStoreContextSlot&gt;(</div>
<div class="line"><a name="l10236"></a><span class="lineno">10236</span>&#160;          <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">context</a>, variable-&gt;index(), HStoreContextSlot::kNoCheck, value);</div>
<div class="line"><a name="l10237"></a><span class="lineno">10237</span>&#160;      <span class="keywordflow">if</span> (store-&gt;HasObservableSideEffects()) {</div>
<div class="line"><a name="l10238"></a><span class="lineno">10238</span>&#160;        Add&lt;HSimulate&gt;(proxy-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">REMOVABLE_SIMULATE</a>);</div>
<div class="line"><a name="l10239"></a><span class="lineno">10239</span>&#160;      }</div>
<div class="line"><a name="l10240"></a><span class="lineno">10240</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10241"></a><span class="lineno">10241</span>&#160;    }</div>
<div class="line"><a name="l10242"></a><span class="lineno">10242</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4909b1bd07519e440222256440fdcef1">Variable::LOOKUP</a>:</div>
<div class="line"><a name="l10243"></a><span class="lineno">10243</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kUnsupportedLookupSlotInDeclaration);</div>
<div class="line"><a name="l10244"></a><span class="lineno">10244</span>&#160;  }</div>
<div class="line"><a name="l10245"></a><span class="lineno">10245</span>&#160;}</div>
<div class="line"><a name="l10246"></a><span class="lineno">10246</span>&#160;</div>
<div class="line"><a name="l10247"></a><span class="lineno">10247</span>&#160;</div>
<div class="line"><a name="l10248"></a><span class="lineno">10248</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitModuleDeclaration(</div>
<div class="line"><a name="l10249"></a><span class="lineno">10249</span>&#160;    ModuleDeclaration* declaration) {</div>
<div class="line"><a name="l10250"></a><span class="lineno">10250</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10251"></a><span class="lineno">10251</span>&#160;}</div>
<div class="line"><a name="l10252"></a><span class="lineno">10252</span>&#160;</div>
<div class="line"><a name="l10253"></a><span class="lineno">10253</span>&#160;</div>
<div class="line"><a name="l10254"></a><span class="lineno">10254</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitImportDeclaration(</div>
<div class="line"><a name="l10255"></a><span class="lineno">10255</span>&#160;    ImportDeclaration* declaration) {</div>
<div class="line"><a name="l10256"></a><span class="lineno">10256</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10257"></a><span class="lineno">10257</span>&#160;}</div>
<div class="line"><a name="l10258"></a><span class="lineno">10258</span>&#160;</div>
<div class="line"><a name="l10259"></a><span class="lineno">10259</span>&#160;</div>
<div class="line"><a name="l10260"></a><span class="lineno">10260</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitExportDeclaration(</div>
<div class="line"><a name="l10261"></a><span class="lineno">10261</span>&#160;    ExportDeclaration* declaration) {</div>
<div class="line"><a name="l10262"></a><span class="lineno">10262</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10263"></a><span class="lineno">10263</span>&#160;}</div>
<div class="line"><a name="l10264"></a><span class="lineno">10264</span>&#160;</div>
<div class="line"><a name="l10265"></a><span class="lineno">10265</span>&#160;</div>
<div class="line"><a name="l10266"></a><span class="lineno">10266</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitModuleLiteral(ModuleLiteral* module) {</div>
<div class="line"><a name="l10267"></a><span class="lineno">10267</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10268"></a><span class="lineno">10268</span>&#160;}</div>
<div class="line"><a name="l10269"></a><span class="lineno">10269</span>&#160;</div>
<div class="line"><a name="l10270"></a><span class="lineno">10270</span>&#160;</div>
<div class="line"><a name="l10271"></a><span class="lineno">10271</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitModuleVariable(ModuleVariable* module) {</div>
<div class="line"><a name="l10272"></a><span class="lineno">10272</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10273"></a><span class="lineno">10273</span>&#160;}</div>
<div class="line"><a name="l10274"></a><span class="lineno">10274</span>&#160;</div>
<div class="line"><a name="l10275"></a><span class="lineno">10275</span>&#160;</div>
<div class="line"><a name="l10276"></a><span class="lineno">10276</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitModulePath(ModulePath* module) {</div>
<div class="line"><a name="l10277"></a><span class="lineno">10277</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10278"></a><span class="lineno">10278</span>&#160;}</div>
<div class="line"><a name="l10279"></a><span class="lineno">10279</span>&#160;</div>
<div class="line"><a name="l10280"></a><span class="lineno">10280</span>&#160;</div>
<div class="line"><a name="l10281"></a><span class="lineno">10281</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitModuleUrl(ModuleUrl* module) {</div>
<div class="line"><a name="l10282"></a><span class="lineno">10282</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10283"></a><span class="lineno">10283</span>&#160;}</div>
<div class="line"><a name="l10284"></a><span class="lineno">10284</span>&#160;</div>
<div class="line"><a name="l10285"></a><span class="lineno">10285</span>&#160;</div>
<div class="line"><a name="l10286"></a><span class="lineno">10286</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::VisitModuleStatement(ModuleStatement* stmt) {</div>
<div class="line"><a name="l10287"></a><span class="lineno">10287</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l10288"></a><span class="lineno">10288</span>&#160;}</div>
<div class="line"><a name="l10289"></a><span class="lineno">10289</span>&#160;</div>
<div class="line"><a name="l10290"></a><span class="lineno">10290</span>&#160;</div>
<div class="line"><a name="l10291"></a><span class="lineno">10291</span>&#160;<span class="comment">// Generators for inline runtime functions.</span></div>
<div class="line"><a name="l10292"></a><span class="lineno">10292</span>&#160;<span class="comment">// Support for types.</span></div>
<div class="line"><a name="l10293"></a><span class="lineno">10293</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsSmi(CallRuntime* call) {</div>
<div class="line"><a name="l10294"></a><span class="lineno">10294</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10295"></a><span class="lineno">10295</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10296"></a><span class="lineno">10296</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10297"></a><span class="lineno">10297</span>&#160;  HIsSmiAndBranch* result = New&lt;HIsSmiAndBranch&gt;(value);</div>
<div class="line"><a name="l10298"></a><span class="lineno">10298</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10299"></a><span class="lineno">10299</span>&#160;}</div>
<div class="line"><a name="l10300"></a><span class="lineno">10300</span>&#160;</div>
<div class="line"><a name="l10301"></a><span class="lineno">10301</span>&#160;</div>
<div class="line"><a name="l10302"></a><span class="lineno">10302</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsSpecObject(CallRuntime* call) {</div>
<div class="line"><a name="l10303"></a><span class="lineno">10303</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10304"></a><span class="lineno">10304</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10305"></a><span class="lineno">10305</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10306"></a><span class="lineno">10306</span>&#160;  HHasInstanceTypeAndBranch* result =</div>
<div class="line"><a name="l10307"></a><span class="lineno">10307</span>&#160;      New&lt;HHasInstanceTypeAndBranch&gt;(value,</div>
<div class="line"><a name="l10308"></a><span class="lineno">10308</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a8b2de00af2e470c341f750b71b66aebf">FIRST_SPEC_OBJECT_TYPE</a>,</div>
<div class="line"><a name="l10309"></a><span class="lineno">10309</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27afdc7ef05f0aeeb356b0d7c0a3d8ab05b">LAST_SPEC_OBJECT_TYPE</a>);</div>
<div class="line"><a name="l10310"></a><span class="lineno">10310</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10311"></a><span class="lineno">10311</span>&#160;}</div>
<div class="line"><a name="l10312"></a><span class="lineno">10312</span>&#160;</div>
<div class="line"><a name="l10313"></a><span class="lineno">10313</span>&#160;</div>
<div class="line"><a name="l10314"></a><span class="lineno">10314</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsFunction(CallRuntime* call) {</div>
<div class="line"><a name="l10315"></a><span class="lineno">10315</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10316"></a><span class="lineno">10316</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10317"></a><span class="lineno">10317</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10318"></a><span class="lineno">10318</span>&#160;  HHasInstanceTypeAndBranch* result =</div>
<div class="line"><a name="l10319"></a><span class="lineno">10319</span>&#160;      New&lt;HHasInstanceTypeAndBranch&gt;(value, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a02670a3c9633129c524842afc57c106d">JS_FUNCTION_TYPE</a>);</div>
<div class="line"><a name="l10320"></a><span class="lineno">10320</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10321"></a><span class="lineno">10321</span>&#160;}</div>
<div class="line"><a name="l10322"></a><span class="lineno">10322</span>&#160;</div>
<div class="line"><a name="l10323"></a><span class="lineno">10323</span>&#160;</div>
<div class="line"><a name="l10324"></a><span class="lineno">10324</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsMinusZero(CallRuntime* call) {</div>
<div class="line"><a name="l10325"></a><span class="lineno">10325</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10326"></a><span class="lineno">10326</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10327"></a><span class="lineno">10327</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10328"></a><span class="lineno">10328</span>&#160;  HCompareMinusZeroAndBranch* result = New&lt;HCompareMinusZeroAndBranch&gt;(value);</div>
<div class="line"><a name="l10329"></a><span class="lineno">10329</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10330"></a><span class="lineno">10330</span>&#160;}</div>
<div class="line"><a name="l10331"></a><span class="lineno">10331</span>&#160;</div>
<div class="line"><a name="l10332"></a><span class="lineno">10332</span>&#160;</div>
<div class="line"><a name="l10333"></a><span class="lineno">10333</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateHasCachedArrayIndex(CallRuntime* call) {</div>
<div class="line"><a name="l10334"></a><span class="lineno">10334</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10335"></a><span class="lineno">10335</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10336"></a><span class="lineno">10336</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10337"></a><span class="lineno">10337</span>&#160;  HHasCachedArrayIndexAndBranch* result =</div>
<div class="line"><a name="l10338"></a><span class="lineno">10338</span>&#160;      New&lt;HHasCachedArrayIndexAndBranch&gt;(value);</div>
<div class="line"><a name="l10339"></a><span class="lineno">10339</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10340"></a><span class="lineno">10340</span>&#160;}</div>
<div class="line"><a name="l10341"></a><span class="lineno">10341</span>&#160;</div>
<div class="line"><a name="l10342"></a><span class="lineno">10342</span>&#160;</div>
<div class="line"><a name="l10343"></a><span class="lineno">10343</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsArray(CallRuntime* call) {</div>
<div class="line"><a name="l10344"></a><span class="lineno">10344</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10345"></a><span class="lineno">10345</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10346"></a><span class="lineno">10346</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10347"></a><span class="lineno">10347</span>&#160;  HHasInstanceTypeAndBranch* result =</div>
<div class="line"><a name="l10348"></a><span class="lineno">10348</span>&#160;      New&lt;HHasInstanceTypeAndBranch&gt;(value, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">JS_ARRAY_TYPE</a>);</div>
<div class="line"><a name="l10349"></a><span class="lineno">10349</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10350"></a><span class="lineno">10350</span>&#160;}</div>
<div class="line"><a name="l10351"></a><span class="lineno">10351</span>&#160;</div>
<div class="line"><a name="l10352"></a><span class="lineno">10352</span>&#160;</div>
<div class="line"><a name="l10353"></a><span class="lineno">10353</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsRegExp(CallRuntime* call) {</div>
<div class="line"><a name="l10354"></a><span class="lineno">10354</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10355"></a><span class="lineno">10355</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10356"></a><span class="lineno">10356</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10357"></a><span class="lineno">10357</span>&#160;  HHasInstanceTypeAndBranch* result =</div>
<div class="line"><a name="l10358"></a><span class="lineno">10358</span>&#160;      New&lt;HHasInstanceTypeAndBranch&gt;(value, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a6016fba6624cb4b99ccde603b543e785">JS_REGEXP_TYPE</a>);</div>
<div class="line"><a name="l10359"></a><span class="lineno">10359</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10360"></a><span class="lineno">10360</span>&#160;}</div>
<div class="line"><a name="l10361"></a><span class="lineno">10361</span>&#160;</div>
<div class="line"><a name="l10362"></a><span class="lineno">10362</span>&#160;</div>
<div class="line"><a name="l10363"></a><span class="lineno">10363</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsObject(CallRuntime* call) {</div>
<div class="line"><a name="l10364"></a><span class="lineno">10364</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10365"></a><span class="lineno">10365</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10366"></a><span class="lineno">10366</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10367"></a><span class="lineno">10367</span>&#160;  HIsObjectAndBranch* result = New&lt;HIsObjectAndBranch&gt;(value);</div>
<div class="line"><a name="l10368"></a><span class="lineno">10368</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10369"></a><span class="lineno">10369</span>&#160;}</div>
<div class="line"><a name="l10370"></a><span class="lineno">10370</span>&#160;</div>
<div class="line"><a name="l10371"></a><span class="lineno">10371</span>&#160;</div>
<div class="line"><a name="l10372"></a><span class="lineno">10372</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsNonNegativeSmi(CallRuntime* call) {</div>
<div class="line"><a name="l10373"></a><span class="lineno">10373</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInlinedRuntimeFunctionIsNonNegativeSmi);</div>
<div class="line"><a name="l10374"></a><span class="lineno">10374</span>&#160;}</div>
<div class="line"><a name="l10375"></a><span class="lineno">10375</span>&#160;</div>
<div class="line"><a name="l10376"></a><span class="lineno">10376</span>&#160;</div>
<div class="line"><a name="l10377"></a><span class="lineno">10377</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsUndetectableObject(CallRuntime* call) {</div>
<div class="line"><a name="l10378"></a><span class="lineno">10378</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10379"></a><span class="lineno">10379</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10380"></a><span class="lineno">10380</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10381"></a><span class="lineno">10381</span>&#160;  HIsUndetectableAndBranch* result = New&lt;HIsUndetectableAndBranch&gt;(value);</div>
<div class="line"><a name="l10382"></a><span class="lineno">10382</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10383"></a><span class="lineno">10383</span>&#160;}</div>
<div class="line"><a name="l10384"></a><span class="lineno">10384</span>&#160;</div>
<div class="line"><a name="l10385"></a><span class="lineno">10385</span>&#160;</div>
<div class="line"><a name="l10386"></a><span class="lineno">10386</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsStringWrapperSafeForDefaultValueOf(</div>
<div class="line"><a name="l10387"></a><span class="lineno">10387</span>&#160;    CallRuntime* call) {</div>
<div class="line"><a name="l10388"></a><span class="lineno">10388</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInlinedRuntimeFunctionIsStringWrapperSafeForDefaultValueOf);</div>
<div class="line"><a name="l10389"></a><span class="lineno">10389</span>&#160;}</div>
<div class="line"><a name="l10390"></a><span class="lineno">10390</span>&#160;</div>
<div class="line"><a name="l10391"></a><span class="lineno">10391</span>&#160;</div>
<div class="line"><a name="l10392"></a><span class="lineno">10392</span>&#160;<span class="comment">// Support for construct call checks.</span></div>
<div class="line"><a name="l10393"></a><span class="lineno">10393</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateIsConstructCall(CallRuntime* call) {</div>
<div class="line"><a name="l10394"></a><span class="lineno">10394</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 0);</div>
<div class="line"><a name="l10395"></a><span class="lineno">10395</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;outer() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l10396"></a><span class="lineno">10396</span>&#160;    <span class="comment">// We are generating graph for inlined function.</span></div>
<div class="line"><a name="l10397"></a><span class="lineno">10397</span>&#160;    HValue* value = <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;inlining_kind() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a344f0e0cab9e6c247c91d55f674091cf">CONSTRUCT_CALL_RETURN</a></div>
<div class="line"><a name="l10398"></a><span class="lineno">10398</span>&#160;        ? <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantTrue()</div>
<div class="line"><a name="l10399"></a><span class="lineno">10399</span>&#160;        : <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantFalse();</div>
<div class="line"><a name="l10400"></a><span class="lineno">10400</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(value);</div>
<div class="line"><a name="l10401"></a><span class="lineno">10401</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10402"></a><span class="lineno">10402</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(New&lt;HIsConstructCallAndBranch&gt;(),</div>
<div class="line"><a name="l10403"></a><span class="lineno">10403</span>&#160;                                        call-&gt;id());</div>
<div class="line"><a name="l10404"></a><span class="lineno">10404</span>&#160;  }</div>
<div class="line"><a name="l10405"></a><span class="lineno">10405</span>&#160;}</div>
<div class="line"><a name="l10406"></a><span class="lineno">10406</span>&#160;</div>
<div class="line"><a name="l10407"></a><span class="lineno">10407</span>&#160;</div>
<div class="line"><a name="l10408"></a><span class="lineno">10408</span>&#160;<span class="comment">// Support for arguments.length and arguments[?].</span></div>
<div class="line"><a name="l10409"></a><span class="lineno">10409</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateArgumentsLength(CallRuntime* call) {</div>
<div class="line"><a name="l10410"></a><span class="lineno">10410</span>&#160;  <span class="comment">// Our implementation of arguments (based on this stack frame or an</span></div>
<div class="line"><a name="l10411"></a><span class="lineno">10411</span>&#160;  <span class="comment">// adapter below it) does not work for inlined functions.  This runtime</span></div>
<div class="line"><a name="l10412"></a><span class="lineno">10412</span>&#160;  <span class="comment">// function is blacklisted by AstNode::IsInlineable.</span></div>
<div class="line"><a name="l10413"></a><span class="lineno">10413</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;outer() == NULL);</div>
<div class="line"><a name="l10414"></a><span class="lineno">10414</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 0);</div>
<div class="line"><a name="l10415"></a><span class="lineno">10415</span>&#160;  HInstruction* elements = Add&lt;HArgumentsElements&gt;(<span class="keyword">false</span>);</div>
<div class="line"><a name="l10416"></a><span class="lineno">10416</span>&#160;  HArgumentsLength* result = New&lt;HArgumentsLength&gt;(elements);</div>
<div class="line"><a name="l10417"></a><span class="lineno">10417</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10418"></a><span class="lineno">10418</span>&#160;}</div>
<div class="line"><a name="l10419"></a><span class="lineno">10419</span>&#160;</div>
<div class="line"><a name="l10420"></a><span class="lineno">10420</span>&#160;</div>
<div class="line"><a name="l10421"></a><span class="lineno">10421</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateArguments(CallRuntime* call) {</div>
<div class="line"><a name="l10422"></a><span class="lineno">10422</span>&#160;  <span class="comment">// Our implementation of arguments (based on this stack frame or an</span></div>
<div class="line"><a name="l10423"></a><span class="lineno">10423</span>&#160;  <span class="comment">// adapter below it) does not work for inlined functions.  This runtime</span></div>
<div class="line"><a name="l10424"></a><span class="lineno">10424</span>&#160;  <span class="comment">// function is blacklisted by AstNode::IsInlineable.</span></div>
<div class="line"><a name="l10425"></a><span class="lineno">10425</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">function_state</a>()-&gt;outer() == NULL);</div>
<div class="line"><a name="l10426"></a><span class="lineno">10426</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10427"></a><span class="lineno">10427</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10428"></a><span class="lineno">10428</span>&#160;  HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10429"></a><span class="lineno">10429</span>&#160;  HInstruction* elements = Add&lt;HArgumentsElements&gt;(<span class="keyword">false</span>);</div>
<div class="line"><a name="l10430"></a><span class="lineno">10430</span>&#160;  HInstruction* length = Add&lt;HArgumentsLength&gt;(elements);</div>
<div class="line"><a name="l10431"></a><span class="lineno">10431</span>&#160;  HInstruction* checked_index = Add&lt;HBoundsCheck&gt;(index, length);</div>
<div class="line"><a name="l10432"></a><span class="lineno">10432</span>&#160;  HAccessArgumentsAt* result = New&lt;HAccessArgumentsAt&gt;(</div>
<div class="line"><a name="l10433"></a><span class="lineno">10433</span>&#160;      elements, length, checked_index);</div>
<div class="line"><a name="l10434"></a><span class="lineno">10434</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10435"></a><span class="lineno">10435</span>&#160;}</div>
<div class="line"><a name="l10436"></a><span class="lineno">10436</span>&#160;</div>
<div class="line"><a name="l10437"></a><span class="lineno">10437</span>&#160;</div>
<div class="line"><a name="l10438"></a><span class="lineno">10438</span>&#160;<span class="comment">// Support for accessing the class and value fields of an object.</span></div>
<div class="line"><a name="l10439"></a><span class="lineno">10439</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateClassOf(CallRuntime* call) {</div>
<div class="line"><a name="l10440"></a><span class="lineno">10440</span>&#160;  <span class="comment">// The special form detected by IsClassOfTest is detected before we get here</span></div>
<div class="line"><a name="l10441"></a><span class="lineno">10441</span>&#160;  <span class="comment">// and does not cause a bailout.</span></div>
<div class="line"><a name="l10442"></a><span class="lineno">10442</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInlinedRuntimeFunctionClassOf);</div>
<div class="line"><a name="l10443"></a><span class="lineno">10443</span>&#160;}</div>
<div class="line"><a name="l10444"></a><span class="lineno">10444</span>&#160;</div>
<div class="line"><a name="l10445"></a><span class="lineno">10445</span>&#160;</div>
<div class="line"><a name="l10446"></a><span class="lineno">10446</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateValueOf(CallRuntime* call) {</div>
<div class="line"><a name="l10447"></a><span class="lineno">10447</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10448"></a><span class="lineno">10448</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10449"></a><span class="lineno">10449</span>&#160;  HValue* <span class="keywordtype">object</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10450"></a><span class="lineno">10450</span>&#160;</div>
<div class="line"><a name="l10451"></a><span class="lineno">10451</span>&#160;  IfBuilder if_objectisvalue(<span class="keyword">this</span>);</div>
<div class="line"><a name="l10452"></a><span class="lineno">10452</span>&#160;  HValue* objectisvalue = if_objectisvalue.If&lt;HHasInstanceTypeAndBranch&gt;(</div>
<div class="line"><a name="l10453"></a><span class="lineno">10453</span>&#160;      object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a282229328c8b4dbe78933fb46ba53c49">JS_VALUE_TYPE</a>);</div>
<div class="line"><a name="l10454"></a><span class="lineno">10454</span>&#160;  if_objectisvalue.Then();</div>
<div class="line"><a name="l10455"></a><span class="lineno">10455</span>&#160;  {</div>
<div class="line"><a name="l10456"></a><span class="lineno">10456</span>&#160;    <span class="comment">// Return the actual value.</span></div>
<div class="line"><a name="l10457"></a><span class="lineno">10457</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(Add&lt;HLoadNamedField&gt;(</div>
<div class="line"><a name="l10458"></a><span class="lineno">10458</span>&#160;            <span class="keywordtype">object</span>, objectisvalue,</div>
<div class="line"><a name="l10459"></a><span class="lineno">10459</span>&#160;            HObjectAccess::ForObservableJSObjectOffset(</div>
<div class="line"><a name="l10460"></a><span class="lineno">10460</span>&#160;                <a class="code" href="../../d2/dfc/classv8_1_1internal_1_1_j_s_value.html#aad76963bee3b5b4d3412c5bd4afad879">JSValue::kValueOffset</a>)));</div>
<div class="line"><a name="l10461"></a><span class="lineno">10461</span>&#160;    Add&lt;HSimulate&gt;(call-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">FIXED_SIMULATE</a>);</div>
<div class="line"><a name="l10462"></a><span class="lineno">10462</span>&#160;  }</div>
<div class="line"><a name="l10463"></a><span class="lineno">10463</span>&#160;  if_objectisvalue.Else();</div>
<div class="line"><a name="l10464"></a><span class="lineno">10464</span>&#160;  {</div>
<div class="line"><a name="l10465"></a><span class="lineno">10465</span>&#160;    <span class="comment">// If the object is not a value return the object.</span></div>
<div class="line"><a name="l10466"></a><span class="lineno">10466</span>&#160;    <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l10467"></a><span class="lineno">10467</span>&#160;    Add&lt;HSimulate&gt;(call-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">FIXED_SIMULATE</a>);</div>
<div class="line"><a name="l10468"></a><span class="lineno">10468</span>&#160;  }</div>
<div class="line"><a name="l10469"></a><span class="lineno">10469</span>&#160;  if_objectisvalue.End();</div>
<div class="line"><a name="l10470"></a><span class="lineno">10470</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l10471"></a><span class="lineno">10471</span>&#160;}</div>
<div class="line"><a name="l10472"></a><span class="lineno">10472</span>&#160;</div>
<div class="line"><a name="l10473"></a><span class="lineno">10473</span>&#160;</div>
<div class="line"><a name="l10474"></a><span class="lineno">10474</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateDateField(CallRuntime* call) {</div>
<div class="line"><a name="l10475"></a><span class="lineno">10475</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 2);</div>
<div class="line"><a name="l10476"></a><span class="lineno">10476</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9330a1ef452afab25630fff167dd413b">ASSERT_NE</a>(NULL, call-&gt;arguments()-&gt;at(1)-&gt;AsLiteral());</div>
<div class="line"><a name="l10477"></a><span class="lineno">10477</span>&#160;  Smi* index = <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#abd7228db8201e7f65153a896fe8de9bd">Smi::cast</a>(*(call-&gt;arguments()-&gt;at(1)-&gt;AsLiteral()-&gt;value()));</div>
<div class="line"><a name="l10478"></a><span class="lineno">10478</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10479"></a><span class="lineno">10479</span>&#160;  HValue* date = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10480"></a><span class="lineno">10480</span>&#160;  HDateField* result = New&lt;HDateField&gt;(date, index);</div>
<div class="line"><a name="l10481"></a><span class="lineno">10481</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10482"></a><span class="lineno">10482</span>&#160;}</div>
<div class="line"><a name="l10483"></a><span class="lineno">10483</span>&#160;</div>
<div class="line"><a name="l10484"></a><span class="lineno">10484</span>&#160;</div>
<div class="line"><a name="l10485"></a><span class="lineno">10485</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateOneByteSeqStringSetChar(</div>
<div class="line"><a name="l10486"></a><span class="lineno">10486</span>&#160;    CallRuntime* call) {</div>
<div class="line"><a name="l10487"></a><span class="lineno">10487</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 3);</div>
<div class="line"><a name="l10488"></a><span class="lineno">10488</span>&#160;  <span class="comment">// We need to follow the evaluation order of full codegen.</span></div>
<div class="line"><a name="l10489"></a><span class="lineno">10489</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10490"></a><span class="lineno">10490</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(2)));</div>
<div class="line"><a name="l10491"></a><span class="lineno">10491</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10492"></a><span class="lineno">10492</span>&#160;  HValue* <span class="keywordtype">string</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10493"></a><span class="lineno">10493</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10494"></a><span class="lineno">10494</span>&#160;  HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10495"></a><span class="lineno">10495</span>&#160;  Add&lt;HSeqStringSetChar&gt;(<a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#afb0564821f132bfe74508af8349a0faaa4e1879316018c0354ef97054445e17cd">String::ONE_BYTE_ENCODING</a>, string,</div>
<div class="line"><a name="l10496"></a><span class="lineno">10496</span>&#160;                         index, value);</div>
<div class="line"><a name="l10497"></a><span class="lineno">10497</span>&#160;  Add&lt;HSimulate&gt;(call-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">FIXED_SIMULATE</a>);</div>
<div class="line"><a name="l10498"></a><span class="lineno">10498</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l10499"></a><span class="lineno">10499</span>&#160;}</div>
<div class="line"><a name="l10500"></a><span class="lineno">10500</span>&#160;</div>
<div class="line"><a name="l10501"></a><span class="lineno">10501</span>&#160;</div>
<div class="line"><a name="l10502"></a><span class="lineno">10502</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateTwoByteSeqStringSetChar(</div>
<div class="line"><a name="l10503"></a><span class="lineno">10503</span>&#160;    CallRuntime* call) {</div>
<div class="line"><a name="l10504"></a><span class="lineno">10504</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 3);</div>
<div class="line"><a name="l10505"></a><span class="lineno">10505</span>&#160;  <span class="comment">// We need to follow the evaluation order of full codegen.</span></div>
<div class="line"><a name="l10506"></a><span class="lineno">10506</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10507"></a><span class="lineno">10507</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(2)));</div>
<div class="line"><a name="l10508"></a><span class="lineno">10508</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10509"></a><span class="lineno">10509</span>&#160;  HValue* <span class="keywordtype">string</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10510"></a><span class="lineno">10510</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10511"></a><span class="lineno">10511</span>&#160;  HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10512"></a><span class="lineno">10512</span>&#160;  Add&lt;HSeqStringSetChar&gt;(<a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#afb0564821f132bfe74508af8349a0faaa82da1e51c8efee025aa3460681da25f9">String::TWO_BYTE_ENCODING</a>, string,</div>
<div class="line"><a name="l10513"></a><span class="lineno">10513</span>&#160;                         index, value);</div>
<div class="line"><a name="l10514"></a><span class="lineno">10514</span>&#160;  Add&lt;HSimulate&gt;(call-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">FIXED_SIMULATE</a>);</div>
<div class="line"><a name="l10515"></a><span class="lineno">10515</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l10516"></a><span class="lineno">10516</span>&#160;}</div>
<div class="line"><a name="l10517"></a><span class="lineno">10517</span>&#160;</div>
<div class="line"><a name="l10518"></a><span class="lineno">10518</span>&#160;</div>
<div class="line"><a name="l10519"></a><span class="lineno">10519</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateSetValueOf(CallRuntime* call) {</div>
<div class="line"><a name="l10520"></a><span class="lineno">10520</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 2);</div>
<div class="line"><a name="l10521"></a><span class="lineno">10521</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10522"></a><span class="lineno">10522</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10523"></a><span class="lineno">10523</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10524"></a><span class="lineno">10524</span>&#160;  HValue* <span class="keywordtype">object</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10525"></a><span class="lineno">10525</span>&#160;</div>
<div class="line"><a name="l10526"></a><span class="lineno">10526</span>&#160;  <span class="comment">// Check if object is a JSValue.</span></div>
<div class="line"><a name="l10527"></a><span class="lineno">10527</span>&#160;  IfBuilder if_objectisvalue(<span class="keyword">this</span>);</div>
<div class="line"><a name="l10528"></a><span class="lineno">10528</span>&#160;  if_objectisvalue.If&lt;HHasInstanceTypeAndBranch&gt;(object, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a282229328c8b4dbe78933fb46ba53c49">JS_VALUE_TYPE</a>);</div>
<div class="line"><a name="l10529"></a><span class="lineno">10529</span>&#160;  if_objectisvalue.Then();</div>
<div class="line"><a name="l10530"></a><span class="lineno">10530</span>&#160;  {</div>
<div class="line"><a name="l10531"></a><span class="lineno">10531</span>&#160;    <span class="comment">// Create in-object property store to kValueOffset.</span></div>
<div class="line"><a name="l10532"></a><span class="lineno">10532</span>&#160;    Add&lt;HStoreNamedField&gt;(object,</div>
<div class="line"><a name="l10533"></a><span class="lineno">10533</span>&#160;        HObjectAccess::ForObservableJSObjectOffset(<a class="code" href="../../d2/dfc/classv8_1_1internal_1_1_j_s_value.html#aad76963bee3b5b4d3412c5bd4afad879">JSValue::kValueOffset</a>),</div>
<div class="line"><a name="l10534"></a><span class="lineno">10534</span>&#160;        value);</div>
<div class="line"><a name="l10535"></a><span class="lineno">10535</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) {</div>
<div class="line"><a name="l10536"></a><span class="lineno">10536</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(value);</div>
<div class="line"><a name="l10537"></a><span class="lineno">10537</span>&#160;    }</div>
<div class="line"><a name="l10538"></a><span class="lineno">10538</span>&#160;    Add&lt;HSimulate&gt;(call-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">FIXED_SIMULATE</a>);</div>
<div class="line"><a name="l10539"></a><span class="lineno">10539</span>&#160;  }</div>
<div class="line"><a name="l10540"></a><span class="lineno">10540</span>&#160;  if_objectisvalue.Else();</div>
<div class="line"><a name="l10541"></a><span class="lineno">10541</span>&#160;  {</div>
<div class="line"><a name="l10542"></a><span class="lineno">10542</span>&#160;    <span class="comment">// Nothing to do in this case.</span></div>
<div class="line"><a name="l10543"></a><span class="lineno">10543</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) {</div>
<div class="line"><a name="l10544"></a><span class="lineno">10544</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(value);</div>
<div class="line"><a name="l10545"></a><span class="lineno">10545</span>&#160;    }</div>
<div class="line"><a name="l10546"></a><span class="lineno">10546</span>&#160;    Add&lt;HSimulate&gt;(call-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">FIXED_SIMULATE</a>);</div>
<div class="line"><a name="l10547"></a><span class="lineno">10547</span>&#160;  }</div>
<div class="line"><a name="l10548"></a><span class="lineno">10548</span>&#160;  if_objectisvalue.End();</div>
<div class="line"><a name="l10549"></a><span class="lineno">10549</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) {</div>
<div class="line"><a name="l10550"></a><span class="lineno">10550</span>&#160;    <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">Drop</a>(1);</div>
<div class="line"><a name="l10551"></a><span class="lineno">10551</span>&#160;  }</div>
<div class="line"><a name="l10552"></a><span class="lineno">10552</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(value);</div>
<div class="line"><a name="l10553"></a><span class="lineno">10553</span>&#160;}</div>
<div class="line"><a name="l10554"></a><span class="lineno">10554</span>&#160;</div>
<div class="line"><a name="l10555"></a><span class="lineno">10555</span>&#160;</div>
<div class="line"><a name="l10556"></a><span class="lineno">10556</span>&#160;<span class="comment">// Fast support for charCodeAt(n).</span></div>
<div class="line"><a name="l10557"></a><span class="lineno">10557</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateStringCharCodeAt(CallRuntime* call) {</div>
<div class="line"><a name="l10558"></a><span class="lineno">10558</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 2);</div>
<div class="line"><a name="l10559"></a><span class="lineno">10559</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10560"></a><span class="lineno">10560</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10561"></a><span class="lineno">10561</span>&#160;  HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10562"></a><span class="lineno">10562</span>&#160;  HValue* <span class="keywordtype">string</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10563"></a><span class="lineno">10563</span>&#160;  HInstruction* result = BuildStringCharCodeAt(<span class="keywordtype">string</span>, index);</div>
<div class="line"><a name="l10564"></a><span class="lineno">10564</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10565"></a><span class="lineno">10565</span>&#160;}</div>
<div class="line"><a name="l10566"></a><span class="lineno">10566</span>&#160;</div>
<div class="line"><a name="l10567"></a><span class="lineno">10567</span>&#160;</div>
<div class="line"><a name="l10568"></a><span class="lineno">10568</span>&#160;<span class="comment">// Fast support for string.charAt(n) and string[n].</span></div>
<div class="line"><a name="l10569"></a><span class="lineno">10569</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateStringCharFromCode(CallRuntime* call) {</div>
<div class="line"><a name="l10570"></a><span class="lineno">10570</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10571"></a><span class="lineno">10571</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10572"></a><span class="lineno">10572</span>&#160;  HValue* char_code = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10573"></a><span class="lineno">10573</span>&#160;  HInstruction* result = NewUncasted&lt;HStringCharFromCode&gt;(char_code);</div>
<div class="line"><a name="l10574"></a><span class="lineno">10574</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10575"></a><span class="lineno">10575</span>&#160;}</div>
<div class="line"><a name="l10576"></a><span class="lineno">10576</span>&#160;</div>
<div class="line"><a name="l10577"></a><span class="lineno">10577</span>&#160;</div>
<div class="line"><a name="l10578"></a><span class="lineno">10578</span>&#160;<span class="comment">// Fast support for string.charAt(n) and string[n].</span></div>
<div class="line"><a name="l10579"></a><span class="lineno">10579</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateStringCharAt(CallRuntime* call) {</div>
<div class="line"><a name="l10580"></a><span class="lineno">10580</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 2);</div>
<div class="line"><a name="l10581"></a><span class="lineno">10581</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10582"></a><span class="lineno">10582</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10583"></a><span class="lineno">10583</span>&#160;  HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10584"></a><span class="lineno">10584</span>&#160;  HValue* <span class="keywordtype">string</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10585"></a><span class="lineno">10585</span>&#160;  HInstruction* char_code = BuildStringCharCodeAt(<span class="keywordtype">string</span>, index);</div>
<div class="line"><a name="l10586"></a><span class="lineno">10586</span>&#160;  <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">AddInstruction</a>(char_code);</div>
<div class="line"><a name="l10587"></a><span class="lineno">10587</span>&#160;  HInstruction* result = NewUncasted&lt;HStringCharFromCode&gt;(char_code);</div>
<div class="line"><a name="l10588"></a><span class="lineno">10588</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10589"></a><span class="lineno">10589</span>&#160;}</div>
<div class="line"><a name="l10590"></a><span class="lineno">10590</span>&#160;</div>
<div class="line"><a name="l10591"></a><span class="lineno">10591</span>&#160;</div>
<div class="line"><a name="l10592"></a><span class="lineno">10592</span>&#160;<span class="comment">// Fast support for object equality testing.</span></div>
<div class="line"><a name="l10593"></a><span class="lineno">10593</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateObjectEquals(CallRuntime* call) {</div>
<div class="line"><a name="l10594"></a><span class="lineno">10594</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 2);</div>
<div class="line"><a name="l10595"></a><span class="lineno">10595</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10596"></a><span class="lineno">10596</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10597"></a><span class="lineno">10597</span>&#160;  HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10598"></a><span class="lineno">10598</span>&#160;  HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10599"></a><span class="lineno">10599</span>&#160;  HCompareObjectEqAndBranch* result =</div>
<div class="line"><a name="l10600"></a><span class="lineno">10600</span>&#160;      New&lt;HCompareObjectEqAndBranch&gt;(left, right);</div>
<div class="line"><a name="l10601"></a><span class="lineno">10601</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">ReturnControl</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10602"></a><span class="lineno">10602</span>&#160;}</div>
<div class="line"><a name="l10603"></a><span class="lineno">10603</span>&#160;</div>
<div class="line"><a name="l10604"></a><span class="lineno">10604</span>&#160;</div>
<div class="line"><a name="l10605"></a><span class="lineno">10605</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateLog(CallRuntime* call) {</div>
<div class="line"><a name="l10606"></a><span class="lineno">10606</span>&#160;  <span class="comment">// %_Log is ignored in optimized code.</span></div>
<div class="line"><a name="l10607"></a><span class="lineno">10607</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l10608"></a><span class="lineno">10608</span>&#160;}</div>
<div class="line"><a name="l10609"></a><span class="lineno">10609</span>&#160;</div>
<div class="line"><a name="l10610"></a><span class="lineno">10610</span>&#160;</div>
<div class="line"><a name="l10611"></a><span class="lineno">10611</span>&#160;<span class="comment">// Fast support for StringAdd.</span></div>
<div class="line"><a name="l10612"></a><span class="lineno">10612</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateStringAdd(CallRuntime* call) {</div>
<div class="line"><a name="l10613"></a><span class="lineno">10613</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(2, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10614"></a><span class="lineno">10614</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10615"></a><span class="lineno">10615</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10616"></a><span class="lineno">10616</span>&#160;  HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10617"></a><span class="lineno">10617</span>&#160;  HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10618"></a><span class="lineno">10618</span>&#160;  HInstruction* result = NewUncasted&lt;HStringAdd&gt;(left, right);</div>
<div class="line"><a name="l10619"></a><span class="lineno">10619</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10620"></a><span class="lineno">10620</span>&#160;}</div>
<div class="line"><a name="l10621"></a><span class="lineno">10621</span>&#160;</div>
<div class="line"><a name="l10622"></a><span class="lineno">10622</span>&#160;</div>
<div class="line"><a name="l10623"></a><span class="lineno">10623</span>&#160;<span class="comment">// Fast support for SubString.</span></div>
<div class="line"><a name="l10624"></a><span class="lineno">10624</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateSubString(CallRuntime* call) {</div>
<div class="line"><a name="l10625"></a><span class="lineno">10625</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(3, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10626"></a><span class="lineno">10626</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(call-&gt;arguments()));</div>
<div class="line"><a name="l10627"></a><span class="lineno">10627</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10628"></a><span class="lineno">10628</span>&#160;  HCallStub* result = New&lt;HCallStub&gt;(CodeStub::SubString, 3);</div>
<div class="line"><a name="l10629"></a><span class="lineno">10629</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10630"></a><span class="lineno">10630</span>&#160;}</div>
<div class="line"><a name="l10631"></a><span class="lineno">10631</span>&#160;</div>
<div class="line"><a name="l10632"></a><span class="lineno">10632</span>&#160;</div>
<div class="line"><a name="l10633"></a><span class="lineno">10633</span>&#160;<span class="comment">// Fast support for StringCompare.</span></div>
<div class="line"><a name="l10634"></a><span class="lineno">10634</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateStringCompare(CallRuntime* call) {</div>
<div class="line"><a name="l10635"></a><span class="lineno">10635</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(2, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10636"></a><span class="lineno">10636</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(call-&gt;arguments()));</div>
<div class="line"><a name="l10637"></a><span class="lineno">10637</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10638"></a><span class="lineno">10638</span>&#160;  HCallStub* result = New&lt;HCallStub&gt;(CodeStub::StringCompare, 2);</div>
<div class="line"><a name="l10639"></a><span class="lineno">10639</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10640"></a><span class="lineno">10640</span>&#160;}</div>
<div class="line"><a name="l10641"></a><span class="lineno">10641</span>&#160;</div>
<div class="line"><a name="l10642"></a><span class="lineno">10642</span>&#160;</div>
<div class="line"><a name="l10643"></a><span class="lineno">10643</span>&#160;<span class="comment">// Support for direct calls from JavaScript to native RegExp code.</span></div>
<div class="line"><a name="l10644"></a><span class="lineno">10644</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateRegExpExec(CallRuntime* call) {</div>
<div class="line"><a name="l10645"></a><span class="lineno">10645</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(4, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10646"></a><span class="lineno">10646</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(call-&gt;arguments()));</div>
<div class="line"><a name="l10647"></a><span class="lineno">10647</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10648"></a><span class="lineno">10648</span>&#160;  HCallStub* result = New&lt;HCallStub&gt;(CodeStub::RegExpExec, 4);</div>
<div class="line"><a name="l10649"></a><span class="lineno">10649</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10650"></a><span class="lineno">10650</span>&#160;}</div>
<div class="line"><a name="l10651"></a><span class="lineno">10651</span>&#160;</div>
<div class="line"><a name="l10652"></a><span class="lineno">10652</span>&#160;</div>
<div class="line"><a name="l10653"></a><span class="lineno">10653</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateDoubleLo(CallRuntime* call) {</div>
<div class="line"><a name="l10654"></a><span class="lineno">10654</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(1, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10655"></a><span class="lineno">10655</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10656"></a><span class="lineno">10656</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10657"></a><span class="lineno">10657</span>&#160;  HInstruction* result = NewUncasted&lt;HDoubleBits&gt;(value, HDoubleBits::LOW);</div>
<div class="line"><a name="l10658"></a><span class="lineno">10658</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10659"></a><span class="lineno">10659</span>&#160;}</div>
<div class="line"><a name="l10660"></a><span class="lineno">10660</span>&#160;</div>
<div class="line"><a name="l10661"></a><span class="lineno">10661</span>&#160;</div>
<div class="line"><a name="l10662"></a><span class="lineno">10662</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateDoubleHi(CallRuntime* call) {</div>
<div class="line"><a name="l10663"></a><span class="lineno">10663</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(1, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10664"></a><span class="lineno">10664</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10665"></a><span class="lineno">10665</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10666"></a><span class="lineno">10666</span>&#160;  HInstruction* result = NewUncasted&lt;HDoubleBits&gt;(value, HDoubleBits::HIGH);</div>
<div class="line"><a name="l10667"></a><span class="lineno">10667</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10668"></a><span class="lineno">10668</span>&#160;}</div>
<div class="line"><a name="l10669"></a><span class="lineno">10669</span>&#160;</div>
<div class="line"><a name="l10670"></a><span class="lineno">10670</span>&#160;</div>
<div class="line"><a name="l10671"></a><span class="lineno">10671</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateConstructDouble(CallRuntime* call) {</div>
<div class="line"><a name="l10672"></a><span class="lineno">10672</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(2, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10673"></a><span class="lineno">10673</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10674"></a><span class="lineno">10674</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10675"></a><span class="lineno">10675</span>&#160;  HValue* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ad6581d542c7eaf801284f084478b5fcc">lo</a> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10676"></a><span class="lineno">10676</span>&#160;  HValue* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10677"></a><span class="lineno">10677</span>&#160;  HInstruction* result = NewUncasted&lt;HConstructDouble&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ad6581d542c7eaf801284f084478b5fcc">lo</a>);</div>
<div class="line"><a name="l10678"></a><span class="lineno">10678</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10679"></a><span class="lineno">10679</span>&#160;}</div>
<div class="line"><a name="l10680"></a><span class="lineno">10680</span>&#160;</div>
<div class="line"><a name="l10681"></a><span class="lineno">10681</span>&#160;</div>
<div class="line"><a name="l10682"></a><span class="lineno">10682</span>&#160;<span class="comment">// Construct a RegExp exec result with two in-object properties.</span></div>
<div class="line"><a name="l10683"></a><span class="lineno">10683</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateRegExpConstructResult(CallRuntime* call) {</div>
<div class="line"><a name="l10684"></a><span class="lineno">10684</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(3, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10685"></a><span class="lineno">10685</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10686"></a><span class="lineno">10686</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10687"></a><span class="lineno">10687</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(2)));</div>
<div class="line"><a name="l10688"></a><span class="lineno">10688</span>&#160;  HValue* input = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10689"></a><span class="lineno">10689</span>&#160;  HValue* index = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10690"></a><span class="lineno">10690</span>&#160;  HValue* length = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10691"></a><span class="lineno">10691</span>&#160;  HValue* result = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2aa7861cfdcd9b581acfe6924b9919ae">BuildRegExpConstructResult</a>(length, index, input);</div>
<div class="line"><a name="l10692"></a><span class="lineno">10692</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(result);</div>
<div class="line"><a name="l10693"></a><span class="lineno">10693</span>&#160;}</div>
<div class="line"><a name="l10694"></a><span class="lineno">10694</span>&#160;</div>
<div class="line"><a name="l10695"></a><span class="lineno">10695</span>&#160;</div>
<div class="line"><a name="l10696"></a><span class="lineno">10696</span>&#160;<span class="comment">// Support for fast native caches.</span></div>
<div class="line"><a name="l10697"></a><span class="lineno">10697</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateGetFromCache(CallRuntime* call) {</div>
<div class="line"><a name="l10698"></a><span class="lineno">10698</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInlinedRuntimeFunctionGetFromCache);</div>
<div class="line"><a name="l10699"></a><span class="lineno">10699</span>&#160;}</div>
<div class="line"><a name="l10700"></a><span class="lineno">10700</span>&#160;</div>
<div class="line"><a name="l10701"></a><span class="lineno">10701</span>&#160;</div>
<div class="line"><a name="l10702"></a><span class="lineno">10702</span>&#160;<span class="comment">// Fast support for number to string.</span></div>
<div class="line"><a name="l10703"></a><span class="lineno">10703</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateNumberToString(CallRuntime* call) {</div>
<div class="line"><a name="l10704"></a><span class="lineno">10704</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(1, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10705"></a><span class="lineno">10705</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10706"></a><span class="lineno">10706</span>&#160;  HValue* number = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10707"></a><span class="lineno">10707</span>&#160;  HValue* result = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ab54d3c7c4ba44de14f19aa5b0909fed2">BuildNumberToString</a>(number, Type::Any(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()));</div>
<div class="line"><a name="l10708"></a><span class="lineno">10708</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(result);</div>
<div class="line"><a name="l10709"></a><span class="lineno">10709</span>&#160;}</div>
<div class="line"><a name="l10710"></a><span class="lineno">10710</span>&#160;</div>
<div class="line"><a name="l10711"></a><span class="lineno">10711</span>&#160;</div>
<div class="line"><a name="l10712"></a><span class="lineno">10712</span>&#160;<span class="comment">// Fast call for custom callbacks.</span></div>
<div class="line"><a name="l10713"></a><span class="lineno">10713</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateCallFunction(CallRuntime* call) {</div>
<div class="line"><a name="l10714"></a><span class="lineno">10714</span>&#160;  <span class="comment">// 1 ~ The function to call is not itself an argument to the call.</span></div>
<div class="line"><a name="l10715"></a><span class="lineno">10715</span>&#160;  <span class="keywordtype">int</span> arg_count = call-&gt;arguments()-&gt;length() - 1;</div>
<div class="line"><a name="l10716"></a><span class="lineno">10716</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(arg_count &gt;= 1);  <span class="comment">// There&#39;s always at least a receiver.</span></div>
<div class="line"><a name="l10717"></a><span class="lineno">10717</span>&#160;</div>
<div class="line"><a name="l10718"></a><span class="lineno">10718</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">VisitExpressions</a>(call-&gt;arguments()));</div>
<div class="line"><a name="l10719"></a><span class="lineno">10719</span>&#160;  <span class="comment">// The function is the last argument</span></div>
<div class="line"><a name="l10720"></a><span class="lineno">10720</span>&#160;  HValue* <span class="keyword">function</span> = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10721"></a><span class="lineno">10721</span>&#160;  <span class="comment">// Push the arguments to the stack</span></div>
<div class="line"><a name="l10722"></a><span class="lineno">10722</span>&#160;  <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">PushArgumentsFromEnvironment</a>(arg_count);</div>
<div class="line"><a name="l10723"></a><span class="lineno">10723</span>&#160;</div>
<div class="line"><a name="l10724"></a><span class="lineno">10724</span>&#160;  IfBuilder if_is_jsfunction(<span class="keyword">this</span>);</div>
<div class="line"><a name="l10725"></a><span class="lineno">10725</span>&#160;  if_is_jsfunction.If&lt;HHasInstanceTypeAndBranch&gt;(<span class="keyword">function</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a02670a3c9633129c524842afc57c106d">JS_FUNCTION_TYPE</a>);</div>
<div class="line"><a name="l10726"></a><span class="lineno">10726</span>&#160;</div>
<div class="line"><a name="l10727"></a><span class="lineno">10727</span>&#160;  if_is_jsfunction.Then();</div>
<div class="line"><a name="l10728"></a><span class="lineno">10728</span>&#160;  {</div>
<div class="line"><a name="l10729"></a><span class="lineno">10729</span>&#160;    HInstruction* invoke_result =</div>
<div class="line"><a name="l10730"></a><span class="lineno">10730</span>&#160;        Add&lt;HInvokeFunction&gt;(<span class="keyword">function</span>, arg_count);</div>
<div class="line"><a name="l10731"></a><span class="lineno">10731</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) {</div>
<div class="line"><a name="l10732"></a><span class="lineno">10732</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(invoke_result);</div>
<div class="line"><a name="l10733"></a><span class="lineno">10733</span>&#160;    }</div>
<div class="line"><a name="l10734"></a><span class="lineno">10734</span>&#160;    Add&lt;HSimulate&gt;(call-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">FIXED_SIMULATE</a>);</div>
<div class="line"><a name="l10735"></a><span class="lineno">10735</span>&#160;  }</div>
<div class="line"><a name="l10736"></a><span class="lineno">10736</span>&#160;</div>
<div class="line"><a name="l10737"></a><span class="lineno">10737</span>&#160;  if_is_jsfunction.Else();</div>
<div class="line"><a name="l10738"></a><span class="lineno">10738</span>&#160;  {</div>
<div class="line"><a name="l10739"></a><span class="lineno">10739</span>&#160;    HInstruction* call_result =</div>
<div class="line"><a name="l10740"></a><span class="lineno">10740</span>&#160;        Add&lt;HCallFunction&gt;(<span class="keyword">function</span>, arg_count);</div>
<div class="line"><a name="l10741"></a><span class="lineno">10741</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">IsEffect</a>()) {</div>
<div class="line"><a name="l10742"></a><span class="lineno">10742</span>&#160;      <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">Push</a>(call_result);</div>
<div class="line"><a name="l10743"></a><span class="lineno">10743</span>&#160;    }</div>
<div class="line"><a name="l10744"></a><span class="lineno">10744</span>&#160;    Add&lt;HSimulate&gt;(call-&gt;id(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">FIXED_SIMULATE</a>);</div>
<div class="line"><a name="l10745"></a><span class="lineno">10745</span>&#160;  }</div>
<div class="line"><a name="l10746"></a><span class="lineno">10746</span>&#160;  if_is_jsfunction.End();</div>
<div class="line"><a name="l10747"></a><span class="lineno">10747</span>&#160;</div>
<div class="line"><a name="l10748"></a><span class="lineno">10748</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;IsEffect()) {</div>
<div class="line"><a name="l10749"></a><span class="lineno">10749</span>&#160;    <span class="comment">// EffectContext::ReturnValue ignores the value, so we can just pass</span></div>
<div class="line"><a name="l10750"></a><span class="lineno">10750</span>&#160;    <span class="comment">// &#39;undefined&#39; (as we do not have the call result anymore).</span></div>
<div class="line"><a name="l10751"></a><span class="lineno">10751</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstantUndefined());</div>
<div class="line"><a name="l10752"></a><span class="lineno">10752</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10753"></a><span class="lineno">10753</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>());</div>
<div class="line"><a name="l10754"></a><span class="lineno">10754</span>&#160;  }</div>
<div class="line"><a name="l10755"></a><span class="lineno">10755</span>&#160;}</div>
<div class="line"><a name="l10756"></a><span class="lineno">10756</span>&#160;</div>
<div class="line"><a name="l10757"></a><span class="lineno">10757</span>&#160;</div>
<div class="line"><a name="l10758"></a><span class="lineno">10758</span>&#160;<span class="comment">// Fast call to math functions.</span></div>
<div class="line"><a name="l10759"></a><span class="lineno">10759</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateMathPow(CallRuntime* call) {</div>
<div class="line"><a name="l10760"></a><span class="lineno">10760</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(2, call-&gt;arguments()-&gt;length());</div>
<div class="line"><a name="l10761"></a><span class="lineno">10761</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10762"></a><span class="lineno">10762</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(1)));</div>
<div class="line"><a name="l10763"></a><span class="lineno">10763</span>&#160;  HValue* right = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10764"></a><span class="lineno">10764</span>&#160;  HValue* left = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10765"></a><span class="lineno">10765</span>&#160;  HInstruction* result = NewUncasted&lt;HPower&gt;(left, right);</div>
<div class="line"><a name="l10766"></a><span class="lineno">10766</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10767"></a><span class="lineno">10767</span>&#160;}</div>
<div class="line"><a name="l10768"></a><span class="lineno">10768</span>&#160;</div>
<div class="line"><a name="l10769"></a><span class="lineno">10769</span>&#160;</div>
<div class="line"><a name="l10770"></a><span class="lineno">10770</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateMathLog(CallRuntime* call) {</div>
<div class="line"><a name="l10771"></a><span class="lineno">10771</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10772"></a><span class="lineno">10772</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10773"></a><span class="lineno">10773</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10774"></a><span class="lineno">10774</span>&#160;  HInstruction* result = NewUncasted&lt;HUnaryMathOperation&gt;(value, kMathLog);</div>
<div class="line"><a name="l10775"></a><span class="lineno">10775</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10776"></a><span class="lineno">10776</span>&#160;}</div>
<div class="line"><a name="l10777"></a><span class="lineno">10777</span>&#160;</div>
<div class="line"><a name="l10778"></a><span class="lineno">10778</span>&#160;</div>
<div class="line"><a name="l10779"></a><span class="lineno">10779</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateMathSqrt(CallRuntime* call) {</div>
<div class="line"><a name="l10780"></a><span class="lineno">10780</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10781"></a><span class="lineno">10781</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10782"></a><span class="lineno">10782</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10783"></a><span class="lineno">10783</span>&#160;  HInstruction* result = NewUncasted&lt;HUnaryMathOperation&gt;(value, kMathSqrt);</div>
<div class="line"><a name="l10784"></a><span class="lineno">10784</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10785"></a><span class="lineno">10785</span>&#160;}</div>
<div class="line"><a name="l10786"></a><span class="lineno">10786</span>&#160;</div>
<div class="line"><a name="l10787"></a><span class="lineno">10787</span>&#160;</div>
<div class="line"><a name="l10788"></a><span class="lineno">10788</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateGetCachedArrayIndex(CallRuntime* call) {</div>
<div class="line"><a name="l10789"></a><span class="lineno">10789</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(call-&gt;arguments()-&gt;length() == 1);</div>
<div class="line"><a name="l10790"></a><span class="lineno">10790</span>&#160;  <a class="code" href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a>(<a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">VisitForValue</a>(call-&gt;arguments()-&gt;at(0)));</div>
<div class="line"><a name="l10791"></a><span class="lineno">10791</span>&#160;  HValue* value = <a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">Pop</a>();</div>
<div class="line"><a name="l10792"></a><span class="lineno">10792</span>&#160;  HGetCachedArrayIndex* result = New&lt;HGetCachedArrayIndex&gt;(value);</div>
<div class="line"><a name="l10793"></a><span class="lineno">10793</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">ReturnInstruction</a>(result, call-&gt;id());</div>
<div class="line"><a name="l10794"></a><span class="lineno">10794</span>&#160;}</div>
<div class="line"><a name="l10795"></a><span class="lineno">10795</span>&#160;</div>
<div class="line"><a name="l10796"></a><span class="lineno">10796</span>&#160;</div>
<div class="line"><a name="l10797"></a><span class="lineno">10797</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateFastAsciiArrayJoin(CallRuntime* call) {</div>
<div class="line"><a name="l10798"></a><span class="lineno">10798</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInlinedRuntimeFunctionFastAsciiArrayJoin);</div>
<div class="line"><a name="l10799"></a><span class="lineno">10799</span>&#160;}</div>
<div class="line"><a name="l10800"></a><span class="lineno">10800</span>&#160;</div>
<div class="line"><a name="l10801"></a><span class="lineno">10801</span>&#160;</div>
<div class="line"><a name="l10802"></a><span class="lineno">10802</span>&#160;<span class="comment">// Support for generators.</span></div>
<div class="line"><a name="l10803"></a><span class="lineno">10803</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateGeneratorNext(CallRuntime* call) {</div>
<div class="line"><a name="l10804"></a><span class="lineno">10804</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInlinedRuntimeFunctionGeneratorNext);</div>
<div class="line"><a name="l10805"></a><span class="lineno">10805</span>&#160;}</div>
<div class="line"><a name="l10806"></a><span class="lineno">10806</span>&#160;</div>
<div class="line"><a name="l10807"></a><span class="lineno">10807</span>&#160;</div>
<div class="line"><a name="l10808"></a><span class="lineno">10808</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateGeneratorThrow(CallRuntime* call) {</div>
<div class="line"><a name="l10809"></a><span class="lineno">10809</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">Bailout</a>(kInlinedRuntimeFunctionGeneratorThrow);</div>
<div class="line"><a name="l10810"></a><span class="lineno">10810</span>&#160;}</div>
<div class="line"><a name="l10811"></a><span class="lineno">10811</span>&#160;</div>
<div class="line"><a name="l10812"></a><span class="lineno">10812</span>&#160;</div>
<div class="line"><a name="l10813"></a><span class="lineno">10813</span>&#160;<span class="keywordtype">void</span> HOptimizedGraphBuilder::GenerateDebugBreakInOptimizedCode(</div>
<div class="line"><a name="l10814"></a><span class="lineno">10814</span>&#160;    CallRuntime* call) {</div>
<div class="line"><a name="l10815"></a><span class="lineno">10815</span>&#160;  Add&lt;HDebugBreak&gt;();</div>
<div class="line"><a name="l10816"></a><span class="lineno">10816</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">ast_context</a>()-&gt;<a class="code" href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">ReturnValue</a>(<a class="code" href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">graph</a>()-&gt;GetConstant0());</div>
<div class="line"><a name="l10817"></a><span class="lineno">10817</span>&#160;}</div>
<div class="line"><a name="l10818"></a><span class="lineno">10818</span>&#160;</div>
<div class="line"><a name="l10819"></a><span class="lineno">10819</span>&#160;</div>
<div class="line"><a name="l10820"></a><span class="lineno">10820</span>&#160;<span class="preprocessor">#undef CHECK_BAILOUT</span></div>
<div class="line"><a name="l10821"></a><span class="lineno">10821</span>&#160;<span class="preprocessor">#undef CHECK_ALIVE</span></div>
<div class="line"><a name="l10822"></a><span class="lineno">10822</span>&#160;</div>
<div class="line"><a name="l10823"></a><span class="lineno">10823</span>&#160;</div>
<div class="line"><a name="l10824"></a><span class="lineno">10824</span>&#160;HEnvironment::HEnvironment(HEnvironment* outer,</div>
<div class="line"><a name="l10825"></a><span class="lineno">10825</span>&#160;                           Scope* scope,</div>
<div class="line"><a name="l10826"></a><span class="lineno">10826</span>&#160;                           Handle&lt;JSFunction&gt; closure,</div>
<div class="line"><a name="l10827"></a><span class="lineno">10827</span>&#160;                           Zone* zone)</div>
<div class="line"><a name="l10828"></a><span class="lineno">10828</span>&#160;    : closure_(closure),</div>
<div class="line"><a name="l10829"></a><span class="lineno">10829</span>&#160;      values_(0, zone),</div>
<div class="line"><a name="l10830"></a><span class="lineno">10830</span>&#160;      frame_type_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2">JS_FUNCTION</a>),</div>
<div class="line"><a name="l10831"></a><span class="lineno">10831</span>&#160;      parameter_count_(0),</div>
<div class="line"><a name="l10832"></a><span class="lineno">10832</span>&#160;      specials_count_(1),</div>
<div class="line"><a name="l10833"></a><span class="lineno">10833</span>&#160;      local_count_(0),</div>
<div class="line"><a name="l10834"></a><span class="lineno">10834</span>&#160;      outer_(outer),</div>
<div class="line"><a name="l10835"></a><span class="lineno">10835</span>&#160;      entry_(NULL),</div>
<div class="line"><a name="l10836"></a><span class="lineno">10836</span>&#160;      pop_count_(0),</div>
<div class="line"><a name="l10837"></a><span class="lineno">10837</span>&#160;      push_count_(0),</div>
<div class="line"><a name="l10838"></a><span class="lineno">10838</span>&#160;      ast_id_(BailoutId::<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">None</a>()),</div>
<div class="line"><a name="l10839"></a><span class="lineno">10839</span>&#160;      zone_(zone) {</div>
<div class="line"><a name="l10840"></a><span class="lineno">10840</span>&#160;  Initialize(scope-&gt;num_parameters() + 1, scope-&gt;num_stack_slots(), 0);</div>
<div class="line"><a name="l10841"></a><span class="lineno">10841</span>&#160;}</div>
<div class="line"><a name="l10842"></a><span class="lineno">10842</span>&#160;</div>
<div class="line"><a name="l10843"></a><span class="lineno">10843</span>&#160;</div>
<div class="line"><a name="l10844"></a><span class="lineno">10844</span>&#160;HEnvironment::HEnvironment(Zone* zone, <span class="keywordtype">int</span> parameter_count)</div>
<div class="line"><a name="l10845"></a><span class="lineno">10845</span>&#160;    : values_(0, zone),</div>
<div class="line"><a name="l10846"></a><span class="lineno">10846</span>&#160;      frame_type_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854abf8228243e229b8ef4ab53f8317cd260">STUB</a>),</div>
<div class="line"><a name="l10847"></a><span class="lineno">10847</span>&#160;      parameter_count_(parameter_count),</div>
<div class="line"><a name="l10848"></a><span class="lineno">10848</span>&#160;      specials_count_(1),</div>
<div class="line"><a name="l10849"></a><span class="lineno">10849</span>&#160;      local_count_(0),</div>
<div class="line"><a name="l10850"></a><span class="lineno">10850</span>&#160;      outer_(NULL),</div>
<div class="line"><a name="l10851"></a><span class="lineno">10851</span>&#160;      entry_(NULL),</div>
<div class="line"><a name="l10852"></a><span class="lineno">10852</span>&#160;      pop_count_(0),</div>
<div class="line"><a name="l10853"></a><span class="lineno">10853</span>&#160;      push_count_(0),</div>
<div class="line"><a name="l10854"></a><span class="lineno">10854</span>&#160;      ast_id_(BailoutId::<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">None</a>()),</div>
<div class="line"><a name="l10855"></a><span class="lineno">10855</span>&#160;      zone_(zone) {</div>
<div class="line"><a name="l10856"></a><span class="lineno">10856</span>&#160;  Initialize(parameter_count, 0, 0);</div>
<div class="line"><a name="l10857"></a><span class="lineno">10857</span>&#160;}</div>
<div class="line"><a name="l10858"></a><span class="lineno">10858</span>&#160;</div>
<div class="line"><a name="l10859"></a><span class="lineno">10859</span>&#160;</div>
<div class="line"><a name="l10860"></a><span class="lineno">10860</span>&#160;HEnvironment::HEnvironment(<span class="keyword">const</span> HEnvironment* other, Zone* zone)</div>
<div class="line"><a name="l10861"></a><span class="lineno">10861</span>&#160;    : values_(0, zone),</div>
<div class="line"><a name="l10862"></a><span class="lineno">10862</span>&#160;      frame_type_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2">JS_FUNCTION</a>),</div>
<div class="line"><a name="l10863"></a><span class="lineno">10863</span>&#160;      parameter_count_(0),</div>
<div class="line"><a name="l10864"></a><span class="lineno">10864</span>&#160;      specials_count_(0),</div>
<div class="line"><a name="l10865"></a><span class="lineno">10865</span>&#160;      local_count_(0),</div>
<div class="line"><a name="l10866"></a><span class="lineno">10866</span>&#160;      outer_(NULL),</div>
<div class="line"><a name="l10867"></a><span class="lineno">10867</span>&#160;      entry_(NULL),</div>
<div class="line"><a name="l10868"></a><span class="lineno">10868</span>&#160;      pop_count_(0),</div>
<div class="line"><a name="l10869"></a><span class="lineno">10869</span>&#160;      push_count_(0),</div>
<div class="line"><a name="l10870"></a><span class="lineno">10870</span>&#160;      ast_id_(other-&gt;ast_id()),</div>
<div class="line"><a name="l10871"></a><span class="lineno">10871</span>&#160;      zone_(zone) {</div>
<div class="line"><a name="l10872"></a><span class="lineno">10872</span>&#160;  Initialize(other);</div>
<div class="line"><a name="l10873"></a><span class="lineno">10873</span>&#160;}</div>
<div class="line"><a name="l10874"></a><span class="lineno">10874</span>&#160;</div>
<div class="line"><a name="l10875"></a><span class="lineno">10875</span>&#160;</div>
<div class="line"><a name="l10876"></a><span class="lineno">10876</span>&#160;HEnvironment::HEnvironment(HEnvironment* outer,</div>
<div class="line"><a name="l10877"></a><span class="lineno">10877</span>&#160;                           Handle&lt;JSFunction&gt; closure,</div>
<div class="line"><a name="l10878"></a><span class="lineno">10878</span>&#160;                           <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854">FrameType</a> frame_type,</div>
<div class="line"><a name="l10879"></a><span class="lineno">10879</span>&#160;                           <span class="keywordtype">int</span> arguments,</div>
<div class="line"><a name="l10880"></a><span class="lineno">10880</span>&#160;                           Zone* zone)</div>
<div class="line"><a name="l10881"></a><span class="lineno">10881</span>&#160;    : closure_(closure),</div>
<div class="line"><a name="l10882"></a><span class="lineno">10882</span>&#160;      values_(arguments, zone),</div>
<div class="line"><a name="l10883"></a><span class="lineno">10883</span>&#160;      frame_type_(frame_type),</div>
<div class="line"><a name="l10884"></a><span class="lineno">10884</span>&#160;      parameter_count_(arguments),</div>
<div class="line"><a name="l10885"></a><span class="lineno">10885</span>&#160;      specials_count_(0),</div>
<div class="line"><a name="l10886"></a><span class="lineno">10886</span>&#160;      local_count_(0),</div>
<div class="line"><a name="l10887"></a><span class="lineno">10887</span>&#160;      outer_(outer),</div>
<div class="line"><a name="l10888"></a><span class="lineno">10888</span>&#160;      entry_(NULL),</div>
<div class="line"><a name="l10889"></a><span class="lineno">10889</span>&#160;      pop_count_(0),</div>
<div class="line"><a name="l10890"></a><span class="lineno">10890</span>&#160;      push_count_(0),</div>
<div class="line"><a name="l10891"></a><span class="lineno">10891</span>&#160;      ast_id_(BailoutId::<a class="code" href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">None</a>()),</div>
<div class="line"><a name="l10892"></a><span class="lineno">10892</span>&#160;      zone_(zone) {</div>
<div class="line"><a name="l10893"></a><span class="lineno">10893</span>&#160;}</div>
<div class="line"><a name="l10894"></a><span class="lineno">10894</span>&#160;</div>
<div class="line"><a name="l10895"></a><span class="lineno">10895</span>&#160;</div>
<div class="line"><a name="l10896"></a><span class="lineno">10896</span>&#160;<span class="keywordtype">void</span> HEnvironment::Initialize(<span class="keywordtype">int</span> parameter_count,</div>
<div class="line"><a name="l10897"></a><span class="lineno">10897</span>&#160;                              <span class="keywordtype">int</span> local_count,</div>
<div class="line"><a name="l10898"></a><span class="lineno">10898</span>&#160;                              <span class="keywordtype">int</span> stack_height) {</div>
<div class="line"><a name="l10899"></a><span class="lineno">10899</span>&#160;  parameter_count_ = parameter_count;</div>
<div class="line"><a name="l10900"></a><span class="lineno">10900</span>&#160;  local_count_ = local_count;</div>
<div class="line"><a name="l10901"></a><span class="lineno">10901</span>&#160;</div>
<div class="line"><a name="l10902"></a><span class="lineno">10902</span>&#160;  <span class="comment">// Avoid reallocating the temporaries&#39; backing store on the first Push.</span></div>
<div class="line"><a name="l10903"></a><span class="lineno">10903</span>&#160;  <span class="keywordtype">int</span> total = parameter_count + specials_count_ + local_count + stack_height;</div>
<div class="line"><a name="l10904"></a><span class="lineno">10904</span>&#160;  values_.Initialize(total + 4, zone());</div>
<div class="line"><a name="l10905"></a><span class="lineno">10905</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; total; ++i) values_.Add(NULL, zone());</div>
<div class="line"><a name="l10906"></a><span class="lineno">10906</span>&#160;}</div>
<div class="line"><a name="l10907"></a><span class="lineno">10907</span>&#160;</div>
<div class="line"><a name="l10908"></a><span class="lineno">10908</span>&#160;</div>
<div class="line"><a name="l10909"></a><span class="lineno">10909</span>&#160;<span class="keywordtype">void</span> HEnvironment::Initialize(<span class="keyword">const</span> HEnvironment* other) {</div>
<div class="line"><a name="l10910"></a><span class="lineno">10910</span>&#160;  closure_ = other-&gt;closure();</div>
<div class="line"><a name="l10911"></a><span class="lineno">10911</span>&#160;  values_.AddAll(other-&gt;values_, zone());</div>
<div class="line"><a name="l10912"></a><span class="lineno">10912</span>&#160;  assigned_variables_.Union(other-&gt;assigned_variables_, zone());</div>
<div class="line"><a name="l10913"></a><span class="lineno">10913</span>&#160;  frame_type_ = other-&gt;frame_type_;</div>
<div class="line"><a name="l10914"></a><span class="lineno">10914</span>&#160;  parameter_count_ = other-&gt;parameter_count_;</div>
<div class="line"><a name="l10915"></a><span class="lineno">10915</span>&#160;  local_count_ = other-&gt;local_count_;</div>
<div class="line"><a name="l10916"></a><span class="lineno">10916</span>&#160;  <span class="keywordflow">if</span> (other-&gt;outer_ != NULL) outer_ = other-&gt;outer_-&gt;Copy();  <span class="comment">// Deep copy.</span></div>
<div class="line"><a name="l10917"></a><span class="lineno">10917</span>&#160;  entry_ = other-&gt;entry_;</div>
<div class="line"><a name="l10918"></a><span class="lineno">10918</span>&#160;  pop_count_ = other-&gt;pop_count_;</div>
<div class="line"><a name="l10919"></a><span class="lineno">10919</span>&#160;  push_count_ = other-&gt;push_count_;</div>
<div class="line"><a name="l10920"></a><span class="lineno">10920</span>&#160;  specials_count_ = other-&gt;specials_count_;</div>
<div class="line"><a name="l10921"></a><span class="lineno">10921</span>&#160;  ast_id_ = other-&gt;ast_id_;</div>
<div class="line"><a name="l10922"></a><span class="lineno">10922</span>&#160;}</div>
<div class="line"><a name="l10923"></a><span class="lineno">10923</span>&#160;</div>
<div class="line"><a name="l10924"></a><span class="lineno">10924</span>&#160;</div>
<div class="line"><a name="l10925"></a><span class="lineno">10925</span>&#160;<span class="keywordtype">void</span> HEnvironment::AddIncomingEdge(HBasicBlock* block, HEnvironment* other) {</div>
<div class="line"><a name="l10926"></a><span class="lineno">10926</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!block-&gt;IsLoopHeader());</div>
<div class="line"><a name="l10927"></a><span class="lineno">10927</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(values_.length() == other-&gt;values_.length());</div>
<div class="line"><a name="l10928"></a><span class="lineno">10928</span>&#160;</div>
<div class="line"><a name="l10929"></a><span class="lineno">10929</span>&#160;  <span class="keywordtype">int</span> length = values_.length();</div>
<div class="line"><a name="l10930"></a><span class="lineno">10930</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; ++i) {</div>
<div class="line"><a name="l10931"></a><span class="lineno">10931</span>&#160;    HValue* value = values_[i];</div>
<div class="line"><a name="l10932"></a><span class="lineno">10932</span>&#160;    <span class="keywordflow">if</span> (value != NULL &amp;&amp; value-&gt;IsPhi() &amp;&amp; value-&gt;block() == block) {</div>
<div class="line"><a name="l10933"></a><span class="lineno">10933</span>&#160;      <span class="comment">// There is already a phi for the i&#39;th value.</span></div>
<div class="line"><a name="l10934"></a><span class="lineno">10934</span>&#160;      HPhi* phi = HPhi::cast(value);</div>
<div class="line"><a name="l10935"></a><span class="lineno">10935</span>&#160;      <span class="comment">// Assert index is correct and that we haven&#39;t missed an incoming edge.</span></div>
<div class="line"><a name="l10936"></a><span class="lineno">10936</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(phi-&gt;merged_index() == i || !phi-&gt;HasMergedIndex());</div>
<div class="line"><a name="l10937"></a><span class="lineno">10937</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(phi-&gt;OperandCount() == block-&gt;predecessors()-&gt;length());</div>
<div class="line"><a name="l10938"></a><span class="lineno">10938</span>&#160;      phi-&gt;AddInput(other-&gt;values_[i]);</div>
<div class="line"><a name="l10939"></a><span class="lineno">10939</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (values_[i] != other-&gt;values_[i]) {</div>
<div class="line"><a name="l10940"></a><span class="lineno">10940</span>&#160;      <span class="comment">// There is a fresh value on the incoming edge, a phi is needed.</span></div>
<div class="line"><a name="l10941"></a><span class="lineno">10941</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(values_[i] != NULL &amp;&amp; other-&gt;values_[i] != NULL);</div>
<div class="line"><a name="l10942"></a><span class="lineno">10942</span>&#160;      HPhi* phi = block-&gt;AddNewPhi(i);</div>
<div class="line"><a name="l10943"></a><span class="lineno">10943</span>&#160;      HValue* old_value = values_[i];</div>
<div class="line"><a name="l10944"></a><span class="lineno">10944</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; block-&gt;predecessors()-&gt;length(); j++) {</div>
<div class="line"><a name="l10945"></a><span class="lineno">10945</span>&#160;        phi-&gt;AddInput(old_value);</div>
<div class="line"><a name="l10946"></a><span class="lineno">10946</span>&#160;      }</div>
<div class="line"><a name="l10947"></a><span class="lineno">10947</span>&#160;      phi-&gt;AddInput(other-&gt;values_[i]);</div>
<div class="line"><a name="l10948"></a><span class="lineno">10948</span>&#160;      this-&gt;values_[i] = phi;</div>
<div class="line"><a name="l10949"></a><span class="lineno">10949</span>&#160;    }</div>
<div class="line"><a name="l10950"></a><span class="lineno">10950</span>&#160;  }</div>
<div class="line"><a name="l10951"></a><span class="lineno">10951</span>&#160;}</div>
<div class="line"><a name="l10952"></a><span class="lineno">10952</span>&#160;</div>
<div class="line"><a name="l10953"></a><span class="lineno">10953</span>&#160;</div>
<div class="line"><a name="l10954"></a><span class="lineno">10954</span>&#160;<span class="keywordtype">void</span> HEnvironment::Bind(<span class="keywordtype">int</span> index, HValue* value) {</div>
<div class="line"><a name="l10955"></a><span class="lineno">10955</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(value != NULL);</div>
<div class="line"><a name="l10956"></a><span class="lineno">10956</span>&#160;  assigned_variables_.Add(index, zone());</div>
<div class="line"><a name="l10957"></a><span class="lineno">10957</span>&#160;  values_[index] = value;</div>
<div class="line"><a name="l10958"></a><span class="lineno">10958</span>&#160;}</div>
<div class="line"><a name="l10959"></a><span class="lineno">10959</span>&#160;</div>
<div class="line"><a name="l10960"></a><span class="lineno">10960</span>&#160;</div>
<div class="line"><a name="l10961"></a><span class="lineno">10961</span>&#160;<span class="keywordtype">bool</span> HEnvironment::HasExpressionAt(<span class="keywordtype">int</span> index)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10962"></a><span class="lineno">10962</span>&#160;  <span class="keywordflow">return</span> index &gt;= parameter_count_ + specials_count_ + local_count_;</div>
<div class="line"><a name="l10963"></a><span class="lineno">10963</span>&#160;}</div>
<div class="line"><a name="l10964"></a><span class="lineno">10964</span>&#160;</div>
<div class="line"><a name="l10965"></a><span class="lineno">10965</span>&#160;</div>
<div class="line"><a name="l10966"></a><span class="lineno">10966</span>&#160;<span class="keywordtype">bool</span> HEnvironment::ExpressionStackIsEmpty()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10967"></a><span class="lineno">10967</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(length() &gt;= first_expression_index());</div>
<div class="line"><a name="l10968"></a><span class="lineno">10968</span>&#160;  <span class="keywordflow">return</span> length() == first_expression_index();</div>
<div class="line"><a name="l10969"></a><span class="lineno">10969</span>&#160;}</div>
<div class="line"><a name="l10970"></a><span class="lineno">10970</span>&#160;</div>
<div class="line"><a name="l10971"></a><span class="lineno">10971</span>&#160;</div>
<div class="line"><a name="l10972"></a><span class="lineno">10972</span>&#160;<span class="keywordtype">void</span> HEnvironment::SetExpressionStackAt(<span class="keywordtype">int</span> index_from_top, HValue* value) {</div>
<div class="line"><a name="l10973"></a><span class="lineno">10973</span>&#160;  <span class="keywordtype">int</span> count = index_from_top + 1;</div>
<div class="line"><a name="l10974"></a><span class="lineno">10974</span>&#160;  <span class="keywordtype">int</span> index = values_.length() - count;</div>
<div class="line"><a name="l10975"></a><span class="lineno">10975</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(HasExpressionAt(index));</div>
<div class="line"><a name="l10976"></a><span class="lineno">10976</span>&#160;  <span class="comment">// The push count must include at least the element in question or else</span></div>
<div class="line"><a name="l10977"></a><span class="lineno">10977</span>&#160;  <span class="comment">// the new value will not be included in this environment&#39;s history.</span></div>
<div class="line"><a name="l10978"></a><span class="lineno">10978</span>&#160;  <span class="keywordflow">if</span> (push_count_ &lt; count) {</div>
<div class="line"><a name="l10979"></a><span class="lineno">10979</span>&#160;    <span class="comment">// This is the same effect as popping then re-pushing &#39;count&#39; elements.</span></div>
<div class="line"><a name="l10980"></a><span class="lineno">10980</span>&#160;    pop_count_ += (count - push_count_);</div>
<div class="line"><a name="l10981"></a><span class="lineno">10981</span>&#160;    push_count_ = count;</div>
<div class="line"><a name="l10982"></a><span class="lineno">10982</span>&#160;  }</div>
<div class="line"><a name="l10983"></a><span class="lineno">10983</span>&#160;  values_[index] = value;</div>
<div class="line"><a name="l10984"></a><span class="lineno">10984</span>&#160;}</div>
<div class="line"><a name="l10985"></a><span class="lineno">10985</span>&#160;</div>
<div class="line"><a name="l10986"></a><span class="lineno">10986</span>&#160;</div>
<div class="line"><a name="l10987"></a><span class="lineno">10987</span>&#160;<span class="keywordtype">void</span> HEnvironment::Drop(<span class="keywordtype">int</span> count) {</div>
<div class="line"><a name="l10988"></a><span class="lineno">10988</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {</div>
<div class="line"><a name="l10989"></a><span class="lineno">10989</span>&#160;    Pop();</div>
<div class="line"><a name="l10990"></a><span class="lineno">10990</span>&#160;  }</div>
<div class="line"><a name="l10991"></a><span class="lineno">10991</span>&#160;}</div>
<div class="line"><a name="l10992"></a><span class="lineno">10992</span>&#160;</div>
<div class="line"><a name="l10993"></a><span class="lineno">10993</span>&#160;</div>
<div class="line"><a name="l10994"></a><span class="lineno">10994</span>&#160;HEnvironment* HEnvironment::Copy()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10995"></a><span class="lineno">10995</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span>(zone()) HEnvironment(<span class="keyword">this</span>, zone());</div>
<div class="line"><a name="l10996"></a><span class="lineno">10996</span>&#160;}</div>
<div class="line"><a name="l10997"></a><span class="lineno">10997</span>&#160;</div>
<div class="line"><a name="l10998"></a><span class="lineno">10998</span>&#160;</div>
<div class="line"><a name="l10999"></a><span class="lineno">10999</span>&#160;HEnvironment* HEnvironment::CopyWithoutHistory()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l11000"></a><span class="lineno">11000</span>&#160;  HEnvironment* result = Copy();</div>
<div class="line"><a name="l11001"></a><span class="lineno">11001</span>&#160;  result-&gt;ClearHistory();</div>
<div class="line"><a name="l11002"></a><span class="lineno">11002</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l11003"></a><span class="lineno">11003</span>&#160;}</div>
<div class="line"><a name="l11004"></a><span class="lineno">11004</span>&#160;</div>
<div class="line"><a name="l11005"></a><span class="lineno">11005</span>&#160;</div>
<div class="line"><a name="l11006"></a><span class="lineno">11006</span>&#160;HEnvironment* HEnvironment::CopyAsLoopHeader(HBasicBlock* loop_header)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l11007"></a><span class="lineno">11007</span>&#160;  HEnvironment* new_env = Copy();</div>
<div class="line"><a name="l11008"></a><span class="lineno">11008</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; values_.length(); ++i) {</div>
<div class="line"><a name="l11009"></a><span class="lineno">11009</span>&#160;    HPhi* phi = loop_header-&gt;AddNewPhi(i);</div>
<div class="line"><a name="l11010"></a><span class="lineno">11010</span>&#160;    phi-&gt;AddInput(values_[i]);</div>
<div class="line"><a name="l11011"></a><span class="lineno">11011</span>&#160;    new_env-&gt;values_[i] = phi;</div>
<div class="line"><a name="l11012"></a><span class="lineno">11012</span>&#160;  }</div>
<div class="line"><a name="l11013"></a><span class="lineno">11013</span>&#160;  new_env-&gt;ClearHistory();</div>
<div class="line"><a name="l11014"></a><span class="lineno">11014</span>&#160;  <span class="keywordflow">return</span> new_env;</div>
<div class="line"><a name="l11015"></a><span class="lineno">11015</span>&#160;}</div>
<div class="line"><a name="l11016"></a><span class="lineno">11016</span>&#160;</div>
<div class="line"><a name="l11017"></a><span class="lineno">11017</span>&#160;</div>
<div class="line"><a name="l11018"></a><span class="lineno">11018</span>&#160;HEnvironment* HEnvironment::CreateStubEnvironment(HEnvironment* outer,</div>
<div class="line"><a name="l11019"></a><span class="lineno">11019</span>&#160;                                                  Handle&lt;JSFunction&gt; target,</div>
<div class="line"><a name="l11020"></a><span class="lineno">11020</span>&#160;                                                  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854">FrameType</a> frame_type,</div>
<div class="line"><a name="l11021"></a><span class="lineno">11021</span>&#160;                                                  <span class="keywordtype">int</span> arguments)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l11022"></a><span class="lineno">11022</span>&#160;  HEnvironment* new_env =</div>
<div class="line"><a name="l11023"></a><span class="lineno">11023</span>&#160;      <span class="keyword">new</span>(zone()) HEnvironment(outer, target, frame_type,</div>
<div class="line"><a name="l11024"></a><span class="lineno">11024</span>&#160;                               arguments + 1, zone());</div>
<div class="line"><a name="l11025"></a><span class="lineno">11025</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= arguments; ++i) {  <span class="comment">// Include receiver.</span></div>
<div class="line"><a name="l11026"></a><span class="lineno">11026</span>&#160;    new_env-&gt;Push(ExpressionStackAt(arguments - i));</div>
<div class="line"><a name="l11027"></a><span class="lineno">11027</span>&#160;  }</div>
<div class="line"><a name="l11028"></a><span class="lineno">11028</span>&#160;  new_env-&gt;ClearHistory();</div>
<div class="line"><a name="l11029"></a><span class="lineno">11029</span>&#160;  <span class="keywordflow">return</span> new_env;</div>
<div class="line"><a name="l11030"></a><span class="lineno">11030</span>&#160;}</div>
<div class="line"><a name="l11031"></a><span class="lineno">11031</span>&#160;</div>
<div class="line"><a name="l11032"></a><span class="lineno">11032</span>&#160;</div>
<div class="line"><a name="l11033"></a><span class="lineno">11033</span>&#160;HEnvironment* HEnvironment::CopyForInlining(</div>
<div class="line"><a name="l11034"></a><span class="lineno">11034</span>&#160;    Handle&lt;JSFunction&gt; target,</div>
<div class="line"><a name="l11035"></a><span class="lineno">11035</span>&#160;    <span class="keywordtype">int</span> arguments,</div>
<div class="line"><a name="l11036"></a><span class="lineno">11036</span>&#160;    FunctionLiteral* <span class="keyword">function</span>,</div>
<div class="line"><a name="l11037"></a><span class="lineno">11037</span>&#160;    HConstant* undefined,</div>
<div class="line"><a name="l11038"></a><span class="lineno">11038</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312">InliningKind</a> inlining_kind)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l11039"></a><span class="lineno">11039</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(frame_type() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2">JS_FUNCTION</a>);</div>
<div class="line"><a name="l11040"></a><span class="lineno">11040</span>&#160;</div>
<div class="line"><a name="l11041"></a><span class="lineno">11041</span>&#160;  <span class="comment">// Outer environment is a copy of this one without the arguments.</span></div>
<div class="line"><a name="l11042"></a><span class="lineno">11042</span>&#160;  <span class="keywordtype">int</span> arity = <span class="keyword">function</span>-&gt;scope()-&gt;num_parameters();</div>
<div class="line"><a name="l11043"></a><span class="lineno">11043</span>&#160;</div>
<div class="line"><a name="l11044"></a><span class="lineno">11044</span>&#160;  HEnvironment* outer = Copy();</div>
<div class="line"><a name="l11045"></a><span class="lineno">11045</span>&#160;  outer-&gt;Drop(arguments + 1);  <span class="comment">// Including receiver.</span></div>
<div class="line"><a name="l11046"></a><span class="lineno">11046</span>&#160;  outer-&gt;ClearHistory();</div>
<div class="line"><a name="l11047"></a><span class="lineno">11047</span>&#160;</div>
<div class="line"><a name="l11048"></a><span class="lineno">11048</span>&#160;  <span class="keywordflow">if</span> (inlining_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a344f0e0cab9e6c247c91d55f674091cf">CONSTRUCT_CALL_RETURN</a>) {</div>
<div class="line"><a name="l11049"></a><span class="lineno">11049</span>&#160;    <span class="comment">// Create artificial constructor stub environment.  The receiver should</span></div>
<div class="line"><a name="l11050"></a><span class="lineno">11050</span>&#160;    <span class="comment">// actually be the constructor function, but we pass the newly allocated</span></div>
<div class="line"><a name="l11051"></a><span class="lineno">11051</span>&#160;    <span class="comment">// object instead, DoComputeConstructStubFrame() relies on that.</span></div>
<div class="line"><a name="l11052"></a><span class="lineno">11052</span>&#160;    outer = CreateStubEnvironment(outer, target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a2c6e4ffabcb60fb6bb58dbcfa67ee896">JS_CONSTRUCT</a>, arguments);</div>
<div class="line"><a name="l11053"></a><span class="lineno">11053</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inlining_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a15d9cc32285e1c5e26ed4e761782ebd5">GETTER_CALL_RETURN</a>) {</div>
<div class="line"><a name="l11054"></a><span class="lineno">11054</span>&#160;    <span class="comment">// We need an additional StackFrame::INTERNAL frame for restoring the</span></div>
<div class="line"><a name="l11055"></a><span class="lineno">11055</span>&#160;    <span class="comment">// correct context.</span></div>
<div class="line"><a name="l11056"></a><span class="lineno">11056</span>&#160;    outer = CreateStubEnvironment(outer, target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854ad753cb806d3ac608eadc35bea0949b95">JS_GETTER</a>, arguments);</div>
<div class="line"><a name="l11057"></a><span class="lineno">11057</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inlining_kind == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a7d1a13bc2ae1bf8da31ac41c093985d5">SETTER_CALL_RETURN</a>) {</div>
<div class="line"><a name="l11058"></a><span class="lineno">11058</span>&#160;    <span class="comment">// We need an additional StackFrame::INTERNAL frame for temporarily saving</span></div>
<div class="line"><a name="l11059"></a><span class="lineno">11059</span>&#160;    <span class="comment">// the argument of the setter, see StoreStubCompiler::CompileStoreViaSetter.</span></div>
<div class="line"><a name="l11060"></a><span class="lineno">11060</span>&#160;    outer = CreateStubEnvironment(outer, target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854aec9bde94cb447aae3d2b09cc3bf2b48b">JS_SETTER</a>, arguments);</div>
<div class="line"><a name="l11061"></a><span class="lineno">11061</span>&#160;  }</div>
<div class="line"><a name="l11062"></a><span class="lineno">11062</span>&#160;</div>
<div class="line"><a name="l11063"></a><span class="lineno">11063</span>&#160;  <span class="keywordflow">if</span> (arity != arguments) {</div>
<div class="line"><a name="l11064"></a><span class="lineno">11064</span>&#160;    <span class="comment">// Create artificial arguments adaptation environment.</span></div>
<div class="line"><a name="l11065"></a><span class="lineno">11065</span>&#160;    outer = CreateStubEnvironment(outer, target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a7c8e203b977affae1c81f144173d4b38">ARGUMENTS_ADAPTOR</a>, arguments);</div>
<div class="line"><a name="l11066"></a><span class="lineno">11066</span>&#160;  }</div>
<div class="line"><a name="l11067"></a><span class="lineno">11067</span>&#160;</div>
<div class="line"><a name="l11068"></a><span class="lineno">11068</span>&#160;  HEnvironment* inner =</div>
<div class="line"><a name="l11069"></a><span class="lineno">11069</span>&#160;      <span class="keyword">new</span>(zone()) HEnvironment(outer, function-&gt;scope(), target, zone());</div>
<div class="line"><a name="l11070"></a><span class="lineno">11070</span>&#160;  <span class="comment">// Get the argument values from the original environment.</span></div>
<div class="line"><a name="l11071"></a><span class="lineno">11071</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= arity; ++i) {  <span class="comment">// Include receiver.</span></div>
<div class="line"><a name="l11072"></a><span class="lineno">11072</span>&#160;    HValue* push = (i &lt;= arguments) ?</div>
<div class="line"><a name="l11073"></a><span class="lineno">11073</span>&#160;        ExpressionStackAt(arguments - i) : undefined;</div>
<div class="line"><a name="l11074"></a><span class="lineno">11074</span>&#160;    inner-&gt;SetValueAt(i, push);</div>
<div class="line"><a name="l11075"></a><span class="lineno">11075</span>&#160;  }</div>
<div class="line"><a name="l11076"></a><span class="lineno">11076</span>&#160;  inner-&gt;SetValueAt(arity + 1, context());</div>
<div class="line"><a name="l11077"></a><span class="lineno">11077</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = arity + 2; i &lt; inner-&gt;length(); ++i) {</div>
<div class="line"><a name="l11078"></a><span class="lineno">11078</span>&#160;    inner-&gt;SetValueAt(i, undefined);</div>
<div class="line"><a name="l11079"></a><span class="lineno">11079</span>&#160;  }</div>
<div class="line"><a name="l11080"></a><span class="lineno">11080</span>&#160;</div>
<div class="line"><a name="l11081"></a><span class="lineno">11081</span>&#160;  inner-&gt;set_ast_id(<a class="code" href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a99d52d6b585e5a9abd4eea85265e9cd9">BailoutId::FunctionEntry</a>());</div>
<div class="line"><a name="l11082"></a><span class="lineno">11082</span>&#160;  <span class="keywordflow">return</span> inner;</div>
<div class="line"><a name="l11083"></a><span class="lineno">11083</span>&#160;}</div>
<div class="line"><a name="l11084"></a><span class="lineno">11084</span>&#160;</div>
<div class="line"><a name="l11085"></a><span class="lineno">11085</span>&#160;</div>
<div class="line"><a name="l11086"></a><span class="lineno">11086</span>&#160;<span class="keywordtype">void</span> HEnvironment::PrintTo(StringStream* stream) {</div>
<div class="line"><a name="l11087"></a><span class="lineno">11087</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length(); i++) {</div>
<div class="line"><a name="l11088"></a><span class="lineno">11088</span>&#160;    <span class="keywordflow">if</span> (i == 0) stream-&gt;Add(<span class="stringliteral">&quot;parameters\n&quot;</span>);</div>
<div class="line"><a name="l11089"></a><span class="lineno">11089</span>&#160;    <span class="keywordflow">if</span> (i == parameter_count()) stream-&gt;Add(<span class="stringliteral">&quot;specials\n&quot;</span>);</div>
<div class="line"><a name="l11090"></a><span class="lineno">11090</span>&#160;    <span class="keywordflow">if</span> (i == parameter_count() + specials_count()) stream-&gt;Add(<span class="stringliteral">&quot;locals\n&quot;</span>);</div>
<div class="line"><a name="l11091"></a><span class="lineno">11091</span>&#160;    <span class="keywordflow">if</span> (i == parameter_count() + specials_count() + local_count()) {</div>
<div class="line"><a name="l11092"></a><span class="lineno">11092</span>&#160;      stream-&gt;Add(<span class="stringliteral">&quot;expressions\n&quot;</span>);</div>
<div class="line"><a name="l11093"></a><span class="lineno">11093</span>&#160;    }</div>
<div class="line"><a name="l11094"></a><span class="lineno">11094</span>&#160;    HValue* val = values_.at(i);</div>
<div class="line"><a name="l11095"></a><span class="lineno">11095</span>&#160;    stream-&gt;Add(<span class="stringliteral">&quot;%d: &quot;</span>, i);</div>
<div class="line"><a name="l11096"></a><span class="lineno">11096</span>&#160;    <span class="keywordflow">if</span> (val != NULL) {</div>
<div class="line"><a name="l11097"></a><span class="lineno">11097</span>&#160;      val-&gt;PrintNameTo(stream);</div>
<div class="line"><a name="l11098"></a><span class="lineno">11098</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11099"></a><span class="lineno">11099</span>&#160;      stream-&gt;Add(<span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a name="l11100"></a><span class="lineno">11100</span>&#160;    }</div>
<div class="line"><a name="l11101"></a><span class="lineno">11101</span>&#160;    stream-&gt;Add(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l11102"></a><span class="lineno">11102</span>&#160;  }</div>
<div class="line"><a name="l11103"></a><span class="lineno">11103</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l11104"></a><span class="lineno">11104</span>&#160;}</div>
<div class="line"><a name="l11105"></a><span class="lineno">11105</span>&#160;</div>
<div class="line"><a name="l11106"></a><span class="lineno">11106</span>&#160;</div>
<div class="line"><a name="l11107"></a><span class="lineno">11107</span>&#160;<span class="keywordtype">void</span> HEnvironment::PrintToStd() {</div>
<div class="line"><a name="l11108"></a><span class="lineno">11108</span>&#160;  HeapStringAllocator string_allocator;</div>
<div class="line"><a name="l11109"></a><span class="lineno">11109</span>&#160;  StringStream trace(&amp;string_allocator);</div>
<div class="line"><a name="l11110"></a><span class="lineno">11110</span>&#160;  PrintTo(&amp;trace);</div>
<div class="line"><a name="l11111"></a><span class="lineno">11111</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%s&quot;</span>, trace.ToCString().get());</div>
<div class="line"><a name="l11112"></a><span class="lineno">11112</span>&#160;}</div>
<div class="line"><a name="l11113"></a><span class="lineno">11113</span>&#160;</div>
<div class="line"><a name="l11114"></a><span class="lineno">11114</span>&#160;</div>
<div class="line"><a name="l11115"></a><span class="lineno">11115</span>&#160;<span class="keywordtype">void</span> HTracer::TraceCompilation(CompilationInfo* info) {</div>
<div class="line"><a name="l11116"></a><span class="lineno">11116</span>&#160;  Tag tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;compilation&quot;</span>);</div>
<div class="line"><a name="l11117"></a><span class="lineno">11117</span>&#160;  <span class="keywordflow">if</span> (info-&gt;IsOptimizing()) {</div>
<div class="line"><a name="l11118"></a><span class="lineno">11118</span>&#160;    Handle&lt;String&gt; name = info-&gt;function()-&gt;debug_name();</div>
<div class="line"><a name="l11119"></a><span class="lineno">11119</span>&#160;    PrintStringProperty(<span class="stringliteral">&quot;name&quot;</span>, name-&gt;ToCString().get());</div>
<div class="line"><a name="l11120"></a><span class="lineno">11120</span>&#160;    PrintIndent();</div>
<div class="line"><a name="l11121"></a><span class="lineno">11121</span>&#160;    trace_.Add(<span class="stringliteral">&quot;method \&quot;%s:%d\&quot;\n&quot;</span>,</div>
<div class="line"><a name="l11122"></a><span class="lineno">11122</span>&#160;               name-&gt;ToCString().get(),</div>
<div class="line"><a name="l11123"></a><span class="lineno">11123</span>&#160;               info-&gt;optimization_id());</div>
<div class="line"><a name="l11124"></a><span class="lineno">11124</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11125"></a><span class="lineno">11125</span>&#160;    CodeStub::Major major_key = info-&gt;code_stub()-&gt;MajorKey();</div>
<div class="line"><a name="l11126"></a><span class="lineno">11126</span>&#160;    PrintStringProperty(<span class="stringliteral">&quot;name&quot;</span>, CodeStub::MajorName(major_key, <span class="keyword">false</span>));</div>
<div class="line"><a name="l11127"></a><span class="lineno">11127</span>&#160;    PrintStringProperty(<span class="stringliteral">&quot;method&quot;</span>, <span class="stringliteral">&quot;stub&quot;</span>);</div>
<div class="line"><a name="l11128"></a><span class="lineno">11128</span>&#160;  }</div>
<div class="line"><a name="l11129"></a><span class="lineno">11129</span>&#160;  PrintLongProperty(<span class="stringliteral">&quot;date&quot;</span>, static_cast&lt;int64_t&gt;(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac66145f5794e9999422ed814b46c7604">OS::TimeCurrentMillis</a>()));</div>
<div class="line"><a name="l11130"></a><span class="lineno">11130</span>&#160;}</div>
<div class="line"><a name="l11131"></a><span class="lineno">11131</span>&#160;</div>
<div class="line"><a name="l11132"></a><span class="lineno">11132</span>&#160;</div>
<div class="line"><a name="l11133"></a><span class="lineno">11133</span>&#160;<span class="keywordtype">void</span> HTracer::TraceLithium(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, LChunk* chunk) {</div>
<div class="line"><a name="l11134"></a><span class="lineno">11134</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!chunk-&gt;isolate()-&gt;concurrent_recompilation_enabled());</div>
<div class="line"><a name="l11135"></a><span class="lineno">11135</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a335c234ff71f2adc947efab0319619e4">AllowHandleDereference</a> allow_deref;</div>
<div class="line"><a name="l11136"></a><span class="lineno">11136</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">AllowDeferredHandleDereference</a> allow_deferred_deref;</div>
<div class="line"><a name="l11137"></a><span class="lineno">11137</span>&#160;  Trace(name, chunk-&gt;graph(), chunk);</div>
<div class="line"><a name="l11138"></a><span class="lineno">11138</span>&#160;}</div>
<div class="line"><a name="l11139"></a><span class="lineno">11139</span>&#160;</div>
<div class="line"><a name="l11140"></a><span class="lineno">11140</span>&#160;</div>
<div class="line"><a name="l11141"></a><span class="lineno">11141</span>&#160;<span class="keywordtype">void</span> HTracer::TraceHydrogen(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, HGraph* graph) {</div>
<div class="line"><a name="l11142"></a><span class="lineno">11142</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!graph-&gt;isolate()-&gt;concurrent_recompilation_enabled());</div>
<div class="line"><a name="l11143"></a><span class="lineno">11143</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a335c234ff71f2adc947efab0319619e4">AllowHandleDereference</a> allow_deref;</div>
<div class="line"><a name="l11144"></a><span class="lineno">11144</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">AllowDeferredHandleDereference</a> allow_deferred_deref;</div>
<div class="line"><a name="l11145"></a><span class="lineno">11145</span>&#160;  Trace(name, graph, NULL);</div>
<div class="line"><a name="l11146"></a><span class="lineno">11146</span>&#160;}</div>
<div class="line"><a name="l11147"></a><span class="lineno">11147</span>&#160;</div>
<div class="line"><a name="l11148"></a><span class="lineno">11148</span>&#160;</div>
<div class="line"><a name="l11149"></a><span class="lineno">11149</span>&#160;<span class="keywordtype">void</span> HTracer::Trace(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, HGraph* graph, LChunk* chunk) {</div>
<div class="line"><a name="l11150"></a><span class="lineno">11150</span>&#160;  Tag tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;cfg&quot;</span>);</div>
<div class="line"><a name="l11151"></a><span class="lineno">11151</span>&#160;  PrintStringProperty(<span class="stringliteral">&quot;name&quot;</span>, name);</div>
<div class="line"><a name="l11152"></a><span class="lineno">11152</span>&#160;  <span class="keyword">const</span> ZoneList&lt;HBasicBlock*&gt;* blocks = graph-&gt;blocks();</div>
<div class="line"><a name="l11153"></a><span class="lineno">11153</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; blocks-&gt;length(); i++) {</div>
<div class="line"><a name="l11154"></a><span class="lineno">11154</span>&#160;    HBasicBlock* current = blocks-&gt;at(i);</div>
<div class="line"><a name="l11155"></a><span class="lineno">11155</span>&#160;    Tag block_tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;block&quot;</span>);</div>
<div class="line"><a name="l11156"></a><span class="lineno">11156</span>&#160;    PrintBlockProperty(<span class="stringliteral">&quot;name&quot;</span>, current-&gt;block_id());</div>
<div class="line"><a name="l11157"></a><span class="lineno">11157</span>&#160;    PrintIntProperty(<span class="stringliteral">&quot;from_bci&quot;</span>, -1);</div>
<div class="line"><a name="l11158"></a><span class="lineno">11158</span>&#160;    PrintIntProperty(<span class="stringliteral">&quot;to_bci&quot;</span>, -1);</div>
<div class="line"><a name="l11159"></a><span class="lineno">11159</span>&#160;</div>
<div class="line"><a name="l11160"></a><span class="lineno">11160</span>&#160;    <span class="keywordflow">if</span> (!current-&gt;predecessors()-&gt;is_empty()) {</div>
<div class="line"><a name="l11161"></a><span class="lineno">11161</span>&#160;      PrintIndent();</div>
<div class="line"><a name="l11162"></a><span class="lineno">11162</span>&#160;      trace_.Add(<span class="stringliteral">&quot;predecessors&quot;</span>);</div>
<div class="line"><a name="l11163"></a><span class="lineno">11163</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; current-&gt;predecessors()-&gt;length(); ++j) {</div>
<div class="line"><a name="l11164"></a><span class="lineno">11164</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;B%d\&quot;&quot;</span>, current-&gt;predecessors()-&gt;at(j)-&gt;block_id());</div>
<div class="line"><a name="l11165"></a><span class="lineno">11165</span>&#160;      }</div>
<div class="line"><a name="l11166"></a><span class="lineno">11166</span>&#160;      trace_.Add(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l11167"></a><span class="lineno">11167</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11168"></a><span class="lineno">11168</span>&#160;      PrintEmptyProperty(<span class="stringliteral">&quot;predecessors&quot;</span>);</div>
<div class="line"><a name="l11169"></a><span class="lineno">11169</span>&#160;    }</div>
<div class="line"><a name="l11170"></a><span class="lineno">11170</span>&#160;</div>
<div class="line"><a name="l11171"></a><span class="lineno">11171</span>&#160;    <span class="keywordflow">if</span> (current-&gt;end()-&gt;SuccessorCount() == 0) {</div>
<div class="line"><a name="l11172"></a><span class="lineno">11172</span>&#160;      PrintEmptyProperty(<span class="stringliteral">&quot;successors&quot;</span>);</div>
<div class="line"><a name="l11173"></a><span class="lineno">11173</span>&#160;    } <span class="keywordflow">else</span>  {</div>
<div class="line"><a name="l11174"></a><span class="lineno">11174</span>&#160;      PrintIndent();</div>
<div class="line"><a name="l11175"></a><span class="lineno">11175</span>&#160;      trace_.Add(<span class="stringliteral">&quot;successors&quot;</span>);</div>
<div class="line"><a name="l11176"></a><span class="lineno">11176</span>&#160;      <span class="keywordflow">for</span> (HSuccessorIterator it(current-&gt;end()); !it.Done(); it.Advance()) {</div>
<div class="line"><a name="l11177"></a><span class="lineno">11177</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;B%d\&quot;&quot;</span>, it.Current()-&gt;block_id());</div>
<div class="line"><a name="l11178"></a><span class="lineno">11178</span>&#160;      }</div>
<div class="line"><a name="l11179"></a><span class="lineno">11179</span>&#160;      trace_.Add(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l11180"></a><span class="lineno">11180</span>&#160;    }</div>
<div class="line"><a name="l11181"></a><span class="lineno">11181</span>&#160;</div>
<div class="line"><a name="l11182"></a><span class="lineno">11182</span>&#160;    PrintEmptyProperty(<span class="stringliteral">&quot;xhandlers&quot;</span>);</div>
<div class="line"><a name="l11183"></a><span class="lineno">11183</span>&#160;</div>
<div class="line"><a name="l11184"></a><span class="lineno">11184</span>&#160;    {</div>
<div class="line"><a name="l11185"></a><span class="lineno">11185</span>&#160;      PrintIndent();</div>
<div class="line"><a name="l11186"></a><span class="lineno">11186</span>&#160;      trace_.Add(<span class="stringliteral">&quot;flags&quot;</span>);</div>
<div class="line"><a name="l11187"></a><span class="lineno">11187</span>&#160;      <span class="keywordflow">if</span> (current-&gt;IsLoopSuccessorDominator()) {</div>
<div class="line"><a name="l11188"></a><span class="lineno">11188</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;dom-loop-succ\&quot;&quot;</span>);</div>
<div class="line"><a name="l11189"></a><span class="lineno">11189</span>&#160;      }</div>
<div class="line"><a name="l11190"></a><span class="lineno">11190</span>&#160;      <span class="keywordflow">if</span> (current-&gt;IsUnreachable()) {</div>
<div class="line"><a name="l11191"></a><span class="lineno">11191</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;dead\&quot;&quot;</span>);</div>
<div class="line"><a name="l11192"></a><span class="lineno">11192</span>&#160;      }</div>
<div class="line"><a name="l11193"></a><span class="lineno">11193</span>&#160;      <span class="keywordflow">if</span> (current-&gt;is_osr_entry()) {</div>
<div class="line"><a name="l11194"></a><span class="lineno">11194</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;osr\&quot;&quot;</span>);</div>
<div class="line"><a name="l11195"></a><span class="lineno">11195</span>&#160;      }</div>
<div class="line"><a name="l11196"></a><span class="lineno">11196</span>&#160;      trace_.Add(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l11197"></a><span class="lineno">11197</span>&#160;    }</div>
<div class="line"><a name="l11198"></a><span class="lineno">11198</span>&#160;</div>
<div class="line"><a name="l11199"></a><span class="lineno">11199</span>&#160;    <span class="keywordflow">if</span> (current-&gt;dominator() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l11200"></a><span class="lineno">11200</span>&#160;      PrintBlockProperty(<span class="stringliteral">&quot;dominator&quot;</span>, current-&gt;dominator()-&gt;block_id());</div>
<div class="line"><a name="l11201"></a><span class="lineno">11201</span>&#160;    }</div>
<div class="line"><a name="l11202"></a><span class="lineno">11202</span>&#160;</div>
<div class="line"><a name="l11203"></a><span class="lineno">11203</span>&#160;    PrintIntProperty(<span class="stringliteral">&quot;loop_depth&quot;</span>, current-&gt;LoopNestingDepth());</div>
<div class="line"><a name="l11204"></a><span class="lineno">11204</span>&#160;</div>
<div class="line"><a name="l11205"></a><span class="lineno">11205</span>&#160;    <span class="keywordflow">if</span> (chunk != NULL) {</div>
<div class="line"><a name="l11206"></a><span class="lineno">11206</span>&#160;      <span class="keywordtype">int</span> first_index = current-&gt;first_instruction_index();</div>
<div class="line"><a name="l11207"></a><span class="lineno">11207</span>&#160;      <span class="keywordtype">int</span> last_index = current-&gt;last_instruction_index();</div>
<div class="line"><a name="l11208"></a><span class="lineno">11208</span>&#160;      PrintIntProperty(</div>
<div class="line"><a name="l11209"></a><span class="lineno">11209</span>&#160;          <span class="stringliteral">&quot;first_lir_id&quot;</span>,</div>
<div class="line"><a name="l11210"></a><span class="lineno">11210</span>&#160;          <a class="code" href="../../d5/d8b/classv8_1_1internal_1_1_lifetime_position.html#ae3babd8100b336b73e8938d84ab759cb">LifetimePosition::FromInstructionIndex</a>(first_index).Value());</div>
<div class="line"><a name="l11211"></a><span class="lineno">11211</span>&#160;      PrintIntProperty(</div>
<div class="line"><a name="l11212"></a><span class="lineno">11212</span>&#160;          <span class="stringliteral">&quot;last_lir_id&quot;</span>,</div>
<div class="line"><a name="l11213"></a><span class="lineno">11213</span>&#160;          <a class="code" href="../../d5/d8b/classv8_1_1internal_1_1_lifetime_position.html#ae3babd8100b336b73e8938d84ab759cb">LifetimePosition::FromInstructionIndex</a>(last_index).Value());</div>
<div class="line"><a name="l11214"></a><span class="lineno">11214</span>&#160;    }</div>
<div class="line"><a name="l11215"></a><span class="lineno">11215</span>&#160;</div>
<div class="line"><a name="l11216"></a><span class="lineno">11216</span>&#160;    {</div>
<div class="line"><a name="l11217"></a><span class="lineno">11217</span>&#160;      Tag states_tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;states&quot;</span>);</div>
<div class="line"><a name="l11218"></a><span class="lineno">11218</span>&#160;      Tag locals_tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;locals&quot;</span>);</div>
<div class="line"><a name="l11219"></a><span class="lineno">11219</span>&#160;      <span class="keywordtype">int</span> total = current-&gt;phis()-&gt;length();</div>
<div class="line"><a name="l11220"></a><span class="lineno">11220</span>&#160;      PrintIntProperty(<span class="stringliteral">&quot;size&quot;</span>, current-&gt;phis()-&gt;length());</div>
<div class="line"><a name="l11221"></a><span class="lineno">11221</span>&#160;      PrintStringProperty(<span class="stringliteral">&quot;method&quot;</span>, <span class="stringliteral">&quot;None&quot;</span>);</div>
<div class="line"><a name="l11222"></a><span class="lineno">11222</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; total; ++j) {</div>
<div class="line"><a name="l11223"></a><span class="lineno">11223</span>&#160;        HPhi* phi = current-&gt;phis()-&gt;at(j);</div>
<div class="line"><a name="l11224"></a><span class="lineno">11224</span>&#160;        PrintIndent();</div>
<div class="line"><a name="l11225"></a><span class="lineno">11225</span>&#160;        trace_.Add(<span class="stringliteral">&quot;%d &quot;</span>, phi-&gt;merged_index());</div>
<div class="line"><a name="l11226"></a><span class="lineno">11226</span>&#160;        phi-&gt;PrintNameTo(&amp;trace_);</div>
<div class="line"><a name="l11227"></a><span class="lineno">11227</span>&#160;        trace_.Add(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l11228"></a><span class="lineno">11228</span>&#160;        phi-&gt;PrintTo(&amp;trace_);</div>
<div class="line"><a name="l11229"></a><span class="lineno">11229</span>&#160;        trace_.Add(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l11230"></a><span class="lineno">11230</span>&#160;      }</div>
<div class="line"><a name="l11231"></a><span class="lineno">11231</span>&#160;    }</div>
<div class="line"><a name="l11232"></a><span class="lineno">11232</span>&#160;</div>
<div class="line"><a name="l11233"></a><span class="lineno">11233</span>&#160;    {</div>
<div class="line"><a name="l11234"></a><span class="lineno">11234</span>&#160;      Tag HIR_tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;HIR&quot;</span>);</div>
<div class="line"><a name="l11235"></a><span class="lineno">11235</span>&#160;      <span class="keywordflow">for</span> (HInstructionIterator it(current); !it.Done(); it.Advance()) {</div>
<div class="line"><a name="l11236"></a><span class="lineno">11236</span>&#160;        HInstruction* instruction = it.Current();</div>
<div class="line"><a name="l11237"></a><span class="lineno">11237</span>&#160;        <span class="keywordtype">int</span> uses = instruction-&gt;UseCount();</div>
<div class="line"><a name="l11238"></a><span class="lineno">11238</span>&#160;        PrintIndent();</div>
<div class="line"><a name="l11239"></a><span class="lineno">11239</span>&#160;        trace_.Add(<span class="stringliteral">&quot;0 %d &quot;</span>, uses);</div>
<div class="line"><a name="l11240"></a><span class="lineno">11240</span>&#160;        instruction-&gt;PrintNameTo(&amp;trace_);</div>
<div class="line"><a name="l11241"></a><span class="lineno">11241</span>&#160;        trace_.Add(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l11242"></a><span class="lineno">11242</span>&#160;        instruction-&gt;PrintTo(&amp;trace_);</div>
<div class="line"><a name="l11243"></a><span class="lineno">11243</span>&#160;        <span class="keywordflow">if</span> (FLAG_hydrogen_track_positions &amp;&amp;</div>
<div class="line"><a name="l11244"></a><span class="lineno">11244</span>&#160;            instruction-&gt;has_position() &amp;&amp;</div>
<div class="line"><a name="l11245"></a><span class="lineno">11245</span>&#160;            instruction-&gt;position().raw() != 0) {</div>
<div class="line"><a name="l11246"></a><span class="lineno">11246</span>&#160;          <span class="keyword">const</span> HSourcePosition pos = instruction-&gt;position();</div>
<div class="line"><a name="l11247"></a><span class="lineno">11247</span>&#160;          trace_.Add(<span class="stringliteral">&quot; pos:&quot;</span>);</div>
<div class="line"><a name="l11248"></a><span class="lineno">11248</span>&#160;          <span class="keywordflow">if</span> (pos.inlining_id() != 0) {</div>
<div class="line"><a name="l11249"></a><span class="lineno">11249</span>&#160;            trace_.Add(<span class="stringliteral">&quot;%d_&quot;</span>, pos.inlining_id());</div>
<div class="line"><a name="l11250"></a><span class="lineno">11250</span>&#160;          }</div>
<div class="line"><a name="l11251"></a><span class="lineno">11251</span>&#160;          trace_.Add(<span class="stringliteral">&quot;%d&quot;</span>, pos.position());</div>
<div class="line"><a name="l11252"></a><span class="lineno">11252</span>&#160;        }</div>
<div class="line"><a name="l11253"></a><span class="lineno">11253</span>&#160;        trace_.Add(<span class="stringliteral">&quot; &lt;|@\n&quot;</span>);</div>
<div class="line"><a name="l11254"></a><span class="lineno">11254</span>&#160;      }</div>
<div class="line"><a name="l11255"></a><span class="lineno">11255</span>&#160;    }</div>
<div class="line"><a name="l11256"></a><span class="lineno">11256</span>&#160;</div>
<div class="line"><a name="l11257"></a><span class="lineno">11257</span>&#160;</div>
<div class="line"><a name="l11258"></a><span class="lineno">11258</span>&#160;    <span class="keywordflow">if</span> (chunk != NULL) {</div>
<div class="line"><a name="l11259"></a><span class="lineno">11259</span>&#160;      Tag LIR_tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;LIR&quot;</span>);</div>
<div class="line"><a name="l11260"></a><span class="lineno">11260</span>&#160;      <span class="keywordtype">int</span> first_index = current-&gt;first_instruction_index();</div>
<div class="line"><a name="l11261"></a><span class="lineno">11261</span>&#160;      <span class="keywordtype">int</span> last_index = current-&gt;last_instruction_index();</div>
<div class="line"><a name="l11262"></a><span class="lineno">11262</span>&#160;      <span class="keywordflow">if</span> (first_index != -1 &amp;&amp; last_index != -1) {</div>
<div class="line"><a name="l11263"></a><span class="lineno">11263</span>&#160;        <span class="keyword">const</span> ZoneList&lt;LInstruction*&gt;* instructions = chunk-&gt;instructions();</div>
<div class="line"><a name="l11264"></a><span class="lineno">11264</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = first_index; i &lt;= last_index; ++i) {</div>
<div class="line"><a name="l11265"></a><span class="lineno">11265</span>&#160;          LInstruction* linstr = instructions-&gt;at(i);</div>
<div class="line"><a name="l11266"></a><span class="lineno">11266</span>&#160;          <span class="keywordflow">if</span> (linstr != NULL) {</div>
<div class="line"><a name="l11267"></a><span class="lineno">11267</span>&#160;            PrintIndent();</div>
<div class="line"><a name="l11268"></a><span class="lineno">11268</span>&#160;            trace_.Add(<span class="stringliteral">&quot;%d &quot;</span>,</div>
<div class="line"><a name="l11269"></a><span class="lineno">11269</span>&#160;                       <a class="code" href="../../d5/d8b/classv8_1_1internal_1_1_lifetime_position.html#ae3babd8100b336b73e8938d84ab759cb">LifetimePosition::FromInstructionIndex</a>(i).Value());</div>
<div class="line"><a name="l11270"></a><span class="lineno">11270</span>&#160;            linstr-&gt;PrintTo(&amp;trace_);</div>
<div class="line"><a name="l11271"></a><span class="lineno">11271</span>&#160;            trace_.Add(<span class="stringliteral">&quot; [hir:&quot;</span>);</div>
<div class="line"><a name="l11272"></a><span class="lineno">11272</span>&#160;            linstr-&gt;hydrogen_value()-&gt;PrintNameTo(&amp;trace_);</div>
<div class="line"><a name="l11273"></a><span class="lineno">11273</span>&#160;            trace_.Add(<span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l11274"></a><span class="lineno">11274</span>&#160;            trace_.Add(<span class="stringliteral">&quot; &lt;|@\n&quot;</span>);</div>
<div class="line"><a name="l11275"></a><span class="lineno">11275</span>&#160;          }</div>
<div class="line"><a name="l11276"></a><span class="lineno">11276</span>&#160;        }</div>
<div class="line"><a name="l11277"></a><span class="lineno">11277</span>&#160;      }</div>
<div class="line"><a name="l11278"></a><span class="lineno">11278</span>&#160;    }</div>
<div class="line"><a name="l11279"></a><span class="lineno">11279</span>&#160;  }</div>
<div class="line"><a name="l11280"></a><span class="lineno">11280</span>&#160;}</div>
<div class="line"><a name="l11281"></a><span class="lineno">11281</span>&#160;</div>
<div class="line"><a name="l11282"></a><span class="lineno">11282</span>&#160;</div>
<div class="line"><a name="l11283"></a><span class="lineno">11283</span>&#160;<span class="keywordtype">void</span> HTracer::TraceLiveRanges(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, LAllocator* allocator) {</div>
<div class="line"><a name="l11284"></a><span class="lineno">11284</span>&#160;  Tag tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;intervals&quot;</span>);</div>
<div class="line"><a name="l11285"></a><span class="lineno">11285</span>&#160;  PrintStringProperty(<span class="stringliteral">&quot;name&quot;</span>, name);</div>
<div class="line"><a name="l11286"></a><span class="lineno">11286</span>&#160;</div>
<div class="line"><a name="l11287"></a><span class="lineno">11287</span>&#160;  <span class="keyword">const</span> Vector&lt;LiveRange*&gt;* fixed_d = allocator-&gt;fixed_double_live_ranges();</div>
<div class="line"><a name="l11288"></a><span class="lineno">11288</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; fixed_d-&gt;length(); ++i) {</div>
<div class="line"><a name="l11289"></a><span class="lineno">11289</span>&#160;    TraceLiveRange(fixed_d-&gt;at(i), <span class="stringliteral">&quot;fixed&quot;</span>, allocator-&gt;zone());</div>
<div class="line"><a name="l11290"></a><span class="lineno">11290</span>&#160;  }</div>
<div class="line"><a name="l11291"></a><span class="lineno">11291</span>&#160;</div>
<div class="line"><a name="l11292"></a><span class="lineno">11292</span>&#160;  <span class="keyword">const</span> Vector&lt;LiveRange*&gt;* fixed = allocator-&gt;fixed_live_ranges();</div>
<div class="line"><a name="l11293"></a><span class="lineno">11293</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; fixed-&gt;length(); ++i) {</div>
<div class="line"><a name="l11294"></a><span class="lineno">11294</span>&#160;    TraceLiveRange(fixed-&gt;at(i), <span class="stringliteral">&quot;fixed&quot;</span>, allocator-&gt;zone());</div>
<div class="line"><a name="l11295"></a><span class="lineno">11295</span>&#160;  }</div>
<div class="line"><a name="l11296"></a><span class="lineno">11296</span>&#160;</div>
<div class="line"><a name="l11297"></a><span class="lineno">11297</span>&#160;  <span class="keyword">const</span> ZoneList&lt;LiveRange*&gt;* live_ranges = allocator-&gt;live_ranges();</div>
<div class="line"><a name="l11298"></a><span class="lineno">11298</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; live_ranges-&gt;length(); ++i) {</div>
<div class="line"><a name="l11299"></a><span class="lineno">11299</span>&#160;    TraceLiveRange(live_ranges-&gt;at(i), <span class="stringliteral">&quot;object&quot;</span>, allocator-&gt;zone());</div>
<div class="line"><a name="l11300"></a><span class="lineno">11300</span>&#160;  }</div>
<div class="line"><a name="l11301"></a><span class="lineno">11301</span>&#160;}</div>
<div class="line"><a name="l11302"></a><span class="lineno">11302</span>&#160;</div>
<div class="line"><a name="l11303"></a><span class="lineno">11303</span>&#160;</div>
<div class="line"><a name="l11304"></a><span class="lineno">11304</span>&#160;<span class="keywordtype">void</span> HTracer::TraceLiveRange(LiveRange* range, <span class="keyword">const</span> <span class="keywordtype">char</span>* type,</div>
<div class="line"><a name="l11305"></a><span class="lineno">11305</span>&#160;                             Zone* zone) {</div>
<div class="line"><a name="l11306"></a><span class="lineno">11306</span>&#160;  <span class="keywordflow">if</span> (range != NULL &amp;&amp; !range-&gt;IsEmpty()) {</div>
<div class="line"><a name="l11307"></a><span class="lineno">11307</span>&#160;    PrintIndent();</div>
<div class="line"><a name="l11308"></a><span class="lineno">11308</span>&#160;    trace_.Add(<span class="stringliteral">&quot;%d %s&quot;</span>, range-&gt;id(), type);</div>
<div class="line"><a name="l11309"></a><span class="lineno">11309</span>&#160;    <span class="keywordflow">if</span> (range-&gt;HasRegisterAssigned()) {</div>
<div class="line"><a name="l11310"></a><span class="lineno">11310</span>&#160;      LOperand* op = range-&gt;CreateAssignedOperand(zone);</div>
<div class="line"><a name="l11311"></a><span class="lineno">11311</span>&#160;      <span class="keywordtype">int</span> assigned_reg = op-&gt;index();</div>
<div class="line"><a name="l11312"></a><span class="lineno">11312</span>&#160;      <span class="keywordflow">if</span> (op-&gt;IsDoubleRegister()) {</div>
<div class="line"><a name="l11313"></a><span class="lineno">11313</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><a name="l11314"></a><span class="lineno">11314</span>&#160;                   <a class="code" href="../../d5/d61/structv8_1_1internal_1_1_dw_vfp_register.html#af47d810f77f5b6fe21941e1848b76ae5">DoubleRegister::AllocationIndexToString</a>(assigned_reg));</div>
<div class="line"><a name="l11315"></a><span class="lineno">11315</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11316"></a><span class="lineno">11316</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(op-&gt;IsRegister());</div>
<div class="line"><a name="l11317"></a><span class="lineno">11317</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;%s\&quot;&quot;</span>, <a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a2ed8d3bbd04e3c5c407d895cdf50d958">Register::AllocationIndexToString</a>(assigned_reg));</div>
<div class="line"><a name="l11318"></a><span class="lineno">11318</span>&#160;      }</div>
<div class="line"><a name="l11319"></a><span class="lineno">11319</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (range-&gt;IsSpilled()) {</div>
<div class="line"><a name="l11320"></a><span class="lineno">11320</span>&#160;      LOperand* op = range-&gt;TopLevel()-&gt;GetSpillOperand();</div>
<div class="line"><a name="l11321"></a><span class="lineno">11321</span>&#160;      <span class="keywordflow">if</span> (op-&gt;IsDoubleStackSlot()) {</div>
<div class="line"><a name="l11322"></a><span class="lineno">11322</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;double_stack:%d\&quot;&quot;</span>, op-&gt;index());</div>
<div class="line"><a name="l11323"></a><span class="lineno">11323</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11324"></a><span class="lineno">11324</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(op-&gt;IsStackSlot());</div>
<div class="line"><a name="l11325"></a><span class="lineno">11325</span>&#160;        trace_.Add(<span class="stringliteral">&quot; \&quot;stack:%d\&quot;&quot;</span>, op-&gt;index());</div>
<div class="line"><a name="l11326"></a><span class="lineno">11326</span>&#160;      }</div>
<div class="line"><a name="l11327"></a><span class="lineno">11327</span>&#160;    }</div>
<div class="line"><a name="l11328"></a><span class="lineno">11328</span>&#160;    <span class="keywordtype">int</span> parent_index = -1;</div>
<div class="line"><a name="l11329"></a><span class="lineno">11329</span>&#160;    <span class="keywordflow">if</span> (range-&gt;IsChild()) {</div>
<div class="line"><a name="l11330"></a><span class="lineno">11330</span>&#160;      parent_index = range-&gt;parent()-&gt;id();</div>
<div class="line"><a name="l11331"></a><span class="lineno">11331</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11332"></a><span class="lineno">11332</span>&#160;      parent_index = range-&gt;id();</div>
<div class="line"><a name="l11333"></a><span class="lineno">11333</span>&#160;    }</div>
<div class="line"><a name="l11334"></a><span class="lineno">11334</span>&#160;    LOperand* op = range-&gt;FirstHint();</div>
<div class="line"><a name="l11335"></a><span class="lineno">11335</span>&#160;    <span class="keywordtype">int</span> hint_index = -1;</div>
<div class="line"><a name="l11336"></a><span class="lineno">11336</span>&#160;    <span class="keywordflow">if</span> (op != NULL &amp;&amp; op-&gt;IsUnallocated()) {</div>
<div class="line"><a name="l11337"></a><span class="lineno">11337</span>&#160;      hint_index = <a class="code" href="../../d0/dd6/classv8_1_1internal_1_1_l_unallocated.html#ab8f7ff98d3c9f1959fb37f325e422233">LUnallocated::cast</a>(op)-&gt;<a class="code" href="../../d0/dd6/classv8_1_1internal_1_1_l_unallocated.html#aa6430f4922e79f80bc5b1298e5998235">virtual_register</a>();</div>
<div class="line"><a name="l11338"></a><span class="lineno">11338</span>&#160;    }</div>
<div class="line"><a name="l11339"></a><span class="lineno">11339</span>&#160;    trace_.Add(<span class="stringliteral">&quot; %d %d&quot;</span>, parent_index, hint_index);</div>
<div class="line"><a name="l11340"></a><span class="lineno">11340</span>&#160;    UseInterval* cur_interval = range-&gt;first_interval();</div>
<div class="line"><a name="l11341"></a><span class="lineno">11341</span>&#160;    <span class="keywordflow">while</span> (cur_interval != NULL &amp;&amp; range-&gt;Covers(cur_interval-&gt;start())) {</div>
<div class="line"><a name="l11342"></a><span class="lineno">11342</span>&#160;      trace_.Add(<span class="stringliteral">&quot; [%d, %d[&quot;</span>,</div>
<div class="line"><a name="l11343"></a><span class="lineno">11343</span>&#160;                 cur_interval-&gt;start().Value(),</div>
<div class="line"><a name="l11344"></a><span class="lineno">11344</span>&#160;                 cur_interval-&gt;end().Value());</div>
<div class="line"><a name="l11345"></a><span class="lineno">11345</span>&#160;      cur_interval = cur_interval-&gt;next();</div>
<div class="line"><a name="l11346"></a><span class="lineno">11346</span>&#160;    }</div>
<div class="line"><a name="l11347"></a><span class="lineno">11347</span>&#160;</div>
<div class="line"><a name="l11348"></a><span class="lineno">11348</span>&#160;    UsePosition* current_pos = range-&gt;first_pos();</div>
<div class="line"><a name="l11349"></a><span class="lineno">11349</span>&#160;    <span class="keywordflow">while</span> (current_pos != NULL) {</div>
<div class="line"><a name="l11350"></a><span class="lineno">11350</span>&#160;      <span class="keywordflow">if</span> (current_pos-&gt;RegisterIsBeneficial() || FLAG_trace_all_uses) {</div>
<div class="line"><a name="l11351"></a><span class="lineno">11351</span>&#160;        trace_.Add(<span class="stringliteral">&quot; %d M&quot;</span>, current_pos-&gt;pos().Value());</div>
<div class="line"><a name="l11352"></a><span class="lineno">11352</span>&#160;      }</div>
<div class="line"><a name="l11353"></a><span class="lineno">11353</span>&#160;      current_pos = current_pos-&gt;next();</div>
<div class="line"><a name="l11354"></a><span class="lineno">11354</span>&#160;    }</div>
<div class="line"><a name="l11355"></a><span class="lineno">11355</span>&#160;</div>
<div class="line"><a name="l11356"></a><span class="lineno">11356</span>&#160;    trace_.Add(<span class="stringliteral">&quot; \&quot;\&quot;\n&quot;</span>);</div>
<div class="line"><a name="l11357"></a><span class="lineno">11357</span>&#160;  }</div>
<div class="line"><a name="l11358"></a><span class="lineno">11358</span>&#160;}</div>
<div class="line"><a name="l11359"></a><span class="lineno">11359</span>&#160;</div>
<div class="line"><a name="l11360"></a><span class="lineno">11360</span>&#160;</div>
<div class="line"><a name="l11361"></a><span class="lineno">11361</span>&#160;<span class="keywordtype">void</span> HTracer::FlushToFile() {</div>
<div class="line"><a name="l11362"></a><span class="lineno">11362</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a667e6e408dfc0eda4da5a312b8e120ed">AppendChars</a>(filename_.start(), trace_.ToCString().get(), trace_.length(),</div>
<div class="line"><a name="l11363"></a><span class="lineno">11363</span>&#160;              <span class="keyword">false</span>);</div>
<div class="line"><a name="l11364"></a><span class="lineno">11364</span>&#160;  trace_.Reset();</div>
<div class="line"><a name="l11365"></a><span class="lineno">11365</span>&#160;}</div>
<div class="line"><a name="l11366"></a><span class="lineno">11366</span>&#160;</div>
<div class="line"><a name="l11367"></a><span class="lineno">11367</span>&#160;</div>
<div class="line"><a name="l11368"></a><span class="lineno">11368</span>&#160;<span class="keywordtype">void</span> HStatistics::Initialize(CompilationInfo* info) {</div>
<div class="line"><a name="l11369"></a><span class="lineno">11369</span>&#160;  <span class="keywordflow">if</span> (info-&gt;shared_info().is_null()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11370"></a><span class="lineno">11370</span>&#160;  source_size_ += info-&gt;shared_info()-&gt;SourceSize();</div>
<div class="line"><a name="l11371"></a><span class="lineno">11371</span>&#160;}</div>
<div class="line"><a name="l11372"></a><span class="lineno">11372</span>&#160;</div>
<div class="line"><a name="l11373"></a><span class="lineno">11373</span>&#160;</div>
<div class="line"><a name="l11374"></a><span class="lineno">11374</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d3d/lineprocessor_8cc.html#ae8c66ce018b4628b2aa348692e88ec9c">HStatistics::Print</a>() {</div>
<div class="line"><a name="l11375"></a><span class="lineno">11375</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Timing results:\n&quot;</span>);</div>
<div class="line"><a name="l11376"></a><span class="lineno">11376</span>&#160;  TimeDelta sum;</div>
<div class="line"><a name="l11377"></a><span class="lineno">11377</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; times_.length(); ++i) {</div>
<div class="line"><a name="l11378"></a><span class="lineno">11378</span>&#160;    sum += times_[i];</div>
<div class="line"><a name="l11379"></a><span class="lineno">11379</span>&#160;  }</div>
<div class="line"><a name="l11380"></a><span class="lineno">11380</span>&#160;</div>
<div class="line"><a name="l11381"></a><span class="lineno">11381</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; names_.length(); ++i) {</div>
<div class="line"><a name="l11382"></a><span class="lineno">11382</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%32s&quot;</span>, names_[i]);</div>
<div class="line"><a name="l11383"></a><span class="lineno">11383</span>&#160;    <span class="keywordtype">double</span> ms = times_[i].InMillisecondsF();</div>
<div class="line"><a name="l11384"></a><span class="lineno">11384</span>&#160;    <span class="keywordtype">double</span> percent = times_[i].PercentOf(sum);</div>
<div class="line"><a name="l11385"></a><span class="lineno">11385</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot; %8.3f ms / %4.1f %% &quot;</span>, ms, percent);</div>
<div class="line"><a name="l11386"></a><span class="lineno">11386</span>&#160;</div>
<div class="line"><a name="l11387"></a><span class="lineno">11387</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a> = sizes_[i];</div>
<div class="line"><a name="l11388"></a><span class="lineno">11388</span>&#160;    <span class="keywordtype">double</span> size_percent = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>) * 100 / total_size_;</div>
<div class="line"><a name="l11389"></a><span class="lineno">11389</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot; %9u bytes / %4.1f %%\n&quot;</span>, size, size_percent);</div>
<div class="line"><a name="l11390"></a><span class="lineno">11390</span>&#160;  }</div>
<div class="line"><a name="l11391"></a><span class="lineno">11391</span>&#160;</div>
<div class="line"><a name="l11392"></a><span class="lineno">11392</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;----------------------------------------&quot;</span></div>
<div class="line"><a name="l11393"></a><span class="lineno">11393</span>&#160;         <span class="stringliteral">&quot;---------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l11394"></a><span class="lineno">11394</span>&#160;  TimeDelta total = create_graph_ + optimize_graph_ + generate_code_;</div>
<div class="line"><a name="l11395"></a><span class="lineno">11395</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%32s %8.3f ms / %4.1f %% \n&quot;</span>,</div>
<div class="line"><a name="l11396"></a><span class="lineno">11396</span>&#160;         <span class="stringliteral">&quot;Create graph&quot;</span>,</div>
<div class="line"><a name="l11397"></a><span class="lineno">11397</span>&#160;         create_graph_.InMillisecondsF(),</div>
<div class="line"><a name="l11398"></a><span class="lineno">11398</span>&#160;         create_graph_.PercentOf(total));</div>
<div class="line"><a name="l11399"></a><span class="lineno">11399</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%32s %8.3f ms / %4.1f %% \n&quot;</span>,</div>
<div class="line"><a name="l11400"></a><span class="lineno">11400</span>&#160;         <span class="stringliteral">&quot;Optimize graph&quot;</span>,</div>
<div class="line"><a name="l11401"></a><span class="lineno">11401</span>&#160;         optimize_graph_.InMillisecondsF(),</div>
<div class="line"><a name="l11402"></a><span class="lineno">11402</span>&#160;         optimize_graph_.PercentOf(total));</div>
<div class="line"><a name="l11403"></a><span class="lineno">11403</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%32s %8.3f ms / %4.1f %% \n&quot;</span>,</div>
<div class="line"><a name="l11404"></a><span class="lineno">11404</span>&#160;         <span class="stringliteral">&quot;Generate and install code&quot;</span>,</div>
<div class="line"><a name="l11405"></a><span class="lineno">11405</span>&#160;         generate_code_.InMillisecondsF(),</div>
<div class="line"><a name="l11406"></a><span class="lineno">11406</span>&#160;         generate_code_.PercentOf(total));</div>
<div class="line"><a name="l11407"></a><span class="lineno">11407</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;----------------------------------------&quot;</span></div>
<div class="line"><a name="l11408"></a><span class="lineno">11408</span>&#160;         <span class="stringliteral">&quot;---------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l11409"></a><span class="lineno">11409</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%32s %8.3f ms (%.1f times slower than full code gen)\n&quot;</span>,</div>
<div class="line"><a name="l11410"></a><span class="lineno">11410</span>&#160;         <span class="stringliteral">&quot;Total&quot;</span>,</div>
<div class="line"><a name="l11411"></a><span class="lineno">11411</span>&#160;         total.InMillisecondsF(),</div>
<div class="line"><a name="l11412"></a><span class="lineno">11412</span>&#160;         total.TimesOf(full_code_gen_));</div>
<div class="line"><a name="l11413"></a><span class="lineno">11413</span>&#160;</div>
<div class="line"><a name="l11414"></a><span class="lineno">11414</span>&#160;  <span class="keywordtype">double</span> source_size_in_kb = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(source_size_) / 1024;</div>
<div class="line"><a name="l11415"></a><span class="lineno">11415</span>&#160;  <span class="keywordtype">double</span> normalized_time =  source_size_in_kb &gt; 0</div>
<div class="line"><a name="l11416"></a><span class="lineno">11416</span>&#160;      ? total.InMillisecondsF() / source_size_in_kb</div>
<div class="line"><a name="l11417"></a><span class="lineno">11417</span>&#160;      : 0;</div>
<div class="line"><a name="l11418"></a><span class="lineno">11418</span>&#160;  <span class="keywordtype">double</span> normalized_size_in_kb = source_size_in_kb &gt; 0</div>
<div class="line"><a name="l11419"></a><span class="lineno">11419</span>&#160;      ? total_size_ / 1024 / source_size_in_kb</div>
<div class="line"><a name="l11420"></a><span class="lineno">11420</span>&#160;      : 0;</div>
<div class="line"><a name="l11421"></a><span class="lineno">11421</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%32s %8.3f ms           %7.3f kB allocated\n&quot;</span>,</div>
<div class="line"><a name="l11422"></a><span class="lineno">11422</span>&#160;         <span class="stringliteral">&quot;Average per kB source&quot;</span>,</div>
<div class="line"><a name="l11423"></a><span class="lineno">11423</span>&#160;         normalized_time, normalized_size_in_kb);</div>
<div class="line"><a name="l11424"></a><span class="lineno">11424</span>&#160;}</div>
<div class="line"><a name="l11425"></a><span class="lineno">11425</span>&#160;</div>
<div class="line"><a name="l11426"></a><span class="lineno">11426</span>&#160;</div>
<div class="line"><a name="l11427"></a><span class="lineno">11427</span>&#160;<span class="keywordtype">void</span> HStatistics::SaveTiming(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, TimeDelta time, <span class="keywordtype">unsigned</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>) {</div>
<div class="line"><a name="l11428"></a><span class="lineno">11428</span>&#160;  total_size_ += <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>;</div>
<div class="line"><a name="l11429"></a><span class="lineno">11429</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; names_.length(); ++i) {</div>
<div class="line"><a name="l11430"></a><span class="lineno">11430</span>&#160;    <span class="keywordflow">if</span> (strcmp(names_[i], name) == 0) {</div>
<div class="line"><a name="l11431"></a><span class="lineno">11431</span>&#160;      times_[i] += time;</div>
<div class="line"><a name="l11432"></a><span class="lineno">11432</span>&#160;      sizes_[i] += <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>;</div>
<div class="line"><a name="l11433"></a><span class="lineno">11433</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11434"></a><span class="lineno">11434</span>&#160;    }</div>
<div class="line"><a name="l11435"></a><span class="lineno">11435</span>&#160;  }</div>
<div class="line"><a name="l11436"></a><span class="lineno">11436</span>&#160;  names_.Add(name);</div>
<div class="line"><a name="l11437"></a><span class="lineno">11437</span>&#160;  times_.Add(time);</div>
<div class="line"><a name="l11438"></a><span class="lineno">11438</span>&#160;  sizes_.Add(size);</div>
<div class="line"><a name="l11439"></a><span class="lineno">11439</span>&#160;}</div>
<div class="line"><a name="l11440"></a><span class="lineno">11440</span>&#160;</div>
<div class="line"><a name="l11441"></a><span class="lineno">11441</span>&#160;</div>
<div class="line"><a name="l11442"></a><span class="lineno"><a class="line" href="../../d1/d43/classv8_1_1internal_1_1_h_phase.html#affcda18e75b9c0a5e9f72dc042df6a17">11442</a></span>&#160;<a class="code" href="../../d1/d43/classv8_1_1internal_1_1_h_phase.html#affcda18e75b9c0a5e9f72dc042df6a17">HPhase::~HPhase</a>() {</div>
<div class="line"><a name="l11443"></a><span class="lineno">11443</span>&#160;  <span class="keywordflow">if</span> (ShouldProduceTraceOutput()) {</div>
<div class="line"><a name="l11444"></a><span class="lineno">11444</span>&#160;    isolate()-&gt;GetHTracer()-&gt;TraceHydrogen(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a>(), graph_);</div>
<div class="line"><a name="l11445"></a><span class="lineno">11445</span>&#160;  }</div>
<div class="line"><a name="l11446"></a><span class="lineno">11446</span>&#160;</div>
<div class="line"><a name="l11447"></a><span class="lineno">11447</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l11448"></a><span class="lineno">11448</span>&#160;  graph_-&gt;Verify(<span class="keyword">false</span>);  <span class="comment">// No full verify.</span></div>
<div class="line"><a name="l11449"></a><span class="lineno">11449</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l11450"></a><span class="lineno">11450</span>&#160;}</div>
<div class="line"><a name="l11451"></a><span class="lineno">11451</span>&#160;</div>
<div class="line"><a name="l11452"></a><span class="lineno">11452</span>&#160;} }  <span class="comment">// namespace v8::internal</span></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8ad6581d542c7eaf801284f084478b5fcc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ad6581d542c7eaf801284f084478b5fcc">v8::internal::lo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00105">constants-arm.h:105</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_aceb0f7af1e8b7e17b9d1f8b5a44da7f4"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#aceb0f7af1e8b7e17b9d1f8b5a44da7f4">v8::internal::HValue::HasObservableSideEffects</a></div><div class="ttdeci">bool HasObservableSideEffects() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00840">hydrogen-instructions.h:840</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa93c2c60a1492707ba7686a2d1579a32"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">v8::internal::NULL</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00269">flags.cc:269</a></div></div>
<div class="ttc" id="runtime_8h_html_afebafe6b41aac618d9746b01faea83b2"><div class="ttname"><a href="../../d3/d51/runtime_8h.html#afebafe6b41aac618d9746b01faea83b2">INLINE_FUNCTION_LIST</a></div><div class="ttdeci">#define INLINE_FUNCTION_LIST(F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d51/runtime_8h_source.html#l00643">runtime.h:643</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_a3927d4be0a253f5555bc8437b4ad5f01"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#a3927d4be0a253f5555bc8437b4ad5f01">v8::internal::AstContext::IsTest</a></div><div class="ttdeci">bool IsTest() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00778">hydrogen.h:778</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_ad89679cbf6adc67df21e68279a8dc602"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ad89679cbf6adc67df21e68279a8dc602">v8::internal::AstContext::AstContext</a></div><div class="ttdeci">AstContext(HOptimizedGraphBuilder *owner, Expression::Context kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03641">hydrogen.cc:3641</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_aa93c2c60a1492707ba7686a2d1579a32"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00268">flag-definitions.h:268</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_ae5f7a84db57f491f9d4ac7da3d79ea1c"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae5f7a84db57f491f9d4ac7da3d79ea1c">v8::internal::HGraphBuilder::TruncateToNumber</a></div><div class="ttdeci">HValue * TruncateToNumber(HValue *value, Type **expected)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l09139">hydrogen.cc:9139</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abce1eab366e996d40e43a1ec0e42e65c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abce1eab366e996d40e43a1ec0e42e65c">v8::internal::ArgumentsAllowedFlag</a></div><div class="ttdeci">ArgumentsAllowedFlag</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00764">hydrogen.h:764</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a6a998bcd4ddb7c919bc1001c34959e0c"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6a998bcd4ddb7c919bc1001c34959e0c">v8::internal::HGraphBuilder::GotoNoSimulate</a></div><div class="ttdeci">void GotoNoSimulate(HBasicBlock *from, HBasicBlock *target)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01100">hydrogen.h:1100</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_l_unallocated_html_ab8f7ff98d3c9f1959fb37f325e422233"><div class="ttname"><a href="../../d0/dd6/classv8_1_1internal_1_1_l_unallocated.html#ab8f7ff98d3c9f1959fb37f325e422233">v8::internal::LUnallocated::cast</a></div><div class="ttdeci">static LUnallocated * cast(LOperand *op)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/lithium_8h_source.html#l00156">lithium.h:156</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a9178497969531f003b1601efac92faa2"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a9178497969531f003b1601efac92faa2">v8::internal::HOptimizedGraphBuilder::kUnlimitedMaxInlinedNodesCumulative</a></div><div class="ttdeci">static const int kUnlimitedMaxInlinedNodesCumulative</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02089">hydrogen.h:2089</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a8f32120ce883cbe42871fb43634b71e3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a8f32120ce883cbe42871fb43634b71e3">v8::internal::CONS_STRING_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00688">objects.h:688</a></div></div>
<div class="ttc" id="lithium-codegen-ia32_8h_html"><div class="ttname"><a href="../../d7/dff/lithium-codegen-ia32_8h.html">lithium-codegen-ia32.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a0904da91507623a44c68b72ca742d17d"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0904da91507623a44c68b72ca742d17d">v8::internal::HGraphBuilder::isolate</a></div><div class="ttdeci">Isolate * isolate() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01073">hydrogen.h:1073</a></div></div>
<div class="ttc" id="hydrogen-store-elimination_8h_html"><div class="ttname"><a href="../../d4/d70/hydrogen-store-elimination_8h.html">hydrogen-store-elimination.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_source_position_html_a187767049352c3e4fc78b3983fa7b74e"><div class="ttname"><a href="../../d5/dcb/classv8_1_1internal_1_1_h_source_position.html#a187767049352c3e4fc78b3983fa7b74e">v8::internal::HSourcePosition::Unknown</a></div><div class="ttdeci">static HSourcePosition Unknown()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00562">hydrogen-instructions.h:562</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_factory_html_ae496a525e991d9456aaa253f1d9f8b4b"><div class="ttname"><a href="../../dd/d91/classv8_1_1internal_1_1_factory.html#ae496a525e991d9456aaa253f1d9f8b4b">v8::internal::Factory::CopyAndTenureFixedCOWArray</a></div><div class="ttdeci">Handle&lt; FixedArray &gt; CopyAndTenureFixedCOWArray(Handle&lt; FixedArray &gt; array)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4e/factory_8cc_source.html#l00891">factory.cc:891</a></div></div>
<div class="ttc" id="hydrogen_8cc_html_a4ac4eafb2ffd6b8823a3397d92062a0c"><div class="ttname"><a href="../../d7/dd6/hydrogen_8cc.html#a4ac4eafb2ffd6b8823a3397d92062a0c">INLINE_FUNCTION_GENERATOR_ADDRESS</a></div><div class="ttdeci">#define INLINE_FUNCTION_GENERATOR_ADDRESS(Name, argc, ressize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l08406">hydrogen.cc:8406</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aa01682ea130c8f5a5ec095c703e4da34a"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa01682ea130c8f5a5ec095c703e4da34a">v8::internal::HValue::kIsDead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00635">hydrogen-instructions.h:635</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a5f4a1744fc5eb14be17a570d979868c4"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a5f4a1744fc5eb14be17a570d979868c4">v8::internal::HOptimizedGraphBuilder::AstContext</a></div><div class="ttdeci">friend class AstContext</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02638">hydrogen.h:2638</a></div></div>
<div class="ttc" id="hydrogen-bce_8h_html"><div class="ttname"><a href="../../d7/d28/hydrogen-bce_8h.html">hydrogen-bce.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_a5fe6b8fce509e02af7fc6bb67a974a04"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#a5fe6b8fce509e02af7fc6bb67a974a04">v8::internal::Scope::function</a></div><div class="ttdeci">VariableDeclaration * function() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dee/scopes_8h_source.html#l00326">scopes.h:326</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a20318bbc99b21525406362d2c106e24f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a20318bbc99b21525406362d2c106e24f">v8::internal::IsExternalArrayElementsKind</a></div><div class="ttdeci">bool IsExternalArrayElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00113">elements-kind.h:113</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a53a6bf552f8190db0bd7c7d53f1c7918"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a53a6bf552f8190db0bd7c7d53f1c7918">v8::internal::IsHoleyElementsKind</a></div><div class="ttdeci">bool IsHoleyElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00193">elements-kind.h:193</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_ad298965c4631781c587cfedb116b4494"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad298965c4631781c587cfedb116b4494">v8::internal::HOptimizedGraphBuilder::VisitTypeof</a></div><div class="ttdeci">void VisitTypeof(UnaryOperation *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l08826">hydrogen.cc:8826</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_a7ecb839199ee379f9371723072e4148a"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a7ecb839199ee379f9371723072e4148a">v8::internal::Smi::value</a></div><div class="ttdeci">int value()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01204">objects-inl.h:1204</a></div></div>
<div class="ttc" id="hydrogen_8cc_html_af1539e36028f0cdb40351a7251785a62"><div class="ttname"><a href="../../d7/dd6/hydrogen_8cc.html#af1539e36028f0cdb40351a7251785a62">TYPED_ARRAY_CASE</a></div><div class="ttdeci">#define TYPED_ARRAY_CASE(Type, type, TYPE, ctype, size)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_function_html_ab6ff2464957e427546937ae2fd903954"><div class="ttname"><a href="../../d0/d2c/classv8_1_1internal_1_1_j_s_function.html#ab6ff2464957e427546937ae2fd903954">v8::internal::JSFunction::kPrototypeOrInitialMapOffset</a></div><div class="ttdeci">static const int kPrototypeOrInitialMapOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07519">objects.h:7519</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_afb0564821f132bfe74508af8349a0faaa82da1e51c8efee025aa3460681da25f9"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#afb0564821f132bfe74508af8349a0faaa82da1e51c8efee025aa3460681da25f9">v8::internal::String::TWO_BYTE_ENCODING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08733">objects.h:8733</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abce1eab366e996d40e43a1ec0e42e65ca96856df10030dfbb5b77444a0486a078"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abce1eab366e996d40e43a1ec0e42e65ca96856df10030dfbb5b77444a0486a078">v8::internal::ARGUMENTS_ALLOWED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00766">hydrogen.h:766</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a97d86e98faf1fa957813fcad98fecf21a3d044162d972156d897cea80f216b9ca"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21a3d044162d972156d897cea80f216b9ca">v8::internal::CONST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00473">v8globals.h:473</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_global_object_html_a0ab8cbf48f56bd048e3d04737e91a6d3"><div class="ttname"><a href="../../d2/d4f/classv8_1_1internal_1_1_global_object.html#a0ab8cbf48f56bd048e3d04737e91a6d3">v8::internal::GlobalObject::kBuiltinsOffset</a></div><div class="ttdeci">static const int kBuiltinsOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07610">objects.h:7610</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_ab4fb5109e56fc8fe77794a86fc97d6ad"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab4fb5109e56fc8fe77794a86fc97d6ad">v8::internal::HOptimizedGraphBuilder::set_ast_context</a></div><div class="ttdeci">void set_ast_context(AstContext *context)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02100">hydrogen.h:2100</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aaa7a82cffc5f09595f0bee7a7d5801e54"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aaa7a82cffc5f09595f0bee7a7d5801e54">v8::internal::HValue::kCannotBeTagged</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00612">hydrogen-instructions.h:612</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_instruction_html"><div class="ttname"><a href="../../dc/d06/classv8_1_1internal_1_1_instruction.html">v8::internal::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00505">constants-arm.h:505</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_a85e5fe0abadd9a62a781c3bfd7a80d0c"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#a85e5fe0abadd9a62a781c3bfd7a80d0c">v8::internal::Scope::calls_eval</a></div><div class="ttdeci">bool calls_eval() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dee/scopes_8h_source.html#l00299">scopes.h:299</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a29dd6ffe8f62d1541ef1c8056c028e9c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a29dd6ffe8f62d1541ef1c8056c028e9c">v8::internal::true</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths true</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00208">flags.cc:208</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html_aefab3c6fec4cd73c28fdcdd5b4b4c5f5"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html#aefab3c6fec4cd73c28fdcdd5b4b4c5f5">v8::internal::Representation::Smi</a></div><div class="ttdeci">static Representation Smi()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00111">property-details.h:111</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_zone_html"><div class="ttname"><a href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">v8::internal::Zone</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9c/zone_8h_source.html#l00063">zone.h:63</a></div></div>
<div class="ttc" id="lithium-codegen-mips_8h_html"><div class="ttname"><a href="../../d3/d74/lithium-codegen-mips_8h.html">lithium-codegen-mips.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a8eead5234540d4b192b1b646327af660"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8eead5234540d4b192b1b646327af660">v8::internal::HOptimizedGraphBuilder::VisitVoid</a></div><div class="ttdeci">void VisitVoid(UnaryOperation *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l08820">hydrogen.cc:8820</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a58402167dadb143826c6b69b0be2ee89"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a58402167dadb143826c6b69b0be2ee89">v8::internal::HValue::CopyFlag</a></div><div class="ttdeci">void CopyFlag(Flag f, HValue *other)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00809">hydrogen-instructions.h:809</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5da70e56552dee3c4945a0a410895567"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8a/v8utils_8cc_source.html#l00040">v8utils.cc:40</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a66b940b179a9a21572629d3d5c854cb4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">v8::internal::map</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf map</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00350">flags.cc:350</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a47a6afc8edfffb707948f4ac81a4c4c3"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a47a6afc8edfffb707948f4ac81a4c4c3">v8::internal::HOptimizedGraphBuilder::PushArgumentsFromEnvironment</a></div><div class="ttdeci">void PushArgumentsFromEnvironment(int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l04109">hydrogen.cc:4109</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a824da5797e1c9b7246bf465afc600c34"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34">v8::internal::AllocationSiteMode</a></div><div class="ttdeci">AllocationSiteMode</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08251">objects.h:8251</a></div></div>
<div class="ttc" id="hashmap_8h_html"><div class="ttname"><a href="../../d6/df3/hashmap_8h.html">hashmap.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_adf7b8da84cc9609b0373f431cf09fd81"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#adf7b8da84cc9609b0373f431cf09fd81">v8::internal::Heap::InNewSpace</a></div><div class="ttdeci">bool InNewSpace(Object *object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/heap-inl_8h_source.html#l00307">heap-inl.h:307</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_double_array_html_ac707eba93880560aceeb2d53ee78b31a"><div class="ttname"><a href="../../dc/d5b/classv8_1_1internal_1_1_fixed_double_array.html#ac707eba93880560aceeb2d53ee78b31a">v8::internal::FixedDoubleArray::hole_nan_as_double</a></div><div class="ttdeci">static double hole_nan_as_double()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l02161">objects-inl.h:2161</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afc77787fd5a9508e2fbbeb59ffacc436a92bd7a85c89f0d4afc3686b142829eba"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436a92bd7a85c89f0d4afc3686b142829eba">v8::internal::NO_CALL_FUNCTION_FLAGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00284">v8globals.h:284</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_osr_builder_html_a3676d4607f406871bb555f3f2f00801f"><div class="ttname"><a href="../../da/d28/classv8_1_1internal_1_1_h_osr_builder.html#a3676d4607f406871bb555f3f2f00801f">v8::internal::HOsrBuilder::FinishGraph</a></div><div class="ttdeci">void FinishGraph()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2d/hydrogen-osr_8cc_source.html#l00110">hydrogen-osr.cc:110</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_type_feedback_info_html_a4314051e5e0fb9c20a824f8f76a62c8b"><div class="ttname"><a href="../../d5/d14/classv8_1_1internal_1_1_type_feedback_info.html#a4314051e5e0fb9c20a824f8f76a62c8b">v8::internal::TypeFeedbackInfo::cast</a></div><div class="ttdeci">static TypeFeedbackInfo * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_a6391d7952fe2756ac824043f9d2f1122"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#a6391d7952fe2756ac824043f9d2f1122">v8::internal::String::cast</a></div><div class="ttdeci">static String * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_handle_html"><div class="ttname"><a href="../../da/dde/classv8_1_1internal_1_1_handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00044">handles.h:44</a></div></div>
<div class="ttc" id="structv8_1_1_maybe_html_a4fc7f59e3113e19697159919a5aad095"><div class="ttname"><a href="../../dd/dd0/structv8_1_1_maybe.html#a4fc7f59e3113e19697159919a5aad095">v8::Maybe::value</a></div><div class="ttdeci">T value</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l00923">v8.h:923</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_zone_list_html"><div class="ttname"><a href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">v8::internal::ZoneList&lt; HBasicBlock * &gt;</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_ab84faca105da29897fb8d36882864e14"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab84faca105da29897fb8d36882864e14">v8::internal::AstContext::IsEffect</a></div><div class="ttdeci">bool IsEffect() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00776">hydrogen.h:776</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae77d2fa4643ef916a7813c2ef8e8ef81a086ab1f2f4dac104b6826ebe0eaba8fd"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a086ab1f2f4dac104b6826ebe0eaba8fd">v8::internal::MUL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/constants-mips_8h_source.html#l00362">constants-mips.h:362</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_a53259c85a9a7f54c354c7871cb340073"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a53259c85a9a7f54c354c7871cb340073">v8::internal::Smi::FromInt</a></div><div class="ttdeci">static Smi * FromInt(int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01209">objects-inl.h:1209</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af25165a0aac649e233fb819b7f3cb227"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af25165a0aac649e233fb819b7f3cb227">v8::internal::IsFastObjectElementsKind</a></div><div class="ttdeci">bool IsFastObjectElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00180">elements-kind.h:180</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf111e6f2baa3eb36f69875f39239210aa7b6e853bb192e838356b1639ef1949b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf111e6f2baa3eb36f69875f39239210aa7b6e853bb192e838356b1639ef1949b">v8::internal::kUndefinedValue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6a/src_2v8_8h_source.html#l00133">v8.h:133</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_full_code_generator_html_a470e7c99901e65556fa0ccaf040ceb0c"><div class="ttname"><a href="../../dd/da6/classv8_1_1internal_1_1_full_code_generator.html#a470e7c99901e65556fa0ccaf040ceb0c">v8::internal::FullCodeGenerator::MakeCode</a></div><div class="ttdeci">static bool MakeCode(CompilationInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d27/full-codegen_8cc_source.html#l00313">full-codegen.cc:313</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afc77787fd5a9508e2fbbeb59ffacc436"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436">v8::internal::CallFunctionFlags</a></div><div class="ttdeci">CallFunctionFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00283">v8globals.h:283</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_descriptor_array_html_a797efd24938619e0c8105c9163e0ad8c"><div class="ttname"><a href="../../d2/de9/classv8_1_1internal_1_1_descriptor_array.html#a797efd24938619e0c8105c9163e0ad8c">v8::internal::DescriptorArray::kEnumCacheBridgeIndicesCacheIndex</a></div><div class="ttdeci">static const int kEnumCacheBridgeIndicesCacheIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l03495">objects.h:3495</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad903ee3efada6410bf5c8c4f11dfa22a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22a">v8::internal::LoadKeyedHoleMode</a></div><div class="ttdeci">LoadKeyedHoleMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l06275">hydrogen-instructions.h:6275</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a4130a970a56b6223325c10b99c86d635"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4130a970a56b6223325c10b99c86d635">v8::internal::HOptimizedGraphBuilder::VisitForValue</a></div><div class="ttdeci">void VisitForValue(Expression *expr, ArgumentsAllowedFlag flag=ARGUMENTS_NOT_ALLOWED)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03880">hydrogen.cc:3880</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a5f14e671c7022e7d8041c63df0df0eba"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a5f14e671c7022e7d8041c63df0df0eba">v8::internal::HValue::ClearDependsOnFlag</a></div><div class="ttdeci">void ClearDependsOnFlag(GVNFlag f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00826">hydrogen-instructions.h:826</a></div></div>
<div class="ttc" id="full-codegen_8h_html"><div class="ttname"><a href="../../d5/d3f/full-codegen_8h.html">full-codegen.h</a></div></div>
<div class="ttc" id="hydrogen-dce_8h_html"><div class="ttname"><a href="../../d8/d4c/hydrogen-dce_8h.html">hydrogen-dce.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_ac7b7d24a05cdf6542727fae3055b9481"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ac7b7d24a05cdf6542727fae3055b9481">v8::internal::HOptimizedGraphBuilder::CreateLoop</a></div><div class="ttdeci">HBasicBlock * CreateLoop(IterationStatement *statement, HBasicBlock *loop_entry, HBasicBlock *body_exit, HBasicBlock *loop_successor, HBasicBlock *break_block)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03030">hydrogen.cc:3030</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a5ca186e95070abd486484cfe8e699ef0"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a5ca186e95070abd486484cfe8e699ef0">v8::internal::HGraphBuilder::AddLoadStringInstanceType</a></div><div class="ttdeci">HInstruction * AddLoadStringInstanceType(HValue *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l06205">hydrogen.cc:6205</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_aecaf6a9545fa815deb4b8e64e144ce43a194cde856bd2d79eac8adb9741c55940"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a194cde856bd2d79eac8adb9741c55940">v8::internal::Variable::PARAMETER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00060">variables.h:60</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a30b98113e90352d2ec44b7ae2720a1cf"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a30b98113e90352d2ec44b7ae2720a1cf">v8::internal::HGraphBuilder::AddLeaveInlined</a></div><div class="ttdeci">void AddLeaveInlined(HBasicBlock *block, HValue *return_value, FunctionState *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01106">hydrogen.h:1106</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html_a6b2ed8283ad68790ff0bea12f865d599"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a6b2ed8283ad68790ff0bea12f865d599">v8::internal::CompilationInfo::script</a></div><div class="ttdeci">Handle&lt; Script &gt; script() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00083">compiler.h:83</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a7bfd0d305c9b6b28b8dc0c2fd4cefa39"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a7bfd0d305c9b6b28b8dc0c2fd4cefa39">v8::internal::FAST_HOLEY_DOUBLE_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00050">elements-kind.h:50</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_handle_html_a306bd25814bd1c8e9a575e1edb78a46c"><div class="ttname"><a href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">v8::internal::Handle&lt; String &gt;::cast</a></div><div class="ttdeci">static Handle&lt; String &gt; cast(Handle&lt; S &gt; that)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00075">handles.h:75</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a3d991e5436c66dce28b5e8a957134270"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d991e5436c66dce28b5e8a957134270">v8::internal::HOptimizedGraphBuilder::VisitDelete</a></div><div class="ttdeci">void VisitDelete(UnaryOperation *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l08780">hydrogen.cc:8780</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a867d40f0a6f0ba49621258b6c61e892e"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a867d40f0a6f0ba49621258b6c61e892e">v8::internal::HOptimizedGraphBuilder::osr</a></div><div class="ttdeci">HOsrBuilder * osr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02051">hydrogen.h:2051</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad495a9f61af7fff07d7e97979d1ab854abf8228243e229b8ef4ab53f8317cd260"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854abf8228243e229b8ef4ab53f8317cd260">v8::internal::STUB</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00560">hydrogen.h:560</a></div></div>
<div class="ttc" id="namespacev8_html_ac08707d61d5d7a69b2a5001ba10ed79ba54957cf47b2c20cda66ae848d2b3aacb"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#ac08707d61d5d7a69b2a5001ba10ed79ba54957cf47b2c20cda66ae848d2b3aacb">v8::Break</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/v8-debug_8h_source.html#l00040">v8-debug.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html_a4f0d544d3f5bdb305a8814d77b3a969d"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a4f0d544d3f5bdb305a8814d77b3a969d">v8::internal::Representation::Integer32</a></div><div class="ttdeci">static Representation Integer32()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00112">property-details.h:112</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_a96fa453b7221d11bcf0a02ba08ea5f67"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#a96fa453b7221d11bcf0a02ba08ea5f67">v8::internal::Scope::Analyze</a></div><div class="ttdeci">static bool Analyze(CompilationInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/scopes_8cc_source.html#l00278">scopes.cc:278</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html_a4a0ee773b27d2e4d061f2234fbfbaf80"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a4a0ee773b27d2e4d061f2234fbfbaf80">v8::internal::CompilationInfo::zone</a></div><div class="ttdeci">Zone * zone()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00070">compiler.h:70</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a3d1eb254f72d3525d9a08ac4c4f13ca6"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1eb254f72d3525d9a08ac4c4f13ca6">v8::internal::HOptimizedGraphBuilder::Top</a></div><div class="ttdeci">HValue * Top() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02167">hydrogen.h:2167</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_a86693e770b217a6bbb9e1872542d45b1"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#a86693e770b217a6bbb9e1872542d45b1">v8::internal::Scope::HasIllegalRedeclaration</a></div><div class="ttdeci">bool HasIllegalRedeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dee/scopes_8h_source.html#l00220">scopes.h:220</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a8caea30588dd8437e24438621711f39a"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8caea30588dd8437e24438621711f39a">v8::internal::Isolate::call_descriptor</a></div><div class="ttdeci">CallInterfaceDescriptor * call_descriptor(CallDescriptorKey index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/isolate_8cc_source.html#l02280">isolate.cc:2280</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca8406ad267a7385e2089139d9e891b9ab">v8::internal::REMOVABLE_SIMULATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l01866">hydrogen-instructions.h:1866</a></div></div>
<div class="ttc" id="runtime_8h_html"><div class="ttname"><a href="../../d3/d51/runtime_8h.html">runtime.h</a></div></div>
<div class="ttc" id="hydrogen-bch_8h_html"><div class="ttname"><a href="../../db/d3b/hydrogen-bch_8h.html">hydrogen-bch.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_adb6153bc8cd3193eebd3ccc3e2163374"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#adb6153bc8cd3193eebd3ccc3e2163374">v8::internal::HGraphBuilder::Push</a></div><div class="ttdeci">void Push(HValue *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01079">hydrogen.h:1079</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_ac5e8d679e912c212dd17e8b44bfccabbadc97b01cb7ea35850176ce41304083af"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#ac5e8d679e912c212dd17e8b44bfccabbadc97b01cb7ea35850176ce41304083af">v8::internal::Isolate::CallHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l01046">isolate.h:1046</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_bailout_id_html_aaea796eab539d0846f619ab20e3816b3"><div class="ttname"><a href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#aaea796eab539d0846f619ab20e3816b3">v8::internal::BailoutId::StubEntry</a></div><div class="ttdeci">static BailoutId StubEntry()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l01168">utils.h:1168</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_allocation_site_html_af38960e2d1da2c992b2232eb3f285c4eade4902c0c5de2581f905a6be5c738f85"><div class="ttname"><a href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#af38960e2d1da2c992b2232eb3f285c4eade4902c0c5de2581f905a6be5c738f85">v8::internal::AllocationSite::TENURING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08394">objects.h:8394</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_ac67bb8aa1510686a32a2c7188bdf1dae"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ac67bb8aa1510686a32a2c7188bdf1dae">v8::internal::AstContext::ReturnInstruction</a></div><div class="ttdeci">virtual void ReturnInstruction(HInstruction *instr, BailoutId ast_id)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a3016f1fe4ccbb27e6da7ff6e162cd93e"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3016f1fe4ccbb27e6da7ff6e162cd93e">v8::internal::HOptimizedGraphBuilder::function_return</a></div><div class="ttdeci">HBasicBlock * function_return() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02109">hydrogen.h:2109</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_phase_html_affcda18e75b9c0a5e9f72dc042df6a17"><div class="ttname"><a href="../../d1/d43/classv8_1_1internal_1_1_h_phase.html#affcda18e75b9c0a5e9f72dc042df6a17">v8::internal::HPhase::~HPhase</a></div><div class="ttdeci">~HPhase()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l11442">hydrogen.cc:11442</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35ca9b8e4c8741823a0ab6e8aa0ff29dd529">v8::internal::FIXED_SIMULATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l01867">hydrogen-instructions.h:1867</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_type_impl_html_a846b17c0970f09f421d6c671af06843a"><div class="ttname"><a href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a846b17c0970f09f421d6c671af06843a">v8::internal::TypeImpl::NumClasses</a></div><div class="ttdeci">int NumClasses()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d74/types_8cc_source.html#l00035">types.cc:35</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_aac0d2638ba91cf80b046cf8141fde771"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aac0d2638ba91cf80b046cf8141fde771">v8::internal::Heap::GetPretenureMode</a></div><div class="ttdeci">PretenureFlag GetPretenureMode()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01569">heap.h:1569</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aafde67e17c0eff2ae6a6bef6b217148d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aafde67e17c0eff2ae6a6bef6b217148d">v8::internal::Object</a></div><div class="ttdeci">kSerializedDataOffset Object</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l05016">objects-inl.h:5016</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_expression_html"><div class="ttname"><a href="../../da/ddf/classv8_1_1internal_1_1_expression.html">v8::internal::Expression</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00314">ast.h:314</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a52a1818ff9fd321755c7484d4d0dbda4a54d2d7d5e0481f3de9ccdf36ef9b3c6c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a54d2d7d5e0481f3de9ccdf36ef9b3c6c">v8::internal::INITIALIZING_STORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l06498">hydrogen-instructions.h:6498</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_a808b2174341456870f24525432729faa"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">v8::internal::List&lt; T, ZoneAllocationPolicy &gt;::at</a></div><div class="ttdeci">T &amp; at(int i) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00090">list.h:90</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_html_a305cd7b2d5ede40e72db4ce438993fbcab296fc028e1e8fdf97027441f36e0ae0"><div class="ttname"><a href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#a305cd7b2d5ede40e72db4ce438993fbcab296fc028e1e8fdf97027441f36e0ae0">v8::internal::Runtime::INLINE_OPTIMIZED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d51/runtime_8h_source.html#l00770">runtime.h:770</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a7b266cb944e202a82acde6ec039ab1b8"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a7b266cb944e202a82acde6ec039ab1b8">v8::internal::HGraphBuilder::Pop</a></div><div class="ttdeci">HValue * Pop()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01080">hydrogen.h:1080</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a38b93d05f4269f72824fe9851c0c282e"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a38b93d05f4269f72824fe9851c0c282e">v8::internal::HGraphBuilder::BuildBinaryOperation</a></div><div class="ttdeci">HValue * BuildBinaryOperation(Token::Value op, HValue *left, HValue *right, Type *left_type, Type *right_type, Type *result_type, Maybe&lt; int &gt; fixed_right_arg, HAllocationMode allocation_mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l09219">hydrogen.cc:9219</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a974a07dae26fe984e240219909cb543e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">v8::internal::Type</a></div><div class="ttdeci">TypeImpl&lt; ZoneTypeConfig &gt; Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00062">property-details.h:62</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a3d230319268e1c88dc3e54cbddccf643"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3d230319268e1c88dc3e54cbddccf643">v8::internal::Isolate::builtins</a></div><div class="ttdeci">Builtins * builtins()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00948">isolate.h:948</a></div></div>
<div class="ttc" id="namespaceunibrow_html_a32f2e37ee053cf2ce8ca28d1f74630e5"><div class="ttname"><a href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dad/unicode_8cc_source.html#l00047">unicode.cc:47</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html_a8e1e62025a58fbd712158065a1277995"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8e1e62025a58fbd712158065a1277995">v8::internal::CompilationInfo::set_this_has_uses</a></div><div class="ttdeci">void set_this_has_uses(bool has_no_uses)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00111">compiler.h:111</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html_a3365372762c33c2ca45fde31733d3964"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a3365372762c33c2ca45fde31733d3964">v8::internal::CompilationInfo::set_bailout_reason</a></div><div class="ttdeci">void set_bailout_reason(BailoutReason reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00281">compiler.h:281</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af1c8907d5c83cd7784929a6ae8ed67fc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fc">v8::internal::KeyedAccessStoreMode</a></div><div class="ttdeci">KeyedAccessStoreMode</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00164">objects.h:164</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a282229328c8b4dbe78933fb46ba53c49"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a282229328c8b4dbe78933fb46ba53c49">v8::internal::JS_VALUE_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00792">objects.h:792</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a300e18740813b767bba2de57d4426618"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a300e18740813b767bba2de57d4426618">v8::internal::HValue::type</a></div><div class="ttdeci">HType type() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00735">hydrogen-instructions.h:735</a></div></div>
<div class="ttc" id="lithium-codegen-arm64_8h_html"><div class="ttname"><a href="../../d1/d95/lithium-codegen-arm64_8h.html">lithium-codegen-arm64.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_a8deb8244f9242a7e71e13d34c0afcbf8"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#a8deb8244f9242a7e71e13d34c0afcbf8">v8::internal::Variable::location</a></div><div class="ttdeci">Location location() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00146">variables.h:146</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a07caae6a7fb4af9f4d0da8dd1221e88f"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a07caae6a7fb4af9f4d0da8dd1221e88f">v8::internal::HOptimizedGraphBuilder::Drop</a></div><div class="ttdeci">void Drop(int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02168">hydrogen.h:2168</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a03ce1190c6f922905011ae419ea700d9"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a03ce1190c6f922905011ae419ea700d9">v8::internal::HGraphBuilder::AddSimulate</a></div><div class="ttdeci">void AddSimulate(BailoutId id, RemovableSimulate removable=FIXED_SIMULATE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01227">hydrogen.cc:1227</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a8dd598fb301dbbb01d8274da57c62eaf"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a8dd598fb301dbbb01d8274da57c62eaf">v8::internal::HOptimizedGraphBuilder::context</a></div><div class="ttdeci">HValue * context()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02049">hydrogen.h:2049</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_postorder_processor_html"><div class="ttname"><a href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html">v8::internal::PostorderProcessor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03246">hydrogen.cc:3246</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_acfea3578bbcbd674ec99d804cf4b06cc"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#acfea3578bbcbd674ec99d804cf4b06cc">v8::internal::HValue::EqualsInteger32Constant</a></div><div class="ttdeci">bool EqualsInteger32Constant(int32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/hydrogen-instructions_8cc_source.html#l00528">hydrogen-instructions.cc:528</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_serializer_html_af0c1a3e6f2be36e95694c03c291f2495"><div class="ttname"><a href="../../dc/df7/classv8_1_1internal_1_1_serializer.html#af0c1a3e6f2be36e95694c03c291f2495">v8::internal::Serializer::enabled</a></div><div class="ttdeci">static bool enabled()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9d/serialize_8h_source.html#l00485">serialize.h:485</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_info_html_a449a8a9edc202db7118199738772154b"><div class="ttname"><a href="../../d3/d5a/classv8_1_1internal_1_1_scope_info.html#a449a8a9edc202db7118199738772154b">v8::internal::ScopeInfo::Empty</a></div><div class="ttdeci">static ScopeInfo * Empty(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0d/scopeinfo_8cc_source.html#l00151">scopeinfo.cc:151</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aad402bd15daa835c9349e51af9ddce687">v8::internal::ALLOW_RETURN_HOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l06277">hydrogen-instructions.h:6277</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_lifetime_position_html_ae3babd8100b336b73e8938d84ab759cb"><div class="ttname"><a href="../../d5/d8b/classv8_1_1internal_1_1_lifetime_position.html#ae3babd8100b336b73e8938d84ab759cb">v8::internal::LifetimePosition::FromInstructionIndex</a></div><div class="ttdeci">static LifetimePosition FromInstructionIndex(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d99/lithium-allocator_8h_source.html#l00066">lithium-allocator.h:66</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_ae5a9dfde9e55b63b8ad27c65f0c06bbe"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ae5a9dfde9e55b63b8ad27c65f0c06bbe">v8::internal::AstContext::ReturnControl</a></div><div class="ttdeci">virtual void ReturnControl(HControlInstruction *instr, BailoutId ast_id)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_af47d0acfa2f3f472ce80c26953ff896c"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#af47d0acfa2f3f472ce80c26953ff896c">v8::internal::Variable::IsStackAllocated</a></div><div class="ttdeci">bool IsStackAllocated() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00118">variables.h:118</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html">v8::internal::HOptimizedGraphBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01984">hydrogen.h:1984</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a539a1a5410833e10ed1535106612dc3b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a539a1a5410833e10ed1535106612dc3b">v8::internal::JS_OBJECT_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00794">objects.h:794</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a0275713dabf03a3ae81851b4313abcb1"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a0275713dabf03a3ae81851b4313abcb1">v8::internal::HGraphBuilder::source_position</a></div><div class="ttdeci">HSourcePosition source_position()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01836">hydrogen.h:1836</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab4b5f34ae4a9feae0be7d4fd237faf97"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab4b5f34ae4a9feae0be7d4fd237faf97">v8::internal::AllocationSiteOverrideMode</a></div><div class="ttdeci">AllocationSiteOverrideMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9c/code-stubs_8h_source.html#l00759">code-stubs.h:759</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_shared_function_info_html"><div class="ttname"><a href="../../db/dc5/classv8_1_1internal_1_1_shared_function_info.html">v8::internal::SharedFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l06696">objects.h:6696</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_html_ace3a4921b31125f925fdb332a0d3ae73"><div class="ttname"><a href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#ace3a4921b31125f925fdb332a0d3ae73">v8::internal::Runtime::FunctionForId</a></div><div class="ttdeci">static const Function * FunctionForId(FunctionId id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de1/runtime_8cc_source.html#l15154">runtime.cc:15154</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27ab470f254af05e4a31a45bcc68ea745ff"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab470f254af05e4a31a45bcc68ea745ff">v8::internal::CONS_ASCII_STRING_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00689">objects.h:689</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27afdc7ef05f0aeeb356b0d7c0a3d8ab05b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27afdc7ef05f0aeeb356b0d7c0a3d8ab05b">v8::internal::LAST_SPEC_OBJECT_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00845">objects.h:845</a></div></div>
<div class="ttc" id="hydrogen-sce_8h_html"><div class="ttname"><a href="../../df/d7a/hydrogen-sce_8h.html">hydrogen-sce.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a4701e71c2466ba402928d2c2f816fb4a"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4701e71c2466ba402928d2c2f816fb4a">v8::internal::HOptimizedGraphBuilder::FunctionState</a></div><div class="ttdeci">friend class FunctionState</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02637">hydrogen.h:2637</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6cfc1ff6cff1f0d5011c965aa7f12d1d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6cfc1ff6cff1f0d5011c965aa7f12d1d">v8::internal::MapHandleList</a></div><div class="ttdeci">List&lt; Handle&lt; Map &gt; &gt; MapHandleList</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00218">list.h:218</a></div></div>
<div class="ttc" id="checks_8h_html_ac22830a985e1daed0c9eadba8c6f606e"><div class="ttname"><a href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a></div><div class="ttdeci">#define ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00329">checks.h:329</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_builtins_html_aa1d5cbd29a6bac41784e89758948f3b0"><div class="ttname"><a href="../../d5/d99/classv8_1_1internal_1_1_builtins.html#aa1d5cbd29a6bac41784e89758948f3b0">v8::internal::Builtins::JavaScript</a></div><div class="ttdeci">JavaScript</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/builtins_8h_source.html#l00304">builtins.h:304</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a53beb3198fedb5ea016ca272e2db2f4e"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a53beb3198fedb5ea016ca272e2db2f4e">v8::internal::HGraphBuilder::current_block</a></div><div class="ttdeci">HBasicBlock * current_block() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01066">hydrogen.h:1066</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_html_a305cd7b2d5ede40e72db4ce438993fbca53e721b85229cac6471e90c39ec5e530"><div class="ttname"><a href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#a305cd7b2d5ede40e72db4ce438993fbca53e721b85229cac6471e90c39ec5e530">v8::internal::Runtime::RUNTIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d51/runtime_8h_source.html#l00767">runtime.h:767</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aafe5e4a0b571d134a2e5096606bb055f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">v8::internal::kPointerSizeLog2</a></div><div class="ttdeci">const int kPointerSizeLog2</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00281">globals.h:281</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_script_html_af5d25c39e7d38591e52ee53301bb283d"><div class="ttname"><a href="../../d9/da4/classv8_1_1internal_1_1_script.html#af5d25c39e7d38591e52ee53301bb283d">v8::internal::Script::cast</a></div><div class="ttdeci">static Script * cast(Object *obj)</div></div>
<div class="ttc" id="lithium-allocator_8h_html"><div class="ttname"><a href="../../df/d99/lithium-allocator_8h.html">lithium-allocator.h</a></div></div>
<div class="ttc" id="namespacev8_html_a5f53a3d1798730e03d542018271092ab"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#a5f53a3d1798730e03d542018271092ab">v8::ExternalArrayType</a></div><div class="ttdeci">ExternalArrayType</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02113">v8.h:2113</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_context_html_a0411cd49bb5b71852cecd93bcbf0ca2da5d0e9f623f92e9f4e6b8bdb82cc0eee1"><div class="ttname"><a href="../../d4/d72/classv8_1_1internal_1_1_context.html#a0411cd49bb5b71852cecd93bcbf0ca2da5d0e9f623f92e9f4e6b8bdb82cc0eee1">v8::internal::Context::JS_ARRAY_MAPS_INDEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df0/contexts_8h_source.html#l00286">contexts.h:286</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a7ff5a5c54f182b86d1cd993cf4512c87ad204836f74ffdd8c40784e385d04e88d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a7ff5a5c54f182b86d1cd993cf4512c87ad204836f74ffdd8c40784e385d04e88d">v8::internal::FIELD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00074">property-details.h:74</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_type_impl_html_add6481f645517bae445404ca6c7bf0b1"><div class="ttname"><a href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#add6481f645517bae445404ca6c7bf0b1">v8::internal::TypeImpl::Classes</a></div><div class="ttdeci">Iterator&lt; i::Map &gt; Classes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00290">types.h:290</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a8b2de00af2e470c341f750b71b66aebf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a8b2de00af2e470c341f750b71b66aebf">v8::internal::FIRST_SPEC_OBJECT_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00844">objects.h:844</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a405ead7d347bd1efc9084b095822d89e"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a405ead7d347bd1efc9084b095822d89e">v8::internal::HOptimizedGraphBuilder::function_state</a></div><div class="ttdeci">FunctionState * function_state() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02059">hydrogen.h:2059</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compile_time_value_html_ad8fd18ab823ea0c9a6c87737e7f6ae0f"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_compile_time_value.html#ad8fd18ab823ea0c9a6c87737e7f6ae0f">v8::internal::CompileTimeValue::IsCompileTimeValue</a></div><div class="ttdeci">static bool IsCompileTimeValue(Expression *expression)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc9/parser_8cc_source.html#l03090">parser.cc:3090</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad495a9f61af7fff07d7e97979d1ab854aec9bde94cb447aae3d2b09cc3bf2b48b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854aec9bde94cb447aae3d2b09cc3bf2b48b">v8::internal::JS_SETTER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00558">hydrogen.h:558</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_builtins_object_html_aeeebf8ef4e9da4b8f15491cf6fbdf237"><div class="ttname"><a href="../../de/ddf/classv8_1_1internal_1_1_j_s_builtins_object.html#aeeebf8ef4e9da4b8f15491cf6fbdf237">v8::internal::JSBuiltinsObject::OffsetOfFunctionWithId</a></div><div class="ttdeci">static int OffsetOfFunctionWithId(Builtins::JavaScript id)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07674">objects.h:7674</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0c32b379e3be65ce7c8fe0bfe51eb7eaaf3d0d752de4b5754a85fcdaaf0a2f26c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf3d0d752de4b5754a85fcdaaf0a2f26c">v8::internal::TENURED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00201">v8globals.h:201</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_ab7b918505556576c4bf512411e1c704c"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab7b918505556576c4bf512411e1c704c">v8::internal::HOptimizedGraphBuilder::VisitLoopBody</a></div><div class="ttdeci">void VisitLoopBody(IterationStatement *stmt, HBasicBlock *loop_entry, BreakAndContinueInfo *break_info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l04512">hydrogen.cc:4512</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_aecaf6a9545fa815deb4b8e64e144ce43a4909b1bd07519e440222256440fdcef1"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4909b1bd07519e440222256440fdcef1">v8::internal::Variable::LOOKUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00074">variables.h:74</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a42742b6df96d8400b0ff2cf776247a7c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a42742b6df96d8400b0ff2cf776247a7c">v8::internal::kStringRepresentationMask</a></div><div class="ttdeci">const uint32_t kStringRepresentationMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00615">objects.h:615</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27afa57e7600638a388cb2107f38b167251"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27afa57e7600638a388cb2107f38b167251">v8::internal::FIXED_DOUBLE_ARRAY_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00748">objects.h:748</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a56228b687afce78cf92faf90dc01c312ab59913d2688782bce300f8d56bccf952"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312ab59913d2688782bce300f8d56bccf952">v8::internal::NORMAL_RETURN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l02058">hydrogen-instructions.h:2058</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a73a84cc619e5b663a2636a948533c40e"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a73a84cc619e5b663a2636a948533c40e">v8::internal::HOptimizedGraphBuilder::kUnlimitedMaxInlinedNodes</a></div><div class="ttdeci">static const int kUnlimitedMaxInlinedNodes</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02088">hydrogen.h:2088</a></div></div>
<div class="ttc" id="hydrogen-environment-liveness_8h_html"><div class="ttname"><a href="../../d6/d17/hydrogen-environment-liveness_8h.html">hydrogen-environment-liveness.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_af343c8709a207832fe280d41e856541d"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#af343c8709a207832fe280d41e856541d">v8::internal::Variable::is_this</a></div><div class="ttdeci">bool is_this() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00129">variables.h:129</a></div></div>
<div class="ttc" id="checks_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00075">checks.h:75</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a82eb043d79d5c97b659ec88815158ca4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">v8::internal::AllowDeferredHandleDereference</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; DEFERRED_HANDLE_DEREFERENCE_ASSERT, true &gt; AllowDeferredHandleDereference</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d64/assert-scope_8h_source.html#l00234">assert-scope.h:234</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af1c8907d5c83cd7784929a6ae8ed67fca66b2cc45fbc29b0b2f72a80a3f9c1bf3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fca66b2cc45fbc29b0b2f72a80a3f9c1bf3">v8::internal::STANDARD_STORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00165">objects.h:165</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab1f8855b3643c64810fdbf6652bcd20fa5232e3ca97bc06154c3b4763f5cfe0d9"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20fa5232e3ca97bc06154c3b4763f5cfe0d9">v8::internal::kMathClz32</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l06690">objects.h:6690</a></div></div>
<div class="ttc" id="hydrogen_8cc_html_a0659d2588f5f86486077a0631a36a995"><div class="ttname"><a href="../../d7/dd6/hydrogen_8cc.html#a0659d2588f5f86486077a0631a36a995">DEFINE_GET_CONSTANT</a></div><div class="ttdeci">#define DEFINE_GET_CONSTANT(Name, name, htype, boolean_value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l00704">hydrogen.cc:704</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_aaeec6d4c0dd1694ae0ec70c778aed41f"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aaeec6d4c0dd1694ae0ec70c778aed41f">v8::internal::HGraphBuilder::ScriptPositionToSourcePosition</a></div><div class="ttdeci">HSourcePosition ScriptPositionToSourcePosition(int position)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01830">hydrogen.h:1830</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_binary_operation_html_a4d4fab657973b204ff9771a2a960551c"><div class="ttname"><a href="../../d8/d35/classv8_1_1internal_1_1_h_binary_operation.html#a4d4fab657973b204ff9771a2a960551c">v8::internal::HBinaryOperation::set_observed_input_representation</a></div><div class="ttdeci">void set_observed_input_representation(int index, Representation rep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l03717">hydrogen-instructions.h:3717</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_allocation_memento_html_aabca8545565b6a1f3c6fdc8bd948de49"><div class="ttname"><a href="../../df/d6f/classv8_1_1internal_1_1_allocation_memento.html#aabca8545565b6a1f3c6fdc8bd948de49">v8::internal::AllocationMemento::kSize</a></div><div class="ttdeci">static const int kSize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08444">objects.h:8444</a></div></div>
<div class="ttc" id="hydrogen-osr_8h_html"><div class="ttname"><a href="../../de/da8/hydrogen-osr_8h.html">hydrogen-osr.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a97d86e98faf1fa957813fcad98fecf21afb72619a5a922e816967c4aa49301754"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21afb72619a5a922e816967c4aa49301754">v8::internal::LET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00471">v8globals.h:471</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a52f7e5b8eb8f6aad3d7bc373ace17b90"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a52f7e5b8eb8f6aad3d7bc373ace17b90">v8::internal::UINT32_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00071">elements-kind.h:71</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_deoptimizer_html_a60525bc3824c6a15722ccc9f7a7b5a82af8251e3c119849c8d5639c06ac61d13e"><div class="ttname"><a href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82af8251e3c119849c8d5639c06ac61d13e">v8::internal::Deoptimizer::EAGER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d23/deoptimizer_8h_source.html#l00127">deoptimizer.h:127</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3489b43407280cc0752430ea0da4e767"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">v8::internal::kObjectAlignmentMask</a></div><div class="ttdeci">const intptr_t kObjectAlignmentMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00045">v8globals.h:45</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_type_impl_html_a16c07037f3f546b977bd92150b76c4c3"><div class="ttname"><a href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a16c07037f3f546b977bd92150b76c4c3">v8::internal::TypeImpl::Maybe</a></div><div class="ttdeci">bool Maybe(TypeImpl *that)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d74/types_8cc_source.html#l00339">types.cc:339</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a441748933d86305d6e102f1c1f541b7b"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a441748933d86305d6e102f1c1f541b7b">v8::internal::HOptimizedGraphBuilder::VisitDeclarations</a></div><div class="ttdeci">void VisitDeclarations(ZoneList&lt; Declaration * &gt; *declarations)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l10156">hydrogen.cc:10156</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a8b46196d58e6905fbfde58a8fca2f6c0"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">v8::internal::Isolate::factory</a></div><div class="ttdeci">Factory * factory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00995">isolate.h:995</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a915c289a31a33b4c18de441e4a1e5aab"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a915c289a31a33b4c18de441e4a1e5aab">v8::internal::IsFastElementsKind</a></div><div class="ttdeci">bool IsFastElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00131">elements-kind.h:131</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a64652147a917fcccc0f8b9571eab88e2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a64652147a917fcccc0f8b9571eab88e2">v8::internal::IsSimpleMapChangeTransition</a></div><div class="ttdeci">bool IsSimpleMapChangeTransition(ElementsKind from_kind, ElementsKind to_kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00242">elements-kind.h:242</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_ac5e8d679e912c212dd17e8b44bfccabba06a5704560a74122aec18dec6e9f3dd1"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#ac5e8d679e912c212dd17e8b44bfccabba06a5704560a74122aec18dec6e9f3dd1">v8::internal::Isolate::ApiFunctionCall</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l01048">isolate.h:1048</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_add053b19871d4139882394bd0f496a56"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#add053b19871d4139882394bd0f496a56">v8::internal::HOptimizedGraphBuilder::kMaxStorePolymorphism</a></div><div class="ttdeci">static const int kMaxStorePolymorphism</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02083">hydrogen.h:2083</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html_af0aba355597df092f5480c40a6336338"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html#af0aba355597df092f5480c40a6336338">v8::internal::Representation::FromType</a></div><div class="ttdeci">static Representation FromType(Type *type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d74/types_8cc_source.html#l00570">types.cc:570</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html">v8::internal::Variable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00042">variables.h:42</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_ae491df1d2c24e3751c368155c20fe5ef"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00210">flag-definitions.h:210</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_a45babfc4efc34b334a6eabddb404313c"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#a45babfc4efc34b334a6eabddb404313c">v8::internal::Variable::name</a></div><div class="ttdeci">Handle&lt; String &gt; name() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00096">variables.h:96</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a58e8654e182fddc4db852328ca31beca"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a58e8654e182fddc4db852328ca31beca">v8::internal::FAST_HOLEY_SMI_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00040">elements-kind.h:40</a></div></div>
<div class="ttc" id="hydrogen_8cc_html_ad67af5e4a8d3e657992e10f75cbbc650"><div class="ttname"><a href="../../d7/dd6/hydrogen_8cc.html#ad67af5e4a8d3e657992e10f75cbbc650">CHECK_ALIVE_OR_RETURN</a></div><div class="ttdeci">#define CHECK_ALIVE_OR_RETURN(call, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03861">hydrogen.cc:3861</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_abd7228db8201e7f65153a896fe8de9bd"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#abd7228db8201e7f65153a896fe8de9bd">v8::internal::Smi::cast</a></div><div class="ttdeci">static Smi * cast(Object *object)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_af686401f0b893f15116db9f4ab47897b"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af686401f0b893f15116db9f4ab47897b">v8::internal::HGraphBuilder::environment</a></div><div class="ttdeci">HEnvironment * environment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01068">hydrogen.h:1068</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_dw_vfp_register_html_af47d810f77f5b6fe21941e1848b76ae5"><div class="ttname"><a href="../../d5/d61/structv8_1_1internal_1_1_dw_vfp_register.html#af47d810f77f5b6fe21941e1848b76ae5">v8::internal::DwVfpRegister::AllocationIndexToString</a></div><div class="ttdeci">static const char * AllocationIndexToString(int index)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_info_html_a3f9b28f6d2aa26d2e892fd249f5d6581"><div class="ttname"><a href="../../d3/d5a/classv8_1_1internal_1_1_scope_info.html#a3f9b28f6d2aa26d2e892fd249f5d6581">v8::internal::ScopeInfo::Create</a></div><div class="ttdeci">static Handle&lt; ScopeInfo &gt; Create(Scope *scope, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0d/scopeinfo_8cc_source.html#l00039">scopeinfo.cc:39</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ada76c4fe81db9c32168c8ca541dedd91"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ada76c4fe81db9c32168c8ca541dedd91">v8::internal::FlattenGetString</a></div><div class="ttdeci">Handle&lt; String &gt; FlattenGetString(Handle&lt; String &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d59/handles_8cc_source.html#l00156">handles.cc:156</a></div></div>
<div class="ttc" id="parser_8h_html"><div class="ttname"><a href="../../d5/d36/parser_8h.html">parser.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a56228b687afce78cf92faf90dc01c312"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312">v8::internal::InliningKind</a></div><div class="ttdeci">InliningKind</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l02057">hydrogen-instructions.h:2057</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af1c8907d5c83cd7784929a6ae8ed67fcab26dfde2f1a1d90f8aad5d7bb9156049"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fcab26dfde2f1a1d90f8aad5d7bb9156049">v8::internal::STORE_NO_TRANSITION_IGNORE_OUT_OF_BOUNDS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00179">objects.h:179</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_aeed4c5c6a9d593e226ec2006fe6f09ff"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aeed4c5c6a9d593e226ec2006fe6f09ff">v8::internal::HOptimizedGraphBuilder::PreProcessCall</a></div><div class="ttdeci">HInstruction * PreProcessCall(Instruction *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l04122">hydrogen.cc:4122</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_compare_numeric_and_branch_html"><div class="ttname"><a href="../../dc/d1f/classv8_1_1internal_1_1_h_compare_numeric_and_branch.html">v8::internal::HCompareNumericAndBranch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l04182">hydrogen-instructions.h:4182</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a273f056167a57c81457080483af499c3"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a273f056167a57c81457080483af499c3">v8::internal::HOptimizedGraphBuilder::kUnlimitedMaxInlinedSourceSize</a></div><div class="ttdeci">static const int kUnlimitedMaxInlinedSourceSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02087">hydrogen.h:2087</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">v8::internal::FAST_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00045">elements-kind.h:45</a></div></div>
<div class="ttc" id="hydrogen-range-analysis_8h_html"><div class="ttname"><a href="../../d6/d34/hydrogen-range-analysis_8h.html">hydrogen-range-analysis.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a3f47cd0b9de65db0afb340014a26aae3"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f47cd0b9de65db0afb340014a26aae3">v8::internal::HGraphBuilder::BuildAllocate</a></div><div class="ttdeci">HAllocate * BuildAllocate(HValue *object_size, HType type, InstanceType instance_type, HAllocationMode allocation_mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01766">hydrogen.cc:1766</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_a4030b43afeccf386c797ea24cf6dd6b5"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#a4030b43afeccf386c797ea24cf6dd6b5">v8::internal::Scope::ContextChainLength</a></div><div class="ttdeci">int ContextChainLength(Scope *scope)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/scopes_8cc_source.html#l00721">scopes.cc:721</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_adfa873894470d6950e21cab8c6dadcd1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#adfa873894470d6950e21cab8c6dadcd1">v8::internal::flag</a></div><div class="ttdeci">kInstanceClassNameOffset flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l05115">objects-inl.h:5115</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a8f9cff8f58a654b66043834b749dc156"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a8f9cff8f58a654b66043834b749dc156">v8::internal::EXTERNAL_UINT8_CLAMPED_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00064">elements-kind.h:64</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a15b5a3875904dadc0d0a326f88d3d059"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a15b5a3875904dadc0d0a326f88d3d059">v8::internal::HOptimizedGraphBuilder::current_info</a></div><div class="ttdeci">CompilationInfo * current_info() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02103">hydrogen.h:2103</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad495a9f61af7fff07d7e97979d1ab854a7c8e203b977affae1c81f144173d4b38"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a7c8e203b977affae1c81f144173d4b38">v8::internal::ARGUMENTS_ADAPTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00559">hydrogen.h:559</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_array_html_aabca8545565b6a1f3c6fdc8bd948de49"><div class="ttname"><a href="../../da/dc0/classv8_1_1internal_1_1_j_s_array.html#aabca8545565b6a1f3c6fdc8bd948de49">v8::internal::JSArray::kSize</a></div><div class="ttdeci">static const int kSize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l10077">objects.h:10077</a></div></div>
<div class="ttc" id="scopes_8h_html"><div class="ttname"><a href="../../dd/dee/scopes_8h.html">scopes.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a824da5797e1c9b7246bf465afc600c34a8c3eb79e2aafa3a5cdd561c77b7e2889"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34a8c3eb79e2aafa3a5cdd561c77b7e2889">v8::internal::DONT_TRACK_ALLOCATION_SITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08252">objects.h:8252</a></div></div>
<div class="ttc" id="namespacev8_html_ab37a1c787303e0d9d44ccc03a5a688bd"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#ab37a1c787303e0d9d44ccc03a5a688bd">v8::True</a></div><div class="ttdeci">V8_INLINE Handle&lt; Boolean &gt; True(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l06559">v8.h:6559</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_object_html_ad818be99a903844f44c9bed4aaff54d3"><div class="ttname"><a href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#ad818be99a903844f44c9bed4aaff54d3">v8::internal::JSObject::TryMigrateInstance</a></div><div class="ttdeci">static Handle&lt; Object &gt; TryMigrateInstance(Handle&lt; JSObject &gt; instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7c/objects_8cc_source.html#l03866">objects.cc:3866</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_deoptimizer_html_a60525bc3824c6a15722ccc9f7a7b5a82a93cba370b0f4922682be437a439c1a56"><div class="ttname"><a href="../../dd/d9d/classv8_1_1internal_1_1_deoptimizer.html#a60525bc3824c6a15722ccc9f7a7b5a82a93cba370b0f4922682be437a439c1a56">v8::internal::Deoptimizer::SOFT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d23/deoptimizer_8h_source.html#l00129">deoptimizer.h:129</a></div></div>
<div class="ttc" id="hydrogen-escape-analysis_8h_html"><div class="ttname"><a href="../../d0/d21/hydrogen-escape-analysis_8h.html">hydrogen-escape-analysis.h</a></div></div>
<div class="ttc" id="hydrogen-dehoist_8h_html"><div class="ttname"><a href="../../d0/dfd/hydrogen-dehoist_8h.html">hydrogen-dehoist.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_aa4d06e7241735c40e3edb2a7cd48bc70"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa4d06e7241735c40e3edb2a7cd48bc70">v8::internal::HOptimizedGraphBuilder::ClearInlinedTestContext</a></div><div class="ttdeci">void ClearInlinedTestContext()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02115">hydrogen.h:2115</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_iteration_statement_html_a77954e543fb41ac3b8bbd88aa4581f54"><div class="ttname"><a href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html#a77954e543fb41ac3b8bbd88aa4581f54">v8::internal::IterationStatement::ContinueId</a></div><div class="ttdeci">virtual BailoutId ContinueId() const =0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a27d2ceb6db780b940968d113c629cce8"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a27d2ceb6db780b940968d113c629cce8">v8::internal::HOptimizedGraphBuilder::Bailout</a></div><div class="ttdeci">void Bailout(BailoutReason reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03868">hydrogen.cc:3868</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_cons_string_html_af8caa6f49b0ab73aa9c915b5caec21df"><div class="ttname"><a href="../../d7/dda/classv8_1_1internal_1_1_cons_string.html#af8caa6f49b0ab73aa9c915b5caec21df">v8::internal::ConsString::kMinLength</a></div><div class="ttdeci">static const int kMinLength</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l09170">objects.h:9170</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_instruction_html"><div class="ttname"><a href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html">v8::internal::HInstruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l01218">hydrogen-instructions.h:1218</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_ac2bbd6d630a06a980d9a92ddb9a49928"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a></div><div class="ttdeci">#define IN</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01055">platform-win32.cc:1055</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_aba81e7102c7dcdea37eb6fe668d89dc2"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aba81e7102c7dcdea37eb6fe668d89dc2">v8::internal::HOptimizedGraphBuilder::Bind</a></div><div class="ttdeci">void Bind(Variable *var, HValue *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02169">hydrogen.h:2169</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a01b79ad4c6474168c60dab251475f9fc"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a01b79ad4c6474168c60dab251475f9fc">v8::internal::HGraphBuilder::context</a></div><div class="ttdeci">virtual HValue * context()=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_aa58493e3a03e1959db78f3068001a34a"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa58493e3a03e1959db78f3068001a34a">v8::internal::HOptimizedGraphBuilder::InlineFunctionGenerator</a></div><div class="ttdeci">void(HOptimizedGraphBuilder::* InlineFunctionGenerator)(CallRuntime *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02074">hydrogen.h:2074</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_l_unallocated_html_aa6430f4922e79f80bc5b1298e5998235"><div class="ttname"><a href="../../d0/dd6/classv8_1_1internal_1_1_l_unallocated.html#aa6430f4922e79f80bc5b1298e5998235">v8::internal::LUnallocated::virtual_register</a></div><div class="ttdeci">int virtual_register() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/lithium_8h_source.html#l00257">lithium.h:257</a></div></div>
<div class="ttc" id="checks_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00052">checks.h:52</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_binary_operation_html"><div class="ttname"><a href="../../d8/d35/classv8_1_1internal_1_1_h_binary_operation.html">v8::internal::HBinaryOperation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l03676">hydrogen-instructions.h:3676</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5adc5ec2f1a2af41381abab75250b1c8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">v8::internal::mode</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long mode(MIPS only)&quot;)  DEFINE_string(expose_natives_as</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae491df1d2c24e3751c368155c20fe5ef"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">v8::internal::size</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object size</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00211">flags.cc:211</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a08e820301240173b1001a88abd50f65a"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a08e820301240173b1001a88abd50f65a">v8::internal::HGraphBuilder::FinishExitWithHardDeoptimization</a></div><div class="ttdeci">void FinishExitWithHardDeoptimization(const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01257">hydrogen.cc:1257</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html_a97b290cba018dbf70009f48f4fe61613"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a97b290cba018dbf70009f48f4fe61613">v8::internal::Representation::IsTagged</a></div><div class="ttdeci">bool IsTagged() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00179">property-details.h:179</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a7d7d58176013ab82404e14bc0a42452e"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a7d7d58176013ab82404e14bc0a42452e">v8::internal::HValue::GetInteger32Constant</a></div><div class="ttdeci">int32_t GetInteger32Constant()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/hydrogen-instructions_8cc_source.html#l00523">hydrogen-instructions.cc:523</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">v8::internal::ElementsKind</a></div><div class="ttdeci">ElementsKind</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00036">elements-kind.h:36</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a47cda1e18818d1f8f03a00e89186c02f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">v8::internal::STATIC_ASSERT</a></div><div class="ttdeci">STATIC_ASSERT(sizeof(CPURegister)==sizeof(Register))</div></div>
<div class="ttc" id="structv8_1_1_maybe_html"><div class="ttname"><a href="../../dd/dd0/structv8_1_1_maybe.html">v8::Maybe</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l00917">v8.h:917</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad903ee3efada6410bf5c8c4f11dfa22aa62d34769fade412a6389d4cb42ad620f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad903ee3efada6410bf5c8c4f11dfa22aa62d34769fade412a6389d4cb42ad620f">v8::internal::NEVER_RETURN_HOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l06276">hydrogen-instructions.h:6276</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_expression_html_abbebfae2c8b3c06e3115e79965277840"><div class="ttname"><a href="../../da/ddf/classv8_1_1internal_1_1_expression.html#abbebfae2c8b3c06e3115e79965277840">v8::internal::Expression::Context</a></div><div class="ttdeci">Context</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00316">ast.h:316</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a72ae4718167105f8e7d356f15d71182d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">v8::internal::flags</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long expose natives in global object expose freeBuffer extension expose gc extension under the specified name expose externalize string extension number of stack frames to capture disable builtin natives files print name of functions for which code is generated use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations always try to OSR functions trace optimize function deoptimization minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions trace debugging JSON request response trace out of bounds accesses to external arrays trace_js_array_abuse automatically set the debug break flag when debugger commands are in the queue abort by crashing maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable always perform global GCs print one trace line following each garbage collection do not print trace line after scavenger collection print statistics of the maximum memory committed for the heap in only print modified registers Don t break for ASM_UNIMPLEMENTED_BREAK macros print stack trace when an illegal exception is thrown randomize hashes to avoid predictable hash Fixed seed to use to hash property Print the time it takes to deserialize the snapshot testing_bool_flag testing_int_flag string flag tmp file in which to serialize heap Print the time it takes to lazily compile hydrogen code stubs concurrent_recompilation concurrent_sweeping Print usage including flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00665">flags.cc:665</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a75d3ad581521afd012eb61ef19196d31"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a75d3ad581521afd012eb61ef19196d31">v8::internal::IsFastPackedElementsKind</a></div><div class="ttdeci">bool IsFastPackedElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00199">elements-kind.h:199</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aa1039ede652127ba26e144a641f9f440a"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa1039ede652127ba26e144a641f9f440a">v8::internal::HValue::kCanOverflow</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00622">hydrogen-instructions.h:622</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a605c1ec41394d49785f9b9c1d3319e5b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">v8::internal::kDoubleSize</a></div><div class="ttdeci">const int kDoubleSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00266">globals.h:266</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_aab5774bc774f0fc66194687a327c31b1"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#aab5774bc774f0fc66194687a327c31b1">v8::internal::Scope::arguments</a></div><div class="ttdeci">Variable * arguments() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dee/scopes_8h_source.html#l00341">scopes.h:341</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_aecaf6a9545fa815deb4b8e64e144ce43a4079064b49d023e3d885b939e1785242"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a4079064b49d023e3d885b939e1785242">v8::internal::Variable::UNALLOCATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00055">variables.h:55</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_afa04603ea29c8e63e4f1d6e6d1363450"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afa04603ea29c8e63e4f1d6e6d1363450">v8::internal::HOptimizedGraphBuilder::call_context</a></div><div class="ttdeci">AstContext * call_context() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02106">hydrogen.h:2106</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a82255aa8c642dac94b229f02222f9bb7"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a82255aa8c642dac94b229f02222f9bb7">v8::internal::HOptimizedGraphBuilder::VisitForEffect</a></div><div class="ttdeci">void VisitForEffect(Expression *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03874">hydrogen.cc:3874</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_parser_html_a2dcaf78b9824c17d022a8c1fd2c33b14"><div class="ttname"><a href="../../db/dd5/classv8_1_1internal_1_1_parser.html#a2dcaf78b9824c17d022a8c1fd2c33b14">v8::internal::Parser::Parse</a></div><div class="ttdeci">bool Parse()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc9/parser_8cc_source.html#l04673">parser.cc:4673</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_shared_function_info_html_a17fd71a1d4e430d68733db72857f1512"><div class="ttname"><a href="../../db/dc5/classv8_1_1internal_1_1_shared_function_info.html#a17fd71a1d4e430d68733db72857f1512">v8::internal::SharedFunctionInfo::kDontAdaptArgumentsSentinel</a></div><div class="ttdeci">static const int kDontAdaptArgumentsSentinel</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07098">objects.h:7098</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_aecaf6a9545fa815deb4b8e64e144ce43ad0ef00e708ed18ba004480dceb79ecfb"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43ad0ef00e708ed18ba004480dceb79ecfb">v8::internal::Variable::LOCAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00064">variables.h:64</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0a71221094570a6a00adeb973c92190d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">v8::internal::BailoutReason</a></div><div class="ttdeci">BailoutReason</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l01424">objects.h:1424</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_map_html_a78efb9b54254bb69a0b56b37287d1cc4"><div class="ttname"><a href="../../de/dfe/classv8_1_1internal_1_1_map.html#a78efb9b54254bb69a0b56b37287d1cc4">v8::internal::Map::AsElementsKind</a></div><div class="ttdeci">MUST_USE_RESULT MaybeObject * AsElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7c/objects_8cc_source.html#l03360">objects.cc:3360</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017ad51ca145471d3315b9c1974d824d4393"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017ad51ca145471d3315b9c1974d824d4393">v8::internal::UINT8_CLAMPED_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00075">elements-kind.h:75</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_map_html_a93bc9d6d381054a80ae203b641a6914c"><div class="ttname"><a href="../../de/dfe/classv8_1_1internal_1_1_map.html#a93bc9d6d381054a80ae203b641a6914c">v8::internal::Map::IsValidElementsTransition</a></div><div class="ttdeci">static bool IsValidElementsTransition(ElementsKind from_kind, ElementsKind to_kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7c/objects_8cc_source.html#l12848">objects.cc:12848</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf111e6f2baa3eb36f69875f39239210"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf111e6f2baa3eb36f69875f39239210">v8::internal::NilValue</a></div><div class="ttdeci">NilValue</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6a/src_2v8_8h_source.html#l00133">v8.h:133</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_a0e7b84e859a843a61642145d21d8665b"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a0e7b84e859a843a61642145d21d8665b">v8::internal::Smi::IsValid</a></div><div class="ttdeci">static bool IsValid(intptr_t value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01278">objects-inl.h:1278</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_factory_html"><div class="ttname"><a href="../../dd/d91/classv8_1_1internal_1_1_factory.html">v8::internal::Factory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d06/factory_8h_source.html#l00040">factory.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_bailout_id_html_ad8b1bcd3b4d0ab3c6ce2831ea20b9512"><div class="ttname"><a href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#ad8b1bcd3b4d0ab3c6ce2831ea20b9512">v8::internal::BailoutId::Declarations</a></div><div class="ttdeci">static BailoutId Declarations()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l01166">utils.h:1166</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a3d1ccd009aacc5d62fd10372e54dd3f8"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d1ccd009aacc5d62fd10372e54dd3f8">v8::internal::HOptimizedGraphBuilder::kMaxFastLiteralDepth</a></div><div class="ttdeci">static const int kMaxFastLiteralDepth</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02093">hydrogen.h:2093</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ade2f76ca31816a0649d08bc8856fd56b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">v8::internal::kPointerSize</a></div><div class="ttdeci">const int kPointerSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00268">globals.h:268</a></div></div>
<div class="ttc" id="test-hashing_8cc_html_a922008b4db75f9f1a9959460bb05fe37"><div class="ttname"><a href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a></div><div class="ttdeci">void check(i::Vector&lt; const uint8_t &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d93/test-hashing_8cc_source.html#l00187">test-hashing.cc:187</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a6406624caf267e1232a4e3bf1280fcd8"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6406624caf267e1232a4e3bf1280fcd8">v8::internal::HGraphBuilder::set_current_block</a></div><div class="ttdeci">void set_current_block(HBasicBlock *block)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01067">hydrogen.h:1067</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_afb0564821f132bfe74508af8349a0faa"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#afb0564821f132bfe74508af8349a0faa">v8::internal::String::Encoding</a></div><div class="ttdeci">Encoding</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08733">objects.h:8733</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a56228b687afce78cf92faf90dc01c312a7d1a13bc2ae1bf8da31ac41c093985d5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a7d1a13bc2ae1bf8da31ac41c093985d5">v8::internal::SETTER_CALL_RETURN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l02061">hydrogen-instructions.h:2061</a></div></div>
<div class="ttc" id="src_2v8_8h_html"><div class="ttname"><a href="../../df/d6a/src_2v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aafd60d1e747bdd50ffeb04241df3ec6f0"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafd60d1e747bdd50ffeb04241df3ec6f0">v8::internal::HValue::kTruncatingToInt32</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00630">hydrogen-instructions.h:630</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a818139a647c0ce70eb74f9f22a91eaa9"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a818139a647c0ce70eb74f9f22a91eaa9">v8::internal::HValue::SetFlag</a></div><div class="ttdeci">void SetFlag(Flag f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00806">hydrogen-instructions.h:806</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_abb8a7a0925f2d6b7a0276f3f065a9725"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#abb8a7a0925f2d6b7a0276f3f065a9725">v8::internal::HOptimizedGraphBuilder::break_scope</a></div><div class="ttdeci">BreakAndContinueScope * break_scope() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02044">hydrogen.h:2044</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a602735c52843d1326daff42a72163d79"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a602735c52843d1326daff42a72163d79">v8::internal::HOptimizedGraphBuilder::kInlineFunctionGenerators</a></div><div class="ttdeci">static const InlineFunctionGenerator kInlineFunctionGenerators[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02077">hydrogen.h:2077</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afc77787fd5a9508e2fbbeb59ffacc436ab7af362adcfed46a5d204bb10b0fa9e1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436ab7af362adcfed46a5d204bb10b0fa9e1">v8::internal::WRAP_AND_CALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00290">v8globals.h:290</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_a66b940b179a9a21572629d3d5c854cb4"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf map</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00349">flag-definitions.h:349</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_factory_html_af9aef60aabe649b40d1a32d8d4d4b2ba"><div class="ttname"><a href="../../dd/d91/classv8_1_1internal_1_1_factory.html#af9aef60aabe649b40d1a32d8d4d4b2ba">v8::internal::Factory::GlobalConstantFor</a></div><div class="ttdeci">Handle&lt; Object &gt; GlobalConstantFor(Handle&lt; String &gt; name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4e/factory_8cc_source.html#l02013">factory.cc:2013</a></div></div>
<div class="ttc" id="allocation-site-scopes_8h_html"><div class="ttname"><a href="../../d5/d04/allocation-site-scopes_8h.html">allocation-site-scopes.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a49b7b97cf18c73120926ba12b4d8376f"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a49b7b97cf18c73120926ba12b4d8376f">v8::internal::HOptimizedGraphBuilder::BuildLoopEntry</a></div><div class="ttdeci">HBasicBlock * BuildLoopEntry()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03047">hydrogen.cc:3047</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_postorder_processor_html_a5d75317ba19552bc2e33fea3338742f5"><div class="ttname"><a href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a5d75317ba19552bc2e33fea3338742f5">v8::internal::PostorderProcessor::loop_header</a></div><div class="ttdeci">HBasicBlock * loop_header()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03254">hydrogen.cc:3254</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_compare_object_eq_and_branch_html"><div class="ttname"><a href="../../d6/dbb/classv8_1_1internal_1_1_h_compare_object_eq_and_branch.html">v8::internal::HCompareObjectEqAndBranch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l04288">hydrogen-instructions.h:4288</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a57ff951e46d8a0ffd5180d13f98372d8"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a57ff951e46d8a0ffd5180d13f98372d8">v8::internal::HOptimizedGraphBuilder::LookupAndMakeLive</a></div><div class="ttdeci">HValue * LookupAndMakeLive(Variable *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02196">hydrogen.h:2196</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad56363c3df93f551a1dd8515be9c3e82"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82">v8::internal::PropertyAccessType</a></div><div class="ttdeci">PropertyAccessType</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00229">hydrogen-instructions.h:229</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a8fe1314dc49c6de8c34c096d7c021ace"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a8fe1314dc49c6de8c34c096d7c021ace">v8::internal::HGraphBuilder::BuildArrayBufferViewInitialization</a></div><div class="ttdeci">void BuildArrayBufferViewInitialization(HValue *obj, HValue *buffer, HValue *byte_offset, HValue *byte_length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l08418">hydrogen.cc:8418</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_allocation_site_html_af38960e2d1da2c992b2232eb3f285c4eaf7b8eebab344dffc2a70a811fc30b1a1"><div class="ttname"><a href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#af38960e2d1da2c992b2232eb3f285c4eaf7b8eebab344dffc2a70a811fc30b1a1">v8::internal::AllocationSite::TRANSITIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08395">objects.h:8395</a></div></div>
<div class="ttc" id="namespacev8_html_a5f53a3d1798730e03d542018271092aba14dd96e8226ec268e625f060ea8d9c29"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#a5f53a3d1798730e03d542018271092aba14dd96e8226ec268e625f060ea8d9c29">v8::kExternalInt8Array</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02114">v8.h:2114</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_shared_function_info_html_aa3405238f2c4508771c02f251721ae04"><div class="ttname"><a href="../../db/dc5/classv8_1_1internal_1_1_shared_function_info.html#aa3405238f2c4508771c02f251721ae04">v8::internal::SharedFunctionInfo::strict_mode</a></div><div class="ttdeci">StrictMode strict_mode()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l05265">objects-inl.h:5265</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6baaca87a1767e2130114e682cd50db9"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6baaca87a1767e2130114e682cd50db9">v8::internal::IsMoreGeneralElementsKindTransition</a></div><div class="ttdeci">bool IsMoreGeneralElementsKindTransition(ElementsKind from_kind, ElementsKind to_kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/elements-kind_8cc_source.html#l00175">elements-kind.cc:175</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a1776bacf31b0f72870c13f8978263ebf"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a1776bacf31b0f72870c13f8978263ebf">v8::internal::HOptimizedGraphBuilder::kMaxLoadPolymorphism</a></div><div class="ttdeci">static const int kMaxLoadPolymorphism</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02082">hydrogen.h:2082</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a717d3e36d3edfa81af6bfb0c213a9fdf"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a717d3e36d3edfa81af6bfb0c213a9fdf">v8::internal::HGraphBuilder::BuildCheckPrototypeMaps</a></div><div class="ttdeci">HInstruction * BuildCheckPrototypeMaps(Handle&lt; JSObject &gt; prototype, Handle&lt; JSObject &gt; holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l06785">hydrogen.cc:6785</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab91e71e972251cbfe502d5f3856e5762"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab91e71e972251cbfe502d5f3856e5762">v8::internal::code</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra code(assertions) for debugging&quot;) DEFINE_bool(code_comments</div></div>
<div class="ttc" id="codegen_8h_html"><div class="ttname"><a href="../../d1/d39/codegen_8h.html">codegen.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5c0ae4923c48b566421fa6d514ebec39"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5c0ae4923c48b566421fa6d514ebec39">v8::internal::kOneByteDataHintMask</a></div><div class="ttdeci">const uint32_t kOneByteDataHintMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00638">objects.h:638</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_ac53daea5faaa438caaf83a554c00711b"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac53daea5faaa438caaf83a554c00711b">v8::internal::HGraphBuilder::AddLoadStringLength</a></div><div class="ttdeci">HInstruction * AddLoadStringLength(HValue *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l06219">hydrogen.cc:6219</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_ab13476683ae06167bfa0d7e60c525649"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#ab13476683ae06167bfa0d7e60c525649">v8::internal::AstContext::ReturnContinuation</a></div><div class="ttdeci">virtual void ReturnContinuation(HIfContinuation *continuation, BailoutId ast_id)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_type_impl_html"><div class="ttname"><a href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html">v8::internal::TypeImpl&lt; ZoneTypeConfig &gt;</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_ad9c88ed5e8125d66291acd55da72d73e"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#ad9c88ed5e8125d66291acd55da72d73e">v8::internal::Variable::index</a></div><div class="ttdeci">int index() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00147">variables.h:147</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a4886203dfb6208b95c163e4bf8a301c0"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a4886203dfb6208b95c163e4bf8a301c0">v8::internal::HOptimizedGraphBuilder::function_strict_mode</a></div><div class="ttdeci">StrictMode function_strict_mode()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02118">hydrogen.h:2118</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_factory_html_a8db338249d0ae8ae7a73ed2453da5def"><div class="ttname"><a href="../../dd/d91/classv8_1_1internal_1_1_factory.html#a8db338249d0ae8ae7a73ed2453da5def">v8::internal::Factory::NewFixedArray</a></div><div class="ttdeci">Handle&lt; FixedArray &gt; NewFixedArray(int size, PretenureFlag pretenure=NOT_TENURED)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4e/factory_8cc_source.html#l00053">factory.cc:53</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abfa756fecfd44769fe637d8892887110"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abfa756fecfd44769fe637d8892887110">v8::internal::IsFixedTypedArrayElementsKind</a></div><div class="ttdeci">bool IsFixedTypedArrayElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00125">elements-kind.h:125</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a2dcc8fdad115890143437f76839010c3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a2dcc8fdad115890143437f76839010c3">v8::internal::IsLexicalVariableMode</a></div><div class="ttdeci">bool IsLexicalVariableMode(VariableMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00508">v8globals.h:508</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_object_html_a1fb1c60c581bfe088e84d1b24c862b57"><div class="ttname"><a href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#a1fb1c60c581bfe088e84d1b24c862b57">v8::internal::JSObject::kPropertiesOffset</a></div><div class="ttdeci">static const int kPropertiesOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l02755">objects.h:2755</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_ac5e8d679e912c212dd17e8b44bfccabbab6a31c741cea2d36f83106db20cb5ae1"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#ac5e8d679e912c212dd17e8b44bfccabbab6a31c741cea2d36f83106db20cb5ae1">v8::internal::Isolate::ArgumentAdaptorCall</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l01047">isolate.h:1047</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_a07da0a3a426a35ae330ce4a2375d09de"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#a07da0a3a426a35ae330ce4a2375d09de">v8::internal::Variable::IsContextSlot</a></div><div class="ttdeci">bool IsContextSlot() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00119">variables.h:119</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ac66145f5794e9999422ed814b46c7604"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac66145f5794e9999422ed814b46c7604">v8::internal::OS::TimeCurrentMillis</a></div><div class="ttdeci">static double TimeCurrentMillis()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00352">platform-posix.cc:352</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_binary_operation_html_a77045a064c3d3c46d09e243df32c0c4b"><div class="ttname"><a href="../../d8/d35/classv8_1_1internal_1_1_h_binary_operation.html#a77045a064c3d3c46d09e243df32c0c4b">v8::internal::HBinaryOperation::initialize_output_representation</a></div><div class="ttdeci">virtual void initialize_output_representation(Representation observed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l03722">hydrogen-instructions.h:3722</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_osr_builder_html"><div class="ttname"><a href="../../da/d28/classv8_1_1internal_1_1_h_osr_builder.html">v8::internal::HOsrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/da8/hydrogen-osr_8h_source.html#l00040">hydrogen-osr.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_a61de976d8872290d12f5d9d6f81ee4ce"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#a61de976d8872290d12f5d9d6f81ee4ce">v8::internal::Scope::num_parameters</a></div><div class="ttdeci">int num_parameters() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dee/scopes_8h_source.html#l00338">scopes.h:338</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aa6eaebd28f9ed680a20428befacb5c563"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa6eaebd28f9ed680a20428befacb5c563">v8::internal::HValue::kAllowUndefinedAsNaN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00628">hydrogen-instructions.h:628</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_acd71b5be49493207889bd7ebe7cedaeb"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#acd71b5be49493207889bd7ebe7cedaeb">v8::internal::IsFastSmiElementsKind</a></div><div class="ttdeci">bool IsFastSmiElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00174">elements-kind.h:174</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a460e9913460fd2c1ca1c0a4360c8e818afcccfb681c3288636fc4d56d0cad21fa"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a460e9913460fd2c1ca1c0a4360c8e818afcccfb681c3288636fc4d56d0cad21fa">v8::internal::kDontInline</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00174">ast.h:174</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_aa4874db800127f27c677f0a38a188043"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#aa4874db800127f27c677f0a38a188043">v8::internal::HValue::set_type</a></div><div class="ttdeci">void set_type(HType new_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00736">hydrogen-instructions.h:736</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_instruction_html_ad34b350674b9050dfa5d26760da8ec92"><div class="ttname"><a href="../../d0/d0a/classv8_1_1internal_1_1_h_instruction.html#ad34b350674b9050dfa5d26760da8ec92">v8::internal::HInstruction::IsLinked</a></div><div class="ttdeci">bool IsLinked() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l01226">hydrogen-instructions.h:1226</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_context_html_a0411cd49bb5b71852cecd93bcbf0ca2da9d9afe717dc665bfdbad663896bd9000"><div class="ttname"><a href="../../d4/d72/classv8_1_1internal_1_1_context.html#a0411cd49bb5b71852cecd93bcbf0ca2da9d9afe717dc665bfdbad663896bd9000">v8::internal::Context::PREVIOUS_INDEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df0/contexts_8h_source.html#l00253">contexts.h:253</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_ae0c063cfb2479f614be43b9d2f92ba63"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#ae0c063cfb2479f614be43b9d2f92ba63">v8::internal::HValue::id</a></div><div class="ttdeci">int id() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00703">hydrogen-instructions.h:703</a></div></div>
<div class="ttc" id="classv8_1_1_handle_html"><div class="ttname"><a href="../../d3/dd5/classv8_1_1_handle.html">v8::Handle&lt; Object &gt;</a></div></div>
<div class="ttc" id="hydrogen-infer-representation_8h_html"><div class="ttname"><a href="../../d2/d11/hydrogen-infer-representation_8h.html">hydrogen-infer-representation.h</a></div></div>
<div class="ttc" id="class_block_html"><div class="ttname"><a href="../../d2/df8/class_block.html">Block</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db3/test-alloc_8cc_source.html#l00178">test-alloc.cc:178</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_double_array_html_a11a750878b67cb536f631d035c027c59"><div class="ttname"><a href="../../dc/d5b/classv8_1_1internal_1_1_fixed_double_array.html#a11a750878b67cb536f631d035c027c59">v8::internal::FixedDoubleArray::SizeFor</a></div><div class="ttdeci">static int SizeFor(int length)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l03152">objects.h:3152</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_object_html_a8c88edfc3f1a09f8305733762d5cb464"><div class="ttname"><a href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#a8c88edfc3f1a09f8305733762d5cb464">v8::internal::JSObject::kElementsOffset</a></div><div class="ttdeci">static const int kElementsOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l02756">objects.h:2756</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00659">objects.h:659</a></div></div>
<div class="ttc" id="hydrogen-removable-simulates_8h_html"><div class="ttname"><a href="../../d6/d10/hydrogen-removable-simulates_8h.html">hydrogen-removable-simulates.h</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_aa2f49001be13949a16a57e6c99ab00ad"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#aa2f49001be13949a16a57e6c99ab00ad">COMMA</a></div><div class="ttdeci">#define COMMA</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da0/flags_8h_source.html#l00101">flags.h:101</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a5b41f0d88a7a435ca8dcb64c1e7d4485"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a5b41f0d88a7a435ca8dcb64c1e7d4485">v8::internal::HOptimizedGraphBuilder::VisitLogicalExpression</a></div><div class="ttdeci">void VisitLogicalExpression(BinaryOperation *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l09478">hydrogen.cc:9478</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_bailout_id_html_a99d52d6b585e5a9abd4eea85265e9cd9"><div class="ttname"><a href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a99d52d6b585e5a9abd4eea85265e9cd9">v8::internal::BailoutId::FunctionEntry</a></div><div class="ttdeci">static BailoutId FunctionEntry()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l01165">utils.h:1165</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_bit_vector_html"><div class="ttname"><a href="../../d0/d0a/classv8_1_1internal_1_1_bit_vector.html">v8::internal::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddc/data-flow_8h_source.html#l00041">data-flow.h:41</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_token_html_a896c037a32087c5c20d97e64a1786880"><div class="ttname"><a href="../../d5/d2d/classv8_1_1internal_1_1_token.html#a896c037a32087c5c20d97e64a1786880">v8::internal::Token::Value</a></div><div class="ttdeci">Value</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d07/token_8h_source.html#l00190">token.h:190</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a605a6cab8b5b12ab882e1952f10ba203"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a605a6cab8b5b12ab882e1952f10ba203">v8::internal::HGraphBuilder::BuildAllocateArrayFromLength</a></div><div class="ttdeci">HValue * BuildAllocateArrayFromLength(JSArrayBuilder *array_builder, HValue *length_argument)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02255">hydrogen.cc:2255</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_token_html_add084695715a82f87e1109c03be8b54e"><div class="ttname"><a href="../../d5/d2d/classv8_1_1internal_1_1_token.html#add084695715a82f87e1109c03be8b54e">v8::internal::Token::IsEqualityOp</a></div><div class="ttdeci">static bool IsEqualityOp(Value op)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d07/token_8h_source.html#l00228">token.h:228</a></div></div>
<div class="ttc" id="utils_8h_html_aaf2b51ac357499a1739790fd94bf90ec"><div class="ttname"><a href="../../d5/d60/utils_8h.html#aaf2b51ac357499a1739790fd94bf90ec">STATIC_ASCII_VECTOR</a></div><div class="ttdeci">#define STATIC_ASCII_VECTOR(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00570">utils.h:570</a></div></div>
<div class="ttc" id="allocation_8h_html_abab81306d90d0b82732d5bed93a0a588"><div class="ttname"><a href="../../d0/db7/allocation_8h.html#abab81306d90d0b82732d5bed93a0a588">BASE_EMBEDDED</a></div><div class="ttdeci">#define BASE_EMBEDDED</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db7/allocation_8h_source.html#l00068">allocation.h:68</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_context_html_a0411cd49bb5b71852cecd93bcbf0ca2dad659b33358ba073da0fdc9caf9dc5625"><div class="ttname"><a href="../../d4/d72/classv8_1_1internal_1_1_context.html#a0411cd49bb5b71852cecd93bcbf0ca2dad659b33358ba073da0fdc9caf9dc5625">v8::internal::Context::GLOBAL_OBJECT_INDEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df0/contexts_8h_source.html#l00259">contexts.h:259</a></div></div>
<div class="ttc" id="namespacev8_html_ac271b6d4e39065b86eaf99135cb9f612"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#ac271b6d4e39065b86eaf99135cb9f612">v8::Undefined</a></div><div class="ttdeci">V8_INLINE Handle&lt; Primitive &gt; Undefined(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l06541">v8.h:6541</a></div></div>
<div class="ttc" id="scopeinfo_8h_html"><div class="ttname"><a href="../../d6/ddf/scopeinfo_8h.html">scopeinfo.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html_a43d5916dd68b23ba4a7c6b3f0d9e03a0"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a43d5916dd68b23ba4a7c6b3f0d9e03a0">v8::internal::CompilationInfo::closure</a></div><div class="ttdeci">Handle&lt; JSFunction &gt; closure() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00081">compiler.h:81</a></div></div>
<div class="ttc" id="stub-cache_8h_html"><div class="ttname"><a href="../../dc/db3/stub-cache_8h.html">stub-cache.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a31340458faab509e80fe1f606ad61674"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a31340458faab509e80fe1f606ad61674">v8::internal::IsDeclaredVariableMode</a></div><div class="ttdeci">bool IsDeclaredVariableMode(VariableMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00503">v8globals.h:503</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a06e092503aaf8fca43922bddc042426e"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a06e092503aaf8fca43922bddc042426e">v8::internal::HOptimizedGraphBuilder::HOptimizedGraphBuilder</a></div><div class="ttdeci">HOptimizedGraphBuilder(CompilationInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02980">hydrogen.cc:2980</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_breakable_statement_html_aa1bfe4b864c6fdad215b3749eca317bf"><div class="ttname"><a href="../../d6/d59/classv8_1_1internal_1_1_breakable_statement.html#aa1bfe4b864c6fdad215b3749eca317bf">v8::internal::BreakableStatement::ExitId</a></div><div class="ttdeci">BailoutId ExitId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00422">ast.h:422</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_bailout_id_html_a0aaa099c81ea7289740213df0076deac"><div class="ttname"><a href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html#a0aaa099c81ea7289740213df0076deac">v8::internal::BailoutId::None</a></div><div class="ttdeci">static BailoutId None()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l01164">utils.h:1164</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aad62d9b69481ff8cbcb7f3c4f5f33a7f1"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aad62d9b69481ff8cbcb7f3c4f5f33a7f1">v8::internal::HValue::kTruncatingToSmi</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00632">hydrogen-instructions.h:632</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a97d86e98faf1fa957813fcad98fecf21ab47cad6c25d7dbef4dd8fb65933c7edf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21ab47cad6c25d7dbef4dd8fb65933c7edf">v8::internal::CONST_LEGACY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00469">v8globals.h:469</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf86a9a6ff127df131588844f0203c705">v8::internal::NOT_TENURED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00201">v8globals.h:201</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_aa00b04a768dfeb0dc117a9c4af212079"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aa00b04a768dfeb0dc117a9c4af212079">v8::internal::HGraphBuilder::AddUncasted</a></div><div class="ttdeci">HInstruction * AddUncasted()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01122">hydrogen.h:1122</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_ae3efd69922a6aa4ad744803baacd6856"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ae3efd69922a6aa4ad744803baacd6856">v8::internal::HOptimizedGraphBuilder::VisitForTypeOf</a></div><div class="ttdeci">void VisitForTypeOf(Expression *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03887">hydrogen.cc:3887</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a97cf28cee139c6071680b6c8d6ffe570"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a97cf28cee139c6071680b6c8d6ffe570">v8::internal::HGraphBuilder::BuildCompareNil</a></div><div class="ttdeci">void BuildCompareNil(HValue *value, Type *type, HIfContinuation *continuation)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02661">hydrogen.cc:2661</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html_a592590f055219bc6134c36836359434b"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a592590f055219bc6134c36836359434b">v8::internal::Representation::IsNone</a></div><div class="ttdeci">bool IsNone() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00174">property-details.h:174</a></div></div>
<div class="ttc" id="hydrogen-uint32-analysis_8h_html"><div class="ttname"><a href="../../dc/dbe/hydrogen-uint32-analysis_8h.html">hydrogen-uint32-analysis.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a7387f69900ab32a0acb27230fe04cb26"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7387f69900ab32a0acb27230fe04cb26">v8::internal::HOptimizedGraphBuilder::VisitNot</a></div><div class="ttdeci">void VisitNot(UnaryOperation *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l08834">hydrogen.cc:8834</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a66e9a5671f740245739cc6873ea1b445a01409a6eaf026ee7100680ac60d9a513"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a66e9a5671f740245739cc6873ea1b445a01409a6eaf026ee7100680ac60d9a513">v8::internal::SLOPPY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00415">globals.h:415</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a2e0435e2e2b377a3b332e6acaada0fc1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a2e0435e2e2b377a3b332e6acaada0fc1">v8::internal::IsFastSmiOrObjectElementsKind</a></div><div class="ttdeci">bool IsFastSmiOrObjectElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00166">elements-kind.h:166</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae77d2fa4643ef916a7813c2ef8e8ef81a81bed5726796fba31edc333fbe5d4c36"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a81bed5726796fba31edc333fbe5d4c36">v8::internal::BREAK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d75/instructions-arm64_8h_source.html#l00481">instructions-arm64.h:481</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_type_impl_html_a74bff227e2a2e61e13c390788370df73"><div class="ttname"><a href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a74bff227e2a2e61e13c390788370df73">v8::internal::TypeImpl::Is</a></div><div class="ttdeci">bool Is(TypeImpl *that)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00246">types.h:246</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_statement_html"><div class="ttname"><a href="../../dd/d1b/classv8_1_1internal_1_1_statement.html">v8::internal::Statement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00257">ast.h:257</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a3d6280d1f7fc717c2151d1ac0586744b"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3d6280d1f7fc717c2151d1ac0586744b">v8::internal::HOptimizedGraphBuilder::SetUpScope</a></div><div class="ttdeci">void SetUpScope(Scope *scope)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l04128">hydrogen.cc:4128</a></div></div>
<div class="ttc" id="hydrogen-gvn_8h_html"><div class="ttname"><a href="../../de/d70/hydrogen-gvn_8h.html">hydrogen-gvn.h</a></div></div>
<div class="ttc" id="hydrogen-instructions_8cc_html_ab1962a5925807534ef019dd21b95b969"><div class="ttname"><a href="../../d4/db1/hydrogen-instructions_8cc.html#ab1962a5925807534ef019dd21b95b969">STRING_TYPE</a></div><div class="ttdeci">#define STRING_TYPE(NAME, size, name, Name)</div></div>
<div class="ttc" id="namespacev8_html_aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#aa944500afca8000fffef41951b9f2660ac9d3e887722f2bc482bcca9d41c512af">v8::None</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02107">v8.h:2107</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_array_base_html_ac1cb10d97e8091bf949042b4d67f91c8"><div class="ttname"><a href="../../dd/d33/classv8_1_1internal_1_1_fixed_array_base.html#ac1cb10d97e8091bf949042b4d67f91c8">v8::internal::FixedArrayBase::kHeaderSize</a></div><div class="ttdeci">static const int kHeaderSize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l03016">objects.h:3016</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afc77787fd5a9508e2fbbeb59ffacc436a867d7e93065f39103b9e480005ee1250"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afc77787fd5a9508e2fbbeb59ffacc436a867d7e93065f39103b9e480005ee1250">v8::internal::CALL_AS_METHOD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00287">v8globals.h:287</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a871b99316b637fd2c04bd5147fe68a1b"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a871b99316b637fd2c04bd5147fe68a1b">v8::internal::HOptimizedGraphBuilder::CreateJoin</a></div><div class="ttdeci">HBasicBlock * CreateJoin(HBasicBlock *first, HBasicBlock *second, BailoutId join_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03001">hydrogen.cc:3001</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a108545e3d17aa574e4086ed9206bbac2">v8::internal::JS_FUNCTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00555">hydrogen.h:555</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_html_aeadd8a6ad0a99e4d16b9a6352a9b2660"><div class="ttname"><a href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#aeadd8a6ad0a99e4d16b9a6352a9b2660">v8::internal::Runtime::FunctionId</a></div><div class="ttdeci">FunctionId</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d51/runtime_8h_source.html#l00749">runtime.h:749</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_type_impl_html_a018aa77accfdf68c8385816d6653b6fa"><div class="ttname"><a href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#a018aa77accfdf68c8385816d6653b6fa">v8::internal::TypeImpl&lt; ZoneTypeConfig &gt;::Intersect</a></div><div class="ttdeci">static TypeHandle Intersect(TypeHandle type1, TypeHandle type2, Region *reg)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a56228b687afce78cf92faf90dc01c312a15d9cc32285e1c5e26ed4e761782ebd5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a15d9cc32285e1c5e26ed4e761782ebd5">v8::internal::GETTER_CALL_RETURN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l02060">hydrogen-instructions.h:2060</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_af5efac17e5d40de7aceda441346988af"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af5efac17e5d40de7aceda441346988af">v8::internal::HGraphBuilder::AddElementAccess</a></div><div class="ttdeci">HInstruction * AddElementAccess(HValue *elements, HValue *checked_key, HValue *val, HValue *dependency, ElementsKind elements_kind, PropertyAccessType access_type, LoadKeyedHoleMode load_mode=NEVER_RETURN_HOLE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02386">hydrogen.cc:2386</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_postorder_processor_html_ac8324a11e747ea0f6032bbd7250ac883"><div class="ttname"><a href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ac8324a11e747ea0f6032bbd7250ac883">v8::internal::PostorderProcessor::loop</a></div><div class="ttdeci">HLoopInformation * loop()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03253">hydrogen.cc:3253</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a2adb59c3d7aa271858eff69d80c84f04"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a2adb59c3d7aa271858eff69d80c84f04">v8::internal::HOptimizedGraphBuilder::VisitForControl</a></div><div class="ttdeci">void VisitForControl(Expression *expr, HBasicBlock *true_block, HBasicBlock *false_block)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03894">hydrogen.cc:3894</a></div></div>
<div class="ttc" id="lithium-codegen-arm_8h_html"><div class="ttname"><a href="../../d3/dea/lithium-codegen-arm_8h.html">lithium-codegen-arm.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a97d86e98faf1fa957813fcad98fecf21"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21">v8::internal::VariableMode</a></div><div class="ttdeci">VariableMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00465">v8globals.h:465</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_html_aeadd8a6ad0a99e4d16b9a6352a9b2660a822d197a7e2d979c98bce9f8da78a639"><div class="ttname"><a href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#aeadd8a6ad0a99e4d16b9a6352a9b2660a822d197a7e2d979c98bce9f8da78a639">v8::internal::Runtime::kFirstInlineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d51/runtime_8h_source.html#l00763">runtime.h:763</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html_ad7e12860c8d658f6e59336d8c1ebf94d"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#ad7e12860c8d658f6e59336d8c1ebf94d">v8::internal::HeapObject::kMapOffset</a></div><div class="ttdeci">static const int kMapOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l01890">objects.h:1890</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a1f74519e82c730b5c8e0a8918a13632e"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1f74519e82c730b5c8e0a8918a13632e">v8::internal::HGraphBuilder::BuildWrapReceiver</a></div><div class="ttdeci">HValue * BuildWrapReceiver(HValue *object, HValue *function)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01279">hydrogen.cc:1279</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html">v8::internal::Scope</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dee/scopes_8h_source.html#l00095">scopes.h:95</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a97d86e98faf1fa957813fcad98fecf21af68346ce0bfce7ab2ca0a240f5132863"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21af68346ce0bfce7ab2ca0a240f5132863">v8::internal::VAR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00467">v8globals.h:467</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_postorder_processor_html_ad0a8cdc0ebfeaeefdd6fb2cb29727bb8"><div class="ttname"><a href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ad0a8cdc0ebfeaeefdd6fb2cb29727bb8">v8::internal::PostorderProcessor::block</a></div><div class="ttdeci">HBasicBlock * block()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03252">hydrogen.cc:3252</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82a972dbcdf74cff71e20bdcfb53be9c391">v8::internal::LOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00229">hydrogen-instructions.h:229</a></div></div>
<div class="ttc" id="namespacev8_html_a3faa6b97e175f8317bc7ceffec90e429"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#a3faa6b97e175f8317bc7ceffec90e429">v8::False</a></div><div class="ttdeci">V8_INLINE Handle&lt; Boolean &gt; False(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l06568">v8.h:6568</a></div></div>
<div class="ttc" id="hydrogen_8cc_html_a71fc26a6830ee3fa06cbfafeb92dab1f"><div class="ttname"><a href="../../d7/dd6/hydrogen_8cc.html#a71fc26a6830ee3fa06cbfafeb92dab1f">CHECK_ALIVE</a></div><div class="ttdeci">#define CHECK_ALIVE(call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03854">hydrogen.cc:3854</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a74fd5739eb591d10bd28a2487ae879af"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a74fd5739eb591d10bd28a2487ae879af">v8::internal::HGraphBuilder::BuildObjectSizeAlignment</a></div><div class="ttdeci">HValue * BuildObjectSizeAlignment(HValue *unaligned_size, int header_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01907">hydrogen.cc:1907</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_ae1b06bb515fe55198794cff9f7d27d58"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ae1b06bb515fe55198794cff9f7d27d58">v8::internal::HGraphBuilder::SetSourcePosition</a></div><div class="ttdeci">void SetSourcePosition(int position)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01815">hydrogen.h:1815</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_aac50e9966294c11640420283d8f576b8"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aac50e9966294c11640420283d8f576b8">v8::internal::HGraphBuilder::EnforceNumberType</a></div><div class="ttdeci">HValue * EnforceNumberType(HValue *number, Type *expected)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l09126">hydrogen.cc:9126</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a2aa7861cfdcd9b581acfe6924b9919ae"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2aa7861cfdcd9b581acfe6924b9919ae">v8::internal::HGraphBuilder::BuildRegExpConstructResult</a></div><div class="ttdeci">HValue * BuildRegExpConstructResult(HValue *length, HValue *index, HValue *input)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01560">hydrogen.cc:1560</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_postorder_processor_html_ab7095931abcc2ff1ae888f30d0ed8d85"><div class="ttname"><a href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#ab7095931abcc2ff1ae888f30d0ed8d85">v8::internal::PostorderProcessor::PerformStep</a></div><div class="ttdeci">PostorderProcessor * PerformStep(Zone *zone, BitVector *visited, ZoneList&lt; HBasicBlock * &gt; *order)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03263">hydrogen.cc:3263</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a66e9a5671f740245739cc6873ea1b445a459b52e1bdb128570809aba2a4c92d2c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a66e9a5671f740245739cc6873ea1b445a459b52e1bdb128570809aba2a4c92d2c">v8::internal::STRICT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00415">globals.h:415</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad495a9f61af7fff07d7e97979d1ab854ad753cb806d3ac608eadc35bea0949b95"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854ad753cb806d3ac608eadc35bea0949b95">v8::internal::JS_GETTER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00557">hydrogen.h:557</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a2ad80cdfa895b81968050fa753ecda20"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a2ad80cdfa895b81968050fa753ecda20">v8::internal::OS::nan_value</a></div><div class="ttdeci">static double nan_value()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00327">platform-posix.cc:327</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a4174a75a5b495ed000c678a2ab05b0f8"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a4174a75a5b495ed000c678a2ab05b0f8">v8::internal::HValue::ChangeRepresentation</a></div><div class="ttdeci">void ChangeRepresentation(Representation r)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00711">hydrogen-instructions.h:711</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_number_html_aabca8545565b6a1f3c6fdc8bd948de49"><div class="ttname"><a href="../../d1/d8c/classv8_1_1internal_1_1_heap_number.html#aabca8545565b6a1f3c6fdc8bd948de49">v8::internal::HeapNumber::kSize</a></div><div class="ttdeci">static const int kSize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l01979">objects.h:1979</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_to_boolean_stub_1_1_types_html"><div class="ttname"><a href="../../d6/dbf/classv8_1_1internal_1_1_to_boolean_stub_1_1_types.html">v8::internal::ToBooleanStub::Types</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9c/code-stubs_8h_source.html#l02345">code-stubs.h:2345</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html">v8::internal::CompilationInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00062">compiler.h:62</a></div></div>
<div class="ttc" id="hydrogen-mark-unreachable_8h_html"><div class="ttname"><a href="../../d3/dab/hydrogen-mark-unreachable_8h.html">hydrogen-mark-unreachable.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_handle_html_a3c45461717ff230edd665ce24da988c5"><div class="ttname"><a href="../../da/dde/classv8_1_1internal_1_1_handle.html#a3c45461717ff230edd665ce24da988c5">v8::internal::Handle::is_null</a></div><div class="ttdeci">bool is_null() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00081">handles.h:81</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html_a297dbe5a9f0f9bc46f81c6e1730dbfe2"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a297dbe5a9f0f9bc46f81c6e1730dbfe2">v8::internal::Representation::IsDouble</a></div><div class="ttdeci">bool IsDouble() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00184">property-details.h:184</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae77d2fa4643ef916a7813c2ef8e8ef81ad7ee10720f00c00084f137d33609a902"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81ad7ee10720f00c00084f137d33609a902">v8::internal::ADD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00157">constants-arm.h:157</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a66002f6ad3e136f3c4f139f9c775ae29"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">v8::internal::handle</a></div><div class="ttdeci">Handle&lt; T &gt; handle(T *t, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00103">handles.h:103</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_osr_builder_html_aab1e05c381eca3ad041994df929a4623"><div class="ttname"><a href="../../da/d28/classv8_1_1internal_1_1_h_osr_builder.html#aab1e05c381eca3ad041994df929a4623">v8::internal::HOsrBuilder::BuildOsrLoopEntry</a></div><div class="ttdeci">HBasicBlock * BuildOsrLoopEntry(IterationStatement *statement)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2d/hydrogen-osr_8cc_source.html#l00040">hydrogen-osr.cc:40</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad495a9f61af7fff07d7e97979d1ab854a2c6e4ffabcb60fb6bb58dbcfa67ee896"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854a2c6e4ffabcb60fb6bb58dbcfa67ee896">v8::internal::JS_CONSTRUCT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00556">hydrogen.h:556</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4730147a5f2fa83bf450138f42b1df92"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">v8::internal::info</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function info</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00317">flags.cc:317</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_stats_counter_html"><div class="ttname"><a href="../../d1/dcb/classv8_1_1internal_1_1_stats_counter.html">v8::internal::StatsCounter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dfb/counters_8h_source.html#l00116">counters.h:116</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a07cbfc3414b23664f579ae9c9de79444"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a07cbfc3414b23664f579ae9c9de79444">v8::internal::kObjectAlignment</a></div><div class="ttdeci">const intptr_t kObjectAlignment</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00044">v8globals.h:44</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a6e8b71387ce6092c09ca6eb86d36e30b"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a6e8b71387ce6092c09ca6eb86d36e30b">v8::internal::HGraphBuilder::BuildGetNativeContext</a></div><div class="ttdeci">HInstruction * BuildGetNativeContext(HValue *closure)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02745">hydrogen.cc:2745</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_postorder_processor_html_a24ea53528abd8ad1e9e14288e3a9a27e"><div class="ttname"><a href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a24ea53528abd8ad1e9e14288e3a9a27e">v8::internal::PostorderProcessor::CreateEntryProcessor</a></div><div class="ttdeci">static PostorderProcessor * CreateEntryProcessor(Zone *zone, HBasicBlock *block, BitVector *visited)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03256">hydrogen.cc:3256</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_osr_builder_html_a3b872aa3d32d030d7721007ef7d01df9"><div class="ttname"><a href="../../da/d28/classv8_1_1internal_1_1_h_osr_builder.html#a3b872aa3d32d030d7721007ef7d01df9">v8::internal::HOsrBuilder::HasOsrEntryAt</a></div><div class="ttdeci">bool HasOsrEntryAt(IterationStatement *statement)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2d/hydrogen-osr_8cc_source.html#l00035">hydrogen-osr.cc:35</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af0e5d13d39f10d3ddf6bff5ba717bb8a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af0e5d13d39f10d3ddf6bff5ba717bb8a">v8::internal::GetInitialFastElementsKind</a></div><div class="ttdeci">ElementsKind GetInitialFastElementsKind()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/elements-kind_8cc_source.html#l00088">elements-kind.cc:88</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_ab1de207d27c1e70cac0b4159729c7d76"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ab1de207d27c1e70cac0b4159729c7d76">v8::internal::HOptimizedGraphBuilder::kMaxFastLiteralProperties</a></div><div class="ttdeci">static const int kMaxFastLiteralProperties</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02094">hydrogen.h:2094</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_aacfb8b08512ff272a06084e0f0b2cbe3"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#aacfb8b08512ff272a06084e0f0b2cbe3">v8::internal::HGraphBuilder::BuildCheckString</a></div><div class="ttdeci">HValue * BuildCheckString(HValue *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01268">hydrogen.cc:1268</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a9682bd4fb24016d3c2b858ea34023c9b"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a9682bd4fb24016d3c2b858ea34023c9b">v8::internal::HGraphBuilder::CreateLoopHeaderBlock</a></div><div class="ttdeci">HBasicBlock * CreateLoopHeaderBlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01242">hydrogen.cc:1242</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a52a1818ff9fd321755c7484d4d0dbda4a9f1432d7ea8c60fbf28bc3650602cb70"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a52a1818ff9fd321755c7484d4d0dbda4a9f1432d7ea8c60fbf28bc3650602cb70">v8::internal::STORE_TO_INITIALIZED_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l06501">hydrogen-instructions.h:6501</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_ad669ed0c1db85ad18470fef91668e361"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#ad669ed0c1db85ad18470fef91668e361">v8::internal::HOptimizedGraphBuilder::ToType</a></div><div class="ttdeci">Type * ToType(Handle&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02237">hydrogen.h:2237</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aafe7004f5081153bdad5fb7d6e8d61905">v8::internal::HValue::kIsArguments</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00629">hydrogen-instructions.h:629</a></div></div>
<div class="ttc" id="hydrogen-check-elimination_8h_html"><div class="ttname"><a href="../../d7/d62/hydrogen-check-elimination_8h.html">hydrogen-check-elimination.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a864e41eaff357da4063bc37b31e4ecdc"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a864e41eaff357da4063bc37b31e4ecdc">v8::internal::HGraphBuilder::top_info</a></div><div class="ttdeci">CompilationInfo * top_info()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01074">hydrogen.h:1074</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a77803267732602ba152ad63de51aee58"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a77803267732602ba152ad63de51aee58">v8::internal::HGraphBuilder::BuildCopyElementsOnWrite</a></div><div class="ttdeci">HValue * BuildCopyElementsOnWrite(HValue *object, HValue *elements, ElementsKind kind, HValue *length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01359">hydrogen.cc:1359</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a4321eba55b5ed532f9214d727fce7335"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a4321eba55b5ed532f9214d727fce7335">v8::internal::HEAP_NUMBER_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00723">objects.h:723</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html_ad5293181dc22b0c8db90916da192aab4"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#ad5293181dc22b0c8db90916da192aab4">v8::internal::CompilationInfo::shared_info</a></div><div class="ttdeci">Handle&lt; SharedFunctionInfo &gt; shared_info() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00082">compiler.h:82</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a667e6e408dfc0eda4da5a312b8e120ed"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a667e6e408dfc0eda4da5a312b8e120ed">v8::internal::AppendChars</a></div><div class="ttdeci">int AppendChars(const char *filename, const char *str, int size, bool verbose)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8a/v8utils_8cc_source.html#l00214">v8utils.cc:214</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_html_ac73159cca4fc710b88d4ce5bb437fdcf"><div class="ttname"><a href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#ac73159cca4fc710b88d4ce5bb437fdcf">v8::internal::Runtime::CreateArrayLiteralBoilerplate</a></div><div class="ttdeci">static Handle&lt; Object &gt; CreateArrayLiteralBoilerplate(Isolate *isolate, Handle&lt; FixedArray &gt; literals, Handle&lt; FixedArray &gt; elements)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de1/runtime_8cc_source.html#l00352">runtime.cc:352</a></div></div>
<div class="ttc" id="hydrogen-redundant-phi_8h_html"><div class="ttname"><a href="../../dc/dd5/hydrogen-redundant-phi_8h.html">hydrogen-redundant-phi.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_aa88c6555aa3e4b6957d706a32ab132eb"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#aa88c6555aa3e4b6957d706a32ab132eb">v8::internal::HOptimizedGraphBuilder::VisitExpressions</a></div><div class="ttdeci">void VisitExpressions(ZoneList&lt; Expression * &gt; *exprs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03902">hydrogen.cc:3902</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a21ee2af92714336e49ccbe7cdc242a3d"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a21ee2af92714336e49ccbe7cdc242a3d">v8::internal::HGraphBuilder::Add</a></div><div class="ttdeci">I * Add()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01125">hydrogen.h:1125</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_ab54d3c7c4ba44de14f19aa5b0909fed2"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ab54d3c7c4ba44de14f19aa5b0909fed2">v8::internal::HGraphBuilder::BuildNumberToString</a></div><div class="ttdeci">HValue * BuildNumberToString(HValue *object, Type *type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01627">hydrogen.cc:1627</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a02670a3c9633129c524842afc57c106d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a02670a3c9633129c524842afc57c106d">v8::internal::JS_FUNCTION_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00812">objects.h:812</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a64d022886938d106be238e3d73741302"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a64d022886938d106be238e3d73741302">v8::internal::kOneByteDataHintTag</a></div><div class="ttdeci">const uint32_t kOneByteDataHintTag</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00639">objects.h:639</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_control_instruction_html"><div class="ttname"><a href="../../d7/de1/classv8_1_1internal_1_1_h_control_instruction.html">v8::internal::HControlInstruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l01327">hydrogen-instructions.h:1327</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a2e44bd382e52f221f70939a892e513f3"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2e44bd382e52f221f70939a892e513f3">v8::internal::HGraphBuilder::CreateBasicBlock</a></div><div class="ttdeci">HBasicBlock * CreateBasicBlock(HEnvironment *env)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01235">hydrogen.cc:1235</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abce1eab366e996d40e43a1ec0e42e65caa6fe6d1581b1e2d2ba6c19d1c4716e04"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abce1eab366e996d40e43a1ec0e42e65caa6fe6d1581b1e2d2ba6c19d1c4716e04">v8::internal::ARGUMENTS_NOT_ALLOWED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00765">hydrogen.h:765</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_allocation_site_html_ad0444420027977b3663c4430009d90d5"><div class="ttname"><a href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#ad0444420027977b3663c4430009d90d5">v8::internal::AllocationSite::GetMode</a></div><div class="ttdeci">static AllocationSiteMode GetMode(ElementsKind boilerplate_elements_kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01477">objects-inl.h:1477</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_ac0fe29aa49349af3cf1fc8b578d9911a"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac0fe29aa49349af3cf1fc8b578d9911a">v8::internal::HGraphBuilder::BuildInitializeElementsHeader</a></div><div class="ttdeci">void BuildInitializeElementsHeader(HValue *elements, ElementsKind kind, HValue *capacity)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02326">hydrogen.cc:2326</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_af8ca8945a52a422e9d98928ecd0fe1b8"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#af8ca8945a52a422e9d98928ecd0fe1b8">v8::internal::Variable::binding_needs_init</a></div><div class="ttdeci">bool binding_needs_init() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00125">variables.h:125</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab4b5f34ae4a9feae0be7d4fd237faf97aeb923d7e876fe3522433556fdd154fab"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab4b5f34ae4a9feae0be7d4fd237faf97aeb923d7e876fe3522433556fdd154fab">v8::internal::DISABLE_ALLOCATION_SITES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9c/code-stubs_8h_source.html#l00761">code-stubs.h:761</a></div></div>
<div class="ttc" id="typing_8h_html"><div class="ttname"><a href="../../db/dc9/typing_8h.html">typing.h</a></div></div>
<div class="ttc" id="objects_8h_html_aaef05632067c0265f29fe83f79b32536"><div class="ttname"><a href="../../df/d91/objects_8h.html#aaef05632067c0265f29fe83f79b32536">TYPED_ARRAYS</a></div><div class="ttdeci">#define TYPED_ARRAYS(V)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l04663">objects.h:4663</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_handle_html_a5c1c5f8dcdfd3fe359a6af56e98ec280"><div class="ttname"><a href="../../da/dde/classv8_1_1internal_1_1_handle.html#a5c1c5f8dcdfd3fe359a6af56e98ec280">v8::internal::Handle::null</a></div><div class="ttdeci">static Handle&lt; T &gt; null()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00080">handles.h:80</a></div></div>
<div class="ttc" id="hydrogen-load-elimination_8h_html"><div class="ttname"><a href="../../de/d93/hydrogen-load-elimination_8h.html">hydrogen-load-elimination.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_a62b474d3da6033512c7b9e9cc8abefc6"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#a62b474d3da6033512c7b9e9cc8abefc6">v8::internal::Variable::IsUnallocated</a></div><div class="ttdeci">bool IsUnallocated() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00115">variables.h:115</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a3dc7547074f94ab51e0bf699b120c856"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3dc7547074f94ab51e0bf699b120c856">v8::internal::HOptimizedGraphBuilder::VisitStatements</a></div><div class="ttdeci">virtual void VisitStatements(ZoneList&lt; Statement * &gt; *statements) V8_OVERRIDE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l04167">hydrogen.cc:4167</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_iteration_statement_html_a0c9b2b9a72c5629d73ee4344ec015797"><div class="ttname"><a href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html#a0c9b2b9a72c5629d73ee4344ec015797">v8::internal::IterationStatement::StackCheckId</a></div><div class="ttdeci">virtual BailoutId StackCheckId() const =0</div></div>
<div class="ttc" id="checks_8h_html_a9f578a62e6cedf3f56577f294abe2713"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a></div><div class="ttdeci">#define ASSERT_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00330">checks.h:330</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_afb0564821f132bfe74508af8349a0faaa4e1879316018c0354ef97054445e17cd"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#afb0564821f132bfe74508af8349a0faaa4e1879316018c0354ef97054445e17cd">v8::internal::String::ONE_BYTE_ENCODING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08733">objects.h:8733</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae77d2fa4643ef916a7813c2ef8e8ef81a8565f0d60c3ba6d468661c49d86e9744"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a8565f0d60c3ba6d468661c49d86e9744">v8::internal::DIV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/constants-mips_8h_source.html#l00339">constants-mips.h:339</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab1f8855b3643c64810fdbf6652bcd20f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20f">v8::internal::BuiltinFunctionId</a></div><div class="ttdeci">BuiltinFunctionId</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l06680">objects.h:6680</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_afc85d54539c300a80cf158f0709189d2"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#afc85d54539c300a80cf158f0709189d2">v8::internal::HOptimizedGraphBuilder::VisitComma</a></div><div class="ttdeci">void VisitComma(BinaryOperation *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l09470">hydrogen.cc:9470</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compiler_html_a23fb913095d539a5508b3244320f509e"><div class="ttname"><a href="../../d6/dd3/classv8_1_1internal_1_1_compiler.html#a23fb913095d539a5508b3244320f509e">v8::internal::Compiler::BuildFunctionInfo</a></div><div class="ttdeci">static Handle&lt; SharedFunctionInfo &gt; BuildFunctionInfo(FunctionLiteral *node, Handle&lt; Script &gt; script)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc6/compiler_8cc_source.html#l00996">compiler.cc:996</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_postorder_processor_html_a8887002ae9d67377073393d8e9fd0043"><div class="ttname"><a href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a8887002ae9d67377073393d8e9fd0043">v8::internal::PostorderProcessor::child</a></div><div class="ttdeci">PostorderProcessor * child()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03251">hydrogen.cc:3251</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">v8::internal::hi</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00092">constants-arm.h:92</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_bailout_id_html"><div class="ttname"><a href="../../dd/d9d/classv8_1_1internal_1_1_bailout_id.html">v8::internal::BailoutId</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l01159">utils.h:1159</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab46a6342f518ffe356dd4b116eabc1e0"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">v8::internal::USE</a></div><div class="ttdeci">void USE(T)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00341">globals.h:341</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6ddf95dba7f56f0f5bb385b2117969ee"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6ddf95dba7f56f0f5bb385b2117969ee">v8::internal::formal_parameter_count</a></div><div class="ttdeci">kInstanceClassNameOffset kNeedsAccessCheckBit kRemovePrototypeBit kIsExpressionBit kAllowLazyCompilation kUsesArguments formal_parameter_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l05190">objects-inl.h:5190</a></div></div>
<div class="ttc" id="hydrogen-representation-changes_8h_html"><div class="ttname"><a href="../../d5/dea/hydrogen-representation-changes_8h.html">hydrogen-representation-changes.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af695344577b6def40287224263a9d3aa"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">v8::internal::kOneByteStringTag</a></div><div class="ttdeci">const uint32_t kOneByteStringTag</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00611">objects.h:611</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a4485d41849bdd07fb7dd9eca364731a8"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a4485d41849bdd07fb7dd9eca364731a8">v8::internal::Isolate::counters</a></div><div class="ttdeci">Counters * counters()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00859">isolate.h:859</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6f02191e33d0793652606a57e312ffee"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6f02191e33d0793652606a57e312ffee">v8::internal::CanBeZero</a></div><div class="ttdeci">bool CanBeZero(HValue *right)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l09114">hydrogen.cc:9114</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aa8a83882795dc01dc3cf98dcd7cccf705"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa8a83882795dc01dc3cf98dcd7cccf705">v8::internal::HValue::kFlexibleRepresentation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00611">hydrogen-instructions.h:611</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aa7916713c20b23c785131483142654efa"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa7916713c20b23c785131483142654efa">v8::internal::HValue::kUseGVN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00617">hydrogen-instructions.h:617</a></div></div>
<div class="ttc" id="checks_8h_html_a9330a1ef452afab25630fff167dd413b"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a9330a1ef452afab25630fff167dd413b">ASSERT_NE</a></div><div class="ttdeci">#define ASSERT_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00331">checks.h:331</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a949499cf64adf66e57fb90ad2546be23"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a949499cf64adf66e57fb90ad2546be23">v8::internal::DisallowHeapAllocation</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; HEAP_ALLOCATION_ASSERT, false &gt; DisallowHeapAllocation</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d64/assert-scope_8h_source.html#l00214">assert-scope.h:214</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_html_a305cd7b2d5ede40e72db4ce438993fbca18c97cbdfea4a3b188d4efe2cf508e5b"><div class="ttname"><a href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#a305cd7b2d5ede40e72db4ce438993fbca18c97cbdfea4a3b188d4efe2cf508e5b">v8::internal::Runtime::INLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d51/runtime_8h_source.html#l00769">runtime.h:769</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_binary_op_i_c_html_a097c6a9749a864263762c05659051f17"><div class="ttname"><a href="../../dd/d95/classv8_1_1internal_1_1_binary_op_i_c.html#a097c6a9749a864263762c05659051f17">v8::internal::BinaryOpIC::TokenToJSBuiltin</a></div><div class="ttdeci">static Builtins::JavaScript TokenToJSBuiltin(Token::Value op)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d82/ic_8cc_source.html#l02771">ic.cc:2771</a></div></div>
<div class="ttc" id="v8conversions_8cc_html_a03fd641a87e0199b429070914b680b7f"><div class="ttname"><a href="../../de/dd0/v8conversions_8cc.html#a03fd641a87e0199b429070914b680b7f">end_</a></div><div class="ttdeci">bool end_</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd0/v8conversions_8cc_source.html#l00060">v8conversions.cc:60</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_descriptor_array_html_a84b96f3e8a05eaf65440360f1dfb4403"><div class="ttname"><a href="../../d2/de9/classv8_1_1internal_1_1_descriptor_array.html#a84b96f3e8a05eaf65440360f1dfb4403">v8::internal::DescriptorArray::kEnumCacheBridgeCacheIndex</a></div><div class="ttdeci">static const int kEnumCacheBridgeCacheIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l03494">objects.h:3494</a></div></div>
<div class="ttc" id="lineprocessor_8cc_html_ae8c66ce018b4628b2aa348692e88ec9c"><div class="ttname"><a href="../../da/d3d/lineprocessor_8cc.html#ae8c66ce018b4628b2aa348692e88ec9c">Print</a></div><div class="ttdeci">void Print(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;args)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3d/lineprocessor_8cc_source.html#l00402">lineprocessor.cc:402</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_af3fb54edf8e440850918d2313a7b9c74"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#af3fb54edf8e440850918d2313a7b9c74">v8::internal::HGraphBuilder::AddStoreMapConstant</a></div><div class="ttdeci">HStoreNamedField * AddStoreMapConstant(HValue *object, Handle&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02958">hydrogen.cc:2958</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a1f30223603d2117a773a749b8736de9a"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00875">isolate.h:875</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_zone_object_html"><div class="ttname"><a href="../../d4/d5b/classv8_1_1internal_1_1_zone_object.html">v8::internal::ZoneObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9c/zone_8h_source.html#l00151">zone.h:151</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dependent_code_html_a66edae9ca9e69d08e0ac7aa83bbb926aa92c7b0ca46dfcbd79546c3d59e86536c"><div class="ttname"><a href="../../db/dc5/classv8_1_1internal_1_1_dependent_code.html#a66edae9ca9e69d08e0ac7aa83bbb926aa92c7b0ca46dfcbd79546c3d59e86536c">v8::internal::DependentCode::kPrototypeCheckGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l05744">objects.h:5744</a></div></div>
<div class="ttc" id="classv8_1_1_isolate_html"><div class="ttname"><a href="../../d5/dda/classv8_1_1_isolate.html">v8::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l04124">v8.h:4124</a></div></div>
<div class="ttc" id="lithium-codegen-x64_8h_html"><div class="ttname"><a href="../../d3/d65/lithium-codegen-x64_8h.html">lithium-codegen-x64.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017ad901254ae6b41d0409ac278003a5ee14"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017ad901254ae6b41d0409ac278003a5ee14">v8::internal::EXTERNAL_UINT32_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00061">elements-kind.h:61</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_variable_html_aecaf6a9545fa815deb4b8e64e144ce43a7f06283f0d1a4d167be6c37a3d24fd11"><div class="ttname"><a href="../../d2/dea/classv8_1_1internal_1_1_variable.html#aecaf6a9545fa815deb4b8e64e144ce43a7f06283f0d1a4d167be6c37a3d24fd11">v8::internal::Variable::CONTEXT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00069">variables.h:69</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_postorder_processor_html_a466ab1426c5a05a1c83661cde1257d36"><div class="ttname"><a href="../../de/d74/classv8_1_1internal_1_1_postorder_processor.html#a466ab1426c5a05a1c83661cde1257d36">v8::internal::PostorderProcessor::parent</a></div><div class="ttdeci">PostorderProcessor * parent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03249">hydrogen.cc:3249</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html">v8::internal::HValue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00606">hydrogen-instructions.h:606</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_ac63f315efa825f0466278da00abcdbfd"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">v8::internal::List&lt; T, ZoneAllocationPolicy &gt;::Add</a></div><div class="ttdeci">void Add(const T &amp;element, AllocationPolicy allocator=AllocationPolicy())</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a824da5797e1c9b7246bf465afc600c34ad0375cd04b9d0b1c3eabde618740bcc5">v8::internal::TRACK_ALLOCATION_SITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08253">objects.h:8253</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_register_html_a2ed8d3bbd04e3c5c407d895cdf50d958"><div class="ttname"><a href="../../dc/d02/structv8_1_1internal_1_1_register.html#a2ed8d3bbd04e3c5c407d895cdf50d958">v8::internal::Register::AllocationIndexToString</a></div><div class="ttdeci">static const char * AllocationIndexToString(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00179">assembler-arm.h:179</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae77d2fa4643ef916a7813c2ef8e8ef81ac4258182400772adf5bbee778dca04ed"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81ac4258182400772adf5bbee778dca04ed">v8::internal::SUB</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00155">constants-arm.h:155</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0749cff20cff647dabf33db89908c0a8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0749cff20cff647dabf33db89908c0a8">v8::internal::IsFastHoleyElementsKind</a></div><div class="ttdeci">bool IsFastHoleyElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00186">elements-kind.h:186</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_abb0b69d0784701104857e5259cd2807f"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#abb0b69d0784701104857e5259cd2807f">v8::internal::HOptimizedGraphBuilder::kMaxCallPolymorphism</a></div><div class="ttdeci">static const int kMaxCallPolymorphism</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02081">hydrogen.h:2081</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a5324ca4e296811fe6088635c718876b0"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a5324ca4e296811fe6088635c718876b0">v8::internal::HValue::IsPhi</a></div><div class="ttdeci">bool IsPhi() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00673">hydrogen-instructions.h:673</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a996288ec3d6236035c152e0174942291"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a996288ec3d6236035c152e0174942291">v8::internal::HGraphBuilder::BuildUncheckedMonomorphicElementAccess</a></div><div class="ttdeci">HInstruction * BuildUncheckedMonomorphicElementAccess(HValue *checked_object, HValue *key, HValue *val, bool is_js_array, ElementsKind elements_kind, PropertyAccessType access_type, LoadKeyedHoleMode load_mode, KeyedAccessStoreMode store_mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02141">hydrogen.cc:2141</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab1f8855b3643c64810fdbf6652bcd20fa677fa7591f30d7b60eb87aa1963922d6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab1f8855b3643c64810fdbf6652bcd20fa677fa7591f30d7b60eb87aa1963922d6">v8::internal::kMathPowHalf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l06688">objects.h:6688</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017abb07060403819e3e9ee9145513228f64"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017abb07060403819e3e9ee9145513228f64">v8::internal::FAST_DOUBLE_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00049">elements-kind.h:49</a></div></div>
<div class="ttc" id="heap-snapshot-generator_8cc_html_aab49963775d0eef29ecab5e60bdd31e6"><div class="ttname"><a href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a></div><div class="ttdeci">HeapObject * obj</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7d/heap-snapshot-generator_8cc_source.html#l00533">heap-snapshot-generator.cc:533</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html_ab455f3de8d1ad565e926868ff9c56a40"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#ab455f3de8d1ad565e926868ff9c56a40">v8::internal::CompilationInfo::has_global_object</a></div><div class="ttdeci">bool has_global_object() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00221">compiler.h:221</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a56228b687afce78cf92faf90dc01c312a344f0e0cab9e6c247c91d55f674091cf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a56228b687afce78cf92faf90dc01c312a344f0e0cab9e6c247c91d55f674091cf">v8::internal::CONSTRUCT_CALL_RETURN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l02059">hydrogen-instructions.h:2059</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac667b904858a97154268e29dec306a21"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">v8::internal::false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00171">flags.cc:171</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad495a9f61af7fff07d7e97979d1ab854"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854">v8::internal::FrameType</a></div><div class="ttdeci">FrameType</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00554">hydrogen.h:554</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0a90ce8264c80fb6758ed8d9b49ac5d5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0a90ce8264c80fb6758ed8d9b49ac5d5">v8::internal::literals</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric literals(0o77, 0b11)&quot;) DEFINE_bool(harmony_strings</div></div>
<div class="ttc" id="flag-definitions_8h_html_a5adc5ec2f1a2af41381abab75250b1c8"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long mode(MIPS only)&quot;)  DEFINE_string(expose_natives_as</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a8a59c09d0d108a6c2d36d7fb9df6fd2c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a8a59c09d0d108a6c2d36d7fb9df6fd2c">v8::internal::SLOPPY_ARGUMENTS_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00054">elements-kind.h:54</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_type_impl_html_ae3ed7286ff0596d82efd42054c4d0b02"><div class="ttname"><a href="../../d0/da3/classv8_1_1internal_1_1_type_impl.html#ae3ed7286ff0596d82efd42054c4d0b02">v8::internal::TypeImpl&lt; ZoneTypeConfig &gt;::Union</a></div><div class="ttdeci">static TypeHandle Union(TypeHandle type1, TypeHandle type2, Region *reg)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_ab48060722ff7800668a6629a40ace8aa"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#ab48060722ff7800668a6629a40ace8aa">v8::internal::HValue::IsInteger32Constant</a></div><div class="ttdeci">bool IsInteger32Constant()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/hydrogen-instructions_8cc_source.html#l00518">hydrogen-instructions.cc:518</a></div></div>
<div class="ttc" id="hydrogen_8cc_html_af143c716a5c7fd77110d57bbddc6bbcb"><div class="ttname"><a href="../../d7/dd6/hydrogen_8cc.html#af143c716a5c7fd77110d57bbddc6bbcb">DEFINE_IS_CONSTANT</a></div><div class="ttdeci">#define DEFINE_IS_CONSTANT(Name, name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l00731">hydrogen.cc:731</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a2da97a79e081c8cf483e6a4f3b6ab7f4"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a2da97a79e081c8cf483e6a4f3b6ab7f4">v8::internal::HGraphBuilder::AddLoadElements</a></div><div class="ttdeci">HLoadNamedField * AddLoadElements(HValue *object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02419">hydrogen.cc:2419</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad7e22133ba0aaca1e75bbc10d073a35c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad7e22133ba0aaca1e75bbc10d073a35c">v8::internal::RemovableSimulate</a></div><div class="ttdeci">RemovableSimulate</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l01865">hydrogen-instructions.h:1865</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_value_html_aad76963bee3b5b4d3412c5bd4afad879"><div class="ttname"><a href="../../d2/dfc/classv8_1_1internal_1_1_j_s_value.html#aad76963bee3b5b4d3412c5bd4afad879">v8::internal::JSValue::kValueOffset</a></div><div class="ttdeci">static const int kValueOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07701">objects.h:7701</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_ac0fc9ecb5807b3e7e7e86a39754f625e"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#ac0fc9ecb5807b3e7e7e86a39754f625e">v8::internal::HGraphBuilder::BuildCheckMap</a></div><div class="ttdeci">HValue * BuildCheckMap(HValue *obj, Handle&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01263">hydrogen.cc:1263</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_ae8b9009a3e9ed07892a78174ffa1c9e1"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#ae8b9009a3e9ed07892a78174ffa1c9e1">v8::internal::Scope::is_function_scope</a></div><div class="ttdeci">bool is_function_scope() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dee/scopes_8h_source.html#l00284">scopes.h:284</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5">v8::internal::FAST_SMI_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00039">elements-kind.h:39</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_afac2036737acdc8332e3f0fcf8afd2fc"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#afac2036737acdc8332e3f0fcf8afd2fc">v8::internal::AstContext::IsValue</a></div><div class="ttdeci">bool IsValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00777">hydrogen.h:777</a></div></div>
<div class="ttc" id="hydrogen-infer-types_8h_html"><div class="ttname"><a href="../../d7/dd0/hydrogen-infer-types_8h.html">hydrogen-infer-types.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a335c234ff71f2adc947efab0319619e4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a335c234ff71f2adc947efab0319619e4">v8::internal::AllowHandleDereference</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; HANDLE_DEREFERENCE_ASSERT, true &gt; AllowHandleDereference</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d64/assert-scope_8h_source.html#l00226">assert-scope.h:226</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a6016fba6624cb4b99ccde603b543e785"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a6016fba6624cb4b99ccde603b543e785">v8::internal::JS_REGEXP_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00810">objects.h:810</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html_a3f25582b3be90bb6e7d70307f10756d5"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a3f25582b3be90bb6e7d70307f10756d5">v8::internal::Representation::Tagged</a></div><div class="ttdeci">static Representation Tagged()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00106">property-details.h:106</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_statement_html_a3d22c8c09d84b29f60ed9b296aff0f6f"><div class="ttname"><a href="../../dd/d1b/classv8_1_1internal_1_1_statement.html#a3d22c8c09d84b29f60ed9b296aff0f6f">v8::internal::Statement::IsJump</a></div><div class="ttdeci">virtual bool IsJump() const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00262">ast.h:262</a></div></div>
<div class="ttc" id="checks_8h_html_a5842480f337ef2ee4c17fc82cc4b57cd"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a></div><div class="ttdeci">#define STATIC_ASSERT(test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00341">checks.h:341</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html_a99a09c5c43509611f5801096b4eec6ba"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html#a99a09c5c43509611f5801096b4eec6ba">v8::internal::Representation::IsSmi</a></div><div class="ttdeci">bool IsSmi() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00180">property-details.h:180</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_stats_counter_html_a75da96da90c15806f51016f9c3f0803e"><div class="ttname"><a href="../../d1/dcb/classv8_1_1internal_1_1_stats_counter.html#a75da96da90c15806f51016f9c3f0803e">v8::internal::StatsCounter::Enabled</a></div><div class="ttdeci">bool Enabled()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dfb/counters_8h_source.html#l00153">counters.h:153</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a75e39cb242f1be23861d84ba32387fdb"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a75e39cb242f1be23861d84ba32387fdb">v8::internal::HOptimizedGraphBuilder::ast_context</a></div><div class="ttdeci">AstContext * ast_context() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02099">hydrogen.h:2099</a></div></div>
<div class="ttc" id="hydrogen-canonicalize_8h_html"><div class="ttname"><a href="../../d9/d86/hydrogen-canonicalize_8h.html">hydrogen-canonicalize.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27aba0f93e6cf8af6a861213b3df3cfccd5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27aba0f93e6cf8af6a861213b3df3cfccd5">v8::internal::FIXED_ARRAY_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00778">objects.h:778</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a4b437d31c4c9ee106d37709f0ec4e8da"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a4b437d31c4c9ee106d37709f0ec4e8da">v8::internal::HGraphBuilder::BuildConstantMapCheck</a></div><div class="ttdeci">HInstruction * BuildConstantMapCheck(Handle&lt; JSObject &gt; constant, CompilationInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l06767">hydrogen.cc:6767</a></div></div>
<div class="ttc" id="structv8_1_1_maybe_html_a9dfa744f0c79dc3f439d054cc3878eaa"><div class="ttname"><a href="../../dd/dd0/structv8_1_1_maybe.html#a9dfa744f0c79dc3f439d054cc3878eaa">v8::Maybe::has_value</a></div><div class="ttdeci">bool has_value</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l00922">v8.h:922</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_abf3374771246d1d53c95ddaab930a1fe"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#abf3374771246d1d53c95ddaab930a1fe">v8::internal::HGraphBuilder::FinishCurrentBlock</a></div><div class="ttdeci">void FinishCurrentBlock(HControlInstruction *last)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01193">hydrogen.cc:1193</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a799bfde6b8e364ee509e4d72de3582db"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a799bfde6b8e364ee509e4d72de3582db">v8::internal::HOptimizedGraphBuilder::BuildGraph</a></div><div class="ttdeci">virtual bool BuildGraph() V8_OVERRIDE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03910">hydrogen.cc:3910</a></div></div>
<div class="ttc" id="hydrogen_8h_html"><div class="ttname"><a href="../../d7/d24/hydrogen_8h.html">hydrogen.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4789b60113833ac293f9d1aa9a6372e8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">v8::internal::Min</a></div><div class="ttdeci">T Min(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00234">utils.h:234</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a780afe985448bf3feaf11759b4bfa98a"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a780afe985448bf3feaf11759b4bfa98a">v8::internal::HGraphBuilder::MatchRotateRight</a></div><div class="ttdeci">bool MatchRotateRight(HValue *left, HValue *right, HValue **operand, HValue **shift_amount)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l09087">hydrogen.cc:9087</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">v8::internal::FAST_HOLEY_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00046">elements-kind.h:46</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a7cd0d204b82efe440e375e36463945a5a0378ebc895849163b249d0b330257dd6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a7cd0d204b82efe440e375e36463945a5a0378ebc895849163b249d0b330257dd6">v8::internal::NOT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d13/constants-arm64_8h_source.html#l00518">constants-arm64.h:518</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf111e6f2baa3eb36f69875f39239210ae52fff543224ee52a46e471ecc241d30"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf111e6f2baa3eb36f69875f39239210ae52fff543224ee52a46e471ecc241d30">v8::internal::kNullValue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6a/src_2v8_8h_source.html#l00133">v8.h:133</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a1e2f17c9f25d086d91278b44afd0b992"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1e2f17c9f25d086d91278b44afd0b992">v8::internal::HGraphBuilder::BuildFillElementsWithHole</a></div><div class="ttdeci">void BuildFillElementsWithHole(HValue *elements, ElementsKind elements_kind, HValue *from, HValue *to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02479">hydrogen.cc:2479</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a50b15cc06ceda90a2e0c189592bc7242"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a50b15cc06ceda90a2e0c189592bc7242">v8::internal::HOptimizedGraphBuilder::BindIfLive</a></div><div class="ttdeci">void BindIfLive(Variable *var, HValue *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02182">hydrogen.h:2182</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a338e5a9158bc572479f1bdac9f6ced38a9efdc855f3c1477957fb50affec07f8f">v8::internal::EQ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/constants-mips_8h_source.html#l00539">constants-mips.h:539</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_object_html_aeb7d5dd8d8a452e2e4e4c4be4a52ce3e"><div class="ttname"><a href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aeb7d5dd8d8a452e2e4e4c4be4a52ce3e">v8::internal::JSObject::kInitialMaxFastElementArray</a></div><div class="ttdeci">static const int kInitialMaxFastElementArray</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l02744">objects.h:2744</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0e008753fb0a146213a1b3822fae9031ae4cd2ed8d191fa90f635296dc4c4ffce"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031ae4cd2ed8d191fa90f635296dc4c4ffce">v8::internal::kSeqStringTag</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00617">objects.h:617</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_iteration_statement_html_a0f4a837929f7bdef79d9a0b10ba13c34"><div class="ttname"><a href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html#a0f4a837929f7bdef79d9a0b10ba13c34">v8::internal::IterationStatement::body</a></div><div class="ttdeci">Statement * body() const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00732">ast.h:732</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_html_aa2f1f954b625b8add75a3153b0446103"><div class="ttname"><a href="../../d0/d75/classv8_1_1internal_1_1_runtime.html#aa2f1f954b625b8add75a3153b0446103">v8::internal::Runtime::ArrayIdToTypeAndSize</a></div><div class="ttdeci">static void ArrayIdToTypeAndSize(int array_id, ExternalArrayType *type, ElementsKind *external_elements_kind, ElementsKind *fixed_elements_kind, size_t *element_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de1/runtime_8cc_source.html#l00928">runtime.cc:928</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_a0d444b088be14dc4fbd481a82fa06fc7"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a0d444b088be14dc4fbd481a82fa06fc7">v8::internal::Smi::kMaxValue</a></div><div class="ttdeci">static const int kMaxValue</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l01681">objects.h:1681</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compiler_html_a3f7a4b436feb61ad90e35a85aad003cf"><div class="ttname"><a href="../../d6/dd3/classv8_1_1internal_1_1_compiler.html#a3f7a4b436feb61ad90e35a85aad003cf">v8::internal::Compiler::RecordFunctionCompilation</a></div><div class="ttdeci">static void RecordFunctionCompilation(Logger::LogEventsAndTags tag, CompilationInfo *info, Handle&lt; SharedFunctionInfo &gt; shared)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc6/compiler_8cc_source.html#l01251">compiler.cc:1251</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a03a74f789ab667a0f8ba149fa635fa7d"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a03a74f789ab667a0f8ba149fa635fa7d">v8::internal::HGraphBuilder::BuildJSArrayHeader</a></div><div class="ttdeci">HInnerAllocatedObject * BuildJSArrayHeader(HValue *array, HValue *array_map, AllocationSiteMode mode, ElementsKind elements_kind, HValue *allocation_site_payload, HValue *length_field)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02352">hydrogen.cc:2352</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_representation_html"><div class="ttname"><a href="../../d2/d67/classv8_1_1internal_1_1_representation.html">v8::internal::Representation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00086">property-details.h:86</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_iteration_statement_html"><div class="ttname"><a href="../../d9/d1b/classv8_1_1internal_1_1_iteration_statement.html">v8::internal::IterationStatement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00725">ast.h:725</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab1d901438c48d5937e2b75647ab50e49"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">v8::internal::name</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long expose natives in global object expose freeBuffer extension expose gc extension under the specified name expose externalize string extension number of stack frames to capture disable builtin natives files print name of functions for which code is generated use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations always try to OSR functions trace optimize function deoptimization minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions trace debugging JSON request response trace out of bounds accesses to external arrays trace_js_array_abuse automatically set the debug break flag when debugger commands are in the queue abort by crashing maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable always perform global GCs print one trace line following each garbage collection do not print trace line after scavenger collection print statistics of the maximum memory committed for the heap in name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00505">flags.cc:505</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a7f319bfc2492a2136964194204e7a8cf"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div><div class="ttdeci">#define VOID</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01058">platform-win32.cc:1058</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f04f277465e629953e50da381df8c9b"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f04f277465e629953e50da381df8c9b">v8::internal::HValue::cast</a></div><div class="ttdeci">static HValue * cast(HValue *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00657">hydrogen-instructions.h:657</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_a4aa63b03f9e4297f0458d92b1c0f4292"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#a4aa63b03f9e4297f0458d92b1c0f4292">v8::internal::AstContext::~AstContext</a></div><div class="ttdeci">virtual ~AstContext()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03654">hydrogen.cc:3654</a></div></div>
<div class="ttc" id="hydrogen_8cc_html_ab701062b24352ca60e3e8751a9ac2a40"><div class="ttname"><a href="../../d7/dd6/hydrogen_8cc.html#ab701062b24352ca60e3e8751a9ac2a40">CHECK_BAILOUT</a></div><div class="ttdeci">#define CHECK_BAILOUT(call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03847">hydrogen.cc:3847</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a16c936d39a47b5784f54f48e049080a8"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a16c936d39a47b5784f54f48e049080a8">v8::internal::HGraphBuilder::BuildCheckHeapObject</a></div><div class="ttdeci">HValue * BuildCheckHeapObject(HValue *object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01251">hydrogen.cc:1251</a></div></div>
<div class="ttc" id="globals_8h_html_a25f003de16c08a4888b69f619d70f427"><div class="ttname"><a href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00333">globals.h:333</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_aee5771a34cce54c49de774220c26804d"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#aee5771a34cce54c49de774220c26804d">v8::internal::AstContext::ReturnValue</a></div><div class="ttdeci">virtual void ReturnValue(HValue *value)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a09e4424547791b19db06b32156785060"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a09e4424547791b19db06b32156785060">v8::internal::HValue::ClearFlag</a></div><div class="ttdeci">void ClearFlag(Flag f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00807">hydrogen-instructions.h:807</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a9f856a151f6a2876b45db50599f4c22c"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a9f856a151f6a2876b45db50599f4c22c">v8::internal::HGraphBuilder::BuildStringAdd</a></div><div class="ttdeci">HValue * BuildStringAdd(HValue *left, HValue *right, HAllocationMode allocation_mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02092">hydrogen.cc:2092</a></div></div>
<div class="ttc" id="hydrogen-mark-deoptimize_8h_html"><div class="ttname"><a href="../../d6/d13/hydrogen-mark-deoptimize_8h.html">hydrogen-mark-deoptimize.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a833aa35070c4d09a0539211b3f2e3ec5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a833aa35070c4d09a0539211b3f2e3ec5">v8::internal::GetHoleyElementsKind</a></div><div class="ttdeci">ElementsKind GetHoleyElementsKind(ElementsKind packed_kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00220">elements-kind.h:220</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad56363c3df93f551a1dd8515be9c3e82afeb01cb4572ba190cd7932e49446c480">v8::internal::STORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00229">hydrogen-instructions.h:229</a></div></div>
<div class="ttc" id="namespacev8_html_aeb687675fb2cf722704e8b06120de65a"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#aeb687675fb2cf722704e8b06120de65a">v8::Null</a></div><div class="ttdeci">V8_INLINE Handle&lt; Primitive &gt; Null(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l06550">v8.h:6550</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af1c8907d5c83cd7784929a6ae8ed67fca1f212c89cd7cf5a6435d2fa24e68ae6f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af1c8907d5c83cd7784929a6ae8ed67fca1f212c89cd7cf5a6435d2fa24e68ae6f">v8::internal::STORE_NO_TRANSITION_HANDLE_COW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00180">objects.h:180</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf">v8::internal::FIRST_NONSTRING_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00821">objects.h:821</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ab6983d7b9a3f2c02023619be6a4e8f5b">v8::internal::JS_ARRAY_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00801">objects.h:801</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_object_html_aaece615f06206074f36ad5c62efe4361"><div class="ttname"><a href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">v8::internal::JSObject::cast</a></div><div class="ttdeci">static JSObject * cast(Object *obj)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae77d2fa4643ef916a7813c2ef8e8ef81a96727447c0ad447987df1c6415aef074"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a96727447c0ad447987df1c6415aef074">v8::internal::OR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/constants-mips_8h_source.html#l00347">constants-mips.h:347</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a1723360ac752b7889227b2ed67aa2e48"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a1723360ac752b7889227b2ed67aa2e48">v8::internal::HGraphBuilder::AddLoadJSBuiltin</a></div><div class="ttdeci">HValue * AddLoadJSBuiltin(Builtins::JavaScript builtin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l02965">hydrogen.cc:2965</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa118dae48e9e2a76fcbae30229a33c17"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa118dae48e9e2a76fcbae30229a33c17">v8::internal::IsDictionaryElementsKind</a></div><div class="ttdeci">bool IsDictionaryElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00108">elements-kind.h:108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scope_html_a6655332ee1eba29ab5f31bfba968aff6"><div class="ttname"><a href="../../de/db5/classv8_1_1internal_1_1_scope.html#a6655332ee1eba29ab5f31bfba968aff6">v8::internal::Scope::declarations</a></div><div class="ttdeci">ZoneList&lt; Declaration * &gt; * declarations()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dee/scopes_8h_source.html#l00344">scopes.h:344</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a3b9fb3406081848e7e7d3debd6ec3a86"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3b9fb3406081848e7e7d3debd6ec3a86">v8::internal::HGraphBuilder::graph</a></div><div class="ttdeci">HGraph * graph() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01072">hydrogen.h:1072</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_context_html_a3f88945cddf5c31cb34575e710f7f3c7"><div class="ttname"><a href="../../dd/da8/classv8_1_1internal_1_1_ast_context.html#a3f88945cddf5c31cb34575e710f7f3c7">v8::internal::AstContext::is_for_typeof</a></div><div class="ttdeci">bool is_for_typeof()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00805">hydrogen.h:805</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_bit_field_base_html_a6a00048376027faa270478528b75d0e3"><div class="ttname"><a href="../../d6/dfa/classv8_1_1internal_1_1_bit_field_base.html#a6a00048376027faa270478528b75d0e3">v8::internal::BitFieldBase&lt; bool, shift, size, uint32_t &gt;::encode</a></div><div class="ttdeci">static uint32_t encode(boolvalue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00290">utils.h:290</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a3f6d6c86933af5fcbeed58f362182cf6"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a3f6d6c86933af5fcbeed58f362182cf6">v8::internal::HGraphBuilder::AddInstruction</a></div><div class="ttdeci">HInstruction * AddInstruction(HInstruction *instr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01180">hydrogen.cc:1180</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a6d1358c35b9b244072c92c3df538f55b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6d1358c35b9b244072c92c3df538f55b">v8::internal::EXTERNAL_INT8_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00056">elements-kind.h:56</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_external_array_html_a138714fd44070fe3d7c3ffad72276ff2"><div class="ttname"><a href="../../df/dd1/classv8_1_1internal_1_1_external_array.html#a138714fd44070fe3d7c3ffad72276ff2">v8::internal::ExternalArray::kAlignedSize</a></div><div class="ttdeci">static const int kAlignedSize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l04705">objects.h:4705</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a64c325d4313ef290cdbcdb91ad887bc1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a64c325d4313ef290cdbcdb91ad887bc1">v8::internal::IsFastDoubleElementsKind</a></div><div class="ttdeci">bool IsFastDoubleElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00142">elements-kind.h:142</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_value_html_a3f3de3e0d751949b8d0b60ffb302944aa46e4dcb5db5814cdbf1f7b1e40ff2744"><div class="ttname"><a href="../../d6/d0d/classv8_1_1internal_1_1_h_value.html#a3f3de3e0d751949b8d0b60ffb302944aa46e4dcb5db5814cdbf1f7b1e40ff2744">v8::internal::HValue::kHasNoObservableSideEffects</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00643">hydrogen-instructions.h:643</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a3c49125ca9da72f340c89c9e38b002e3"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a3c49125ca9da72f340c89c9e38b002e3">v8::internal::HOptimizedGraphBuilder::JoinContinue</a></div><div class="ttdeci">HBasicBlock * JoinContinue(IterationStatement *statement, HBasicBlock *exit_block, HBasicBlock *continue_block)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l03018">hydrogen.cc:3018</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac5ad29149b1cedc93909ab1642e66a84"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">v8::internal::kStringEncodingMask</a></div><div class="ttdeci">const uint32_t kStringEncodingMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00609">objects.h:609</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a20ebf5f668292efdfe43f4fbd194708f"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a20ebf5f668292efdfe43f4fbd194708f">v8::internal::HGraphBuilder::Goto</a></div><div class="ttdeci">void Goto(HBasicBlock *from, HBasicBlock *target, FunctionState *state=NULL, bool add_simulate=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01089">hydrogen.h:1089</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0c32b379e3be65ce7c8fe0bfe51eb7ea"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7ea">v8::internal::PretenureFlag</a></div><div class="ttdeci">PretenureFlag</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00201">v8globals.h:201</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_object_html_a19bc89155ff5e0f68eacf9489261526a"><div class="ttname"><a href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#a19bc89155ff5e0f68eacf9489261526a">v8::internal::JSObject::DeepWalk</a></div><div class="ttdeci">static Handle&lt; JSObject &gt; DeepWalk(Handle&lt; JSObject &gt; object, AllocationSiteCreationContext *site_context)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7c/objects_8cc_source.html#l05850">objects.cc:5850</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a71874b107531fce02a3f2ca4288f43f5"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a71874b107531fce02a3f2ca4288f43f5">v8::internal::HOptimizedGraphBuilder::VisitArithmeticExpression</a></div><div class="ttdeci">void VisitArithmeticExpression(BinaryOperation *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l09581">hydrogen.cc:9581</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html">v8::internal::HGraphBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01056">hydrogen.h:1056</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_allocation_site_html_a6b67448212244ba093b8ba6b55135f16"><div class="ttname"><a href="../../dd/d87/classv8_1_1internal_1_1_allocation_site.html#a6b67448212244ba093b8ba6b55135f16">v8::internal::AllocationSite::AddDependentCompilationInfo</a></div><div class="ttdeci">static void AddDependentCompilationInfo(Handle&lt; AllocationSite &gt; site, Reason reason, CompilationInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7c/objects_8cc_source.html#l12725">objects.cc:12725</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_a85c8c3e6d4b69b6e25a8a94f803cdaee"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#a85c8c3e6d4b69b6e25a8a94f803cdaee">v8::internal::HGraphBuilder::FinishExitCurrentBlock</a></div><div class="ttdeci">void FinishExitCurrentBlock(HControlInstruction *instruction)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd6/hydrogen_8cc_source.html#l01204">hydrogen.cc:1204</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a1c946be83570bda42afc1d40890e852a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a1c946be83570bda42afc1d40890e852a">v8::internal::INT8_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00068">elements-kind.h:68</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae77d2fa4643ef916a7813c2ef8e8ef81a4bbeceb3961f500cd37cb2e1be22d6d9"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a4bbeceb3961f500cd37cb2e1be22d6d9">v8::internal::AND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00153">constants-arm.h:153</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_optimized_graph_builder_html_a7f3e4cf14567a107b9699fa9e7a0e525"><div class="ttname"><a href="../../d0/dc0/classv8_1_1internal_1_1_h_optimized_graph_builder.html#a7f3e4cf14567a107b9699fa9e7a0e525">v8::internal::HOptimizedGraphBuilder::inlined_test_context</a></div><div class="ttdeci">TestContext * inlined_test_context() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l02112">hydrogen.h:2112</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_info_html_a8f5227b0eb369353404602683a4f2beb"><div class="ttname"><a href="../../de/d50/classv8_1_1internal_1_1_compilation_info.html#a8f5227b0eb369353404602683a4f2beb">v8::internal::CompilationInfo::scope</a></div><div class="ttdeci">Scope * scope() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00078">compiler.h:78</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0e0e3f7a020b17501d805b9273606c30a0df60943d804c594ae1bdb2819721f12"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0e0e3f7a020b17501d805b9273606c30a0df60943d804c594ae1bdb2819721f12">v8::internal::STRING_ADD_CHECK_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9c/code-stubs_8h_source.html#l01273">code-stubs.h:1273</a></div></div>
<div class="ttc" id="runtime_8h_html_ab2a2d9301a4f7c481c9664e787f864f9"><div class="ttname"><a href="../../d3/d51/runtime_8h.html#ab2a2d9301a4f7c481c9664e787f864f9">INLINE_OPTIMIZED_FUNCTION_LIST</a></div><div class="ttdeci">#define INLINE_OPTIMIZED_FUNCTION_LIST(F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d51/runtime_8h_source.html#l00692">runtime.h:692</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_graph_builder_html_afa71ce1bd7803567a346b98de74ec9ac"><div class="ttname"><a href="../../d2/d58/classv8_1_1internal_1_1_h_graph_builder.html#afa71ce1bd7803567a346b98de74ec9ac">v8::internal::HGraphBuilder::zone</a></div><div class="ttdeci">Zone * zone() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l01071">hydrogen.h:1071</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_ast_typer_html_a73a66389a4617a80e6fb67bb7f35f79f"><div class="ttname"><a href="../../d3/d42/classv8_1_1internal_1_1_ast_typer.html#a73a66389a4617a80e6fb67bb7f35f79f">v8::internal::AstTyper::Run</a></div><div class="ttdeci">static void Run(CompilationInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc1/typing_8cc_source.html#l00057">typing.cc:57</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_h_source_position_html"><div class="ttname"><a href="../../d5/dcb/classv8_1_1internal_1_1_h_source_position.html">v8::internal::HSourcePosition</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/hydrogen-instructions_8h_source.html#l00558">hydrogen-instructions.h:558</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_function_html_aadcf8f00ff5f932119b67a97c33762da"><div class="ttname"><a href="../../d0/d2c/classv8_1_1internal_1_1_j_s_function.html#aadcf8f00ff5f932119b67a97c33762da">v8::internal::JSFunction::cast</a></div><div class="ttdeci">static JSFunction * cast(Object *obj)</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../d7/dd6/hydrogen_8cc.html">hydrogen.cc</a></li>
    <li class="footer">Generated on Sat Jun 7 2014 23:54:15 for v8 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
