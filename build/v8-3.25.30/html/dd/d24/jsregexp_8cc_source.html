<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>v8: src/jsregexp.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../v8-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">v8
   &#160;<span id="projectnumber">3.25.30(node0.11.13)</span>
   </div>
   <div id="projectbrief">V8 is Google&#39;s open source JavaScript engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/d24/jsregexp_8cc_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">jsregexp.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dd/d24/jsregexp_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// modification, are permitted provided that the following conditions are</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// met:</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//     * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//       copyright notice, this list of conditions and the following</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//       disclaimer in the documentation and/or other materials provided</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//       with the distribution.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//     * Neither the name of Google Inc. nor the names of its</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//       from this software without specific prior written permission.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d6a/src_2v8_8h.html">v8.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/df0/ast_8h.html">ast.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dd1/compiler_8h.html">compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d01/execution_8h.html">execution.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d06/factory_8h.html">factory.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d0c/jsregexp_8h.html">jsregexp.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d1d/jsregexp-inl_8h.html">jsregexp-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d03/platform_8h.html">platform.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d6c/string-search_8h.html">string-search.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d51/runtime_8h.html">runtime.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/dea/compilation-cache_8h.html">compilation-cache.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dc4/string-stream_8h.html">string-stream.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d36/parser_8h.html">parser.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d17/regexp-macro-assembler_8h.html">regexp-macro-assembler.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/df9/regexp-macro-assembler-tracer_8h.html">regexp-macro-assembler-tracer.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d7b/regexp-macro-assembler-irregexp_8h.html">regexp-macro-assembler-irregexp.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dfe/regexp-stack_8h.html">regexp-stack.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#ifndef V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#if V8_TARGET_ARCH_IA32</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d60/regexp-macro-assembler-ia32_8h.html">ia32/regexp-macro-assembler-ia32.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_X64</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d51/regexp-macro-assembler-x64_8h.html">x64/regexp-macro-assembler-x64.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM64</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d95/regexp-macro-assembler-arm64_8h.html">arm64/regexp-macro-assembler-arm64.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d0d/regexp-macro-assembler-arm_8h.html">arm/regexp-macro-assembler-arm.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_MIPS</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/da7/regexp-macro-assembler-mips_8h.html">mips/regexp-macro-assembler-mips.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#error Unsupported target architecture.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/dd1/interpreter-irregexp_8h.html">interpreter-irregexp.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">namespace </span>v8 {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">namespace </span>internal {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aeaafcd3af71d72da23a2c0b882bac184">   69</a></span>&#160;<a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aeaafcd3af71d72da23a2c0b882bac184">RegExpImpl::CreateRegExpLiteral</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSFunction&gt;</a> constructor,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                               <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> pattern,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                               <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                               <span class="keywordtype">bool</span>* has_pending_exception) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// Call the construct code with 2 arguments.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> argv[] = { pattern, flags };</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/d00/classv8_1_1internal_1_1_execution.html#a29e3b9fbd2ec0b91f1355037f29aebb1">Execution::New</a>(constructor, <a class="code" href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(argv), argv,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                        has_pending_exception);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">static</span> <a class="code" href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">JSRegExp::Flags</a> RegExpFlagsFromString(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> str) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">flags</a> = <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a3f3de3e0d751949b8d0b60ffb302944aac157bdf0b85a40d2619cbc8bc1ae5fe2">JSRegExp::NONE</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; str-&gt;length(); i++) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">switch</span> (str-&gt;Get(i)) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        flags |= <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a3f3de3e0d751949b8d0b60ffb302944aa743829c4dd20c98f1a4db5f83106d839">JSRegExp::IGNORE_CASE</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        flags |= <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a3f3de3e0d751949b8d0b60ffb302944aafde1bb5ef04b28059e61df449501f1c0">JSRegExp::GLOBAL</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        flags |= <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a3f3de3e0d751949b8d0b60ffb302944aa597eb22229532b23475cd6622ce9b117">JSRegExp::MULTILINE</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">return</span> JSRegExp::Flags(flags);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> ThrowRegExpException(Handle&lt;JSRegExp&gt; re,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                        Handle&lt;String&gt; pattern,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                        Handle&lt;String&gt; error_text,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1caa5af05ec5fc8823953bb5436e4bc7">message</a>) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  Isolate* isolate = re-&gt;GetIsolate();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  Handle&lt;FixedArray&gt; elements = factory-&gt;NewFixedArray(2);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  elements-&gt;set(0, *pattern);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  elements-&gt;set(1, *error_text);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  Handle&lt;JSArray&gt; array = factory-&gt;NewJSArrayWithElements(elements);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  Handle&lt;Object&gt; regexp_err = factory-&gt;NewSyntaxError(message, array);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  isolate-&gt;Throw(*regexp_err);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a9ec81f7778b86ffd802328effe40aa18">  114</a></span>&#160;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3">ContainedInLattice</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ec81f7778b86ffd802328effe40aa18">AddRange</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3">ContainedInLattice</a> containment,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span>* ranges,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                            <span class="keywordtype">int</span> ranges_length,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                            <a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html">Interval</a> new_range) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((ranges_length &amp; 1) == 1);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(ranges[ranges_length - 1] == <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a> + 1);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span> (containment == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3ab93178eee38457fd0039470481cd46b4">kLatticeUnknown</a>) <span class="keywordflow">return</span> containment;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">bool</span> inside = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">int</span> last = 0;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ranges_length; inside = !inside, last = ranges[i], i++) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// Consider the range from last to ranges[i].</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// We haven&#39;t got to the new range yet.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (ranges[i] &lt;= new_range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a8c7a687342404f975c3f58fa62829c73">from</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// New range is wholly inside last-ranges[i].  Note that new_range.to() is</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// inclusive, but the values in ranges are not.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (last &lt;= new_range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a8c7a687342404f975c3f58fa62829c73">from</a>() &amp;&amp; new_range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a9ac04ed8b141489166b5c27dc8f0714d">to</a>() &lt; ranges[i]) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a48b6b404e309683fd05ffc4d2229630e">Combine</a>(containment, inside ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3a8c22374c06720d1add66e5009afa88ca">kLatticeIn</a> : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3a5612e662aa888e090080f0ed368d1e2e">kLatticeOut</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3ab93178eee38457fd0039470481cd46b4">kLatticeUnknown</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> containment;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">// More makes code generation slower, less makes V8 benchmark score lower.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a9da011eef375046e863ae0607148a362">  139</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9da011eef375046e863ae0607148a362">kMaxLookaheadForBoyerMoore</a> = 8;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">// In a 3-character pattern you can maximally step forwards 3 characters</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">// at a time, which is not always enough to pay for the extra logic.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#ab3f111ff99c60819793665a8b803cf83">  142</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab3f111ff99c60819793665a8b803cf83">kPatternTooShortForBoyerMoore</a> = 2;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// Identifies the sort of regexps where the regexp engine is faster</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// than the code used for atom matches.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> HasFewDifferentCharacters(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> pattern) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">int</span> length = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9da011eef375046e863ae0607148a362">kMaxLookaheadForBoyerMoore</a>, pattern-&gt;length());</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">if</span> (length &lt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab3f111ff99c60819793665a8b803cf83">kPatternTooShortForBoyerMoore</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kMod = 128;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordtype">bool</span> character_found[kMod];</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordtype">int</span> different = 0;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  memset(&amp;character_found[0], 0, <span class="keyword">sizeof</span>(character_found));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">int</span> ch = (pattern-&gt;Get(i) &amp; (kMod - 1));</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (!character_found[ch]) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      character_found[ch] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      different++;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="comment">// We declare a regexp low-alphabet if it has at least 3 times as many</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="comment">// characters as it has different characters.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">if</span> (different * 3 &gt; length) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">// Generic RegExp methods. Dispatches to implementation specific methods.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a8f256205fcc245f944326d5dbe9000d1">  171</a></span>&#160;<a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a8f256205fcc245f944326d5dbe9000d1">RegExpImpl::Compile</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> re,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                   <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> pattern,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                   <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> flag_str) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = re-&gt;GetIsolate();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a> zone(isolate);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">JSRegExp::Flags</a> flags = RegExpFlagsFromString(flag_str);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="../../da/dd0/classv8_1_1internal_1_1_compilation_cache.html">CompilationCache</a>* compilation_cache = isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a5d905915ad41b33c881e56059628fa8c">compilation_cache</a>();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;FixedArray&gt;</a> cached = compilation_cache-&gt;<a class="code" href="../../da/dd0/classv8_1_1internal_1_1_compilation_cache.html#abd4ce545774a9bae7ceba2cd29532ada">LookupRegExp</a>(pattern, flags);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordtype">bool</span> in_cache = !cached.<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a3c45461717ff230edd665ce24da988c5">is_null</a>();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate, RegExpCompileEvent(re, in_cache));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> result;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (in_cache) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    re-&gt;set_data(*cached);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> re;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  pattern = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada76c4fe81db9c32168c8ca541dedd91">FlattenGetString</a>(pattern);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  PostponeInterruptsScope postpone(isolate);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html">RegExpCompileData</a> parse_result;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="../../da/d7f/classv8_1_1internal_1_1_flat_string_reader.html">FlatStringReader</a> reader(isolate, pattern);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">if</span> (!RegExpParser::ParseRegExp(&amp;reader, flags.<a class="code" href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#add89e6e235c76d59e612d907ab8afdb7">is_multiline</a>(),</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                 &amp;parse_result, &amp;zone)) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// Throw an exception if we fail to parse the pattern.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    ThrowRegExpException(re,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                         pattern,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                         parse_result.<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a77ee662c66438915bcfeb599665f7466">error</a>,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                         <span class="stringliteral">&quot;malformed_regexp&quot;</span>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a5c1c5f8dcdfd3fe359a6af56e98ec280">Handle&lt;Object&gt;::null</a>();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordtype">bool</span> has_been_compiled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span> (parse_result.<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3ade74206c7c7a1fdd42bc981e19087f">simple</a> &amp;&amp;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      !flags.<a class="code" href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a42e975d742a961e82c50a1334a7dd550">is_ignore_case</a>() &amp;&amp;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      !HasFewDifferentCharacters(pattern)) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// Parse-tree is a single atom that is equal to the pattern.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a1719324a3fab85858685e4d08892d823">AtomCompile</a>(re, pattern, flags, pattern);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    has_been_compiled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parse_result.<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#ab50bba99f68cfed8a3d7783f1be59a11">tree</a>-&gt;IsAtom() &amp;&amp;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      !flags.<a class="code" href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a42e975d742a961e82c50a1334a7dd550">is_ignore_case</a>() &amp;&amp;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      parse_result.<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a> == 0) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    RegExpAtom* atom = parse_result.<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#ab50bba99f68cfed8a3d7783f1be59a11">tree</a>-&gt;AsAtom();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;const uc16&gt;</a> atom_pattern = atom-&gt;data();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> atom_string =</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;<a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html#a196ccf9888402bffd01c2fdeda60d87d">NewStringFromTwoByte</a>(atom_pattern);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (!HasFewDifferentCharacters(atom_string)) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a1719324a3fab85858685e4d08892d823">AtomCompile</a>(re, pattern, flags, atom_string);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      has_been_compiled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (!has_been_compiled) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#adebd8f979cd9c87b49a3f84e84f30c76">IrregexpInitialize</a>(re, pattern, flags, parse_result.<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(re-&gt;data()-&gt;IsFixedArray());</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// Compilation succeeded so the data is set on the regexp</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// and we can store it in the cache.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;FixedArray&gt;</a> data(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(re-&gt;data()));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  compilation_cache-&gt;<a class="code" href="../../da/dd0/classv8_1_1internal_1_1_compilation_cache.html#a0a7477cec73a61d9e0a28fac995c283a">PutRegExp</a>(pattern, flags, data);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">return</span> re;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a752c78c5d2b8be614ea1f0908452198a">  234</a></span>&#160;<a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a752c78c5d2b8be614ea1f0908452198a">RegExpImpl::Exec</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> regexp,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> subject,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                <span class="keywordtype">int</span> index,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSArray&gt;</a> last_match_info) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">switch</span> (regexp-&gt;TypeTag()) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a1d1cfd8ffb84e947f82999c682b666a7a868daeaf74b2132e2566214d51dc1c00">JSRegExp::ATOM</a>:</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#abed39a5dfec911d33422264af09ef88a">AtomExec</a>(regexp, subject, index, last_match_info);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a1d1cfd8ffb84e947f82999c682b666a7a6e72f43865881adfca6d1c8bfe346249">JSRegExp::IRREGEXP</a>: {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> result =</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a0c0184d12549dbca4cd9b060cd295fa1">IrregexpExec</a>(regexp, subject, index, last_match_info);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is_null() ||</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;             regexp-&gt;GetIsolate()-&gt;has_pending_exception());</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a5c1c5f8dcdfd3fe359a6af56e98ec280">Handle&lt;Object&gt;::null</a>();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">// RegExp Atom implementation: Simple string search using indexOf.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a1719324a3fab85858685e4d08892d823">  258</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a1719324a3fab85858685e4d08892d823">RegExpImpl::AtomCompile</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> re,</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                             <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> pattern,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                             <a class="code" href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">JSRegExp::Flags</a> flags,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                             <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> match_pattern) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  re-&gt;GetIsolate()-&gt;factory()-&gt;SetRegExpAtomData(re,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                                 <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a1d1cfd8ffb84e947f82999c682b666a7a868daeaf74b2132e2566214d51dc1c00">JSRegExp::ATOM</a>,</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                                 pattern,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                                 flags,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                                 match_pattern);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> SetAtomLastCapture(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* array,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                               <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html">String</a>* subject,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                               <span class="keywordtype">int</span> from,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                               <span class="keywordtype">int</span> to) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  SealHandleScope shs(array-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a40e056f11454ab7441ad5de3b82b9cf1">GetIsolate</a>());</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a7ef76a96a906949b8a05ab13b3529d22">RegExpImpl::SetLastCaptureCount</a>(array, 2);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a26aac4f73b076115b2c524f03f9c0830">RegExpImpl::SetLastSubject</a>(array, subject);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#ae5e8782e13f7b74beb6a51a80e216c47">RegExpImpl::SetLastInput</a>(array, subject);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a51582b37e1c62f7da107b009c9ece447">RegExpImpl::SetCapture</a>(array, 0, from);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a51582b37e1c62f7da107b009c9ece447">RegExpImpl::SetCapture</a>(array, 1, to);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#ad0cf376d3ed0c5e6b299706904ee5489">  283</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#ad0cf376d3ed0c5e6b299706904ee5489">RegExpImpl::AtomExecRaw</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> regexp,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                            <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> subject,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                            <span class="keywordtype">int</span> index,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                            <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>* output,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                            <span class="keywordtype">int</span> output_size) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = regexp-&gt;GetIsolate();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(0 &lt;= index);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(index &lt;= subject-&gt;length());</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">if</span> (!subject-&gt;IsFlat()) <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae585d6bcec7e52a46e0e4447bfb2f7f3">FlattenString</a>(subject);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="../../d0/deb/classv8_1_1internal_1_1_per_thread_assert_scope_debug_only.html">DisallowHeapAllocation</a> no_gc;  <span class="comment">// ensure vectors stay valid</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html">String</a>* needle = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a6391d7952fe2756ac824043f9d2f1122">String::cast</a>(regexp-&gt;DataAt(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#aad0f038ca63231dff36848666404e6a7">JSRegExp::kAtomPatternIndex</a>));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordtype">int</span> needle_len = needle-&gt;<a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a3d0f4ae571310c6ed081daa3985ecb47">length</a>();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(needle-&gt;<a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#afe1fa31a909cf533daaa9b30159f7ad9">IsFlat</a>());</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a41a2cfdd7e28f51f137840ff0633761a">ASSERT_LT</a>(0, needle_len);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (index + needle_len &gt; subject-&gt;length()) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a2a2159b2524390bf0195a9a342f14818">RegExpImpl::RE_FAILURE</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; output_size; i += 2) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html">String::FlatContent</a> needle_content = needle-&gt;<a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#aacdd6bd83c7e14a88a794705c551313f">GetFlatContent</a>();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html">String::FlatContent</a> subject_content = subject-&gt;GetFlatContent();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(needle_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#afe1fa31a909cf533daaa9b30159f7ad9">IsFlat</a>());</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(subject_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#afe1fa31a909cf533daaa9b30159f7ad9">IsFlat</a>());</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// dispatch on type of strings</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    index = (needle_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac0020ce704c3eeaf34eacfafc7d5aedc">IsAscii</a>()</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;             ? (subject_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac0020ce704c3eeaf34eacfafc7d5aedc">IsAscii</a>()</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a00f68117a5c1794038aba2a21c333d3b">SearchString</a>(isolate,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                               subject_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac45594dc230aa9bac4ade46a9db85439">ToOneByteVector</a>(),</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                               needle_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac45594dc230aa9bac4ade46a9db85439">ToOneByteVector</a>(),</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                               index)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a00f68117a5c1794038aba2a21c333d3b">SearchString</a>(isolate,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                               subject_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#aab3d726434f93611d2e2661e8e60b768">ToUC16Vector</a>(),</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                               needle_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac45594dc230aa9bac4ade46a9db85439">ToOneByteVector</a>(),</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                               index))</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;             : (subject_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac0020ce704c3eeaf34eacfafc7d5aedc">IsAscii</a>()</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a00f68117a5c1794038aba2a21c333d3b">SearchString</a>(isolate,</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                               subject_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac45594dc230aa9bac4ade46a9db85439">ToOneByteVector</a>(),</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                               needle_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#aab3d726434f93611d2e2661e8e60b768">ToUC16Vector</a>(),</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                               index)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a00f68117a5c1794038aba2a21c333d3b">SearchString</a>(isolate,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                               subject_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#aab3d726434f93611d2e2661e8e60b768">ToUC16Vector</a>(),</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                               needle_content.<a class="code" href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#aab3d726434f93611d2e2661e8e60b768">ToUC16Vector</a>(),</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                               index)));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (index == -1) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span> i / 2;  <span class="comment">// Return number of matches.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      output[i] = index;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      output[i+1] = index + needle_len;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      index += needle_len;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">return</span> output_size / 2;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#abed39a5dfec911d33422264af09ef88a">  342</a></span>&#160;<a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#abed39a5dfec911d33422264af09ef88a">RegExpImpl::AtomExec</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> re,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> subject,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                    <span class="keywordtype">int</span> index,</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSArray&gt;</a> last_match_info) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = re-&gt;GetIsolate();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc9485caadcdbab9ac567ff1ec54e554">kNumRegisters</a> = 2;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(kNumRegisters &lt;= <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a9bff24679affbf050af90dd4e17b6f1d">Isolate::kJSRegexpStaticOffsetsVectorSize</a>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>* output_registers = isolate-&gt;jsregexp_static_offsets_vector();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordtype">int</span> res = <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#ad0cf376d3ed0c5e6b299706904ee5489">AtomExecRaw</a>(re, subject, index, output_registers, kNumRegisters);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">if</span> (res == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a2a2159b2524390bf0195a9a342f14818">RegExpImpl::RE_FAILURE</a>) <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;null_value();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(res, <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06ab75dfa549f346af90150c58c6dc1f31c">RegExpImpl::RE_SUCCESS</a>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  SealHandleScope shs(isolate);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* array = <a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(last_match_info-&gt;elements());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  SetAtomLastCapture(array, *subject, output_registers[0], output_registers[1]);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">return</span> last_match_info;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">// Irregexp implementation.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">// Ensures that the regexp object contains a compiled version of the</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">// source for either ASCII or non-ASCII strings.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">// If the compiled version doesn&#39;t already exist, it is compiled</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">// from the source pattern.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">// If compilation fails, an exception is thrown and this function</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">// returns false.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keywordtype">bool</span> RegExpImpl::EnsureCompiledIrregexp(</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> re, <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> sample_subject, <span class="keywordtype">bool</span> is_ascii) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="../../d8/df0/classv8_1_1internal_1_1_object.html">Object</a>* compiled_code = re-&gt;DataAt(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#ac8482834f3861825162b4a637de7bc4d">JSRegExp::code_index</a>(is_ascii));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#ifdef V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">if</span> (compiled_code-&gt;IsByteArray()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#else  // V8_INTERPRETED_REGEXP (RegExp native code)</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">if</span> (compiled_code-&gt;IsCode()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// We could potentially have marked this as flushable, but have kept</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">// a saved version if we did not flush it yet.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="../../d8/df0/classv8_1_1internal_1_1_object.html">Object</a>* saved_code = re-&gt;DataAt(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a43fabce489775678e65f64fa423f31c0">JSRegExp::saved_code_index</a>(is_ascii));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (saved_code-&gt;IsCode()) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Reinstate the code in the original place.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    re-&gt;SetDataAt(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#ac8482834f3861825162b4a637de7bc4d">JSRegExp::code_index</a>(is_ascii), saved_code);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(compiled_code-&gt;IsSmi());</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">return</span> CompileIrregexp(re, sample_subject, is_ascii);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> CreateRegExpErrorObjectAndThrow(Handle&lt;JSRegExp&gt; re,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                            <span class="keywordtype">bool</span> is_ascii,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                            Handle&lt;String&gt; error_message,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                            Isolate* isolate) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  Handle&lt;FixedArray&gt; elements = factory-&gt;NewFixedArray(2);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  elements-&gt;set(0, re-&gt;Pattern());</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  elements-&gt;set(1, *error_message);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  Handle&lt;JSArray&gt; array = factory-&gt;NewJSArrayWithElements(elements);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  Handle&lt;Object&gt; regexp_err =</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      factory-&gt;NewSyntaxError(<span class="stringliteral">&quot;malformed_regexp&quot;</span>, array);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  isolate-&gt;Throw(*regexp_err);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="keywordtype">bool</span> RegExpImpl::CompileIrregexp(Handle&lt;JSRegExp&gt; re,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                 Handle&lt;String&gt; sample_subject,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                 <span class="keywordtype">bool</span> is_ascii) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// Compile the RegExp.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  Isolate* isolate = re-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a40e056f11454ab7441ad5de3b82b9cf1">GetIsolate</a>();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  Zone zone(isolate);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  PostponeInterruptsScope postpone(isolate);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// If we had a compilation error the last time this is saved at the</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// saved code index.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafde67e17c0eff2ae6a6bef6b217148d">Object</a>* entry = re-&gt;DataAt(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#ac8482834f3861825162b4a637de7bc4d">JSRegExp::code_index</a>(is_ascii));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// When arriving here entry can only be a smi, either representing an</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">// uncompiled regexp, a previous compilation error, or code that has</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// been flushed.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(entry-&gt;IsSmi());</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordtype">int</span> entry_value = <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#abd7228db8201e7f65153a896fe8de9bd">Smi::cast</a>(entry)-&gt;<a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a7ecb839199ee379f9371723072e4148a">value</a>();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(entry_value == <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a4771abd95c586d298dbf52fb51c0d279">JSRegExp::kUninitializedValue</a> ||</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;         entry_value == <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a4b001e2d47b150142d4bb4fdec339305">JSRegExp::kCompilationErrorValue</a> ||</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;         (entry_value &lt; JSRegExp::kCodeAgeMask &amp;&amp; entry_value &gt;= 0));</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">if</span> (entry_value == <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a4b001e2d47b150142d4bb4fdec339305">JSRegExp::kCompilationErrorValue</a>) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// A previous compilation failed and threw an error which we store in</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// the saved code index (we store the error message, not the actual</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// error). Recreate the error object and throw it.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafde67e17c0eff2ae6a6bef6b217148d">Object</a>* error_string = re-&gt;DataAt(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a43fabce489775678e65f64fa423f31c0">JSRegExp::saved_code_index</a>(is_ascii));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(error_string-&gt;IsString());</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    Handle&lt;String&gt; error_message(<a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a6391d7952fe2756ac824043f9d2f1122">String::cast</a>(error_string));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    CreateRegExpErrorObjectAndThrow(re, is_ascii, error_message, isolate);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  JSRegExp::Flags flags = re-&gt;GetFlags();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  Handle&lt;String&gt; pattern(re-&gt;Pattern());</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">if</span> (!pattern-&gt;IsFlat()) <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae585d6bcec7e52a46e0e4447bfb2f7f3">FlattenString</a>(pattern);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  RegExpCompileData compile_data;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  FlatStringReader reader(isolate, pattern);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span> (!RegExpParser::ParseRegExp(&amp;reader, flags.is_multiline(),</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                                 &amp;compile_data,</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                 &amp;zone)) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// Throw an exception if we fail to parse the pattern.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// THIS SHOULD NOT HAPPEN. We already pre-parsed it successfully once.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    ThrowRegExpException(re,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                         pattern,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                         compile_data.error,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                         <span class="stringliteral">&quot;malformed_regexp&quot;</span>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  RegExpEngine::CompilationResult result =</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <a class="code" href="../../db/d51/classv8_1_1internal_1_1_reg_exp_engine.html#a03f0a733ec5a6da7c6d97dc31c924e9e">RegExpEngine::Compile</a>(&amp;compile_data,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                            flags.is_ignore_case(),</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                            flags.is_global(),</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                            flags.is_multiline(),</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                            pattern,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                            sample_subject,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                            is_ascii,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                            &amp;zone);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">if</span> (result.error_message != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">// Unable to compile regexp.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    Handle&lt;String&gt; error_message =</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        isolate-&gt;factory()-&gt;NewStringFromUtf8(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a00e8464566c15cbc97c5c8c850309df7">CStrVector</a>(result.error_message));</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!error_message.is_null());</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    CreateRegExpErrorObjectAndThrow(re, is_ascii, error_message, isolate);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  Handle&lt;FixedArray&gt; data = Handle&lt;FixedArray&gt;(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(re-&gt;data()));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  data-&gt;set(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#ac8482834f3861825162b4a637de7bc4d">JSRegExp::code_index</a>(is_ascii), result.code);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordtype">int</span> register_max = <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a18f422341e9b1bb5c0c7132c16738fe7">IrregexpMaxRegisterCount</a>(*data);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (result.num_registers &gt; register_max) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aece7801ee90bc2c268944d7b7a051472">SetIrregexpMaxRegisterCount</a>(*data, result.num_registers);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a18f422341e9b1bb5c0c7132c16738fe7">  485</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a18f422341e9b1bb5c0c7132c16738fe7">RegExpImpl::IrregexpMaxRegisterCount</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* re) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#abd7228db8201e7f65153a896fe8de9bd">Smi::cast</a>(</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      re-&gt;<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#a4d2ccf5f857e12f610f313edc524e692">get</a>(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a618422c40e0c859b001be37fe2eae67a">JSRegExp::kIrregexpMaxRegisterCountIndex</a>))-&gt;value();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aece7801ee90bc2c268944d7b7a051472">  491</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aece7801ee90bc2c268944d7b7a051472">RegExpImpl::SetIrregexpMaxRegisterCount</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* re, <span class="keywordtype">int</span> value) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  re-&gt;<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#abcd36ed7eaaf3cbe4fc6bd4d9f38d3c3">set</a>(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a618422c40e0c859b001be37fe2eae67a">JSRegExp::kIrregexpMaxRegisterCountIndex</a>, <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a53259c85a9a7f54c354c7871cb340073">Smi::FromInt</a>(value));</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a39db7ca92c947a46c91591a57b8d0fb1">  496</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a39db7ca92c947a46c91591a57b8d0fb1">RegExpImpl::IrregexpNumberOfCaptures</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* re) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#abd7228db8201e7f65153a896fe8de9bd">Smi::cast</a>(re-&gt;<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#a4d2ccf5f857e12f610f313edc524e692">get</a>(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a7aab088007591d2d0e731e97510d7e85">JSRegExp::kIrregexpCaptureCountIndex</a>))-&gt;value();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aacf51d24a8191509574e198f3c9acaa5">  501</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aacf51d24a8191509574e198f3c9acaa5">RegExpImpl::IrregexpNumberOfRegisters</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* re) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#abd7228db8201e7f65153a896fe8de9bd">Smi::cast</a>(re-&gt;<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#a4d2ccf5f857e12f610f313edc524e692">get</a>(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a618422c40e0c859b001be37fe2eae67a">JSRegExp::kIrregexpMaxRegisterCountIndex</a>))-&gt;value();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a2fc0798787b2a8406428b3ea9f5690c3">  506</a></span>&#160;<a class="code" href="../../d1/d5d/classv8_1_1internal_1_1_byte_array.html">ByteArray</a>* <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a2fc0798787b2a8406428b3ea9f5690c3">RegExpImpl::IrregexpByteCode</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* re, <span class="keywordtype">bool</span> is_ascii) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d5d/classv8_1_1internal_1_1_byte_array.html#af6a4268c19a4ae50cf4b03f0ef2b7ccf">ByteArray::cast</a>(re-&gt;<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#a4d2ccf5f857e12f610f313edc524e692">get</a>(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#ac8482834f3861825162b4a637de7bc4d">JSRegExp::code_index</a>(is_ascii)));</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a37d191ed187ec5eb57dbf73d76ce26bd">  511</a></span>&#160;<a class="code" href="../../d3/d0e/classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a37d191ed187ec5eb57dbf73d76ce26bd">RegExpImpl::IrregexpNativeCode</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* re, <span class="keywordtype">bool</span> is_ascii) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba80719c3f7b718a879bf9343d55509c">Code::cast</a>(re-&gt;<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#a4d2ccf5f857e12f610f313edc524e692">get</a>(<a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#ac8482834f3861825162b4a637de7bc4d">JSRegExp::code_index</a>(is_ascii)));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#adebd8f979cd9c87b49a3f84e84f30c76">  516</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#adebd8f979cd9c87b49a3f84e84f30c76">RegExpImpl::IrregexpInitialize</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> re,</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> pattern,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                    <a class="code" href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">JSRegExp::Flags</a> flags,</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                    <span class="keywordtype">int</span> capture_count) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// Initialize compiled code entries to null.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  re-&gt;GetIsolate()-&gt;factory()-&gt;SetRegExpIrregexpData(re,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                                     <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a1d1cfd8ffb84e947f82999c682b666a7a6e72f43865881adfca6d1c8bfe346249">JSRegExp::IRREGEXP</a>,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                                     pattern,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                                     flags,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                                     capture_count);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a6fa34f7c9ff37621fb4157823c26743e">  529</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a6fa34f7c9ff37621fb4157823c26743e">RegExpImpl::IrregexpPrepare</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> regexp,</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> subject) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (!subject-&gt;IsFlat()) <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae585d6bcec7e52a46e0e4447bfb2f7f3">FlattenString</a>(subject);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// Check the asciiness of the underlying storage.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordtype">bool</span> is_ascii = subject-&gt;IsOneByteRepresentationUnderneath();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> (!EnsureCompiledIrregexp(regexp, subject, is_ascii)) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="preprocessor">#ifdef V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">// Byte-code regexp needs space allocated for all its registers.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">// The result captures are copied to the start of the registers array</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">// if the match succeeds.  This way those registers are not clobbered</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// when we set the last match info from last successful match.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aacf51d24a8191509574e198f3c9acaa5">IrregexpNumberOfRegisters</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(regexp-&gt;data())) +</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;         (<a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a39db7ca92c947a46c91591a57b8d0fb1">IrregexpNumberOfCaptures</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(regexp-&gt;data())) + 1) * 2;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#else  // V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// Native regexp only needs room to output captures. Registers are handled</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="comment">// internally.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a39db7ca92c947a46c91591a57b8d0fb1">IrregexpNumberOfCaptures</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(regexp-&gt;data())) + 1) * 2;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">#endif  // V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a64a83f651e7cc25b5a12f47a45e0a1c3">  552</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a64a83f651e7cc25b5a12f47a45e0a1c3">RegExpImpl::IrregexpExecRaw</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> regexp,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> subject,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                                <span class="keywordtype">int</span> index,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>* output,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                <span class="keywordtype">int</span> output_size) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = regexp-&gt;GetIsolate();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;FixedArray&gt;</a> irregexp(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(regexp-&gt;data()), isolate);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(index &gt;= 0);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(index &lt;= subject-&gt;length());</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(subject-&gt;IsFlat());</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordtype">bool</span> is_ascii = subject-&gt;IsOneByteRepresentationUnderneath();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="preprocessor">#ifndef V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(output_size &gt;= (<a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a39db7ca92c947a46c91591a57b8d0fb1">IrregexpNumberOfCaptures</a>(*irregexp) + 1) * 2);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    EnsureCompiledIrregexp(regexp, subject, is_ascii);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;Code&gt;</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab91e71e972251cbfe502d5f3856e5762">code</a>(<a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a37d191ed187ec5eb57dbf73d76ce26bd">IrregexpNativeCode</a>(*irregexp, is_ascii), isolate);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// The stack is used to allocate registers for the compiled regexp code.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// This means that in case of failure, the output registers array is left</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// untouched and contains the capture results from the previous successful</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">// match.  We can use that to set the last match info lazily.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066">NativeRegExpMacroAssembler::Result</a> res =</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#ad95c6aba65ad77af1d49a828f02d9ee0">NativeRegExpMacroAssembler::Match</a>(code,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                          subject,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                          output,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                          output_size,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                          index,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                                          isolate);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">if</span> (res != <a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066a76d44342c42b85edbde0cae33f14c5de">NativeRegExpMacroAssembler::RETRY</a>) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(res != <a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066ab8fa9515ef8cac50a79988c978b31fa0">NativeRegExpMacroAssembler::EXCEPTION</a> ||</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;             isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a60114d0464a7f52e3ac3768b301c859a">has_pending_exception</a>());</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;          static_cast&lt;int&gt;(<a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066ac7f69f7c9e5aea9b8f54cf02870e2bf8">NativeRegExpMacroAssembler::SUCCESS</a>) == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06ab75dfa549f346af90150c58c6dc1f31c">RE_SUCCESS</a>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;          static_cast&lt;int&gt;(<a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066aa5571864412c8275a2e18a931fddcaa6">NativeRegExpMacroAssembler::FAILURE</a>) == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a2a2159b2524390bf0195a9a342f14818">RE_FAILURE</a>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(static_cast&lt;int&gt;(<a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066ab8fa9515ef8cac50a79988c978b31fa0">NativeRegExpMacroAssembler::EXCEPTION</a>)</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a1b74a99ab439c5209be2bd5c3bda589b">RE_EXCEPTION</a>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06">IrregexpResult</a><span class="keyword">&gt;</span>(res);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">// If result is RETRY, the string has changed representation, and we</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">// must restart from scratch.</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">// In this case, it means we must make sure we are prepared to handle</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// the, potentially, different subject (the string can switch between</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// being internal and external, and even between being ASCII and UC16,</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">// but the characters are always the same).</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a6fa34f7c9ff37621fb4157823c26743e">IrregexpPrepare</a>(regexp, subject);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    is_ascii = subject-&gt;IsOneByteRepresentationUnderneath();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a1b74a99ab439c5209be2bd5c3bda589b">RE_EXCEPTION</a>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="preprocessor">#else  // V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(output_size &gt;= <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aacf51d24a8191509574e198f3c9acaa5">IrregexpNumberOfRegisters</a>(*irregexp));</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="comment">// We must have done EnsureCompiledIrregexp, so we can get the number of</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// registers.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordtype">int</span> number_of_capture_registers =</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      (<a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a39db7ca92c947a46c91591a57b8d0fb1">IrregexpNumberOfCaptures</a>(*irregexp) + 1) * 2;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>* raw_output = &amp;output[number_of_capture_registers];</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">// We do not touch the actual capture result registers until we know there</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// has been a match so that we can use those capture results to set the</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">// last match info.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = number_of_capture_registers - 1; i &gt;= 0; i--) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    raw_output[i] = -1;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;ByteArray&gt;</a> byte_codes(<a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a2fc0798787b2a8406428b3ea9f5690c3">IrregexpByteCode</a>(*irregexp, is_ascii), isolate);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06">IrregexpResult</a> result = <a class="code" href="../../d1/ded/classv8_1_1internal_1_1_irregexp_interpreter.html#a1091be9ca953b195e28627b54a4110ea">IrregexpInterpreter::Match</a>(isolate,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                                                     byte_codes,</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                                                     subject,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                                     raw_output,</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                                                     index);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (result == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06ab75dfa549f346af90150c58c6dc1f31c">RE_SUCCESS</a>) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">// Copy capture results to the start of the registers array.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a26ae97c946e709188bcfbadcbadda2c3">OS::MemCopy</a>(</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        output, raw_output, number_of_capture_registers * <span class="keyword">sizeof</span>(<a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>));</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">if</span> (result == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a1b74a99ab439c5209be2bd5c3bda589b">RE_EXCEPTION</a>) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a60114d0464a7f52e3ac3768b301c859a">has_pending_exception</a>());</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a0bb11efa2351e9e53ce391636b7603f1">StackOverflow</a>();</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="preprocessor">#endif  // V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a0c0184d12549dbca4cd9b060cd295fa1">  640</a></span>&#160;<a class="code" href="../../d3/dd5/classv8_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a0c0184d12549dbca4cd9b060cd295fa1">RegExpImpl::IrregexpExec</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> regexp,</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                                        <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> subject,</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                                        <span class="keywordtype">int</span> previous_index,</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                                        <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSArray&gt;</a> last_match_info) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = regexp-&gt;GetIsolate();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(regexp-&gt;TypeTag(), <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a1d1cfd8ffb84e947f82999c682b666a7a6e72f43865881adfca6d1c8bfe346249">JSRegExp::IRREGEXP</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// Prepare space for the return values.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="preprocessor">#if defined(V8_INTERPRETED_REGEXP) &amp;&amp; defined(DEBUG)</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">if</span> (FLAG_trace_regexp_bytecodes) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html">String</a>* pattern = regexp-&gt;Pattern();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n\nRegexp match:   /%s/\n\n&quot;</span>, pattern-&gt;<a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9511e4c051b60235930225bde9ee8252">ToCString</a>().<a class="code" href="../../d3/d8e/classv8_1_1internal_1_1_smart_pointer_base.html#a07f851191ad3a7c5c1598ef14f710f96">get</a>());</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n\nSubject string: &#39;%s&#39;\n\n&quot;</span>, subject-&gt;ToCString().get());</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordtype">int</span> required_registers = <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a6fa34f7c9ff37621fb4157823c26743e">RegExpImpl::IrregexpPrepare</a>(regexp, subject);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (required_registers &lt; 0) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// Compiling failed with an exception.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a60114d0464a7f52e3ac3768b301c859a">has_pending_exception</a>());</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a5c1c5f8dcdfd3fe359a6af56e98ec280">Handle&lt;Object&gt;::null</a>();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>* output_registers = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">if</span> (required_registers &gt; <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a9bff24679affbf050af90dd4e17b6f1d">Isolate::kJSRegexpStaticOffsetsVectorSize</a>) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    output_registers = NewArray&lt;int32_t&gt;(required_registers);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <a class="code" href="../../d1/dfa/classv8_1_1internal_1_1_smart_array_pointer.html">SmartArrayPointer&lt;int32_t&gt;</a> auto_release(output_registers);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">if</span> (output_registers == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    output_registers = isolate-&gt;jsregexp_static_offsets_vector();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordtype">int</span> res = <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a64a83f651e7cc25b5a12f47a45e0a1c3">RegExpImpl::IrregexpExecRaw</a>(</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      regexp, subject, previous_index, output_registers, required_registers);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">if</span> (res == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06ab75dfa549f346af90150c58c6dc1f31c">RE_SUCCESS</a>) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordtype">int</span> capture_count =</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a39db7ca92c947a46c91591a57b8d0fb1">IrregexpNumberOfCaptures</a>(<a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(regexp-&gt;data()));</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a4c08ebbfbb18cebcd9bec8f61f34ec0c">SetLastMatchInfo</a>(</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        last_match_info, subject, capture_count, output_registers);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">if</span> (res == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a1b74a99ab439c5209be2bd5c3bda589b">RE_EXCEPTION</a>) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a60114d0464a7f52e3ac3768b301c859a">has_pending_exception</a>());</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a5c1c5f8dcdfd3fe359a6af56e98ec280">Handle&lt;Object&gt;::null</a>();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(res == <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a2a2159b2524390bf0195a9a342f14818">RE_FAILURE</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>()-&gt;null_value();</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a4c08ebbfbb18cebcd9bec8f61f34ec0c">  688</a></span>&#160;<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSArray&gt;</a> <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a4c08ebbfbb18cebcd9bec8f61f34ec0c">RegExpImpl::SetLastMatchInfo</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSArray&gt;</a> last_match_info,</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                             <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> subject,</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                                             <span class="keywordtype">int</span> capture_count,</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                                             <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>* match) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(last_match_info-&gt;HasFastObjectElements());</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordtype">int</span> capture_register_count = (capture_count + 1) * 2;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="../../da/dc0/classv8_1_1internal_1_1_j_s_array.html#ad10fca14cf06b063d21128adada0e25f">JSArray::EnsureSize</a>(last_match_info,</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                      capture_register_count + <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a004ecf4f861bb7c8e9754db89f31ee2d">kLastMatchOverhead</a>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <a class="code" href="../../d0/deb/classv8_1_1internal_1_1_per_thread_assert_scope_debug_only.html">DisallowHeapAllocation</a> no_allocation;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* array = <a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(last_match_info-&gt;elements());</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">if</span> (match != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; capture_register_count; i += 2) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a51582b37e1c62f7da107b009c9ece447">SetCapture</a>(array, i, match[i]);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a51582b37e1c62f7da107b009c9ece447">SetCapture</a>(array, i + 1, match[i + 1]);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a7ef76a96a906949b8a05ab13b3529d22">SetLastCaptureCount</a>(array, capture_register_count);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a26aac4f73b076115b2c524f03f9c0830">SetLastSubject</a>(array, *subject);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#ae5e8782e13f7b74beb6a51a80e216c47">SetLastInput</a>(array, *subject);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">return</span> last_match_info;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="../../df/d26/classv8_1_1internal_1_1_reg_exp_impl_1_1_global_cache.html#ac05a060ec7ec640887a07baf5bcdbaf4">  711</a></span>&#160;<a class="code" href="../../df/d26/classv8_1_1internal_1_1_reg_exp_impl_1_1_global_cache.html#ac05a060ec7ec640887a07baf5bcdbaf4">RegExpImpl::GlobalCache::GlobalCache</a>(<a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;JSRegExp&gt;</a> regexp,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                     <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> subject,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                     <span class="keywordtype">bool</span> is_global,</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                                     <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  : register_array_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    register_array_size_(0),</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    regexp_(regexp),</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    subject_(subject) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor">#ifdef V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keywordtype">bool</span> interpreted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordtype">bool</span> interpreted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="preprocessor">#endif  // V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">if</span> (regexp_-&gt;TypeTag() == <a class="code" href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a1d1cfd8ffb84e947f82999c682b666a7a868daeaf74b2132e2566214d51dc1c00">JSRegExp::ATOM</a>) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAtomRegistersPerMatch = 2;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    registers_per_match_ = kAtomRegistersPerMatch;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// There is no distinction between interpreted and native for atom regexps.</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    interpreted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    registers_per_match_ = <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a6fa34f7c9ff37621fb4157823c26743e">RegExpImpl::IrregexpPrepare</a>(regexp_, subject_);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (registers_per_match_ &lt; 0) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      num_matches_ = -1;  <span class="comment">// Signal exception.</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keywordflow">if</span> (is_global &amp;&amp; !interpreted) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    register_array_size_ =</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">Max</a>(registers_per_match_, <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a9bff24679affbf050af90dd4e17b6f1d">Isolate::kJSRegexpStaticOffsetsVectorSize</a>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    max_matches_ = register_array_size_ / registers_per_match_;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">// Global loop in interpreted regexp is not implemented.  We choose</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// the size of the offsets vector so that it can only store one match.</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    register_array_size_ = registers_per_match_;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    max_matches_ = 1;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordflow">if</span> (register_array_size_ &gt; <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a9bff24679affbf050af90dd4e17b6f1d">Isolate::kJSRegexpStaticOffsetsVectorSize</a>) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    register_array_ = NewArray&lt;int32_t&gt;(register_array_size_);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    register_array_ = isolate-&gt;jsregexp_static_offsets_vector();</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">// Set state so that fetching the results the first time triggers a call</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="comment">// to the compiled regexp.</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  current_match_index_ = max_matches_ - 1;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  num_matches_ = max_matches_;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(registers_per_match_ &gt;= 2);  <span class="comment">// Each match has at least one capture.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a8534ecd5e280a77dd885c1aae46a1c22">ASSERT_GE</a>(register_array_size_, registers_per_match_);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>* last_match =</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      &amp;register_array_[current_match_index_ * registers_per_match_];</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  last_match[0] = -1;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  last_match[1] = 0;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;}</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">// -------------------------------------------------------------------</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">// Implementation of the Irregexp regular expression engine.</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">// The Irregexp regular expression engine is intended to be a complete</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">// implementation of ECMAScript regular expressions.  It generates either</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">// bytecodes or native code.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">//   The Irregexp regexp engine is structured in three steps.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">//   1) The parser generates an abstract syntax tree.  See ast.cc.</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">//   2) From the AST a node network is created.  The nodes are all</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">//      subclasses of RegExpNode.  The nodes represent states when</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">//      executing a regular expression.  Several optimizations are</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">//      performed on the node network.</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">//   3) From the nodes we generate either byte codes or native code</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">//      that can actually execute the regular expression (perform</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">//      the search).  The code generation step is described in more</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">//      detail below.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">// Code generation.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">//   The nodes are divided into four main categories.</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">//   * Choice nodes</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">//        These represent places where the regular expression can</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">//        match in more than one way.  For example on entry to an</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">//        alternation (foo|bar) or a repetition (*, +, ? or {}).</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">//   * Action nodes</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">//        These represent places where some action should be</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">//        performed.  Examples include recording the current position</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">//        in the input string to a register (in order to implement</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">//        captures) or other actions on register for example in order</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">//        to implement the counters needed for {} repetitions.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">//   * Matching nodes</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">//        These attempt to match some element part of the input string.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">//        Examples of elements include character classes, plain strings</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">//        or back references.</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">//   * End nodes</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">//        These are used to implement the actions required on finding</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">//        a successful match or failing to find a match.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">//   The code generated (whether as byte codes or native code) maintains</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">//   some state as it runs.  This consists of the following elements:</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">//   * The capture registers.  Used for string captures.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">//   * Other registers.  Used for counters etc.</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">//   * The current position.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">//   * The stack of backtracking information.  Used when a matching node</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">//     fails to find a match and needs to try an alternative.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">// Conceptual regular expression execution model:</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">//   There is a simple conceptual model of regular expression execution</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">//   which will be presented first.  The actual code generated is a more</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">//   efficient simulation of the simple conceptual model:</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">//   * Choice nodes are implemented as follows:</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">//     For each choice except the last {</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">//       push current position</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">//       push backtrack code location</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">//       &lt;generate code to test for choice&gt;</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">//       backtrack code location:</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">//       pop current position</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">//     }</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">//     &lt;generate code to test for last choice&gt;</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">//   * Actions nodes are generated as follows</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">//     &lt;push affected registers on backtrack stack&gt;</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">//     &lt;generate code to perform action&gt;</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">//     push backtrack code location</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">//     &lt;generate code to test for following nodes&gt;</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">//     backtrack code location:</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">//     &lt;pop affected registers to restore their state&gt;</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">//     &lt;pop backtrack location from stack and go to it&gt;</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">//   * Matching nodes are generated as follows:</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">//     if input string matches at current position</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">//       update current position</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">//       &lt;generate code to test for following nodes&gt;</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">//     else</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">//       &lt;pop backtrack location from stack and go to it&gt;</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">//   Thus it can be seen that the current position is saved and restored</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">//   by the choice nodes, whereas the registers are saved and restored by</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">//   by the action nodes that manipulate them.</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">//   The other interesting aspect of this model is that nodes are generated</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">//   at the point where they are needed by a recursive call to Emit().  If</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">//   the node has already been code generated then the Emit() call will</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">//   generate a jump to the previously generated code instead.  In order to</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">//   limit recursion it is possible for the Emit() function to put the node</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">//   on a work list for later generation and instead generate a jump.  The</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">//   destination of the jump is resolved later when the code is generated.</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">// Actual regular expression code generation.</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">//   Code generation is actually more complicated than the above.  In order</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">//   to improve the efficiency of the generated code some optimizations are</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">//   performed</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">//   * Choice nodes have 1-character lookahead.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">//     A choice node looks at the following character and eliminates some of</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">//     the choices immediately based on that character.  This is not yet</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">//     implemented.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">//   * Simple greedy loops store reduced backtracking information.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">//     A quantifier like /.*foo/m will greedily match the whole input.  It will</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">//     then need to backtrack to a point where it can match &quot;foo&quot;.  The naive</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">//     implementation of this would push each character position onto the</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">//     backtracking stack, then pop them off one by one.  This would use space</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">//     proportional to the length of the input string.  However since the &quot;.&quot;</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">//     can only match in one way and always has a constant length (in this case</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">//     of 1) it suffices to store the current position on the top of the stack</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">//     once.  Matching now becomes merely incrementing the current position and</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">//     backtracking becomes decrementing the current position and checking the</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">//     result against the stored current position.  This is faster and saves</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">//     space.</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">//   * The current state is virtualized.</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">//     This is used to defer expensive operations until it is clear that they</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">//     are needed and to generate code for a node more than once, allowing</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">//     specialized an efficient versions of the code to be created. This is</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">//     explained in the section below.</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">// Execution state virtualization.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">//   Instead of emitting code, nodes that manipulate the state can record their</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">//   manipulation in an object called the Trace.  The Trace object can record a</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">//   current position offset, an optional backtrack code location on the top of</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">//   the virtualized backtrack stack and some register changes.  When a node is</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">//   to be emitted it can flush the Trace or update it.  Flushing the Trace</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">//   will emit code to bring the actual state into line with the virtual state.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">//   Avoiding flushing the state can postpone some work (e.g. updates of capture</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">//   registers).  Postponing work can save time when executing the regular</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">//   expression since it may be found that the work never has to be done as a</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">//   failure to match can occur.  In addition it is much faster to jump to a</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">//   known backtrack code location than it is to pop an unknown backtrack</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">//   location from the stack and jump there.</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">//   The virtual state found in the Trace affects code generation.  For example</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">//   the virtual state contains the difference between the actual current</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">//   position and the virtual current position, and matching code needs to use</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">//   this offset to attempt a match in the correct location of the input</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">//   string.  Therefore code generated for a non-trivial trace is specialized</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">//   to that trace.  The code generator therefore has the ability to generate</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">//   code for each node several times.  In order to limit the size of the</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">//   generated code there is an arbitrary limit on how many specialized sets of</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">//   code may be generated for a given node.  If the limit is reached, the</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">//   trace is flushed and a generic version of the code for a node is emitted.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">//   This is subsequently used for that node.  The code emitted for non-generic</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">//   trace is not recorded in the node and so it cannot currently be reused in</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">//   the event that code generation is requested for an identical trace.</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a2fe96ac3a1ea89b80b5b2766b615fa26">  918</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a2fe96ac3a1ea89b80b5b2766b615fa26">RegExpTree::AppendToText</a>(RegExpText* text, <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;}</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="keywordtype">void</span> RegExpAtom::AppendToText(RegExpText* text, <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  text-&gt;AddElement(TextElement::Atom(<span class="keyword">this</span>), zone);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;}</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="keywordtype">void</span> RegExpCharacterClass::AppendToText(RegExpText* text, Zone* zone) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  text-&gt;AddElement(TextElement::CharClass(<span class="keyword">this</span>), zone);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="keywordtype">void</span> RegExpText::AppendToText(RegExpText* text, Zone* zone) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; elements()-&gt;length(); i++)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    text-&gt;AddElement(elements()-&gt;at(i), zone);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;}</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;TextElement TextElement::Atom(RegExpAtom* atom) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordflow">return</span> TextElement(ATOM, atom);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;}</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;TextElement TextElement::CharClass(RegExpCharacterClass* char_class) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">return</span> TextElement(CHAR_CLASS, char_class);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;}</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="keywordtype">int</span> TextElement::length()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">switch</span> (text_type()) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">case</span> ATOM:</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">return</span> atom()-&gt;length();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">case</span> CHAR_CLASS:</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;}</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno"><a class="line" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a46ab8101ac210049a8a9b23928e91862">  962</a></span>&#160;<a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html">DispatchTable</a>* <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a46ab8101ac210049a8a9b23928e91862">ChoiceNode::GetTable</a>(<span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">if</span> (table_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    table_ = <span class="keyword">new</span>(zone()) <a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html">DispatchTable</a>(zone());</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html">DispatchTableConstructor</a> cons(table_, ignore_case, zone());</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    cons.<a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a9faa84540ffb216afcf618b86ae1e2d9">BuildTable</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">return</span> table_;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div>
<div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html">  972</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html">FrequencyCollator</a> {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00974"></a><span class="lineno"><a class="line" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#add87ec92ee3b5be2974e88fe714db25e">  974</a></span>&#160;  <a class="code" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#add87ec92ee3b5be2974e88fe714db25e">FrequencyCollator</a>() : total_samples_(0) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">RegExpMacroAssembler::kTableSize</a>; i++) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      frequencies_[i] = CharacterFrequency(i);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#a9b0c890d2a441b0f7937cce6437d2076">  980</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#a9b0c890d2a441b0f7937cce6437d2076">CountCharacter</a>(<span class="keywordtype">int</span> character) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordtype">int</span> index = (character &amp; <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a55bc20a159f012c3214887b1a405106f">RegExpMacroAssembler::kTableMask</a>);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    frequencies_[index].Increment();</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    total_samples_++;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="comment">// Does not measure in percent, but rather per-128 (the table size from the</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">// regexp macro assembler).</span></div>
<div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#af66d2480c5f99c33de4ebff9da15f8d3">  988</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#af66d2480c5f99c33de4ebff9da15f8d3">Frequency</a>(<span class="keywordtype">int</span> in_character) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((in_character &amp; <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a55bc20a159f012c3214887b1a405106f">RegExpMacroAssembler::kTableMask</a>) == in_character);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span> (total_samples_ &lt; 1) <span class="keywordflow">return</span> 1;  <span class="comment">// Division by zero.</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordtype">int</span> freq_in_per128 =</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        (frequencies_[in_character].counter() * 128) / total_samples_;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">return</span> freq_in_per128;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keyword">class </span>CharacterFrequency {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    CharacterFrequency() : counter_(0), character_(-1) { }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keyword">explicit</span> CharacterFrequency(<span class="keywordtype">int</span> character)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        : counter_(0), character_(character) { }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordtype">void</span> Increment() { counter_++; }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordtype">int</span> counter() { <span class="keywordflow">return</span> counter_; }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordtype">int</span> character() { <span class="keywordflow">return</span> character_; }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordtype">int</span> counter_;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordtype">int</span> character_;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  };</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  CharacterFrequency frequencies_[<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">RegExpMacroAssembler::kTableSize</a>];</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordtype">int</span> total_samples_;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;};</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html"> 1019</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a> {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>(<span class="keywordtype">int</span> capture_count, <span class="keywordtype">bool</span> ignore_case, <span class="keywordtype">bool</span> is_ascii,</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                 <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a448fe6fac2bdb27c9ace31c81b1bfae6"> 1024</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a448fe6fac2bdb27c9ace31c81b1bfae6">AllocateRegister</a>() {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">if</span> (next_register_ &gt;= <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a66653fec330bd32f3bd8138aed61e794">RegExpMacroAssembler::kMaxRegister</a>) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      reg_exp_too_big_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <span class="keywordflow">return</span> next_register_;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">return</span> next_register_++;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <a class="code" href="../../d6/d37/structv8_1_1internal_1_1_reg_exp_engine_1_1_compilation_result.html">RegExpEngine::CompilationResult</a> Assemble(<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler,</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                                           <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* start,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                           <span class="keywordtype">int</span> capture_count,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                           <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> pattern);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a6145f45f6dc7404ad6c8b77ada378042"> 1037</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a6145f45f6dc7404ad6c8b77ada378042">AddWork</a>(<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node) { work_list_-&gt;Add(node); }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a4cff8678d6407d8cb18c08a644baa477"> 1039</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kImplementationOffset = 0;</div>
<div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a3c3095e4af321c14f31a59bab1301bb6"> 1040</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNumberOfRegistersOffset = 0;</div>
<div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#af947b5db2c23891c0084ec0b165af01b"> 1041</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeOffset = 1;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53"> 1043</a></span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>() { <span class="keywordflow">return</span> macro_assembler_; }</div>
<div class="line"><a name="l01044"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a0fc4a375d2651bfacda0494001ac63b5"> 1044</a></span>&#160;  <a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html">EndNode</a>* <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a0fc4a375d2651bfacda0494001ac63b5">accept</a>() { <span class="keywordflow">return</span> accept_; }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div>
<div class="line"><a name="l01046"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a877444282fd32f2ad9d579bf9053009c"> 1046</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxRecursion = 100;</div>
<div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a2867ca3663c4fbc6e14473ea25125f8b"> 1047</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a2867ca3663c4fbc6e14473ea25125f8b">recursion_depth</a>() { <span class="keywordflow">return</span> recursion_depth_; }</div>
<div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#aa21bc93a9aaaa43c1fb312bcd60d5dc7"> 1048</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#aa21bc93a9aaaa43c1fb312bcd60d5dc7">IncrementRecursionDepth</a>() { recursion_depth_++; }</div>
<div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#af1ba772af0a7f825fe3521d9a6edfe14"> 1049</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#af1ba772af0a7f825fe3521d9a6edfe14">DecrementRecursionDepth</a>() { recursion_depth_--; }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a84eddcf9aeaf051663e0f93129e13ce8"> 1051</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a84eddcf9aeaf051663e0f93129e13ce8">SetRegExpTooBig</a>() { reg_exp_too_big_ = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div>
<div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a34e4782c368d557b6c861ae6de97d128"> 1053</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a34e4782c368d557b6c861ae6de97d128">ignore_case</a>() { <span class="keywordflow">return</span> ignore_case_; }</div>
<div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e"> 1054</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>() { <span class="keywordflow">return</span> ascii_; }</div>
<div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a29cd11a915baee6b93cba435c986d751"> 1055</a></span>&#160;  <a class="code" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html">FrequencyCollator</a>* <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a29cd11a915baee6b93cba435c986d751">frequency_collator</a>() { <span class="keywordflow">return</span> &amp;frequency_collator_; }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab17751a1f98c3205d743079afb828c6a"> 1057</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab17751a1f98c3205d743079afb828c6a">current_expansion_factor</a>() { <span class="keywordflow">return</span> current_expansion_factor_; }</div>
<div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afaa7f8dd6a477404b28d9ad16b1f62d5"> 1058</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afaa7f8dd6a477404b28d9ad16b1f62d5">set_current_expansion_factor</a>(<span class="keywordtype">int</span> value) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    current_expansion_factor_ = value;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afa71ce1bd7803567a346b98de74ec9ac"> 1062</a></span>&#160;  <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> zone_; }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div>
<div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a31879679b6594fbb6d10e96e485cfcc7"> 1064</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a31879679b6594fbb6d10e96e485cfcc7">kNoRegister</a> = -1;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html">EndNode</a>* accept_;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keywordtype">int</span> next_register_;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html">List&lt;RegExpNode*&gt;</a>* work_list_;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordtype">int</span> recursion_depth_;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* macro_assembler_;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keywordtype">bool</span> ignore_case_;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordtype">bool</span> ascii_;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordtype">bool</span> reg_exp_too_big_;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordtype">int</span> current_expansion_factor_;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <a class="code" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html">FrequencyCollator</a> frequency_collator_;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone_;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;};</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div>
<div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html"> 1081</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html">RecursionCheck</a> {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html#a32ba5c5d0897bc91d453bd8baee7dbe1"> 1083</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html#a32ba5c5d0897bc91d453bd8baee7dbe1">RecursionCheck</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler) : compiler_(compiler) {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#aa21bc93a9aaaa43c1fb312bcd60d5dc7">IncrementRecursionDepth</a>();</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  }</div>
<div class="line"><a name="l01086"></a><span class="lineno"><a class="line" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html#a506600b37b8560b0d57196a4122a3256"> 1086</a></span>&#160;  <a class="code" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html#a506600b37b8560b0d57196a4122a3256">~RecursionCheck</a>() { compiler_-&gt;DecrementRecursionDepth(); }</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler_;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;};</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="keyword">static</span> RegExpEngine::CompilationResult IrregexpRegExpTooBig(<a class="code" href="../../d5/dda/classv8_1_1_isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordflow">return</span> RegExpEngine::CompilationResult(isolate, <span class="stringliteral">&quot;RegExp too big&quot;</span>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment">// Attempts to compile the regexp using an Irregexp code generator.  Returns</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment">// a fixed array or a null handle depending on whether it succeeded.</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a2b5d208a3fd079a73d35424691e391bf"> 1099</a></span>&#160;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a2b5d208a3fd079a73d35424691e391bf">RegExpCompiler::RegExpCompiler</a>(<span class="keywordtype">int</span> capture_count, <span class="keywordtype">bool</span> ignore_case, <span class="keywordtype">bool</span> ascii,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                               <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone)</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    : next_register_(2 * (capture_count + 1)),</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      work_list_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>),</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      recursion_depth_(0),</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      ignore_case_(ignore_case),</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      ascii_(ascii),</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      reg_exp_too_big_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>),</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      current_expansion_factor_(1),</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      frequency_collator_(),</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      zone_(zone) {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  accept_ = <span class="keyword">new</span>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>) <a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html">EndNode</a>(<a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html#a8bb1ef53467e4f61410d12822d922498a5707b7b8bf1b098d620552e9576d8061">EndNode::ACCEPT</a>, zone);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(next_register_ - 1 &lt;= <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a66653fec330bd32f3bd8138aed61e794">RegExpMacroAssembler::kMaxRegister</a>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;}</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div>
<div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#abbb78fa299ba894efbd32d0d3ee00c06"> 1115</a></span>&#160;<a class="code" href="../../d6/d37/structv8_1_1internal_1_1_reg_exp_engine_1_1_compilation_result.html">RegExpEngine::CompilationResult</a> <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#abbb78fa299ba894efbd32d0d3ee00c06">RegExpCompiler::Assemble</a>(</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* macro_assembler,</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* start,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordtype">int</span> capture_count,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> pattern) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html">Heap</a>* heap = pattern-&gt;GetHeap();</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordtype">bool</span> use_slow_safe_regexp_compiler = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="keywordflow">if</span> (heap-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aabaa5cf09ae6f09e4b4e5e74aa77952a">total_regexp_code_generated</a>() &gt;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;          <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a1b39af630e19008a3194e8f8b5b6dc5e">RegExpImpl::kRegWxpCompiledLimit</a> &amp;&amp;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      heap-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ac11810e443814f25ad30092122bae98e">SizeExecutable</a>() &gt;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;          <a class="code" href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a41c924ed91b2d5349a02cf72ca39f87a">RegExpImpl::kRegExpExecutableMemoryLimit</a>) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    use_slow_safe_regexp_compiler = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a5ea184adef812a4467f84cb22b05c040">set_slow_safe</a>(use_slow_safe_regexp_compiler);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">if</span> (FLAG_trace_regexp_assembler)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    macro_assembler_ = <span class="keyword">new</span> <a class="code" href="../../dd/d71/classv8_1_1internal_1_1_reg_exp_macro_assembler_tracer.html">RegExpMacroAssemblerTracer</a>(macro_assembler);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    macro_assembler_ = <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html">List &lt;RegExpNode*&gt;</a> work_list(0);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  work_list_ = &amp;work_list;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  Label fail;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  macro_assembler_-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad8c2e7af6128ec916efd31f816e5ca26">PushBacktrack</a>(&amp;fail);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_trace;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  start-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(<span class="keyword">this</span>, &amp;new_trace);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  macro_assembler_-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;fail);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  macro_assembler_-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a6e0b5035fe1469f4344cb31927bf62c7">Fail</a>();</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="keywordflow">while</span> (!work_list.is_empty()) {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    work_list.RemoveLast()-&gt;Emit(<span class="keyword">this</span>, &amp;new_trace);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keywordflow">if</span> (reg_exp_too_big_) <span class="keywordflow">return</span> IrregexpRegExpTooBig(zone_-&gt;<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>());</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;HeapObject&gt;</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab91e71e972251cbfe502d5f3856e5762">code</a> = macro_assembler_-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#acf0c9bee7c14b482c353f8500a52abea">GetCode</a>(pattern);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  heap-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a2dbfd7a2e198f165c7fe6618c5e8271a">IncreaseTotalRegexpCodeGenerated</a>(code-&gt;Size());</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  work_list_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keywordflow">if</span> (FLAG_print_code) {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    CodeTracer::Scope trace_scope(heap-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#aff072b5fc54e9c045205b0f71b34ca94">GetCodeTracer</a>());</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">Handle&lt;Code&gt;::cast</a>(code)-&gt;Disassemble(pattern-&gt;ToCString().get(),</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                                          trace_scope.file());</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  }</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="keywordflow">if</span> (FLAG_trace_regexp_assembler) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keyword">delete</span> macro_assembler_;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d6/d37/structv8_1_1internal_1_1_reg_exp_engine_1_1_compilation_result.html">RegExpEngine::CompilationResult</a>(*code, next_register_);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;}</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div>
<div class="line"><a name="l01169"></a><span class="lineno"><a class="line" href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html#a8b955a2feee029b0a354a6ca52ef03ff"> 1169</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html#a8b955a2feee029b0a354a6ca52ef03ff">Trace::DeferredAction::Mentions</a>(<span class="keywordtype">int</span> that) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html#aa314d33ec8bb59e6e16f8ad77a83e060">action_type</a>() == <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba4e8ab798d920ae0697c7bce2b9f04f6a">ActionNode::CLEAR_CAPTURES</a>) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html">Interval</a> range = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/d5d/classv8_1_1internal_1_1_trace_1_1_deferred_clear_captures.html">DeferredClearCaptures</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;range();</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">return</span> range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#aa114e804f0ccb93b71e8a21b2330c4d7">Contains</a>(that);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html#a84d28e51902a32faeb9c6d2be9d29547">reg</a>() == that;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;}</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div>
<div class="line"><a name="l01179"></a><span class="lineno"><a class="line" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a672e65697deaa09eb4fa423968e5a7f0"> 1179</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a672e65697deaa09eb4fa423968e5a7f0">Trace::mentions_reg</a>(<span class="keywordtype">int</span> reg) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html">DeferredAction</a>* action = actions_;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;       action != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;       action = action-&gt;next()) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">if</span> (action-&gt;Mentions(reg))</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div>
<div class="line"><a name="l01190"></a><span class="lineno"><a class="line" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a32dc99dd100d25eac8d07dd33bb74b9c"> 1190</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a32dc99dd100d25eac8d07dd33bb74b9c">Trace::GetStoredPosition</a>(<span class="keywordtype">int</span> reg, <span class="keywordtype">int</span>* <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(0, *cp_offset);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html">DeferredAction</a>* action = actions_;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;       action != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;       action = action-&gt;next()) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (action-&gt;Mentions(reg)) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">if</span> (action-&gt;action_type() == <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950badfba1cc7e906c4022250d065271248ae">ActionNode::STORE_POSITION</a>) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        *cp_offset = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d0/d3f/classv8_1_1internal_1_1_trace_1_1_deferred_capture.html">DeferredCapture</a>*<span class="keyword">&gt;</span>(action)-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>();</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="keywordtype">int</span> Trace::FindAffectedRegisters(<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">OutSet</a>* affected_registers,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                                 <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordtype">int</span> max_register = <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a31879679b6594fbb6d10e96e485cfcc7">RegExpCompiler::kNoRegister</a>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keywordflow">for</span> (DeferredAction* action = actions_;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;       action != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;       action = action-&gt;next()) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> (action-&gt;action_type() == <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba4e8ab798d920ae0697c7bce2b9f04f6a">ActionNode::CLEAR_CAPTURES</a>) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html">Interval</a> range = <span class="keyword">static_cast&lt;</span>DeferredClearCaptures*<span class="keyword">&gt;</span>(action)-&gt;range();</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a8c7a687342404f975c3f58fa62829c73">from</a>(); i &lt;= range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a9ac04ed8b141489166b5c27dc8f0714d">to</a>(); i++)</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        affected_registers-&gt;Set(i, zone);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="keywordflow">if</span> (range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a9ac04ed8b141489166b5c27dc8f0714d">to</a>() &gt; max_register) max_register = range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a9ac04ed8b141489166b5c27dc8f0714d">to</a>();</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      affected_registers-&gt;Set(action-&gt;reg(), zone);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">if</span> (action-&gt;reg() &gt; max_register) max_register = action-&gt;reg();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">return</span> max_register;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;}</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="keywordtype">void</span> Trace::RestoreAffectedRegisters(RegExpMacroAssembler* assembler,</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                                     <span class="keywordtype">int</span> max_register,</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                                     OutSet&amp; registers_to_pop,</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                                     OutSet&amp; registers_to_clear) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> reg = max_register; reg &gt;= 0; reg--) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (registers_to_pop.Get(reg)) assembler-&gt;PopRegister(reg);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (registers_to_clear.Get(reg)) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordtype">int</span> clear_to = reg;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">while</span> (reg &gt; 0 &amp;&amp; registers_to_clear.Get(reg - 1)) {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        reg--;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      assembler-&gt;ClearRegisters(reg, clear_to);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;}</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="keywordtype">void</span> Trace::PerformDeferredActions(RegExpMacroAssembler* assembler,</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                                   <span class="keywordtype">int</span> max_register,</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                                   OutSet&amp; affected_registers,</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                                   OutSet* registers_to_pop,</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                                   OutSet* registers_to_clear,</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                                   Zone* zone) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="comment">// The &quot;+1&quot; is to avoid a push_limit of zero if stack_limit_slack() is 1.</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> push_limit = (assembler-&gt;stack_limit_slack() + 1) / 2;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="comment">// Count pushes performed to force a stack limit check occasionally.</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordtype">int</span> pushes = 0;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> reg = 0; reg &lt;= max_register; reg++) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">if</span> (!affected_registers.Get(reg)) {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">// The chronologically first deferred action in the trace</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="comment">// is used to infer the action needed to restore a register</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="comment">// to its previous state (or not, if it&#39;s safe to ignore it).</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keyword">enum</span> DeferredActionUndoType { IGNORE, RESTORE, CLEAR };</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    DeferredActionUndoType undo_action = IGNORE;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordtype">int</span> value = 0;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordtype">bool</span> absolute = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordtype">bool</span> clear = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordtype">int</span> store_position = -1;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="comment">// This is a little tricky because we are scanning the actions in reverse</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// historical order (newest first).</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">for</span> (DeferredAction* action = actions_;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;         action != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;         action = action-&gt;next()) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="keywordflow">if</span> (action-&gt;Mentions(reg)) {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <span class="keywordflow">switch</span> (action-&gt;action_type()) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba5320cb7aedaa3d802dcb62971a5b2ebf">ActionNode::SET_REGISTER</a>: {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            Trace::DeferredSetRegister* psr =</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                <span class="keyword">static_cast&lt;</span>Trace::DeferredSetRegister*<span class="keyword">&gt;</span>(action);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            <span class="keywordflow">if</span> (!absolute) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;              value += psr-&gt;value();</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;              absolute = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="comment">// SET_REGISTER is currently only used for newly introduced loop</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            <span class="comment">// counters. They can have a significant previous value if they</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <span class="comment">// occour in a loop. TODO(lrn): Propagate this information, so</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <span class="comment">// we can set undo_action to IGNORE if we know there is no value to</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <span class="comment">// restore.</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            undo_action = RESTORE;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(store_position, -1);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!clear);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;          }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950bac532c07128e84d4319797277198b5ec2">ActionNode::INCREMENT_REGISTER</a>:</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            <span class="keywordflow">if</span> (!absolute) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;              value++;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(store_position, -1);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!clear);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            undo_action = RESTORE;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950badfba1cc7e906c4022250d065271248ae">ActionNode::STORE_POSITION</a>: {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            Trace::DeferredCapture* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a> =</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                <span class="keyword">static_cast&lt;</span>Trace::DeferredCapture*<span class="keyword">&gt;</span>(action);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            <span class="keywordflow">if</span> (!clear &amp;&amp; store_position == -1) {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;              store_position = pc-&gt;cp_offset();</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            <span class="comment">// For captures we know that stores and clears alternate.</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            <span class="comment">// Other register, are never cleared, and if the occur</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <span class="comment">// inside a loop, they might be assigned more than once.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <span class="keywordflow">if</span> (reg &lt;= 1) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;              <span class="comment">// Registers zero and one, aka &quot;capture zero&quot;, is</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;              <span class="comment">// always set correctly if we succeed. There is no</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;              <span class="comment">// need to undo a setting on backtrack, because we</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;              <span class="comment">// will set it again or fail.</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;              undo_action = IGNORE;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;              undo_action = pc-&gt;is_capture() ? CLEAR : RESTORE;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!absolute);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(value, 0);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;          }</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba4e8ab798d920ae0697c7bce2b9f04f6a">ActionNode::CLEAR_CAPTURES</a>: {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <span class="comment">// Since we&#39;re scanning in reverse order, if we&#39;ve already</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="comment">// set the position we have to ignore historically earlier</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="comment">// clearing operations.</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            <span class="keywordflow">if</span> (store_position == -1) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;              clear = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            undo_action = RESTORE;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!absolute);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(value, 0);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="comment">// Prepare for the undo-action (e.g., push if it&#39;s going to be popped).</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">if</span> (undo_action == RESTORE) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      pushes++;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad88167be922b9898f4d3c2bf559d8d38">RegExpMacroAssembler::StackCheckFlag</a> stack_check =</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;          <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad88167be922b9898f4d3c2bf559d8d38a164942bfc23192553b38524409587852">RegExpMacroAssembler::kNoStackLimitCheck</a>;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="keywordflow">if</span> (pushes == push_limit) {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        stack_check = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad88167be922b9898f4d3c2bf559d8d38afb00239bc6365fbee20a38e99de50b19">RegExpMacroAssembler::kCheckStackLimit</a>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        pushes = 0;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      assembler-&gt;PushRegister(reg, stack_check);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      registers_to_pop-&gt;Set(reg, zone);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (undo_action == CLEAR) {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      registers_to_clear-&gt;Set(reg, zone);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="comment">// Perform the chronologically last action (or accumulated increment)</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="comment">// for the register.</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (store_position != -1) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      assembler-&gt;WriteCurrentPositionToRegister(reg, store_position);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (clear) {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      assembler-&gt;ClearRegisters(reg, reg);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (absolute) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      assembler-&gt;SetRegister(reg, value);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value != 0) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      assembler-&gt;AdvanceRegister(reg, value);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;}</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="comment">// This is called as we come into a loop choice node and some other tricky</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="comment">// nodes.  It normalizes the state of the code generator to ensure we can</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">// generate generic code.</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8"> 1378</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Trace::Flush</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* successor) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>());</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keywordflow">if</span> (actions_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="comment">// Here we just have some deferred cp advances to fix and we are back to</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="comment">// a normal situation.  We may also have to forget some information gained</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="comment">// through a quick check that was already performed.</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="keywordflow">if</span> (cp_offset_ != 0) assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a416082488c33841cd2f26f5c5c14d6ca">AdvanceCurrentPosition</a>(cp_offset_);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="comment">// Create a new trivial state and generate the node with that.</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_state;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    successor-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;new_state);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// Generate deferred actions here along with code to undo them again.</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">OutSet</a> affected_registers;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="comment">// Here we have a concrete backtrack location.  These are set up by choice</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="comment">// nodes and so they indicate that we have a deferred save of the current</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="comment">// position which we may need to emit here.</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a1eeb573d37905e75d33c94f562c7e6b7">PushCurrentPosition</a>();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="keywordtype">int</span> max_register = FindAffectedRegisters(&amp;affected_registers,</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                                           compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">OutSet</a> registers_to_pop;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">OutSet</a> registers_to_clear;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  PerformDeferredActions(assembler,</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                         max_register,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                         affected_registers,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                         &amp;registers_to_pop,</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                         &amp;registers_to_clear,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                         compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="keywordflow">if</span> (cp_offset_ != 0) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a416082488c33841cd2f26f5c5c14d6ca">AdvanceCurrentPosition</a>(cp_offset_);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  }</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="comment">// Create a new trivial state and generate the node with that.</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  Label undo;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad8c2e7af6128ec916efd31f816e5ca26">PushBacktrack</a>(&amp;undo);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_state;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  successor-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;new_state);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="comment">// On backtrack we need to restore state.</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;undo);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  RestoreAffectedRegisters(assembler,</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                           max_register,</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                           registers_to_pop,</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                           registers_to_clear);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa87841b829265864c139464be369ac70">Backtrack</a>();</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a4ba9a6b12da3e41bdf5bb810879d7c0c">PopCurrentPosition</a>();</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div>
<div class="line"><a name="l01439"></a><span class="lineno"><a class="line" href="../../d4/d76/classv8_1_1internal_1_1_negative_submatch_success.html#adcf87d1548a77913bc9b2ab00539c0a2"> 1439</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d76/classv8_1_1internal_1_1_negative_submatch_success.html#adcf87d1548a77913bc9b2ab00539c0a2">NegativeSubmatchSuccess::Emit</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="comment">// Omit flushing the trace. We discard the entire stack frame anyway.</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">if</span> (!label()-&gt;is_bound()) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="comment">// We are completely independent of the trace, since we ignore it,</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="comment">// so this code can be used as the generic version.</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(label());</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  }</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// Throw away everything on the backtrack stack since the start</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// of the negative submatch and restore the character position.</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa451955c0f1011fb012e3bb8263fa129">ReadCurrentPositionFromRegister</a>(current_position_register_);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0bd9ede5bc67686059167db5504e8420">ReadStackPointerFromRegister</a>(stack_pointer_register_);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">if</span> (clear_capture_count_ &gt; 0) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="comment">// Clear any captures that might have been performed during the success</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="comment">// of the body of the negative look-ahead.</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordtype">int</span> clear_capture_end = clear_capture_start_ + clear_capture_count_ - 1;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa55df1b98219bf14033b93f65269080c">ClearRegisters</a>(clear_capture_start_, clear_capture_end);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// Now that we have unwound the stack we find at the top of the stack the</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="comment">// backtrack that the BeginSubmatch node got.</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa87841b829265864c139464be369ac70">Backtrack</a>();</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;}</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div>
<div class="line"><a name="l01466"></a><span class="lineno"><a class="line" href="../../da/dae/classv8_1_1internal_1_1_end_node.html#adcf87d1548a77913bc9b2ab00539c0a2"> 1466</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html#adcf87d1548a77913bc9b2ab00539c0a2">EndNode::Emit</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="keywordflow">if</span> (!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>()) {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Flush</a>(compiler, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordflow">if</span> (!label()-&gt;is_bound()) {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(label());</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keywordflow">switch</span> (action_) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">case</span> ACCEPT:</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a234da2be1ed67db6657a5f96ac510880">Succeed</a>();</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">case</span> BACKTRACK:</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">case</span> NEGATIVE_SUBMATCH_SUCCESS:</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <span class="comment">// This case is handled in a different virtual method.</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  }</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;}</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div>
<div class="line"><a name="l01490"></a><span class="lineno"><a class="line" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a9d5899a31403e3b1b456cb0ea185e063"> 1490</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a9d5899a31403e3b1b456cb0ea185e063">GuardedAlternative::AddGuard</a>(<a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html">Guard</a>* guard, <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keywordflow">if</span> (guards_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    guards_ = <span class="keyword">new</span>(zone) <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;Guard*&gt;</a>(1, zone);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  guards_-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(guard, zone);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div>
<div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a1577099d58b94bfd3e1ff9feba7871bd"> 1497</a></span>&#160;<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a1577099d58b94bfd3e1ff9feba7871bd">ActionNode::SetRegister</a>(<span class="keywordtype">int</span> reg,</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                                    <span class="keywordtype">int</span> val,</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                                    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* on_success) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* result =</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="keyword">new</span>(on_success-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>(SET_REGISTER, on_success);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa89364c7b3f4b619bc61591832cc3275">u_store_register</a>.reg = reg;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa89364c7b3f4b619bc61591832cc3275">u_store_register</a>.value = val;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;}</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div>
<div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a052670e7fe387a82112dfa8fd9347309"> 1508</a></span>&#160;<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a052670e7fe387a82112dfa8fd9347309">ActionNode::IncrementRegister</a>(<span class="keywordtype">int</span> reg, <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* on_success) {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* result =</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      <span class="keyword">new</span>(on_success-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>(INCREMENT_REGISTER, on_success);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a70429b8ff3b6da876438d313a1492ef5">u_increment_register</a>.reg = reg;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;}</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div>
<div class="line"><a name="l01516"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6b0237610fe682f5a451b96e9f83d010"> 1516</a></span>&#160;<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6b0237610fe682f5a451b96e9f83d010">ActionNode::StorePosition</a>(<span class="keywordtype">int</span> reg,</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                                      <span class="keywordtype">bool</span> is_capture,</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                                      <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* on_success) {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* result =</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <span class="keyword">new</span>(on_success-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>(STORE_POSITION, on_success);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a7776bf19ea21f4a456c26b5f075972e2">u_position_register</a>.reg = reg;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a7776bf19ea21f4a456c26b5f075972e2">u_position_register</a>.is_capture = is_capture;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;}</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div>
<div class="line"><a name="l01527"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a410a012e28ef151d0df12390fd1fd1ed"> 1527</a></span>&#160;<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a410a012e28ef151d0df12390fd1fd1ed">ActionNode::ClearCaptures</a>(<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html">Interval</a> range,</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                                      <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* on_success) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* result =</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keyword">new</span>(on_success-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>(CLEAR_CAPTURES, on_success);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a274ff2bd2f354c873597c731ffc4e72c">u_clear_captures</a>.range_from = range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a8c7a687342404f975c3f58fa62829c73">from</a>();</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a274ff2bd2f354c873597c731ffc4e72c">u_clear_captures</a>.range_to = range.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a9ac04ed8b141489166b5c27dc8f0714d">to</a>();</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;}</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div>
<div class="line"><a name="l01537"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#af824e989155e0dc331a8ff788e3c9d58"> 1537</a></span>&#160;<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#af824e989155e0dc331a8ff788e3c9d58">ActionNode::BeginSubmatch</a>(<span class="keywordtype">int</span> stack_reg,</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                                      <span class="keywordtype">int</span> position_reg,</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                                      <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* on_success) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* result =</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="keyword">new</span>(on_success-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>(BEGIN_SUBMATCH, on_success);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa99311b3e50387be92c0a931265fc131">u_submatch</a>.stack_pointer_register = stack_reg;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa99311b3e50387be92c0a931265fc131">u_submatch</a>.current_position_register = position_reg;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;}</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div>
<div class="line"><a name="l01548"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a88b303b102df0fc9a62138278b2ac4b6"> 1548</a></span>&#160;<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a88b303b102df0fc9a62138278b2ac4b6">ActionNode::PositiveSubmatchSuccess</a>(<span class="keywordtype">int</span> stack_reg,</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                                                <span class="keywordtype">int</span> position_reg,</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                                                <span class="keywordtype">int</span> clear_register_count,</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                                                <span class="keywordtype">int</span> clear_register_from,</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                                                <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* on_success) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* result =</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <span class="keyword">new</span>(on_success-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>(POSITIVE_SUBMATCH_SUCCESS, on_success);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa99311b3e50387be92c0a931265fc131">u_submatch</a>.stack_pointer_register = stack_reg;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa99311b3e50387be92c0a931265fc131">u_submatch</a>.current_position_register = position_reg;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa99311b3e50387be92c0a931265fc131">u_submatch</a>.clear_register_count = clear_register_count;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa99311b3e50387be92c0a931265fc131">u_submatch</a>.clear_register_from = clear_register_from;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;}</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div>
<div class="line"><a name="l01563"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6c17ccdb42fde260e08170e996b466a8"> 1563</a></span>&#160;<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6c17ccdb42fde260e08170e996b466a8">ActionNode::EmptyMatchCheck</a>(<span class="keywordtype">int</span> start_register,</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                                        <span class="keywordtype">int</span> repetition_register,</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                                        <span class="keywordtype">int</span> repetition_limit,</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                                        <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* on_success) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>* result =</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="keyword">new</span>(on_success-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">ActionNode</a>(EMPTY_MATCH_CHECK, on_success);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a0a8951faf4040ee7a86456f8f034e874">u_empty_match_check</a>.start_register = start_register;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a0a8951faf4040ee7a86456f8f034e874">u_empty_match_check</a>.repetition_register = repetition_register;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  result-&gt;data_.<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a0a8951faf4040ee7a86456f8f034e874">u_empty_match_check</a>.repetition_limit = repetition_limit;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;}</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div>
<div class="line"><a name="l01576"></a><span class="lineno"><a class="line" href="../../dd/d24/jsregexp_8cc.html#a99e51162af3408ab63146c2edf99915b"> 1576</a></span>&#160;<span class="preprocessor">#define DEFINE_ACCEPT(Type)                                          \</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="preprocessor">  void Type##Node::Accept(NodeVisitor* visitor) {                    \</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="preprocessor">    visitor-&gt;Visit##Type(this);                                      \</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="preprocessor">  }</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<a class="code" href="../../d7/d0c/jsregexp_8h.html#a9b694eeb3fc5709b228ca212e7a6e211">FOR_EACH_NODE_TYPE</a>(<a class="code" href="../../dd/d24/jsregexp_8cc.html#a99e51162af3408ab63146c2edf99915b">DEFINE_ACCEPT</a>)</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="preprocessor">#undef DEFINE_ACCEPT</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div>
<div class="line"><a name="l01584"></a><span class="lineno"><a class="line" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a2946225c91c30a8c62fc631c11468fac"> 1584</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a2946225c91c30a8c62fc631c11468fac">LoopChoiceNode::Accept</a>(<a class="code" href="../../df/df8/classv8_1_1internal_1_1_node_visitor.html">NodeVisitor</a>* visitor) {</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  visitor-&gt;<a class="code" href="../../df/df8/classv8_1_1internal_1_1_node_visitor.html#a206ea8974624b499d2832b0269e01f44">VisitLoopChoice</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;}</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment">// -------------------------------------------------------------------</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">// Emit code.</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="keywordtype">void</span> ChoiceNode::GenerateGuard(<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* macro_assembler,</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                               <a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html">Guard</a>* guard,</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                               <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordflow">switch</span> (guard-&gt;<a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a64f02167608d30f14dbaffec5605a53e">op</a>()) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a32244553e6de01a64084f56cc7da7747a486aa221ceeeac475326e85d3d37f571">Guard::LT</a>:</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a672e65697deaa09eb4fa423968e5a7f0">mentions_reg</a>(guard-&gt;<a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a84d28e51902a32faeb9c6d2be9d29547">reg</a>()));</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a9ab1cd1ffc103413d10220fc3fafc81d">IfRegisterGE</a>(guard-&gt;<a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a84d28e51902a32faeb9c6d2be9d29547">reg</a>(),</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                                    guard-&gt;<a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a7ecb839199ee379f9371723072e4148a">value</a>(),</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                                    trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a32244553e6de01a64084f56cc7da7747a99705e9593e3e5c078150b293c86561e">Guard::GEQ</a>:</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a672e65697deaa09eb4fa423968e5a7f0">mentions_reg</a>(guard-&gt;<a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a84d28e51902a32faeb9c6d2be9d29547">reg</a>()));</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8ee52ba7ad5d191a1e1db65b26af54e7">IfRegisterLT</a>(guard-&gt;<a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a84d28e51902a32faeb9c6d2be9d29547">reg</a>(),</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                                    guard-&gt;<a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a7ecb839199ee379f9371723072e4148a">value</a>(),</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                                    trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;}</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment">// Returns the number of characters in the equivalence class, omitting those</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">// that cannot occur in the source string because it is ASCII.</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> GetCaseIndependentLetters(Isolate* isolate,</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> character,</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                                     <span class="keywordtype">bool</span> ascii_subject,</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                                     <a class="code" href="../../d7/df6/namespaceunibrow.html#ae8d77ac121e443c19b70413c2a9b714c">unibrow::uchar</a>* letters) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="keywordtype">int</span> length =</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      isolate-&gt;jsregexp_uncanonicalize()-&gt;get(character, <span class="charliteral">&#39;\0&#39;</span>, letters);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="comment">// Unibrow returns 0 or 1 for characters where case independence is</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="comment">// trivial.</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="keywordflow">if</span> (length == 0) {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    letters[0] = character;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    length = 1;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="keywordflow">if</span> (!ascii_subject || character &lt;= <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="comment">// The standard requires that non-ASCII characters cannot have ASCII</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="comment">// character codes in their equivalence class.</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;}</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> EmitSimpleCharacter(Isolate* isolate,</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                                       RegExpCompiler* compiler,</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> c,</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                                       Label* on_failure,</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                                       <span class="keywordtype">int</span> <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>,</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                                       <span class="keywordtype">bool</span> <a class="code" href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a>,</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                                       <span class="keywordtype">bool</span> preloaded) {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  RegExpMacroAssembler* assembler = compiler-&gt;macro_assembler();</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="keywordtype">bool</span> bound_checked = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">if</span> (!preloaded) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    assembler-&gt;LoadCurrentCharacter(</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        cp_offset,</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        on_failure,</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        check);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    bound_checked = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  assembler-&gt;CheckNotCharacter(c, on_failure);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">return</span> bound_checked;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;}</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">// Only emits non-letters (things that don&#39;t have case).  Only used for case</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">// independent matches.</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> EmitAtomNonLetter(Isolate* isolate,</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                                     RegExpCompiler* compiler,</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> c,</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                                     Label* on_failure,</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                                     <span class="keywordtype">int</span> cp_offset,</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                                     <span class="keywordtype">bool</span> check,</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                                     <span class="keywordtype">bool</span> preloaded) {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  RegExpMacroAssembler* macro_assembler = compiler-&gt;macro_assembler();</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="keywordtype">bool</span> ascii = compiler-&gt;ascii();</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#ae8d77ac121e443c19b70413c2a9b714c">unibrow::uchar</a> chars[<a class="code" href="../../d0/d9c/structunibrow_1_1_ecma262_un_canonicalize.html#ac2ebdc5a7a124f3a46428e5e402add12">unibrow::Ecma262UnCanonicalize::kMaxWidth</a>];</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="keywordtype">int</span> length = GetCaseIndependentLetters(isolate, c, ascii, chars);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">if</span> (length &lt; 1) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="comment">// This can&#39;t match.  Must be an ASCII subject and a non-ASCII character.</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="comment">// We do not need to do anything since the ASCII pass already handled this.</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Bounds not checked.</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="keywordtype">bool</span> checked = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="comment">// We handle the length &gt; 1 case in a later pass.</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">if</span> (length == 1) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">if</span> (ascii &amp;&amp; c &gt; <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a09fa601fe6ca5fd2e596ad30e87fc64c">String::kMaxOneByteCharCodeU</a>) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <span class="comment">// Can&#39;t match - see above.</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Bounds not checked.</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    }</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">if</span> (!preloaded) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      macro_assembler-&gt;LoadCurrentCharacter(cp_offset, on_failure, check);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      checked = <a class="code" href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    macro_assembler-&gt;CheckNotCharacter(c, on_failure);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">return</span> checked;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> ShortCutEmitCharacterPair(RegExpMacroAssembler* macro_assembler,</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                                      <span class="keywordtype">bool</span> ascii,</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                                      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> c1,</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                                      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> c2,</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                                      Label* on_failure) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> char_mask;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="keywordflow">if</span> (ascii) {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    char_mask = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    char_mask = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> exor = c1 ^ c2;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="comment">// Check whether exor has only one bit set.</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">if</span> (((exor - 1) &amp; exor) == 0) {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="comment">// If c1 and c2 differ only by one bit.</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="comment">// Ecma262UnCanonicalize always gives the highest number last.</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(c2 &gt; c1);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> mask = char_mask ^ exor;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    macro_assembler-&gt;CheckNotCharacterAfterAnd(c1, mask, on_failure);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(c2 &gt; c1);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> diff = c2 - c1;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="keywordflow">if</span> (((diff - 1) &amp; diff) == 0 &amp;&amp; c1 &gt;= diff) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="comment">// If the characters differ by 2^n but don&#39;t differ by one bit then</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="comment">// subtract the difference from the found character, then do the or</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="comment">// trick.  We avoid the theoretical case where negative numbers are</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="comment">// involved in order to simplify code generation.</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> mask = char_mask ^ diff;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    macro_assembler-&gt;CheckNotCharacterAfterMinusAnd(c1 - diff,</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                                                    diff,</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                                                    mask,</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                                                    on_failure);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;}</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div>
<div class="line"><a name="l01731"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a5c35d53d6d799e0b34a8ef52aa8fe52f"> 1731</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5c35d53d6d799e0b34a8ef52aa8fe52f">EmitCharacterFunction</a>(<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                                   <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> c,</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                                   Label* on_failure,</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                                   <span class="keywordtype">int</span> cp_offset,</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                                   <span class="keywordtype">bool</span> check,</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                                   <span class="keywordtype">bool</span> preloaded);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">// Only emits letters (things that have case).  Only used for case independent</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment">// matches.</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> EmitAtomLetter(<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                                  <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                                  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> c,</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                                  Label* on_failure,</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                                  <span class="keywordtype">int</span> cp_offset,</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                                  <span class="keywordtype">bool</span> check,</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                                  <span class="keywordtype">bool</span> preloaded) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* macro_assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="keywordtype">bool</span> ascii = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>();</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#ae8d77ac121e443c19b70413c2a9b714c">unibrow::uchar</a> chars[<a class="code" href="../../d0/d9c/structunibrow_1_1_ecma262_un_canonicalize.html#ac2ebdc5a7a124f3a46428e5e402add12">unibrow::Ecma262UnCanonicalize::kMaxWidth</a>];</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="keywordtype">int</span> length = GetCaseIndependentLetters(isolate, c, ascii, chars);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="keywordflow">if</span> (length &lt;= 1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="comment">// We may not need to check against the end of the input string</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="comment">// if this character lies before a character that matched.</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="keywordflow">if</span> (!preloaded) {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a170549aeb974cf446b8b4c0e66063395">LoadCurrentCharacter</a>(cp_offset, on_failure, check);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  Label ok;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d0/d9c/structunibrow_1_1_ecma262_un_canonicalize.html#ac2ebdc5a7a124f3a46428e5e402add12">unibrow::Ecma262UnCanonicalize::kMaxWidth</a> == 4);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <span class="keywordflow">switch</span> (length) {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">case</span> 2: {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <span class="keywordflow">if</span> (ShortCutEmitCharacterPair(macro_assembler,</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                                    ascii,</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                                    chars[0],</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                                    chars[1],</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                                    on_failure)) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8d25d2697abbda95aeeb323eb9fad9a0">CheckCharacter</a>(chars[0], &amp;ok);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa8a1ac4aeead2956bfee27f586976f07">CheckNotCharacter</a>(chars[1], on_failure);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;ok);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    }</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8d25d2697abbda95aeeb323eb9fad9a0">CheckCharacter</a>(chars[3], &amp;ok);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      <span class="comment">// Fall through!</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8d25d2697abbda95aeeb323eb9fad9a0">CheckCharacter</a>(chars[0], &amp;ok);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8d25d2697abbda95aeeb323eb9fad9a0">CheckCharacter</a>(chars[1], &amp;ok);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa8a1ac4aeead2956bfee27f586976f07">CheckNotCharacter</a>(chars[2], on_failure);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;ok);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  }</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;}</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> EmitBoundaryTest(RegExpMacroAssembler* masm,</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                             <span class="keywordtype">int</span> border,</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                             Label* fall_through,</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                             Label* above_or_equal,</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                             Label* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8afe4762daf05f344b9afbf670d14fcb56">below</a>) {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="keywordflow">if</span> (below != fall_through) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    masm-&gt;CheckCharacterLT(border, below);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">if</span> (above_or_equal != fall_through) masm-&gt;GoTo(above_or_equal);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    masm-&gt;CheckCharacterGT(border - 1, above_or_equal);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  }</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;}</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> EmitDoubleBoundaryTest(RegExpMacroAssembler* masm,</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                                   <span class="keywordtype">int</span> first,</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                                   <span class="keywordtype">int</span> last,</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                                   Label* fall_through,</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                                   Label* in_range,</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                                   Label* out_of_range) {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">if</span> (in_range == fall_through) {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">if</span> (first == last) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      masm-&gt;CheckNotCharacter(first, out_of_range);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      masm-&gt;CheckCharacterNotInRange(first, last, out_of_range);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    }</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keywordflow">if</span> (first == last) {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      masm-&gt;CheckCharacter(first, in_range);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      masm-&gt;CheckCharacterInRange(first, last, in_range);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    }</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">if</span> (out_of_range != fall_through) masm-&gt;GoTo(out_of_range);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  }</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;}</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="comment">// even_label is for ranges[i] to ranges[i + 1] where i - start_index is even.</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">// odd_label is for ranges[i] to ranges[i + 1] where i - start_index is odd.</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> EmitUseLookupTable(</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    RegExpMacroAssembler* masm,</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    ZoneList&lt;int&gt;* ranges,</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <span class="keywordtype">int</span> start_index,</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordtype">int</span> end_index,</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordtype">int</span> min_char,</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    Label* fall_through,</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    Label* even_label,</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    Label* odd_label) {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">RegExpMacroAssembler::kTableSize</a>;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMask = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a55bc20a159f012c3214887b1a405106f">RegExpMacroAssembler::kTableMask</a>;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="keywordtype">int</span> base = (min_char &amp; ~kMask);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(base);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="comment">// Assert that everything is on one kTableSize page.</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = start_index; i &lt;= end_index; i++) {</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(ranges-&gt;at(i) &amp; ~kMask, base);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(start_index == 0 || (ranges-&gt;at(start_index - 1) &amp; ~kMask) &lt;= base);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordtype">char</span> templ[kSize];</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  Label* on_bit_set;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  Label* on_bit_clear;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <span class="keywordtype">int</span> bit;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keywordflow">if</span> (even_label == fall_through) {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    on_bit_set = odd_label;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    on_bit_clear = even_label;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    bit = 1;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    on_bit_set = even_label;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    on_bit_clear = odd_label;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    bit = 0;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (ranges-&gt;at(start_index) &amp; kMask) &amp;&amp; i &lt; kSize; i++) {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    templ[i] = bit;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  }</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordtype">int</span> j = 0;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  bit ^= 1;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = start_index; i &lt; end_index; i++) {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordflow">for</span> (j = (ranges-&gt;at(i) &amp; kMask); j &lt; (ranges-&gt;at(i + 1) &amp; kMask); j++) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      templ[j] = bit;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    bit ^= 1;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  }</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = j; i &lt; kSize; i++) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    templ[i] = bit;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  Factory* factory = masm-&gt;zone()-&gt;isolate()-&gt;factory();</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="comment">// TODO(erikcorry): Cache these.</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  Handle&lt;ByteArray&gt; ba = factory-&gt;NewByteArray(kSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf3d0d752de4b5754a85fcdaaf0a2f26c">TENURED</a>);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; kSize; i++) {</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    ba-&gt;set(i, templ[i]);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  }</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  masm-&gt;CheckBitInTable(ba, on_bit_set);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordflow">if</span> (on_bit_clear != fall_through) masm-&gt;GoTo(on_bit_clear);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;}</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> CutOutRange(RegExpMacroAssembler* masm,</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                        ZoneList&lt;int&gt;* ranges,</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                        <span class="keywordtype">int</span> start_index,</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                        <span class="keywordtype">int</span> end_index,</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                        <span class="keywordtype">int</span> cut_index,</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                        Label* even_label,</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                        Label* odd_label) {</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="keywordtype">bool</span> odd = (((cut_index - start_index) &amp; 1) == 1);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  Label* in_range_label = odd ? odd_label : even_label;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  Label dummy;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  EmitDoubleBoundaryTest(masm,</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                         ranges-&gt;at(cut_index),</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                         ranges-&gt;at(cut_index + 1) - 1,</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                         &amp;dummy,</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                         in_range_label,</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                         &amp;dummy);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!dummy.is_linked());</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="comment">// Cut out the single range by rewriting the array.  This creates a new</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="comment">// range that is a merger of the two ranges on either side of the one we</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="comment">// are cutting out.  The oddity of the labels is preserved.</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = cut_index; j &gt; start_index; j--) {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    ranges-&gt;at(j) = ranges-&gt;at(j - 1);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = cut_index + 1; j &lt; end_index; j++) {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    ranges-&gt;at(j) = ranges-&gt;at(j + 1);</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;}</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="comment">// Unicode case.  Split the search space into kSize spaces that are handled</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="comment">// with recursion.</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> SplitSearchSpace(ZoneList&lt;int&gt;* ranges,</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                             <span class="keywordtype">int</span> start_index,</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                             <span class="keywordtype">int</span> end_index,</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                             <span class="keywordtype">int</span>* new_start_index,</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                             <span class="keywordtype">int</span>* new_end_index,</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                             <span class="keywordtype">int</span>* border) {</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">RegExpMacroAssembler::kTableSize</a>;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMask = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a55bc20a159f012c3214887b1a405106f">RegExpMacroAssembler::kTableMask</a>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <span class="keywordtype">int</span> first = ranges-&gt;at(start_index);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <span class="keywordtype">int</span> last = ranges-&gt;at(end_index) - 1;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  *new_start_index = start_index;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  *border = (ranges-&gt;at(start_index) &amp; ~kMask) + kSize;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordflow">while</span> (*new_start_index &lt; end_index) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span> (ranges-&gt;at(*new_start_index) &gt; *border) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    (*new_start_index)++;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  }</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="comment">// new_start_index is the index of the first edge that is beyond the</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="comment">// current kSize space.</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="comment">// For very large search spaces we do a binary chop search of the non-ASCII</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="comment">// space instead of just going to the end of the current kSize space.  The</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <span class="comment">// heuristics are complicated a little by the fact that any 128-character</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="comment">// encoding space can be quickly tested with a table lookup, so we don&#39;t</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="comment">// wish to do binary chop search at a smaller granularity than that.  A</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="comment">// 128-character space can take up a lot of space in the ranges array if,</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="comment">// for example, we only want to match every second character (eg. the lower</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="comment">// case characters on some Unicode pages).</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="keywordtype">int</span> binary_chop_index = (end_index + start_index) / 2;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="comment">// The first test ensures that we get to the code that handles the ASCII</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">// range with a single not-taken branch, speeding up this important</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="comment">// character range (even non-ASCII charset-based text has spaces and</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="comment">// punctuation).</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="keywordflow">if</span> (*border - 1 &gt; <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a> &amp;&amp;  <span class="comment">// ASCII case.</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      end_index - start_index &gt; (*new_start_index - start_index) * 2 &amp;&amp;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      last - first &gt; kSize * 2 &amp;&amp;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      binary_chop_index &gt; *new_start_index &amp;&amp;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      ranges-&gt;at(binary_chop_index) &gt;= first + 2 * kSize) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordtype">int</span> scan_forward_for_section_border = binary_chop_index;;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keywordtype">int</span> new_border = (ranges-&gt;at(binary_chop_index) | kMask) + 1;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">while</span> (scan_forward_for_section_border &lt; end_index) {</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <span class="keywordflow">if</span> (ranges-&gt;at(scan_forward_for_section_border) &gt; new_border) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        *new_start_index = scan_forward_for_section_border;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        *border = new_border;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;      }</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      scan_forward_for_section_border++;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    }</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  }</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(*new_start_index &gt; start_index);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  *new_end_index = *new_start_index - 1;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">if</span> (ranges-&gt;at(*new_end_index) == *border) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    (*new_end_index)--;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keywordflow">if</span> (*border &gt;= ranges-&gt;at(end_index)) {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    *border = ranges-&gt;at(end_index);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    *new_start_index = end_index;  <span class="comment">// Won&#39;t be used.</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    *new_end_index = end_index - 1;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;<span class="comment">// Gets a series of segment boundaries representing a character class.  If the</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;<span class="comment">// character is in the range between an even and an odd boundary (counting from</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="comment">// start_index) then go to even_label, otherwise go to odd_label.  We already</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">// know that the character is in the range of min_char to max_char inclusive.</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="comment">// Either label can be NULL indicating backtracking.  Either label can also be</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="comment">// equal to the fall_through label.</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> GenerateBranches(RegExpMacroAssembler* masm,</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                             ZoneList&lt;int&gt;* ranges,</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                             <span class="keywordtype">int</span> start_index,</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                             <span class="keywordtype">int</span> end_index,</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> min_char,</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> max_char,</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                             Label* fall_through,</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                             Label* even_label,</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                             Label* odd_label) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <span class="keywordtype">int</span> first = ranges-&gt;at(start_index);</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  <span class="keywordtype">int</span> last = ranges-&gt;at(end_index) - 1;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a41a2cfdd7e28f51f137840ff0633761a">ASSERT_LT</a>(min_char, first);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="comment">// Just need to test if the character is before or on-or-after</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="comment">// a particular character.</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="keywordflow">if</span> (start_index == end_index) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    EmitBoundaryTest(masm, first, fall_through, even_label, odd_label);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="comment">// Another almost trivial case:  There is one interval in the middle that is</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="comment">// different from the end intervals.</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keywordflow">if</span> (start_index + 1 == end_index) {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    EmitDoubleBoundaryTest(</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        masm, first, last, fall_through, even_label, odd_label);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  }</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="comment">// It&#39;s not worth using table lookup if there are very few intervals in the</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="comment">// character class.</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <span class="keywordflow">if</span> (end_index - start_index &lt;= 6) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="comment">// It is faster to test for individual characters, so we look for those</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="comment">// first, then try arbitrary ranges in the second round.</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> kNoCutIndex = -1;</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordtype">int</span> cut = kNoCutIndex;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = start_index; i &lt; end_index; i++) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <span class="keywordflow">if</span> (ranges-&gt;at(i) == ranges-&gt;at(i + 1) - 1) {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;        cut = i;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">if</span> (cut == kNoCutIndex) cut = start_index;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    CutOutRange(</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        masm, ranges, start_index, end_index, cut, even_label, odd_label);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a8534ecd5e280a77dd885c1aae46a1c22">ASSERT_GE</a>(end_index - start_index, 2);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    GenerateBranches(masm,</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                     ranges,</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                     start_index + 1,</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                     end_index - 1,</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;                     min_char,</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                     max_char,</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                     fall_through,</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                     even_label,</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                     odd_label);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  }</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  <span class="comment">// If there are a lot of intervals in the regexp, then we will use tables to</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="comment">// determine whether the character is inside or outside the character class.</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBits = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a182abfbfaf75bb92acc61e08b2dbb4bb">RegExpMacroAssembler::kTableSizeBits</a>;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <span class="keywordflow">if</span> ((max_char &gt;&gt; kBits) == (min_char &gt;&gt; kBits)) {</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    EmitUseLookupTable(masm,</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                       ranges,</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                       start_index,</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                       end_index,</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                       min_char,</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                       fall_through,</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                       even_label,</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                       odd_label);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <span class="keywordflow">if</span> ((min_char &gt;&gt; kBits) != (first &gt;&gt; kBits)) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    masm-&gt;CheckCharacterLT(first, odd_label);</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    GenerateBranches(masm,</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                     ranges,</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                     start_index + 1,</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                     end_index,</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                     first,</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                     max_char,</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                     fall_through,</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                     odd_label,</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                     even_label);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <span class="keywordtype">int</span> new_start_index = 0;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="keywordtype">int</span> new_end_index = 0;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="keywordtype">int</span> border = 0;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  SplitSearchSpace(ranges,</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                   start_index,</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                   end_index,</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                   &amp;new_start_index,</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                   &amp;new_end_index,</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                   &amp;border);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  Label handle_rest;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  Label* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a31f58ba37e722444d2aa9f0bbb643860">above</a> = &amp;handle_rest;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="keywordflow">if</span> (border == last + 1) {</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="comment">// We didn&#39;t find any section that started after the limit, so everything</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="comment">// above the border is one of the terminal labels.</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    above = (end_index &amp; 1) != (start_index &amp; 1) ? odd_label : even_label;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(new_end_index == end_index - 1);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  }</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5f2db7b7625d842511de66ae6055e1f6">ASSERT_LE</a>(start_index, new_end_index);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5f2db7b7625d842511de66ae6055e1f6">ASSERT_LE</a>(new_start_index, end_index);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a41a2cfdd7e28f51f137840ff0633761a">ASSERT_LT</a>(start_index, new_start_index);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a41a2cfdd7e28f51f137840ff0633761a">ASSERT_LT</a>(new_end_index, end_index);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(new_end_index + 1 == new_start_index ||</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;         (new_end_index + 2 == new_start_index &amp;&amp;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;          border == ranges-&gt;at(new_end_index + 1)));</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a41a2cfdd7e28f51f137840ff0633761a">ASSERT_LT</a>(min_char, border - 1);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a41a2cfdd7e28f51f137840ff0633761a">ASSERT_LT</a>(border, max_char);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a41a2cfdd7e28f51f137840ff0633761a">ASSERT_LT</a>(ranges-&gt;at(new_end_index), border);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(border &lt; ranges-&gt;at(new_start_index) ||</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;         (border == ranges-&gt;at(new_start_index) &amp;&amp;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;          new_start_index == end_index &amp;&amp;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;          new_end_index == end_index - 1 &amp;&amp;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;          border == last + 1));</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(new_start_index == 0 || border &gt;= ranges-&gt;at(new_start_index - 1));</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  masm-&gt;CheckCharacterGT(border - 1, above);</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  Label dummy;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  GenerateBranches(masm,</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                   ranges,</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                   start_index,</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                   new_end_index,</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                   min_char,</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                   border - 1,</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                   &amp;dummy,</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                   even_label,</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                   odd_label);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <span class="keywordflow">if</span> (handle_rest.is_linked()) {</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    masm-&gt;Bind(&amp;handle_rest);</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordtype">bool</span> flip = (new_start_index &amp; 1) != (start_index &amp; 1);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    GenerateBranches(masm,</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                     ranges,</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                     new_start_index,</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                     end_index,</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;                     border,</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                     max_char,</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                     &amp;dummy,</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                     flip ? odd_label : even_label,</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                     flip ? even_label : odd_label);</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  }</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;}</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> EmitCharClass(RegExpMacroAssembler* macro_assembler,</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                          RegExpCharacterClass* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a0fb80d1e7fafc4b00df717805a1c83ea">cc</a>,</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                          <span class="keywordtype">bool</span> ascii,</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                          Label* on_failure,</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                          <span class="keywordtype">int</span> cp_offset,</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                          <span class="keywordtype">bool</span> check_offset,</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                          <span class="keywordtype">bool</span> preloaded,</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                          Zone* zone) {</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  ZoneList&lt;CharacterRange&gt;* ranges = cc-&gt;ranges(zone);</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a820243fe7fe3bd02491a8ce1e6151650">CharacterRange::IsCanonical</a>(ranges)) {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#aa4e480782bb23104de24be97b415f5de">CharacterRange::Canonicalize</a>(ranges);</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="keywordtype">int</span> max_char;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="keywordflow">if</span> (ascii) {</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    max_char = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    max_char = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  }</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="keywordtype">int</span> range_count = ranges-&gt;length();</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <span class="keywordtype">int</span> last_valid_range = range_count - 1;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keywordflow">while</span> (last_valid_range &gt;= 0) {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    CharacterRange&amp; range = ranges-&gt;at(last_valid_range);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <span class="keywordflow">if</span> (range.from() &lt;= max_char) {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    last_valid_range--;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  }</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="keywordflow">if</span> (last_valid_range &lt; 0) {</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">if</span> (!cc-&gt;is_negated()) {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      macro_assembler-&gt;GoTo(on_failure);</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    }</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">if</span> (check_offset) {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      macro_assembler-&gt;CheckPosition(cp_offset, on_failure);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  }</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="keywordflow">if</span> (last_valid_range == 0 &amp;&amp;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      ranges-&gt;at(0).IsEverything(max_char)) {</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">if</span> (cc-&gt;is_negated()) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      macro_assembler-&gt;GoTo(on_failure);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      <span class="comment">// This is a common case hit by non-anchored expressions.</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;      <span class="keywordflow">if</span> (check_offset) {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        macro_assembler-&gt;CheckPosition(cp_offset, on_failure);</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      }</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    }</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  }</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <span class="keywordflow">if</span> (last_valid_range == 0 &amp;&amp;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      !cc-&gt;is_negated() &amp;&amp;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      ranges-&gt;at(0).IsEverything(max_char)) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="comment">// This is a common case hit by non-anchored expressions.</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordflow">if</span> (check_offset) {</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      macro_assembler-&gt;CheckPosition(cp_offset, on_failure);</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    }</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  }</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <span class="keywordflow">if</span> (!preloaded) {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    macro_assembler-&gt;LoadCurrentCharacter(cp_offset, on_failure, check_offset);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  }</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="keywordflow">if</span> (cc-&gt;is_standard(zone) &amp;&amp;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        macro_assembler-&gt;CheckSpecialCharacterClass(cc-&gt;standard_type(),</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                                                    on_failure)) {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="comment">// A new list with ascending entries.  Each entry is a code unit</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="comment">// where there is a boundary between code units that are part of</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="comment">// the class and code units that are not.  Normally we insert an</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="comment">// entry at zero which goes to the failure label, but if there</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="comment">// was already one there we fall through for success on that entry.</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="comment">// Subsequent entries have alternating meaning (success/failure).</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  ZoneList&lt;int&gt;* range_boundaries =</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      <span class="keyword">new</span>(zone) ZoneList&lt;int&gt;(last_valid_range, zone);</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <span class="keywordtype">bool</span> zeroth_entry_is_failure = !cc-&gt;is_negated();</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= last_valid_range; i++) {</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    CharacterRange&amp; range = ranges-&gt;at(i);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="keywordflow">if</span> (range.from() == 0) {</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(i, 0);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      zeroth_entry_is_failure = !zeroth_entry_is_failure;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      range_boundaries-&gt;Add(range.from(), zone);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    }</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    range_boundaries-&gt;Add(range.to() + 1, zone);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  }</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keywordtype">int</span> end_index = range_boundaries-&gt;length() - 1;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <span class="keywordflow">if</span> (range_boundaries-&gt;at(end_index) &gt; max_char) {</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    end_index--;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  Label fall_through;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  GenerateBranches(macro_assembler,</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;                   range_boundaries,</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                   0,  <span class="comment">// start_index.</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                   end_index,</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                   0,  <span class="comment">// min_char.</span></div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                   max_char,</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                   &amp;fall_through,</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                   zeroth_entry_is_failure ? &amp;fall_through : on_failure,</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                   zeroth_entry_is_failure ? on_failure : &amp;fall_through);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  macro_assembler-&gt;Bind(&amp;fall_through);</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;}</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;</div>
<div class="line"><a name="l02257"></a><span class="lineno"><a class="line" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a71acb8a74bcb8d2fc80092766256c2b9"> 2257</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a71acb8a74bcb8d2fc80092766256c2b9">RegExpNode::~RegExpNode</a>() {</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;}</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;</div>
<div class="line"><a name="l02261"></a><span class="lineno"><a class="line" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a572c2762346f34ffbecc288554574dc8"> 2261</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698b">RegExpNode::LimitResult</a> <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a572c2762346f34ffbecc288554574dc8">RegExpNode::LimitVersions</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;                                                  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="comment">// If we are generating a greedy loop then don&#39;t stop and don&#39;t reuse code.</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a17aad9f3e6fb63578ab794d064d13ce6">stop_node</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keywordflow">return</span> CONTINUE;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* macro_assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>()) {</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">if</span> (label_.is_bound()) {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      <span class="comment">// We are being asked to generate a generic version, but that&#39;s already</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      <span class="comment">// been done so just go to it.</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(&amp;label_);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d54/test-threads_8cc.html#a236b9af6f8c1a2f8f031d4c6a79a1147a9c954bcf443428c80b0f107b3bc48749">DONE</a>;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a2867ca3663c4fbc6e14473ea25125f8b">recursion_depth</a>() &gt;= <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a877444282fd32f2ad9d579bf9053009c">RegExpCompiler::kMaxRecursion</a>) {</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;      <span class="comment">// To avoid too deep recursion we push the node to the work queue and just</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;      <span class="comment">// generate a goto here.</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a6145f45f6dc7404ad6c8b77ada378042">AddWork</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(&amp;label_);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d54/test-threads_8cc.html#a236b9af6f8c1a2f8f031d4c6a79a1147a9c954bcf443428c80b0f107b3bc48749">DONE</a>;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    }</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <span class="comment">// Generate generic version of the node and bind the label for later use.</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;label_);</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">return</span> CONTINUE;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  }</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <span class="comment">// We are being asked to make a non-generic version.  Keep track of how many</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  <span class="comment">// non-generic versions we generate so as not to overdo it.</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  trace_count_++;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <span class="keywordflow">if</span> (FLAG_regexp_optimization &amp;&amp;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      trace_count_ &lt; kMaxCopiesCodeGenerated &amp;&amp;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;      compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a2867ca3663c4fbc6e14473ea25125f8b">recursion_depth</a>() &lt;= <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a877444282fd32f2ad9d579bf9053009c">RegExpCompiler::kMaxRecursion</a>) {</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">return</span> CONTINUE;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="comment">// If we get here code has been generated for this node too many times or</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="comment">// recursion is too deep.  Time to switch to a generic version.  The code for</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="comment">// generic versions above can handle deep recursion properly.</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Flush</a>(compiler, <span class="keyword">this</span>);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../de/d54/test-threads_8cc.html#a236b9af6f8c1a2f8f031d4c6a79a1147a9c954bcf443428c80b0f107b3bc48749">DONE</a>;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;}</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;</div>
<div class="line"><a name="l02305"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a80133ae4529af28fbf5f4c988e015792"> 2305</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a80133ae4529af28fbf5f4c988e015792">ActionNode::EatsAtLeast</a>(<span class="keywordtype">int</span> still_to_find,</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                            <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;                            <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <span class="keywordflow">if</span> (budget &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">if</span> (action_type_ == POSITIVE_SUBMATCH_SUCCESS) <span class="keywordflow">return</span> 0;  <span class="comment">// Rewinds input!</span></div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="keywordflow">return</span> on_success()-&gt;EatsAtLeast(still_to_find,</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;                                   budget - 1,</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;                                   not_at_start);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;}</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;</div>
<div class="line"><a name="l02316"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3"> 2316</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">ActionNode::FillInBMInfo</a>(<span class="keywordtype">int</span> offset,</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;                              <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;                              <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>* bm,</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;                              <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">if</span> (action_type_ == BEGIN_SUBMATCH) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#ac11f91aaf59d0399151d52296da21020">SetRest</a>(offset);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action_type_ != POSITIVE_SUBMATCH_SUCCESS) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    on_success()-&gt;FillInBMInfo(offset, budget - 1, bm, not_at_start);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  }</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  SaveBMInfo(bm, not_at_start, offset);</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;}</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;</div>
<div class="line"><a name="l02329"></a><span class="lineno"><a class="line" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a80133ae4529af28fbf5f4c988e015792"> 2329</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a80133ae4529af28fbf5f4c988e015792">AssertionNode::EatsAtLeast</a>(<span class="keywordtype">int</span> still_to_find,</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;                               <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;                               <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="keywordflow">if</span> (budget &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="comment">// If we know we are not at the start and we are asked &quot;how many characters</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="comment">// will you match if you succeed?&quot; then we can answer anything since false</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="comment">// implies false.  So lets just return the max answer (still_to_find) since</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="comment">// that won&#39;t prevent us from preloading a lot of characters for the other</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="comment">// branches in the node graph.</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">if</span> (assertion_type() == AT_START &amp;&amp; not_at_start) <span class="keywordflow">return</span> still_to_find;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  <span class="keywordflow">return</span> on_success()-&gt;EatsAtLeast(still_to_find,</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                                   budget - 1,</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;                                   not_at_start);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;}</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;</div>
<div class="line"><a name="l02345"></a><span class="lineno"><a class="line" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3"> 2345</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">AssertionNode::FillInBMInfo</a>(<span class="keywordtype">int</span> offset,</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                                 <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                                 <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>* bm,</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                                 <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  <span class="comment">// Match the behaviour of EatsAtLeast on this node.</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <span class="keywordflow">if</span> (assertion_type() == AT_START &amp;&amp; not_at_start) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  on_success()-&gt;FillInBMInfo(offset, budget - 1, bm, not_at_start);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  SaveBMInfo(bm, not_at_start, offset);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;}</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;</div>
<div class="line"><a name="l02356"></a><span class="lineno"><a class="line" href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#a908887723ebc91a520a3fd481db26fdd"> 2356</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#a908887723ebc91a520a3fd481db26fdd">BackReferenceNode::EatsAtLeast</a>(<span class="keywordtype">int</span> still_to_find,</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                                   <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                                   <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordflow">if</span> (budget &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="keywordflow">return</span> on_success()-&gt;EatsAtLeast(still_to_find,</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                                   budget - 1,</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                                   not_at_start);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;}</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;</div>
<div class="line"><a name="l02366"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a80133ae4529af28fbf5f4c988e015792"> 2366</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a80133ae4529af28fbf5f4c988e015792">TextNode::EatsAtLeast</a>(<span class="keywordtype">int</span> still_to_find,</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                          <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                          <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="keywordtype">int</span> answer = Length();</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <span class="keywordflow">if</span> (answer &gt;= still_to_find) <span class="keywordflow">return</span> answer;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <span class="keywordflow">if</span> (budget &lt;= 0) <span class="keywordflow">return</span> answer;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="comment">// We are not at start after this node so we set the last argument to &#39;true&#39;.</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keywordflow">return</span> answer + on_success()-&gt;EatsAtLeast(still_to_find - answer,</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;                                            budget - 1,</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                                            <span class="keyword">true</span>);</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;}</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;</div>
<div class="line"><a name="l02379"></a><span class="lineno"><a class="line" href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#a80133ae4529af28fbf5f4c988e015792"> 2379</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#a80133ae4529af28fbf5f4c988e015792">NegativeLookaheadChoiceNode::EatsAtLeast</a>(<span class="keywordtype">int</span> still_to_find,</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;                                             <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;                                             <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="keywordflow">if</span> (budget &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="comment">// Alternative 0 is the negative lookahead, alternative 1 is what comes</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="comment">// afterwards.</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node = alternatives_-&gt;at(1).node();</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="keywordflow">return</span> node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a37536ea36e616e38bc66d6c62707f830">EatsAtLeast</a>(still_to_find, budget - 1, not_at_start);</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;}</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;</div>
<div class="line"><a name="l02390"></a><span class="lineno"><a class="line" href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2"> 2390</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2">NegativeLookaheadChoiceNode::GetQuickCheckDetails</a>(</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a>* details,</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordtype">int</span> filled_in,</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="comment">// Alternative 0 is the negative lookahead, alternative 1 is what comes</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="comment">// afterwards.</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node = alternatives_-&gt;at(1).node();</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="keywordflow">return</span> node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1782826f9624cc6200f79711ccec2a1c">GetQuickCheckDetails</a>(details, compiler, filled_in, not_at_start);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;}</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div>
<div class="line"><a name="l02402"></a><span class="lineno"><a class="line" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a93f69932a860f5552187cee95aa40f6f"> 2402</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a93f69932a860f5552187cee95aa40f6f">ChoiceNode::EatsAtLeastHelper</a>(<span class="keywordtype">int</span> still_to_find,</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                                  <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;                                  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* ignore_this_node,</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;                                  <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <span class="keywordflow">if</span> (budget &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  <span class="keywordtype">int</span> min = 100;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <span class="keywordtype">int</span> choice_count = alternatives_-&gt;length();</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  budget = (budget - 1) / choice_count;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; choice_count; i++) {</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node = alternatives_-&gt;at(i).node();</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">if</span> (node == ignore_this_node) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="keywordtype">int</span> node_eats_at_least =</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;        node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a37536ea36e616e38bc66d6c62707f830">EatsAtLeast</a>(still_to_find, budget, not_at_start);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="keywordflow">if</span> (node_eats_at_least &lt; min) min = node_eats_at_least;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="keywordflow">if</span> (min == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  }</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  <span class="keywordflow">return</span> min;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;}</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;</div>
<div class="line"><a name="l02422"></a><span class="lineno"><a class="line" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a80133ae4529af28fbf5f4c988e015792"> 2422</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a80133ae4529af28fbf5f4c988e015792">LoopChoiceNode::EatsAtLeast</a>(<span class="keywordtype">int</span> still_to_find,</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                                <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;                                <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="keywordflow">return</span> EatsAtLeastHelper(still_to_find,</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;                           budget - 1,</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                           loop_node_,</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                           not_at_start);</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;}</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;</div>
<div class="line"><a name="l02432"></a><span class="lineno"><a class="line" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a80133ae4529af28fbf5f4c988e015792"> 2432</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a80133ae4529af28fbf5f4c988e015792">ChoiceNode::EatsAtLeast</a>(<span class="keywordtype">int</span> still_to_find,</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;                            <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                            <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <span class="keywordflow">return</span> EatsAtLeastHelper(still_to_find,</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                           budget,</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                           <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>,</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                           not_at_start);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;}</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;<span class="comment">// Takes the left-most 1-bit and smears it out, setting all bits to its right.</span></div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> uint32_t SmearBitsRight(uint32_t v) {</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  v |= v &gt;&gt; 1;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  v |= v &gt;&gt; 2;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  v |= v &gt;&gt; 4;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  v |= v &gt;&gt; 8;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  v |= v &gt;&gt; 16;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;}</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;</div>
<div class="line"><a name="l02453"></a><span class="lineno"><a class="line" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a110a962396636331216d44ef9be28bf0"> 2453</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a110a962396636331216d44ef9be28bf0">QuickCheckDetails::Rationalize</a>(<span class="keywordtype">bool</span> asc) {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <span class="keywordtype">bool</span> found_useful_op = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  uint32_t char_mask;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;  <span class="keywordflow">if</span> (asc) {</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    char_mask = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    char_mask = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>;</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  }</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  mask_ = 0;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  value_ = 0;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="keywordtype">int</span> char_shift = 0;</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; characters_; i++) {</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html">Position</a>* pos = &amp;positions_[i];</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    <span class="keywordflow">if</span> ((pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> &amp; <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>) != 0) {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;      found_useful_op = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    }</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    mask_ |= (pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> &amp; char_mask) &lt;&lt; char_shift;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    value_ |= (pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> &amp; char_mask) &lt;&lt; char_shift;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    char_shift += asc ? 8 : 16;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  }</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="keywordflow">return</span> found_useful_op;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;}</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;</div>
<div class="line"><a name="l02477"></a><span class="lineno"><a class="line" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a57e6c43abaa66dd869ea45b4f97184d7"> 2477</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a57e6c43abaa66dd869ea45b4f97184d7">RegExpNode::EmitQuickCheck</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;                                <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace,</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;                                <span class="keywordtype">bool</span> preload_has_checked_bounds,</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;                                Label* on_possible_success,</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                                <a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a>* details,</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;                                <span class="keywordtype">bool</span> fall_through_on_failure) {</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="keywordflow">if</span> (details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>() == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  GetQuickCheckDetails(</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      details, compiler, 0, trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ad25392e0b5e996bb4a15285ab11d22c6">at_start</a>() == <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>);</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  <span class="keywordflow">if</span> (details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa64456812be53c41ea02111b5cbdcb8c">cannot_match</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <span class="keywordflow">if</span> (!details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a110a962396636331216d44ef9be28bf0">Rationalize</a>(compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>() == 1 ||</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;         compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>()-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0be88ccd3d0087e417d2e8a4f5655f9d">CanReadUnaligned</a>());</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  uint32_t mask = details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a05bf52f442507ade3860ee8589ed921d">mask</a>();</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  uint32_t value = details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a2d8378a2d08b2f9d2a0c60c12badbcbf">value</a>();</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a563872b94167abe32e27c06082a15e12">characters_preloaded</a>() != details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>()) {</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a170549aeb974cf446b8b4c0e66063395">LoadCurrentCharacter</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>(),</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;                                    trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>(),</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                                    !preload_has_checked_bounds,</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                                    details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>());</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  }</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordtype">bool</span> need_mask = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <span class="keywordflow">if</span> (details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>() == 1) {</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="comment">// If number of characters preloaded is 1 then we used a byte or 16 bit</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="comment">// load so the value is already masked down.</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    uint32_t char_mask;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>()) {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      char_mask = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      char_mask = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>;</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    }</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <span class="keywordflow">if</span> ((mask &amp; char_mask) == char_mask) need_mask = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    mask &amp;= char_mask;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <span class="comment">// For 2-character preloads in ASCII mode or 1-character preloads in</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <span class="comment">// TWO_BYTE mode we also use a 16 bit load with zero extend.</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">if</span> (details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>() == 2 &amp;&amp; compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>()) {</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      <span class="keywordflow">if</span> ((mask &amp; 0xffff) == 0xffff) need_mask = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>() == 1 &amp;&amp; !compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>()) {</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      <span class="keywordflow">if</span> ((mask &amp; 0xffff) == 0xffff) need_mask = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      <span class="keywordflow">if</span> (mask == 0xffffffff) need_mask = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    }</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  }</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="keywordflow">if</span> (fall_through_on_failure) {</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordflow">if</span> (need_mask) {</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a61edaa41363cb4d08116a3356cdd11df">CheckCharacterAfterAnd</a>(value, mask, on_possible_success);</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8d25d2697abbda95aeeb323eb9fad9a0">CheckCharacter</a>(value, on_possible_success);</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    }</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="keywordflow">if</span> (need_mask) {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#af6ab5629a42a77c458649bcaedcc81dc">CheckNotCharacterAfterAnd</a>(value, mask, trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa8a1ac4aeead2956bfee27f586976f07">CheckNotCharacter</a>(value, trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    }</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  }</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;}</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;<span class="comment">// Here is the meat of GetQuickCheckDetails (see also the comment on the</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;<span class="comment">// super-class in the .h file).</span></div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;<span class="comment">// We iterate along the text object, building up for each character a</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;<span class="comment">// mask and value that can be used to test for a quick failure to match.</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<span class="comment">// The masks and values for the positions will be combined into a single</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;<span class="comment">// machine word for the current character width in order to be used in</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;<span class="comment">// generating a quick check.</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#ac6ac79da9c9408adf2bac39747d9daa2"> 2553</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#ac6ac79da9c9408adf2bac39747d9daa2">TextNode::GetQuickCheckDetails</a>(<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a>* details,</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;                                    <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;                                    <span class="keywordtype">int</span> characters_filled_in,</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                                    <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>()-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()-&gt;<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>();</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(characters_filled_in &lt; details-&gt;characters());</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="keywordtype">int</span> characters = details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>();</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="keywordtype">int</span> char_mask;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>()) {</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    char_mask = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    char_mask = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  }</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; elms_-&gt;length(); k++) {</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    TextElement elm = elms_-&gt;at(k);</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">if</span> (elm.text_type() == TextElement::ATOM) {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      <a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;const uc16&gt;</a> quarks = elm.atom()-&gt;data();</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; characters &amp;&amp; i &lt; quarks.<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html#a57b988236ee6a3a5e572d126d3fbccc1">length</a>(); i++) {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        <a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html">QuickCheckDetails::Position</a>* pos =</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;            details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a53c091ceeb86f2f93c0aa1fce04b7a65">positions</a>(characters_filled_in);</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> c = quarks[i];</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        <span class="keywordflow">if</span> (c &gt; char_mask) {</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;          <span class="comment">// If we expect a non-ASCII character from an ASCII string,</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;          <span class="comment">// there is no way we can match. Not even case independent</span></div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;          <span class="comment">// matching can turn an ASCII character into non-ASCII or</span></div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;          <span class="comment">// vice versa.</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;          details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa94b2dc15a54c8b50cecaa5170ae13b0">set_cannot_match</a>();</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;          pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        }</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;        <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a34e4782c368d557b6c861ae6de97d128">ignore_case</a>()) {</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;          <a class="code" href="../../d7/df6/namespaceunibrow.html#ae8d77ac121e443c19b70413c2a9b714c">unibrow::uchar</a> chars[<a class="code" href="../../d0/d9c/structunibrow_1_1_ecma262_un_canonicalize.html#ac2ebdc5a7a124f3a46428e5e402add12">unibrow::Ecma262UnCanonicalize::kMaxWidth</a>];</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;          <span class="keywordtype">int</span> length = GetCaseIndependentLetters(isolate, c, compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>(),</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;                                                 chars);</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;          <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(length != 0);  <span class="comment">// Can only happen if c &gt; char_mask (see above).</span></div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;          <span class="keywordflow">if</span> (length == 1) {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;            <span class="comment">// This letter has no case equivalents, so it&#39;s nice and simple</span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;            <span class="comment">// and the mask-compare will determine definitely whether we have</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;            <span class="comment">// a match at this character position.</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;            pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> = char_mask;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;            pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> = c;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;            pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            uint32_t common_bits = char_mask;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;            uint32_t bits = chars[0];</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; length; j++) {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;              uint32_t differing_bits = ((chars[j] &amp; common_bits) ^ bits);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;              common_bits ^= differing_bits;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;              bits &amp;= common_bits;</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;            }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;            <span class="comment">// If length is 2 and common bits has only one zero in it then</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;            <span class="comment">// our mask and compare instruction will determine definitely</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;            <span class="comment">// whether we have a match at this character position.  Otherwise</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;            <span class="comment">// it can only be an approximate check.</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;            uint32_t one_zero = (common_bits | ~char_mask);</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;            <span class="keywordflow">if</span> (length == 2 &amp;&amp; ((~one_zero) &amp; ((~one_zero) - 1)) == 0) {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;              pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;            }</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;            pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> = common_bits;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;            pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> = bits;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;          }</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;          <span class="comment">// Don&#39;t ignore case.  Nice simple case where the mask-compare will</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;          <span class="comment">// determine definitely whether we have a match at this character</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;          <span class="comment">// position.</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;          pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> = char_mask;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;          pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> = c;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;          pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        }</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        characters_filled_in++;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(characters_filled_in &lt;= details-&gt;characters());</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;        <span class="keywordflow">if</span> (characters_filled_in == details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>()) {</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;        }</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      }</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;      <a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html">QuickCheckDetails::Position</a>* pos =</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;          details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a53c091ceeb86f2f93c0aa1fce04b7a65">positions</a>(characters_filled_in);</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      RegExpCharacterClass* tree = elm.char_class();</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges = tree-&gt;ranges(zone());</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;      <span class="keywordflow">if</span> (tree-&gt;is_negated()) {</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <span class="comment">// A quick check uses multi-character mask and compare.  There is no</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;        <span class="comment">// useful way to incorporate a negative char class into this scheme</span></div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        <span class="comment">// so we just conservatively create a mask and value that will always</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        <span class="comment">// succeed.</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> = 0;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> = 0;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;        <span class="keywordtype">int</span> first_range = 0;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        <span class="keywordflow">while</span> (ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(first_range).from() &gt; char_mask) {</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;          first_range++;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;          <span class="keywordflow">if</span> (first_range == ranges-&gt;length()) {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;            details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa94b2dc15a54c8b50cecaa5170ae13b0">set_cannot_match</a>();</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;            pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;          }</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;        }</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;        <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> range = ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(first_range);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> from = range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>();</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> to = range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>();</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <span class="keywordflow">if</span> (to &gt; char_mask) {</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;          to = char_mask;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;        }</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;        uint32_t differing_bits = (from ^ to);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;        <span class="comment">// A mask and compare is only perfect if the differing bits form a</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        <span class="comment">// number like 00011111 with one single block of trailing 1s.</span></div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        <span class="keywordflow">if</span> ((differing_bits &amp; (differing_bits + 1)) == 0 &amp;&amp;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;             from + differing_bits == to) {</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;          pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        }</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        uint32_t common_bits = ~SmearBitsRight(differing_bits);</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        uint32_t bits = (from &amp; common_bits);</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = first_range + 1; i &lt; ranges-&gt;length(); i++) {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;          <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> range = ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> from = range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>();</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> to = range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>();</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;          <span class="keywordflow">if</span> (from &gt; char_mask) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;          <span class="keywordflow">if</span> (to &gt; char_mask) to = char_mask;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;          <span class="comment">// Here we are combining more ranges into the mask and compare</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;          <span class="comment">// value.  With each new range the mask becomes more sparse and</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;          <span class="comment">// so the chances of a false positive rise.  A character class</span></div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;          <span class="comment">// with multiple ranges is assumed never to be equivalent to a</span></div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;          <span class="comment">// mask and compare operation.</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;          pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;          uint32_t new_common_bits = (from ^ to);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;          new_common_bits = ~SmearBitsRight(new_common_bits);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;          common_bits &amp;= new_common_bits;</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;          bits &amp;= new_common_bits;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;          uint32_t differing_bits = (from &amp; common_bits) ^ bits;</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;          common_bits ^= differing_bits;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;          bits &amp;= common_bits;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;        }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;        pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> = common_bits;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;        pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> = bits;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;      }</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;      characters_filled_in++;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(characters_filled_in &lt;= details-&gt;characters());</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      <span class="keywordflow">if</span> (characters_filled_in == details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>()) {</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;      }</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    }</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  }</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(characters_filled_in != details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>());</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="keywordflow">if</span> (!details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa64456812be53c41ea02111b5cbdcb8c">cannot_match</a>()) {</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    on_success()-&gt; GetQuickCheckDetails(details,</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                                        compiler,</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                                        characters_filled_in,</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                                        <span class="keyword">true</span>);</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  }</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;}</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;</div>
<div class="line"><a name="l02705"></a><span class="lineno"><a class="line" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa71d36872f416feaa853788a7a7a7ef8"> 2705</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa71d36872f416feaa853788a7a7a7ef8">QuickCheckDetails::Clear</a>() {</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; characters_; i++) {</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    positions_[i].mask = 0;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    positions_[i].value = 0;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    positions_[i].determines_perfectly = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  characters_ = 0;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;}</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;</div>
<div class="line"><a name="l02715"></a><span class="lineno"><a class="line" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a2a39a1e9edccbf6b06d93ac2e40ea359"> 2715</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a2a39a1e9edccbf6b06d93ac2e40ea359">QuickCheckDetails::Advance</a>(<span class="keywordtype">int</span> by, <span class="keywordtype">bool</span> ascii) {</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(by &gt;= 0);</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <span class="keywordflow">if</span> (by &gt;= characters_) {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    Clear();</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;  }</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; characters_ - by; i++) {</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    positions_[i] = positions_[by + i];</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;  }</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = characters_ - by; i &lt; characters_; i++) {</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    positions_[i].mask = 0;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    positions_[i].value = 0;</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    positions_[i].determines_perfectly = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  }</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  characters_ -= by;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <span class="comment">// We could change mask_ and value_ here but we would never advance unless</span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;  <span class="comment">// they had already been used in a check and they won&#39;t be used again because</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <span class="comment">// it would gain us nothing.  So there&#39;s no point.</span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;}</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;</div>
<div class="line"><a name="l02736"></a><span class="lineno"><a class="line" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a7901846ddef1e77cf592f2bacb3683a5"> 2736</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a7901846ddef1e77cf592f2bacb3683a5">QuickCheckDetails::Merge</a>(<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a>* other, <span class="keywordtype">int</span> from_index) {</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(characters_ == other-&gt;characters_);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  <span class="keywordflow">if</span> (other-&gt;cannot_match_) {</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  }</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="keywordflow">if</span> (cannot_match_) {</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    *<span class="keyword">this</span> = *other;</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  }</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = from_index; i &lt; characters_; i++) {</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html">QuickCheckDetails::Position</a>* pos = positions(i);</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html">QuickCheckDetails::Position</a>* other_pos = other-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a53c091ceeb86f2f93c0aa1fce04b7a65">positions</a>(i);</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">if</span> (pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> != other_pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> ||</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> != other_pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> ||</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;        !other_pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a>) {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      <span class="comment">// Our mask-compare operation will be approximate unless we have the</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;      <span class="comment">// exact same operation on both sides of the alternation.</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;      pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    }</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> &amp;= other_pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a>;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> &amp;= pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a>;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    other_pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> &amp;= pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a>;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> differing_bits = (pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> ^ other_pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a>);</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a> &amp;= ~differing_bits;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">value</a> &amp;= pos-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">mask</a>;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  }</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;}</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;</div>
<div class="line"><a name="l02765"></a><span class="lineno"><a class="line" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html"> 2765</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html">VisitMarker</a> {</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l02767"></a><span class="lineno"><a class="line" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html#a16c5f5a67dad2a30540151c7fce9ba81"> 2767</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html#a16c5f5a67dad2a30540151c7fce9ba81">VisitMarker</a>(<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html">NodeInfo</a>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>) : info_(info) {</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!info-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a1df99df902f5f6e81ec3e21e9c07360e">visited</a>);</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    info-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a1df99df902f5f6e81ec3e21e9c07360e">visited</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  }</div>
<div class="line"><a name="l02771"></a><span class="lineno"><a class="line" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html#a39f2a482b4e3924d7d44c02702d87099"> 2771</a></span>&#160;  <a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html#a39f2a482b4e3924d7d44c02702d87099">~VisitMarker</a>() {</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    info_-&gt;visited = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  }</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html">NodeInfo</a>* info_;</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;};</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;</div>
<div class="line"><a name="l02779"></a><span class="lineno"><a class="line" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#abea7073b6546e43e81e47b36a0cb9c7e"> 2779</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#abea7073b6546e43e81e47b36a0cb9c7e">SeqRegExpNode::FilterASCII</a>(<span class="keywordtype">int</span> depth, <span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;replacement_calculated) <span class="keywordflow">return</span> replacement();</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="keywordflow">if</span> (depth &lt; 0) <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;visited);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  <a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html">VisitMarker</a> marker(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>());</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  <span class="keywordflow">return</span> FilterSuccessor(depth - 1, ignore_case);</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;}</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;</div>
<div class="line"><a name="l02788"></a><span class="lineno"><a class="line" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#a9a7155567e97603cc4f469abff034c10"> 2788</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#a9a7155567e97603cc4f469abff034c10">SeqRegExpNode::FilterSuccessor</a>(<span class="keywordtype">int</span> depth, <span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* next = on_success_-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">FilterASCII</a>(depth - 1, ignore_case);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <span class="keywordflow">if</span> (next == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> set_replacement(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  on_success_ = next;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  <span class="keywordflow">return</span> set_replacement(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;}</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;<span class="comment">// We need to check for the following characters: 0x39c 0x3bc 0x178.</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> RangeContainsLatin1Equivalents(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> range) {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  <span class="comment">// TODO(dcarney): this could be a lot more efficient.</span></div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  <span class="keywordflow">return</span> range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#afc1cf8440b6942b6264cb5d93799f40f">Contains</a>(0x39c) ||</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#afc1cf8440b6942b6264cb5d93799f40f">Contains</a>(0x3bc) || range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#afc1cf8440b6942b6264cb5d93799f40f">Contains</a>(0x178);</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;}</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> RangesContainLatin1Equivalents(ZoneList&lt;CharacterRange&gt;* ranges) {</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ranges-&gt;length(); i++) {</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <span class="comment">// TODO(dcarney): this could be a lot more efficient.</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <span class="keywordflow">if</span> (RangeContainsLatin1Equivalents(ranges-&gt;at(i))) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  }</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;}</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;</div>
<div class="line"><a name="l02813"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#abea7073b6546e43e81e47b36a0cb9c7e"> 2813</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#abea7073b6546e43e81e47b36a0cb9c7e">TextNode::FilterASCII</a>(<span class="keywordtype">int</span> depth, <span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;replacement_calculated) <span class="keywordflow">return</span> replacement();</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <span class="keywordflow">if</span> (depth &lt; 0) <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;visited);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html">VisitMarker</a> marker(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>());</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <span class="keywordtype">int</span> element_count = elms_-&gt;length();</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; element_count; i++) {</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    TextElement elm = elms_-&gt;at(i);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <span class="keywordflow">if</span> (elm.text_type() == TextElement::ATOM) {</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;      <a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;const uc16&gt;</a> quarks = elm.atom()-&gt;data();</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; quarks.<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html#a57b988236ee6a3a5e572d126d3fbccc1">length</a>(); j++) {</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;        <a class="code" href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> c = quarks[j];</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;        <span class="keywordflow">if</span> (c &lt;= <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        <span class="keywordflow">if</span> (!ignore_case) <span class="keywordflow">return</span> set_replacement(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        <span class="comment">// Here, we need to check for characters whose upper and lower cases</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;        <span class="comment">// are outside the Latin-1 range.</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        <a class="code" href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> converted = <a class="code" href="../../d2/dd0/classunibrow_1_1_latin1.html#a6923c8db78d4a8bf7db5a4d5de2bf174">unibrow::Latin1::ConvertNonLatin1ToLatin1</a>(c);</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;        <span class="comment">// Character is outside Latin-1 completely</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        <span class="keywordflow">if</span> (converted == 0) <span class="keywordflow">return</span> set_replacement(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <span class="comment">// Convert quark to Latin-1 in place.</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        <a class="code" href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>* copy = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>*<span class="keyword">&gt;</span>(quarks.<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html#affb06cbe9d08291ab0fc1a467edec469">start</a>());</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;        copy[j] = converted;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elm.text_type() == TextElement::CHAR_CLASS);</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;      RegExpCharacterClass* cc = elm.char_class();</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;      <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges = cc-&gt;ranges(zone());</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a820243fe7fe3bd02491a8ce1e6151650">CharacterRange::IsCanonical</a>(ranges)) {</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;        <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#aa4e480782bb23104de24be97b415f5de">CharacterRange::Canonicalize</a>(ranges);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;      }</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;      <span class="comment">// Now they are in order so we only need to look at the first.</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;      <span class="keywordtype">int</span> range_count = ranges-&gt;length();</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;      <span class="keywordflow">if</span> (cc-&gt;is_negated()) {</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;        <span class="keywordflow">if</span> (range_count != 0 &amp;&amp;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;            ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0).from() == 0 &amp;&amp;</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;            ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0).to() &gt;= <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>) {</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;          <span class="comment">// This will be handled in a later filter.</span></div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;          <span class="keywordflow">if</span> (ignore_case &amp;&amp; RangesContainLatin1Equivalents(ranges)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;          <span class="keywordflow">return</span> set_replacement(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;        }</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;        <span class="keywordflow">if</span> (range_count == 0 ||</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;            ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0).from() &gt; <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>) {</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;          <span class="comment">// This will be handled in a later filter.</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;          <span class="keywordflow">if</span> (ignore_case &amp;&amp; RangesContainLatin1Equivalents(ranges)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;          <span class="keywordflow">return</span> set_replacement(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;        }</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      }</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    }</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  }</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  <span class="keywordflow">return</span> FilterSuccessor(depth - 1, ignore_case);</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;}</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;</div>
<div class="line"><a name="l02867"></a><span class="lineno"><a class="line" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e"> 2867</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* <a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e">LoopChoiceNode::FilterASCII</a>(<span class="keywordtype">int</span> depth, <span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;replacement_calculated) <span class="keywordflow">return</span> replacement();</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <span class="keywordflow">if</span> (depth &lt; 0) <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;visited) <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  {</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html">VisitMarker</a> marker(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>());</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* continue_replacement =</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;        continue_node_-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">FilterASCII</a>(depth - 1, ignore_case);</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    <span class="comment">// If we can&#39;t continue after the loop then there is no sense in doing the</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    <span class="comment">// loop.</span></div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="keywordflow">if</span> (continue_replacement == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> set_replacement(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;  }</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e">ChoiceNode::FilterASCII</a>(depth - 1, ignore_case);</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;}</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;</div>
<div class="line"><a name="l02885"></a><span class="lineno"><a class="line" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e"> 2885</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e">ChoiceNode::FilterASCII</a>(<span class="keywordtype">int</span> depth, <span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;replacement_calculated) <span class="keywordflow">return</span> replacement();</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <span class="keywordflow">if</span> (depth &lt; 0) <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;visited) <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html">VisitMarker</a> marker(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>());</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <span class="keywordtype">int</span> choice_count = alternatives_-&gt;length();</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; choice_count; i++) {</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alternative = alternatives_-&gt;at(i);</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <span class="keywordflow">if</span> (alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>()-&gt;length() != 0) {</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;      set_replacement(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    }</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  }</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="keywordtype">int</span> surviving = 0;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* survivor = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; choice_count; i++) {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alternative = alternatives_-&gt;at(i);</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* replacement =</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;        alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">FilterASCII</a>(depth - 1, ignore_case);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(replacement != <span class="keyword">this</span>);  <span class="comment">// No missing EMPTY_MATCH_CHECK.</span></div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <span class="keywordflow">if</span> (replacement != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;      alternatives_-&gt;at(i).set_node(replacement);</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      surviving++;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;      survivor = replacement;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    }</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  }</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <span class="keywordflow">if</span> (surviving &lt; 2) <span class="keywordflow">return</span> set_replacement(survivor);</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  set_replacement(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  <span class="keywordflow">if</span> (surviving == choice_count) {</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  }</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="comment">// Only some of the nodes survived the filtering.  We need to rebuild the</span></div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <span class="comment">// alternatives list.</span></div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;GuardedAlternative&gt;</a>* new_alternatives =</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;      <span class="keyword">new</span>(zone()) <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;GuardedAlternative&gt;</a>(surviving, zone());</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; choice_count; i++) {</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* replacement =</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;        alternatives_-&gt;at(i).node()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">FilterASCII</a>(depth - 1, ignore_case);</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keywordflow">if</span> (replacement != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;      alternatives_-&gt;at(i).set_node(replacement);</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;      new_alternatives-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(alternatives_-&gt;at(i), zone());</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    }</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  }</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  alternatives_ = new_alternatives;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;}</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;</div>
<div class="line"><a name="l02936"></a><span class="lineno"><a class="line" href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e"> 2936</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* <a class="code" href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e">NegativeLookaheadChoiceNode::FilterASCII</a>(<span class="keywordtype">int</span> depth,</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                                                     <span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;replacement_calculated) <span class="keywordflow">return</span> replacement();</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;  <span class="keywordflow">if</span> (depth &lt; 0) <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;visited) <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  <a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html">VisitMarker</a> marker(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>());</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  <span class="comment">// Alternative 0 is the negative lookahead, alternative 1 is what comes</span></div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  <span class="comment">// afterwards.</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node = alternatives_-&gt;at(1).node();</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* replacement = node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">FilterASCII</a>(depth - 1, ignore_case);</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <span class="keywordflow">if</span> (replacement == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> set_replacement(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  alternatives_-&gt;at(1).set_node(replacement);</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* neg_node = alternatives_-&gt;at(0).node();</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* neg_replacement = neg_node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">FilterASCII</a>(depth - 1, ignore_case);</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  <span class="comment">// If the negative lookahead is always going to fail then</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  <span class="comment">// we don&#39;t need to check it.</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keywordflow">if</span> (neg_replacement == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> set_replacement(replacement);</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  alternatives_-&gt;at(0).set_node(neg_replacement);</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  <span class="keywordflow">return</span> set_replacement(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;}</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;</div>
<div class="line"><a name="l02959"></a><span class="lineno"><a class="line" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2"> 2959</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2">LoopChoiceNode::GetQuickCheckDetails</a>(<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a>* details,</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                                          <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                                          <span class="keywordtype">int</span> characters_filled_in,</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;                                          <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <span class="keywordflow">if</span> (body_can_be_zero_length_ || <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>()-&gt;visited) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <a class="code" href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html">VisitMarker</a> marker(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>());</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2">ChoiceNode::GetQuickCheckDetails</a>(details,</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                                          compiler,</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;                                          characters_filled_in,</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                                          not_at_start);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;}</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;</div>
<div class="line"><a name="l02972"></a><span class="lineno"><a class="line" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3"> 2972</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">LoopChoiceNode::FillInBMInfo</a>(<span class="keywordtype">int</span> offset,</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                                  <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;                                  <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>* bm,</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                                  <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;  <span class="keywordflow">if</span> (body_can_be_zero_length_ || budget &lt;= 0) {</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#ac11f91aaf59d0399151d52296da21020">SetRest</a>(offset);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    SaveBMInfo(bm, not_at_start, offset);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  }</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">ChoiceNode::FillInBMInfo</a>(offset, budget - 1, bm, not_at_start);</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  SaveBMInfo(bm, not_at_start, offset);</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;}</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;</div>
<div class="line"><a name="l02986"></a><span class="lineno"><a class="line" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2"> 2986</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2">ChoiceNode::GetQuickCheckDetails</a>(<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a>* details,</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                                      <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                                      <span class="keywordtype">int</span> characters_filled_in,</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                                      <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  not_at_start = (not_at_start || not_at_start_);</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <span class="keywordtype">int</span> choice_count = alternatives_-&gt;length();</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(choice_count &gt; 0);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  alternatives_-&gt;at(0).node()-&gt;GetQuickCheckDetails(details,</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                                                    compiler,</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                                                    characters_filled_in,</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;                                                    not_at_start);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; choice_count; i++) {</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a> new_details(details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>());</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node = alternatives_-&gt;at(i).node();</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1782826f9624cc6200f79711ccec2a1c">GetQuickCheckDetails</a>(&amp;new_details, compiler,</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;                               characters_filled_in,</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                               not_at_start);</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <span class="comment">// Here we merge the quick match details of the two branches.</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a7901846ddef1e77cf592f2bacb3683a5">Merge</a>(&amp;new_details, characters_filled_in);</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  }</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;}</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;<span class="comment">// Check for [0-9A-Z_a-z].</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> EmitWordCheck(<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler,</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                          Label* word,</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;                          Label* non_word,</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;                          <span class="keywordtype">bool</span> fall_through_on_word) {</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  <span class="keywordflow">if</span> (assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aaac33a7a9deea6dead99b2767627bc0e">CheckSpecialCharacterClass</a>(</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;          fall_through_on_word ? <span class="charliteral">&#39;w&#39;</span> : <span class="charliteral">&#39;W&#39;</span>,</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;          fall_through_on_word ? non_word : word)) {</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    <span class="comment">// Optimized implementation available.</span></div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  }</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aead043984ade719ffd32883469674782">CheckCharacterGT</a>(<span class="charliteral">&#39;z&#39;</span>, non_word);</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8b657c19c792f758e1fa248a9c0e3129">CheckCharacterLT</a>(<span class="charliteral">&#39;0&#39;</span>, non_word);</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aead043984ade719ffd32883469674782">CheckCharacterGT</a>(<span class="charliteral">&#39;a&#39;</span> - 1, word);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8b657c19c792f758e1fa248a9c0e3129">CheckCharacterLT</a>(<span class="charliteral">&#39;9&#39;</span> + 1, word);</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8b657c19c792f758e1fa248a9c0e3129">CheckCharacterLT</a>(<span class="charliteral">&#39;A&#39;</span>, non_word);</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;  assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8b657c19c792f758e1fa248a9c0e3129">CheckCharacterLT</a>(<span class="charliteral">&#39;Z&#39;</span> + 1, word);</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  <span class="keywordflow">if</span> (fall_through_on_word) {</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa8a1ac4aeead2956bfee27f586976f07">CheckNotCharacter</a>(<span class="charliteral">&#39;_&#39;</span>, non_word);</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8d25d2697abbda95aeeb323eb9fad9a0">CheckCharacter</a>(<span class="charliteral">&#39;_&#39;</span>, word);</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;  }</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;}</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;<span class="comment">// Emit the code to check for a ^ in multiline mode (1-character lookbehind</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="comment">// that matches newline or the start of input).</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> EmitHat(RegExpCompiler* compiler,</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;                    RegExpNode* on_success,</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                    <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adb723362c45cc0c3de9801707bbc3d70">Trace</a>* trace) {</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  RegExpMacroAssembler* assembler = compiler-&gt;macro_assembler();</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;  <span class="comment">// We will be loading the previous character into the current character</span></div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <span class="comment">// register.</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adb723362c45cc0c3de9801707bbc3d70">Trace</a> new_trace(*trace);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  new_trace.InvalidateCurrentCharacter();</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;  Label ok;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  <span class="keywordflow">if</span> (new_trace.cp_offset() == 0) {</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    <span class="comment">// The start of input counts as a newline in this context, so skip to</span></div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <span class="comment">// ok if we are at the start.</span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    assembler-&gt;CheckAtStart(&amp;ok);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  }</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  <span class="comment">// We already checked that we are not at the start of input so it must be</span></div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="comment">// OK to load the previous character.</span></div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  assembler-&gt;LoadCurrentCharacter(new_trace.cp_offset() -1,</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;                                  new_trace.backtrack(),</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;                                  <span class="keyword">false</span>);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;  <span class="keywordflow">if</span> (!assembler-&gt;CheckSpecialCharacterClass(<span class="charliteral">&#39;n&#39;</span>,</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                                             new_trace.backtrack())) {</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="comment">// Newline means \n, \r, 0x2028 or 0x2029.</span></div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    <span class="keywordflow">if</span> (!compiler-&gt;ascii()) {</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;      assembler-&gt;CheckCharacterAfterAnd(0x2028, 0xfffe, &amp;ok);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    }</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    assembler-&gt;CheckCharacter(<span class="charliteral">&#39;\n&#39;</span>, &amp;ok);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    assembler-&gt;CheckNotCharacter(<span class="charliteral">&#39;\r&#39;</span>, new_trace.backtrack());</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  assembler-&gt;Bind(&amp;ok);</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  on_success-&gt;Emit(compiler, &amp;new_trace);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;}</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;<span class="comment">// Emit the code to handle \b and \B (word-boundary or non-word-boundary).</span></div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;<span class="keywordtype">void</span> AssertionNode::EmitBoundaryCheck(RegExpCompiler* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adb723362c45cc0c3de9801707bbc3d70">Trace</a>* trace) {</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  RegExpMacroAssembler* assembler = compiler-&gt;macro_assembler();</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8a">Trace::TriBool</a> next_is_word_character = <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa6ce26a62afab55d7606ad4e92428b30c">Trace::UNKNOWN</a>;</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  <span class="keywordtype">bool</span> not_at_start = (trace-&gt;at_start() == <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>);</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  BoyerMooreLookahead* lookahead = bm_info(not_at_start);</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  <span class="keywordflow">if</span> (lookahead == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    <span class="keywordtype">int</span> eats_at_least =</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9da011eef375046e863ae0607148a362">kMaxLookaheadForBoyerMoore</a>, EatsAtLeast(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9da011eef375046e863ae0607148a362">kMaxLookaheadForBoyerMoore</a>,</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;                                                    kRecursionBudget,</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;                                                    not_at_start));</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="keywordflow">if</span> (eats_at_least &gt;= 1) {</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;      BoyerMooreLookahead* bm =</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;          <span class="keyword">new</span>(zone()) BoyerMooreLookahead(eats_at_least, compiler, zone());</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;      FillInBMInfo(0, kRecursionBudget, bm, not_at_start);</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;      <span class="keywordflow">if</span> (bm-&gt;at(0)-&gt;is_non_word())</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;        next_is_word_character = <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>;</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;      <span class="keywordflow">if</span> (bm-&gt;at(0)-&gt;is_word()) next_is_word_character = <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa4cc630dfafc74666b7c5bdcca6633628">Trace::TRUE_VALUE</a>;</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    }</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keywordflow">if</span> (lookahead-&gt;at(0)-&gt;is_non_word())</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;      next_is_word_character = <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    <span class="keywordflow">if</span> (lookahead-&gt;at(0)-&gt;is_word())</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;      next_is_word_character = <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa4cc630dfafc74666b7c5bdcca6633628">Trace::TRUE_VALUE</a>;</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;  }</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  <span class="keywordtype">bool</span> at_boundary = (assertion_type_ == <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a852d5862232544f102842d2fbf0e87ce">AssertionNode::AT_BOUNDARY</a>);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;  <span class="keywordflow">if</span> (next_is_word_character == <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa6ce26a62afab55d7606ad4e92428b30c">Trace::UNKNOWN</a>) {</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    Label before_non_word;</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    Label before_word;</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <span class="keywordflow">if</span> (trace-&gt;characters_preloaded() != 1) {</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;      assembler-&gt;LoadCurrentCharacter(trace-&gt;cp_offset(), &amp;before_non_word);</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    }</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    <span class="comment">// Fall through on non-word.</span></div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    EmitWordCheck(assembler, &amp;before_word, &amp;before_non_word, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    <span class="comment">// Next character is not a word character.</span></div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    assembler-&gt;Bind(&amp;before_non_word);</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    Label ok;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    BacktrackIfPrevious(compiler, trace, at_boundary ? kIsNonWord : kIsWord);</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    assembler-&gt;GoTo(&amp;ok);</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    assembler-&gt;Bind(&amp;before_word);</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    BacktrackIfPrevious(compiler, trace, at_boundary ? kIsWord : kIsNonWord);</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    assembler-&gt;Bind(&amp;ok);</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (next_is_word_character == <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa4cc630dfafc74666b7c5bdcca6633628">Trace::TRUE_VALUE</a>) {</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    BacktrackIfPrevious(compiler, trace, at_boundary ? kIsWord : kIsNonWord);</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(next_is_word_character == <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>);</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    BacktrackIfPrevious(compiler, trace, at_boundary ? kIsNonWord : kIsWord);</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  }</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;}</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;<span class="keywordtype">void</span> AssertionNode::BacktrackIfPrevious(</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    RegExpCompiler* compiler,</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adb723362c45cc0c3de9801707bbc3d70">Trace</a>* trace,</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    AssertionNode::IfPrevious backtrack_if_previous) {</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  RegExpMacroAssembler* assembler = compiler-&gt;macro_assembler();</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adb723362c45cc0c3de9801707bbc3d70">Trace</a> new_trace(*trace);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  new_trace.InvalidateCurrentCharacter();</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  Label fall_through, dummy;</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;  Label* non_word = backtrack_if_previous == kIsNonWord ?</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                    new_trace.backtrack() :</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                    &amp;fall_through;</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  Label* word = backtrack_if_previous == kIsNonWord ?</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                &amp;fall_through :</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                new_trace.backtrack();</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  <span class="keywordflow">if</span> (new_trace.cp_offset() == 0) {</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    <span class="comment">// The start of input counts as a non-word character, so the question is</span></div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <span class="comment">// decided if we are at the start.</span></div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    assembler-&gt;CheckAtStart(non_word);</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  }</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  <span class="comment">// We already checked that we are not at the start of input so it must be</span></div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="comment">// OK to load the previous character.</span></div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  assembler-&gt;LoadCurrentCharacter(new_trace.cp_offset() - 1, &amp;dummy, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  EmitWordCheck(assembler, word, non_word, backtrack_if_previous == kIsNonWord);</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;  assembler-&gt;Bind(&amp;fall_through);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;  on_success()-&gt;Emit(compiler, &amp;new_trace);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;}</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;</div>
<div class="line"><a name="l03154"></a><span class="lineno"><a class="line" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a6b6c1f2255194659ec534a8f62a37ff3"> 3154</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a6b6c1f2255194659ec534a8f62a37ff3">AssertionNode::GetQuickCheckDetails</a>(<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a>* details,</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                                         <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                                         <span class="keywordtype">int</span> filled_in,</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                                         <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  <span class="keywordflow">if</span> (assertion_type_ == AT_START &amp;&amp; not_at_start) {</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    details-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa94b2dc15a54c8b50cecaa5170ae13b0">set_cannot_match</a>();</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;  }</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  <span class="keywordflow">return</span> on_success()-&gt;GetQuickCheckDetails(details,</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;                                            compiler,</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;                                            filled_in,</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                                            not_at_start);</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;}</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;</div>
<div class="line"><a name="l03169"></a><span class="lineno"><a class="line" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#adcf87d1548a77913bc9b2ab00539c0a2"> 3169</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#adcf87d1548a77913bc9b2ab00539c0a2">AssertionNode::Emit</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  <span class="keywordflow">switch</span> (assertion_type_) {</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="keywordflow">case</span> AT_END: {</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      Label ok;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a06220884bd8e65bf07a079ce39d52242">CheckPosition</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>(), &amp;ok);</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;ok);</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    }</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <span class="keywordflow">case</span> AT_START: {</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ad25392e0b5e996bb4a15285ab11d22c6">at_start</a>() == <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>) {</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;        assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      }</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;      <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ad25392e0b5e996bb4a15285ab11d22c6">at_start</a>() == <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa6ce26a62afab55d7606ad4e92428b30c">Trace::UNKNOWN</a>) {</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a264e115a677ddd76416c8b13af732480">CheckNotAtStart</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;        <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> at_start_trace = *trace;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        at_start_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae611c22c88cd712f5de2fccb737c925a">set_at_start</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;        on_success()-&gt;Emit(compiler, &amp;at_start_trace);</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;      }</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    }</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    <span class="keywordflow">case</span> AFTER_NEWLINE:</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      EmitHat(compiler, on_success(), trace);</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="keywordflow">case</span> AT_BOUNDARY:</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    <span class="keywordflow">case</span> AT_NON_BOUNDARY: {</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;      EmitBoundaryCheck(compiler, trace);</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    }</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  }</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  on_success()-&gt;Emit(compiler, trace);</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;}</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> DeterminedAlready(<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a>* quick_check, <span class="keywordtype">int</span> offset) {</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  <span class="keywordflow">if</span> (quick_check == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;  <span class="keywordflow">if</span> (offset &gt;= quick_check-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">characters</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;  <span class="keywordflow">return</span> quick_check-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a53c091ceeb86f2f93c0aa1fce04b7a65">positions</a>(offset)-&gt;<a class="code" href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">determines_perfectly</a>;</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;}</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> UpdateBoundsCheck(<span class="keywordtype">int</span> index, <span class="keywordtype">int</span>* checked_up_to) {</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;  <span class="keywordflow">if</span> (index &gt; *checked_up_to) {</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    *checked_up_to = index;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;  }</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;}</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;<span class="comment">// We call this repeatedly to generate code for each pass over the text node.</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;<span class="comment">// The passes are in increasing order of difficulty because we hope one</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;<span class="comment">// of the first passes will fail in which case we are saved the work of the</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;<span class="comment">// later passes.  for example for the case independent regexp /%[asdfghjkl]a/</span></div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="comment">// we will check the &#39;%&#39; in the first pass, the case independent &#39;a&#39; in the</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;<span class="comment">// second pass and the character class in the last pass.</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="comment">// The passes are done from right to left, so for example to test for /bar/</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="comment">// we will first test for an &#39;r&#39; with offset 2, then an &#39;a&#39; with offset 1</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="comment">// and then a &#39;b&#39; with offset 0.  This means we can avoid the end-of-input</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="comment">// bounds check most of the time.  In the example we only need to check for</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;<span class="comment">// end-of-input when loading the putative &#39;r&#39;.</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<span class="comment">// A slight complication involves the fact that the first character may already</span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;<span class="comment">// be fetched into a register by the previous node.  In this case we want to</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<span class="comment">// do the test for that character first.  We do this in separate passes.  The</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;<span class="comment">// &#39;preloaded&#39; argument indicates that we are doing such a &#39;pass&#39;.  If such a</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;<span class="comment">// pass has been performed then subsequent passes will have true in</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<span class="comment">// first_element_checked to indicate that that character does not need to be</span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="comment">// checked again.</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="comment">// In addition to all this we are passed a Trace, which can</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;<span class="comment">// contain an AlternativeGeneration object.  In this AlternativeGeneration</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;<span class="comment">// object we can see details of any quick check that was already passed in</span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="comment">// order to get to the code we are now generating.  The quick check can involve</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;<span class="comment">// loading characters, which means we do not need to recheck the bounds</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;<span class="comment">// up to the limit the quick check already checked.  In addition the quick</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;<span class="comment">// check can have involved a mask and compare operation which may simplify</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;<span class="comment">// or obviate the need for further checks at some character positions.</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;<span class="keywordtype">void</span> TextNode::TextEmitPass(RegExpCompiler* compiler,</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;                            TextEmitPassType pass,</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;                            <span class="keywordtype">bool</span> preloaded,</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;                            <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adb723362c45cc0c3de9801707bbc3d70">Trace</a>* trace,</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;                            <span class="keywordtype">bool</span> first_element_checked,</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;                            <span class="keywordtype">int</span>* checked_up_to) {</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;  RegExpMacroAssembler* assembler = compiler-&gt;macro_assembler();</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  Isolate* isolate = assembler-&gt;zone()-&gt;isolate();</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;  <span class="keywordtype">bool</span> ascii = compiler-&gt;ascii();</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;  Label* <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a> = trace-&gt;backtrack();</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;  QuickCheckDetails* quick_check = trace-&gt;quick_check_performed();</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  <span class="keywordtype">int</span> element_count = elms_-&gt;length();</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = preloaded ? 0 : element_count - 1; i &gt;= 0; i--) {</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    TextElement elm = elms_-&gt;at(i);</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    <span class="keywordtype">int</span> cp_offset = trace-&gt;cp_offset() + elm.cp_offset();</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    <span class="keywordflow">if</span> (elm.text_type() == TextElement::ATOM) {</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;      Vector&lt;const uc16&gt; quarks = elm.atom()-&gt;data();</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = preloaded ? 0 : quarks.length() - 1; j &gt;= 0; j--) {</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        <span class="keywordflow">if</span> (first_element_checked &amp;&amp; i == 0 &amp;&amp; j == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;        <span class="keywordflow">if</span> (DeterminedAlready(quick_check, elm.cp_offset() + j)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5c35d53d6d799e0b34a8ef52aa8fe52f">EmitCharacterFunction</a>* emit_function = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;        <span class="keywordflow">switch</span> (pass) {</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;          <span class="keywordflow">case</span> NON_ASCII_MATCH:</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;            <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(ascii);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            <span class="keywordflow">if</span> (quarks[j] &gt; <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>) {</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;              assembler-&gt;GoTo(backtrack);</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;              <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            }</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;          <span class="keywordflow">case</span> NON_LETTER_CHARACTER_MATCH:</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;            emit_function = &amp;EmitAtomNonLetter;</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;          <span class="keywordflow">case</span> SIMPLE_CHARACTER_MATCH:</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;            emit_function = &amp;EmitSimpleCharacter;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;          <span class="keywordflow">case</span> CASE_CHARACTER_MATCH:</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;            emit_function = &amp;EmitAtomLetter;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;        }</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;        <span class="keywordflow">if</span> (emit_function != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;          <span class="keywordtype">bool</span> bound_checked = emit_function(isolate,</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                                             compiler,</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;                                             quarks[j],</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                                             backtrack,</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                                             cp_offset + j,</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                                             *checked_up_to &lt; cp_offset + j,</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;                                             preloaded);</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;          <span class="keywordflow">if</span> (bound_checked) UpdateBoundsCheck(cp_offset + j, checked_up_to);</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;        }</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      }</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(TextElement::CHAR_CLASS, elm.text_type());</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      <span class="keywordflow">if</span> (pass == CHARACTER_CLASS_MATCH) {</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;        <span class="keywordflow">if</span> (first_element_checked &amp;&amp; i == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;        <span class="keywordflow">if</span> (DeterminedAlready(quick_check, elm.cp_offset())) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        RegExpCharacterClass* cc = elm.char_class();</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;        EmitCharClass(assembler,</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                      cc,</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                      ascii,</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;                      backtrack,</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                      cp_offset,</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;                      *checked_up_to &lt; cp_offset,</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;                      preloaded,</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                      zone());</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;        UpdateBoundsCheck(cp_offset, checked_up_to);</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;      }</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    }</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;  }</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;}</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;<span class="keywordtype">int</span> TextNode::Length() {</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  TextElement elm = elms_-&gt;last();</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elm.cp_offset() &gt;= 0);</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  <span class="keywordflow">return</span> elm.cp_offset() + elm.length();</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;}</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;<span class="keywordtype">bool</span> TextNode::SkipPass(<span class="keywordtype">int</span> int_pass, <span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;  TextEmitPassType pass = <span class="keyword">static_cast&lt;</span>TextEmitPassType<span class="keyword">&gt;</span>(int_pass);</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  <span class="keywordflow">if</span> (ignore_case) {</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="keywordflow">return</span> pass == SIMPLE_CHARACTER_MATCH;</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    <span class="keywordflow">return</span> pass == NON_LETTER_CHARACTER_MATCH || pass == CASE_CHARACTER_MATCH;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;  }</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;}</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;<span class="comment">// This generates the code to match a text node.  A text node can contain</span></div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;<span class="comment">// straight character sequences (possibly to be matched in a case-independent</span></div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;<span class="comment">// way) and character classes.  For efficiency we do not do this in a single</span></div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;<span class="comment">// pass from left to right.  Instead we pass over the text node several times,</span></div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;<span class="comment">// emitting code for some character positions every time.  See the comment on</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;<span class="comment">// TextEmitPass for details.</span></div>
<div class="line"><a name="l03345"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#adcf87d1548a77913bc9b2ab00539c0a2"> 3345</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#adcf87d1548a77913bc9b2ab00539c0a2">TextNode::Emit</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698b">LimitResult</a> limit_result = LimitVersions(compiler, trace);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <span class="keywordflow">if</span> (limit_result == <a class="code" href="../../de/d54/test-threads_8cc.html#a236b9af6f8c1a2f8f031d4c6a79a1147a9c954bcf443428c80b0f107b3bc48749">DONE</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(limit_result == CONTINUE);</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;  <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>() + Length() &gt; <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0b3d041dff9962a8c8bd489a26f87ee3">RegExpMacroAssembler::kMaxCPOffset</a>) {</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a84eddcf9aeaf051663e0f93129e13ce8">SetRegExpTooBig</a>();</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  }</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>()) {</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <span class="keywordtype">int</span> dummy = 0;</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    TextEmitPass(compiler, NON_ASCII_MATCH, <span class="keyword">false</span>, trace, <span class="keyword">false</span>, &amp;dummy);</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;  }</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;  <span class="keywordtype">bool</span> first_elt_done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  <span class="keywordtype">int</span> bound_checked_to = trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>() - 1;</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  bound_checked_to += trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ab898fe3c24e16ea3f8f1358e0fd80cd0">bound_checked_up_to</a>();</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  <span class="comment">// If a character is preloaded into the current character register then</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;  <span class="comment">// check that now.</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a563872b94167abe32e27c06082a15e12">characters_preloaded</a>() == 1) {</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pass = kFirstRealPass; pass &lt;= kLastPass; pass++) {</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;      <span class="keywordflow">if</span> (!SkipPass(pass, compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a34e4782c368d557b6c861ae6de97d128">ignore_case</a>())) {</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        TextEmitPass(compiler,</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                     static_cast&lt;TextEmitPassType&gt;(pass),</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                     <span class="keyword">true</span>,</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                     trace,</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                     <span class="keyword">false</span>,</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;                     &amp;bound_checked_to);</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;      }</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    }</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    first_elt_done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  }</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pass = kFirstRealPass; pass &lt;= kLastPass; pass++) {</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;    <span class="keywordflow">if</span> (!SkipPass(pass, compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a34e4782c368d557b6c861ae6de97d128">ignore_case</a>())) {</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;      TextEmitPass(compiler,</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                   static_cast&lt;TextEmitPassType&gt;(pass),</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                   <span class="keyword">false</span>,</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                   trace,</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                   first_elt_done,</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                   &amp;bound_checked_to);</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    }</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  }</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> successor_trace(*trace);</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;  successor_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae611c22c88cd712f5de2fccb737c925a">set_at_start</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;  successor_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a6c72b330e95c6d2c2d84b4608746713e">AdvanceCurrentPositionInTrace</a>(Length(), compiler);</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;  <a class="code" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html">RecursionCheck</a> rc(compiler);</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;  on_success()-&gt;Emit(compiler, &amp;successor_trace);</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;}</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;</div>
<div class="line"><a name="l03399"></a><span class="lineno"><a class="line" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac1688599684fdda143cf66441a7bd07"> 3399</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac1688599684fdda143cf66441a7bd07">Trace::InvalidateCurrentCharacter</a>() {</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;  characters_preloaded_ = 0;</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;}</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;</div>
<div class="line"><a name="l03404"></a><span class="lineno"><a class="line" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a6c72b330e95c6d2c2d84b4608746713e"> 3404</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a6c72b330e95c6d2c2d84b4608746713e">Trace::AdvanceCurrentPositionInTrace</a>(<span class="keywordtype">int</span> by, <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler) {</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(by &gt; 0);</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;  <span class="comment">// We don&#39;t have an instruction for shifting the current character register</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  <span class="comment">// down or for using a shifted value for anything so lets just forget that</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  <span class="comment">// we preloaded any characters into it.</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;  characters_preloaded_ = 0;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;  <span class="comment">// Adjust the offsets of the quick check performed information.  This</span></div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;  <span class="comment">// information is used to find out what we already determined about the</span></div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;  <span class="comment">// characters by means of mask and compare.</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  quick_check_performed_.<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a2a39a1e9edccbf6b06d93ac2e40ea359">Advance</a>(by, compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>());</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;  cp_offset_ += by;</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;  <span class="keywordflow">if</span> (cp_offset_ &gt; <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0b3d041dff9962a8c8bd489a26f87ee3">RegExpMacroAssembler::kMaxCPOffset</a>) {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a84eddcf9aeaf051663e0f93129e13ce8">SetRegExpTooBig</a>();</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    cp_offset_ = 0;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;  }</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;  bound_checked_up_to_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">Max</a>(0, bound_checked_up_to_ - by);</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;}</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;</div>
<div class="line"><a name="l03423"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a872c42964c5ba547a345b4a43e0b9c56"> 3423</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a872c42964c5ba547a345b4a43e0b9c56">TextNode::MakeCaseIndependent</a>(<span class="keywordtype">bool</span> is_ascii) {</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;  <span class="keywordtype">int</span> element_count = elms_-&gt;length();</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; element_count; i++) {</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    TextElement elm = elms_-&gt;at(i);</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="keywordflow">if</span> (elm.text_type() == TextElement::CHAR_CLASS) {</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;      RegExpCharacterClass* cc = elm.char_class();</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;      <span class="comment">// None of the standard character classes is different in the case</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;      <span class="comment">// independent case and it slows us down if we don&#39;t know that.</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;      <span class="keywordflow">if</span> (cc-&gt;is_standard(zone())) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;      <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges = cc-&gt;ranges(zone());</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;      <span class="keywordtype">int</span> range_count = ranges-&gt;length();</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; range_count; j++) {</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;        ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(j).AddCaseEquivalents(ranges, is_ascii, zone());</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;      }</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    }</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;  }</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;}</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;</div>
<div class="line"><a name="l03442"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a31c980bed6b185c6e7fbe39c6cfaef22"> 3442</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a31c980bed6b185c6e7fbe39c6cfaef22">TextNode::GreedyLoopTextLength</a>() {</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  TextElement elm = elms_-&gt;at(elms_-&gt;length() - 1);</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  <span class="keywordflow">return</span> elm.cp_offset() + elm.length();</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;}</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;</div>
<div class="line"><a name="l03448"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#ab6c511bb7e570f44fced9272fe78c23a"> 3448</a></span>&#160;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#ab6c511bb7e570f44fced9272fe78c23a">TextNode::GetSuccessorOfOmnivorousTextNode</a>(</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler) {</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  <span class="keywordflow">if</span> (elms_-&gt;length() != 1) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  TextElement elm = elms_-&gt;at(0);</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="keywordflow">if</span> (elm.text_type() != TextElement::CHAR_CLASS) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  RegExpCharacterClass* node = elm.char_class();</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges = node-&gt;ranges(zone());</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a820243fe7fe3bd02491a8ce1e6151650">CharacterRange::IsCanonical</a>(ranges)) {</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#aa4e480782bb23104de24be97b415f5de">CharacterRange::Canonicalize</a>(ranges);</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  }</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;  <span class="keywordflow">if</span> (node-&gt;is_negated()) {</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <span class="keywordflow">return</span> ranges-&gt;length() == 0 ? on_success() : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  }</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;  <span class="keywordflow">if</span> (ranges-&gt;length() != 1) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;  uint32_t max_char;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>()) {</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    max_char = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    max_char = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>;</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  }</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  <span class="keywordflow">return</span> ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0).IsEverything(max_char) ? on_success() : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;}</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<span class="comment">// Finds the fixed match length of a sequence of nodes that goes from</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;<span class="comment">// this alternative and back to this choice node.  If there are variable</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;<span class="comment">// length nodes or other complications in the way then return a sentinel</span></div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;<span class="comment">// value indicating that a greedy loop cannot be constructed.</span></div>
<div class="line"><a name="l03476"></a><span class="lineno"><a class="line" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a1779245274893c36bdc6c29c9aa1e78e"> 3476</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a1779245274893c36bdc6c29c9aa1e78e">ChoiceNode::GreedyLoopTextLengthForAlternative</a>(</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a>* alternative) {</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;  <span class="keywordtype">int</span> length = 0;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node = alternative-&gt;<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>();</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  <span class="comment">// Later we will generate code for all these text nodes using recursion</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  <span class="comment">// so we have to limit the max number.</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  <span class="keywordtype">int</span> recursion_depth = 0;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <span class="keywordflow">while</span> (node != <span class="keyword">this</span>) {</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <span class="keywordflow">if</span> (recursion_depth++ &gt; <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a877444282fd32f2ad9d579bf9053009c">RegExpCompiler::kMaxRecursion</a>) {</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;      <span class="keywordflow">return</span> kNodeIsTooComplexForGreedyLoops;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    }</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <span class="keywordtype">int</span> node_length = node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ae9bdbc05a9d2f3778ecd885281af0f4a">GreedyLoopTextLength</a>();</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="keywordflow">if</span> (node_length == kNodeIsTooComplexForGreedyLoops) {</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;      <span class="keywordflow">return</span> kNodeIsTooComplexForGreedyLoops;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    }</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    length += node_length;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html">SeqRegExpNode</a>* seq_node = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html">SeqRegExpNode</a>*<span class="keyword">&gt;</span>(node);</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    node = seq_node-&gt;<a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>();</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;  }</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;}</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;</div>
<div class="line"><a name="l03499"></a><span class="lineno"><a class="line" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a5aaaaa8a61628d7afa2c276389b55370"> 3499</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a5aaaaa8a61628d7afa2c276389b55370">LoopChoiceNode::AddLoopAlternative</a>(<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alt) {</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(loop_node_, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  AddAlternative(alt);</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  loop_node_ = alt.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>();</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;}</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;</div>
<div class="line"><a name="l03506"></a><span class="lineno"><a class="line" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#ab30fefcb60567de8afd56c42eca2538a"> 3506</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#ab30fefcb60567de8afd56c42eca2538a">LoopChoiceNode::AddContinueAlternative</a>(<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alt) {</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(continue_node_, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  AddAlternative(alt);</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  continue_node_ = alt.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>();</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;}</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;</div>
<div class="line"><a name="l03513"></a><span class="lineno"><a class="line" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#adcf87d1548a77913bc9b2ab00539c0a2"> 3513</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#adcf87d1548a77913bc9b2ab00539c0a2">LoopChoiceNode::Emit</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* macro_assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;  <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a17aad9f3e6fb63578ab794d064d13ce6">stop_node</a>() == <span class="keyword">this</span>) {</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="keywordtype">int</span> text_length =</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;        GreedyLoopTextLengthForAlternative(&amp;(alternatives_-&gt;at(0)));</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(text_length != kNodeIsTooComplexForGreedyLoops);</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <span class="comment">// Update the counter-based backtracking info on the stack.  This is an</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="comment">// optimization for greedy loops (see below).</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>() == text_length);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a416082488c33841cd2f26f5c5c14d6ca">AdvanceCurrentPosition</a>(text_length);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a8dd0c5d352bafd8e733695b2c31bc036">loop_label</a>());</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;  }</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a17aad9f3e6fb63578ab794d064d13ce6">stop_node</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  <span class="keywordflow">if</span> (!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>()) {</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Flush</a>(compiler, <span class="keyword">this</span>);</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;  }</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;  <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#adcf87d1548a77913bc9b2ab00539c0a2">ChoiceNode::Emit</a>(compiler, trace);</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;}</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;<span class="keywordtype">int</span> ChoiceNode::CalculatePreloadCharacters(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;                                           <span class="keywordtype">int</span> eats_at_least) {</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;  <span class="keywordtype">int</span> preload_characters = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(4, eats_at_least);</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;  <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>()-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0be88ccd3d0087e417d2e8a4f5655f9d">CanReadUnaligned</a>()) {</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    <span class="keywordtype">bool</span> ascii = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>();</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <span class="keywordflow">if</span> (ascii) {</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;      <span class="keywordflow">if</span> (preload_characters &gt; 4) preload_characters = 4;</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;      <span class="comment">// We can&#39;t preload 3 characters because there is no machine instruction</span></div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;      <span class="comment">// to do that.  We can&#39;t just load 4 because we could be reading</span></div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;      <span class="comment">// beyond the end of the string, which could cause a memory fault.</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;      <span class="keywordflow">if</span> (preload_characters == 3) preload_characters = 2;</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;      <span class="keywordflow">if</span> (preload_characters &gt; 2) preload_characters = 2;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    }</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    <span class="keywordflow">if</span> (preload_characters &gt; 1) preload_characters = 1;</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;  }</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;  <span class="keywordflow">return</span> preload_characters;</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;}</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;<span class="comment">// This class is used when generating the alternatives in a choice node.  It</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;<span class="comment">// records the way the alternative is being code generated.</span></div>
<div class="line"><a name="l03558"></a><span class="lineno"><a class="line" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html"> 3558</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html">AlternativeGeneration</a>: <span class="keyword">public</span> <a class="code" href="../../db/d67/classv8_1_1internal_1_1_malloced.html">Malloced</a> {</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l03560"></a><span class="lineno"><a class="line" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a531a4e145c0f8eecd387a0d859974924"> 3560</a></span>&#160;  <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a531a4e145c0f8eecd387a0d859974924">AlternativeGeneration</a>()</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;      : possible_success(),</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        expects_preload(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>),</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;        after(),</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;        quick_check_details() { }</div>
<div class="line"><a name="l03565"></a><span class="lineno"><a class="line" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a0685c2a9ce0acf259ad1263a61e2ebec"> 3565</a></span>&#160;  Label <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a0685c2a9ce0acf259ad1263a61e2ebec">possible_success</a>;</div>
<div class="line"><a name="l03566"></a><span class="lineno"><a class="line" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a8b6e14f42b5eb9c5bb545879e6b231c5"> 3566</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a8b6e14f42b5eb9c5bb545879e6b231c5">expects_preload</a>;</div>
<div class="line"><a name="l03567"></a><span class="lineno"><a class="line" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#abfeff53910a50c12485ca4d21930353e"> 3567</a></span>&#160;  Label <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#abfeff53910a50c12485ca4d21930353e">after</a>;</div>
<div class="line"><a name="l03568"></a><span class="lineno"><a class="line" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a1c5533a8f4c3d4cf2bdebe558f9e8867"> 3568</a></span>&#160;  <a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">QuickCheckDetails</a> <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a1c5533a8f4c3d4cf2bdebe558f9e8867">quick_check_details</a>;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;};</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;<span class="comment">// Creates a list of AlternativeGenerations.  If the list has a reasonable</span></div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;<span class="comment">// size then it is on the stack, otherwise the excess is on the heap.</span></div>
<div class="line"><a name="l03574"></a><span class="lineno"><a class="line" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html"> 3574</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html">AlternativeGenerationList</a> {</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l03576"></a><span class="lineno"><a class="line" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#a63f9bc251f8172d04f37cce529d346d4"> 3576</a></span>&#160;  <a class="code" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#a63f9bc251f8172d04f37cce529d346d4">AlternativeGenerationList</a>(<span class="keywordtype">int</span> count, <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone)</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;      : alt_gens_(count, zone) {</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count &amp;&amp; i &lt; kAFew; i++) {</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;      alt_gens_.Add(a_few_alt_gens_ + i, zone);</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    }</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = kAFew; i &lt; count; i++) {</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;      alt_gens_.Add(<span class="keyword">new</span> <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html">AlternativeGeneration</a>(), zone);</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    }</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  }</div>
<div class="line"><a name="l03585"></a><span class="lineno"><a class="line" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#a1747b0df16c04278a92e6594bfbebe2c"> 3585</a></span>&#160;  <a class="code" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#a1747b0df16c04278a92e6594bfbebe2c">~AlternativeGenerationList</a>() {</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = kAFew; i &lt; alt_gens_.length(); i++) {</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;      <span class="keyword">delete</span> alt_gens_[i];</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;      alt_gens_[i] = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    }</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  }</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;</div>
<div class="line"><a name="l03592"></a><span class="lineno"><a class="line" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#ab3be7e6940da4c18a5bc91f086abe3ca"> 3592</a></span>&#160;  <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html">AlternativeGeneration</a>* <a class="code" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#ab3be7e6940da4c18a5bc91f086abe3ca">at</a>(<span class="keywordtype">int</span> i) {</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    <span class="keywordflow">return</span> alt_gens_[i];</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;  }</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAFew = 10;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;AlternativeGeneration*&gt;</a> alt_gens_;</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;  <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html">AlternativeGeneration</a> a_few_alt_gens_[kAFew];</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;};</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;<span class="comment">// The &#39;2&#39; variant is has inclusive from and exclusive to.</span></div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;<span class="comment">// This covers \s as defined in ECMA-262 5.1, 15.10.2.12,</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;<span class="comment">// which include WhiteSpace (7.2) or LineTerminator (7.3) values.</span></div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSpaceRanges[] = { <span class="charliteral">&#39;\t&#39;</span>, <span class="charliteral">&#39;\r&#39;</span> + 1, <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39; &#39;</span> + 1,</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;    0x00A0, 0x00A1, 0x1680, 0x1681, 0x180E, 0x180F, 0x2000, 0x200B,</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    0x2028, 0x202A, 0x202F, 0x2030, 0x205F, 0x2060, 0x3000, 0x3001,</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    0xFEFF, 0xFF00, 0x10000 };</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSpaceRangeCount = <a class="code" href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(kSpaceRanges);</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kWordRanges[] = {</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;    <span class="charliteral">&#39;0&#39;</span>, <span class="charliteral">&#39;9&#39;</span> + 1, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;Z&#39;</span> + 1, <span class="charliteral">&#39;_&#39;</span>, <span class="charliteral">&#39;_&#39;</span> + 1, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;z&#39;</span> + 1, 0x10000 };</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kWordRangeCount = <a class="code" href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(kWordRanges);</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDigitRanges[] = { <span class="charliteral">&#39;0&#39;</span>, <span class="charliteral">&#39;9&#39;</span> + 1, 0x10000 };</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDigitRangeCount = <a class="code" href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(kDigitRanges);</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSurrogateRanges[] = { 0xd800, 0xe000, 0x10000 };</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSurrogateRangeCount = <a class="code" href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(kSurrogateRanges);</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLineTerminatorRanges[] = { 0x000A, 0x000B, 0x000D, 0x000E,</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    0x2028, 0x202A, 0x10000 };</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLineTerminatorRangeCount = <a class="code" href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(kLineTerminatorRanges);</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;</div>
<div class="line"><a name="l03624"></a><span class="lineno"><a class="line" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a42a292f2f6ebc44d2deeb87898529fd2"> 3624</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a42a292f2f6ebc44d2deeb87898529fd2">BoyerMoorePositionInfo::Set</a>(<span class="keywordtype">int</span> character) {</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  SetInterval(<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html">Interval</a>(character, character));</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;}</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;</div>
<div class="line"><a name="l03629"></a><span class="lineno"><a class="line" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a90285a5a55533d5cb3c614bfb179c9b4"> 3629</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a90285a5a55533d5cb3c614bfb179c9b4">BoyerMoorePositionInfo::SetInterval</a>(<span class="keyword">const</span> <a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html">Interval</a>&amp; interval) {</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  s_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ec81f7778b86ffd802328effe40aa18">AddRange</a>(s_, kSpaceRanges, kSpaceRangeCount, interval);</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;  w_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ec81f7778b86ffd802328effe40aa18">AddRange</a>(w_, kWordRanges, kWordRangeCount, interval);</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;  d_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ec81f7778b86ffd802328effe40aa18">AddRange</a>(d_, kDigitRanges, kDigitRangeCount, interval);</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  surrogate_ =</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ec81f7778b86ffd802328effe40aa18">AddRange</a>(surrogate_, kSurrogateRanges, kSurrogateRangeCount, interval);</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;  <span class="keywordflow">if</span> (interval.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a9ac04ed8b141489166b5c27dc8f0714d">to</a>() - interval.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a8c7a687342404f975c3f58fa62829c73">from</a>() &gt;= kMapSize - 1) {</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;    <span class="keywordflow">if</span> (map_count_ != kMapSize) {</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;      map_count_ = kMapSize;</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; kMapSize; i++) map_-&gt;at(i) = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    }</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;  }</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = interval.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a8c7a687342404f975c3f58fa62829c73">from</a>(); i &lt;= interval.<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a9ac04ed8b141489166b5c27dc8f0714d">to</a>(); i++) {</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    <span class="keywordtype">int</span> mod_character = (i &amp; kMask);</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;    <span class="keywordflow">if</span> (!map_-&gt;at(mod_character)) {</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;      map_count_++;</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;      map_-&gt;at(mod_character) = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    }</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;    <span class="keywordflow">if</span> (map_count_ == kMapSize) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  }</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;}</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;</div>
<div class="line"><a name="l03653"></a><span class="lineno"><a class="line" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a08d7ead5dfdcb4af6654fec354db4865"> 3653</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a08d7ead5dfdcb4af6654fec354db4865">BoyerMoorePositionInfo::SetAll</a>() {</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  s_ = w_ = d_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3ab93178eee38457fd0039470481cd46b4">kLatticeUnknown</a>;</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  <span class="keywordflow">if</span> (map_count_ != kMapSize) {</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    map_count_ = kMapSize;</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; kMapSize; i++) map_-&gt;at(i) = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  }</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;}</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;</div>
<div class="line"><a name="l03662"></a><span class="lineno"><a class="line" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#aa8fcd7e5ef9f198bf5f0f2c537ed05b6"> 3662</a></span>&#160;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#aa8fcd7e5ef9f198bf5f0f2c537ed05b6">BoyerMooreLookahead::BoyerMooreLookahead</a>(</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="keywordtype">int</span> length, <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone)</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    : length_(length),</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;      compiler_(compiler) {</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;  <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>()) {</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;    max_char_ = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    max_char_ = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>;</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  }</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  bitmaps_ = <span class="keyword">new</span>(zone) <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;BoyerMoorePositionInfo*&gt;</a>(length, zone);</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3d0f4ae571310c6ed081daa3985ecb47">length</a>; i++) {</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    bitmaps_-&gt;Add(<span class="keyword">new</span>(zone) <a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html">BoyerMoorePositionInfo</a>(zone), zone);</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  }</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;}</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;<span class="comment">// Find the longest range of lookahead that has the fewest number of different</span></div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;<span class="comment">// characters that can occur at a given position.  Since we are optimizing two</span></div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;<span class="comment">// different parameters at once this is a tradeoff.</span></div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;<span class="keywordtype">bool</span> BoyerMooreLookahead::FindWorthwhileInterval(<span class="keywordtype">int</span>* from, <span class="keywordtype">int</span>* to) {</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  <span class="keywordtype">int</span> biggest_points = 0;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="comment">// If more than 32 characters out of 128 can occur it is unlikely that we can</span></div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;  <span class="comment">// be lucky enough to step forwards much of the time.</span></div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxMax = 32;</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> max_number_of_chars = 4;</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;       max_number_of_chars &lt; kMaxMax;</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;       max_number_of_chars *= 2) {</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    biggest_points =</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;        FindBestInterval(max_number_of_chars, biggest_points, from, to);</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  }</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  <span class="keywordflow">if</span> (biggest_points == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;}</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;<span class="comment">// Find the highest-points range between 0 and length_ where the character</span></div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;<span class="comment">// information is not too vague.  &#39;Too vague&#39; means that there are more than</span></div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;<span class="comment">// max_number_of_chars that can occur at this position.  Calculates the number</span></div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;<span class="comment">// of points as the product of width-of-the-range and</span></div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;<span class="comment">// probability-of-finding-one-of-the-characters, where the probability is</span></div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="comment">// calculated using the frequency distribution of the sample subject string.</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="keywordtype">int</span> BoyerMooreLookahead::FindBestInterval(</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="keywordtype">int</span> max_number_of_chars, <span class="keywordtype">int</span> old_biggest_points, <span class="keywordtype">int</span>* from, <span class="keywordtype">int</span>* to) {</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;  <span class="keywordtype">int</span> biggest_points = old_biggest_points;</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">RegExpMacroAssembler::kTableSize</a>;</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length_; ) {</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <span class="keywordflow">while</span> (i &lt; length_ &amp;&amp; <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a8b507cc4ae13ff9b13cef567c52b72bb">Count</a>(i) &gt; max_number_of_chars) i++;</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    <span class="keywordflow">if</span> (i == length_) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="keywordtype">int</span> remembered_from = i;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <span class="keywordtype">bool</span> union_map[kSize];</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; kSize; j++) union_map[j] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <span class="keywordflow">while</span> (i &lt; length_ &amp;&amp; <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a8b507cc4ae13ff9b13cef567c52b72bb">Count</a>(i) &lt;= max_number_of_chars) {</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;      BoyerMoorePositionInfo* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">map</a> = bitmaps_-&gt;at(i);</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; kSize; j++) union_map[j] |= map-&gt;at(j);</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;      i++;</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    }</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;    <span class="keywordtype">int</span> frequency = 0;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; kSize; j++) {</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;      <span class="keywordflow">if</span> (union_map[j]) {</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;        <span class="comment">// Add 1 to the frequency to give a small per-character boost for</span></div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;        <span class="comment">// the cases where our sampling is not good enough and many</span></div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        <span class="comment">// characters have a frequency of zero.  This means the frequency</span></div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        <span class="comment">// can theoretically be up to 2*kSize though we treat it mostly as</span></div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;        <span class="comment">// a fraction of kSize.</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;        frequency += compiler_-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a29cd11a915baee6b93cba435c986d751">frequency_collator</a>()-&gt;<a class="code" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#af66d2480c5f99c33de4ebff9da15f8d3">Frequency</a>(j) + 1;</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;      }</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    }</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <span class="comment">// We use the probability of skipping times the distance we are skipping to</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    <span class="comment">// judge the effectiveness of this.  Actually we have a cut-off:  By</span></div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <span class="comment">// dividing by 2 we switch off the skipping if the probability of skipping</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <span class="comment">// is less than 50%.  This is because the multibyte mask-and-compare</span></div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="comment">// skipping in quickcheck is more likely to do well on this case.</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;    <span class="keywordtype">bool</span> in_quickcheck_range = ((i - remembered_from &lt; 4) ||</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;        (compiler_-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>() ? remembered_from &lt;= 4 : remembered_from &lt;= 2));</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    <span class="comment">// Called &#39;probability&#39; but it is only a rough estimate and can actually</span></div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;    <span class="comment">// be outside the 0-kSize range.</span></div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    <span class="keywordtype">int</span> probability = (in_quickcheck_range ? kSize / 2 : kSize) - frequency;</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="keywordtype">int</span> points = (i - remembered_from) * probability;</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <span class="keywordflow">if</span> (points &gt; biggest_points) {</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;      *from = remembered_from;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;      *to = i - 1;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;      biggest_points = points;</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    }</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;  }</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;  <span class="keywordflow">return</span> biggest_points;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;}</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;<span class="comment">// Take all the characters that will not prevent a successful match if they</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;<span class="comment">// occur in the subject string in the range between min_lookahead and</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;<span class="comment">// max_lookahead (inclusive) measured from the current position.  If the</span></div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;<span class="comment">// character at max_lookahead offset is not one of these characters, then we</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;<span class="comment">// can safely skip forwards by the number of characters in the range.</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;<span class="keywordtype">int</span> BoyerMooreLookahead::GetSkipTable(<span class="keywordtype">int</span> min_lookahead,</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;                                      <span class="keywordtype">int</span> max_lookahead,</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;                                      Handle&lt;ByteArray&gt; boolean_skip_table) {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">RegExpMacroAssembler::kTableSize</a>;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kSkipArrayEntry = 0;</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kDontSkipArrayEntry = 1;</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; kSize; i++) {</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    boolean_skip_table-&gt;set(i, kSkipArrayEntry);</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  }</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="keywordtype">int</span> skip = max_lookahead + 1 - min_lookahead;</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = max_lookahead; i &gt;= min_lookahead; i--) {</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    BoyerMoorePositionInfo* map = bitmaps_-&gt;at(i);</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; kSize; j++) {</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;      <span class="keywordflow">if</span> (map-&gt;at(j)) {</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;        boolean_skip_table-&gt;set(j, kDontSkipArrayEntry);</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;      }</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    }</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  }</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <span class="keywordflow">return</span> skip;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;}</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;<span class="comment">// See comment above on the implementation of GetSkipTable.</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"><a class="line" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a0c5f9cb19744fad0d6aeae3a5f1a0497"> 3782</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a0c5f9cb19744fad0d6aeae3a5f1a0497">BoyerMooreLookahead::EmitSkipInstructions</a>(<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* masm) {</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">RegExpMacroAssembler::kTableSize</a>;</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;  <span class="keywordtype">int</span> min_lookahead = 0;</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;  <span class="keywordtype">int</span> max_lookahead = 0;</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;  <span class="keywordflow">if</span> (!FindWorthwhileInterval(&amp;min_lookahead, &amp;max_lookahead)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  <span class="keywordtype">bool</span> found_single_character = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;  <span class="keywordtype">int</span> single_character = 0;</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = max_lookahead; i &gt;= min_lookahead; i--) {</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html">BoyerMoorePositionInfo</a>* map = bitmaps_-&gt;at(i);</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <span class="keywordflow">if</span> (map-&gt;<a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a38c352e95d6dd391658c332444937e62">map_count</a>() &gt; 1 ||</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;        (found_single_character &amp;&amp; map-&gt;<a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a38c352e95d6dd391658c332444937e62">map_count</a>() != 0)) {</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;      found_single_character = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;    }</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; kSize; j++) {</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;      <span class="keywordflow">if</span> (map-&gt;<a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a693165f967e6ac94cb237b1457938474">at</a>(j)) {</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;        found_single_character = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;        single_character = j;</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;      }</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    }</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  }</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;  <span class="keywordtype">int</span> lookahead_width = max_lookahead + 1 - min_lookahead;</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  <span class="keywordflow">if</span> (found_single_character &amp;&amp; lookahead_width == 1 &amp;&amp; max_lookahead &lt; 3) {</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    <span class="comment">// The mask-compare can probably handle this better.</span></div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  }</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;  <span class="keywordflow">if</span> (found_single_character) {</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    Label cont, again;</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;    masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;again);</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;    masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a170549aeb974cf446b8b4c0e66063395">LoadCurrentCharacter</a>(max_lookahead, &amp;cont, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;    <span class="keywordflow">if</span> (max_char_ &gt; kSize) {</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;      masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a61edaa41363cb4d08116a3356cdd11df">CheckCharacterAfterAnd</a>(single_character,</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;                                   <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a55bc20a159f012c3214887b1a405106f">RegExpMacroAssembler::kTableMask</a>,</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                                   &amp;cont);</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;      masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8d25d2697abbda95aeeb323eb9fad9a0">CheckCharacter</a>(single_character, &amp;cont);</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;    }</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a416082488c33841cd2f26f5c5c14d6ca">AdvanceCurrentPosition</a>(lookahead_width);</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(&amp;again);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;cont);</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  }</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  <a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html">Factory</a>* factory = masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()-&gt;<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">factory</a>();</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;ByteArray&gt;</a> boolean_skip_table = factory-&gt;<a class="code" href="../../dd/d91/classv8_1_1internal_1_1_factory.html#acc2479a030b5207a753706f8708f401b">NewByteArray</a>(kSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf3d0d752de4b5754a85fcdaaf0a2f26c">TENURED</a>);</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  <span class="keywordtype">int</span> skip_distance = GetSkipTable(</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;      min_lookahead, max_lookahead, boolean_skip_table);</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(skip_distance != 0);</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  Label cont, again;</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;again);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a170549aeb974cf446b8b4c0e66063395">LoadCurrentCharacter</a>(max_lookahead, &amp;cont, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ae3460e47b8b36503208537fa3c0365b0">CheckBitInTable</a>(boolean_skip_table, &amp;cont);</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a416082488c33841cd2f26f5c5c14d6ca">AdvanceCurrentPosition</a>(skip_distance);</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;  masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(&amp;again);</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  masm-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;cont);</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;}</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;<span class="comment">/* Code generation for choice nodes.</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;<span class="comment"> * We generate quick checks that do a mask and compare to eliminate a</span></div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;<span class="comment"> * choice.  If the quick check succeeds then it jumps to the continuation to</span></div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;<span class="comment"> * do slow checks and check subsequent nodes.  If it fails (the common case)</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;<span class="comment"> * it falls through to the next choice.</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;<span class="comment"> * Here is the desired flow graph.  Nodes directly below each other imply</span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;<span class="comment"> * fallthrough.  Alternatives 1 and 2 have quick checks.  Alternative</span></div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;<span class="comment"> * 3 doesn&#39;t have a quick check so we have to call the slow check.</span></div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;<span class="comment"> * Nodes are marked Qn for quick checks and Sn for slow checks.  The entire</span></div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;<span class="comment"> * regexp continuation is generated directly after the Sn node, up to the</span></div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;<span class="comment"> * next GoTo if we decide to reuse some already generated code.  Some</span></div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;<span class="comment"> * nodes expect preload_characters to be preloaded into the current</span></div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;<span class="comment"> * character register.  R nodes do this preloading.  Vertices are marked</span></div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;<span class="comment"> * F for failures and S for success (possible success in the case of quick</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;<span class="comment"> * nodes).  L, V, &lt; and &gt; are used as arrow heads.</span></div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;<span class="comment"> * ----------&gt; R</span></div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;<span class="comment"> *             |</span></div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;<span class="comment"> *             V</span></div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;<span class="comment"> *            Q1 -----&gt; S1</span></div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;<span class="comment"> *             |   S   /</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;<span class="comment"> *            F|      /</span></div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;<span class="comment"> *             |    F/</span></div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;<span class="comment"> *             |    /</span></div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;<span class="comment"> *             |   R</span></div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;<span class="comment"> *             |  /</span></div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;<span class="comment"> *             V L</span></div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;<span class="comment"> *            Q2 -----&gt; S2</span></div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;<span class="comment"> *             |   S   /</span></div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;<span class="comment"> *            F|      /</span></div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;<span class="comment"> *             |    F/</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;<span class="comment"> *             |    /</span></div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;<span class="comment"> *             |   R</span></div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;<span class="comment"> *             |  /</span></div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;<span class="comment"> *             V L</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;<span class="comment"> *            S3</span></div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;<span class="comment"> *             |</span></div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;<span class="comment"> *            F|</span></div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;<span class="comment"> *             |</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;<span class="comment"> *             R</span></div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;<span class="comment"> *             |</span></div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;<span class="comment"> * backtrack   V</span></div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;<span class="comment"> * &lt;----------Q4</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;<span class="comment"> *   \    F    |</span></div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;<span class="comment"> *    \        |S</span></div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;<span class="comment"> *     \   F   V</span></div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;<span class="comment"> *      \-----S4</span></div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;<span class="comment"> * For greedy loops we reverse our expectation and expect to match rather</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;<span class="comment"> * than fail. Therefore we want the loop code to look like this (U is the</span></div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;<span class="comment"> * unwind code that steps back in the greedy loop).  The following alternatives</span></div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;<span class="comment"> * look the same as above.</span></div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;<span class="comment"> *              _____</span></div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;<span class="comment"> *             /     \</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;<span class="comment"> *             V     |</span></div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;<span class="comment"> * ----------&gt; S1    |</span></div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;<span class="comment"> *            /|     |</span></div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;<span class="comment"> *           / |S    |</span></div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;<span class="comment"> *         F/  \_____/</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;<span class="comment"> *         /</span></div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;<span class="comment"> *        |&lt;-----------</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;<span class="comment"> *        |            \</span></div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;<span class="comment"> *        V             \</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;<span class="comment"> *        Q2 ---&gt; S2     \</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;<span class="comment"> *        |  S   /       |</span></div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;<span class="comment"> *       F|     /        |</span></div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;<span class="comment"> *        |   F/         |</span></div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;<span class="comment"> *        |   /          |</span></div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;<span class="comment"> *        |  R           |</span></div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;<span class="comment"> *        | /            |</span></div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;<span class="comment"> *   F    VL             |</span></div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;<span class="comment"> * &lt;------U              |</span></div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;<span class="comment"> * back   |S             |</span></div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;<span class="comment"> *        \______________/</span></div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;</div>
<div class="line"><a name="l03928"></a><span class="lineno"><a class="line" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#adcf87d1548a77913bc9b2ab00539c0a2"> 3928</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#adcf87d1548a77913bc9b2ab00539c0a2">ChoiceNode::Emit</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* macro_assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;  <span class="keywordtype">int</span> choice_count = <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">alternatives_</a>-&gt;length();</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; choice_count - 1; i++) {</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alternative = <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">alternatives_</a>-&gt;at(i);</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;Guard*&gt;</a>* guards = alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>();</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;    <span class="keywordtype">int</span> guard_count = (guards == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) ? 0 : guards-&gt;length();</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; guard_count; j++) {</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a672e65697deaa09eb4fa423968e5a7f0">mentions_reg</a>(guards-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(j)-&gt;reg()));</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;    }</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  }</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698b">LimitResult</a> limit_result = <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a572c2762346f34ffbecc288554574dc8">LimitVersions</a>(compiler, trace);</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;  <span class="keywordflow">if</span> (limit_result == <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698ba9c954bcf443428c80b0f107b3bc48749">DONE</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(limit_result == <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698ba49959dd441dcda75d6898cf2c68fb374">CONTINUE</a>);</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;  <span class="keywordtype">int</span> new_flush_budget = trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aecfc202e4e328213f017d8bfea442602">flush_budget</a>() / choice_count;</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;  <span class="keywordflow">if</span> (trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aecfc202e4e328213f017d8bfea442602">flush_budget</a>() == 0 &amp;&amp; trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#afcc6b3bbbe4a33e9bebe66f85bc51eb4">actions</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Flush</a>(compiler, <span class="keyword">this</span>);</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;  }</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  <a class="code" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html">RecursionCheck</a> rc(compiler);</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* current_trace = trace;</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  <span class="keywordtype">int</span> text_length = <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a1779245274893c36bdc6c29c9aa1e78e">GreedyLoopTextLengthForAlternative</a>(&amp;(<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">alternatives_</a>-&gt;at(0)));</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <span class="keywordtype">bool</span> greedy_loop = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  Label greedy_loop_label;</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> counter_backtrack_trace;</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;  counter_backtrack_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ab35bf036a462f0e82cabba4c61a84491">set_backtrack</a>(&amp;greedy_loop_label);</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a0ef79f18aadaaf13a5a16191c81daffa">not_at_start</a>()) counter_backtrack_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae611c22c88cd712f5de2fccb737c925a">set_at_start</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;  <span class="keywordflow">if</span> (choice_count &gt; 1 &amp;&amp; text_length != <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#af2bccb42d16455b789dc4362fc3cb784">kNodeIsTooComplexForGreedyLoops</a>) {</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    <span class="comment">// Here we have special handling for greedy loops containing only text nodes</span></div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <span class="comment">// and other simple nodes.  These are handled by pushing the current</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;    <span class="comment">// position on the stack and then incrementing the current position each</span></div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    <span class="comment">// time around the switch.  On backtrack we decrement the current position</span></div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;    <span class="comment">// and check it against the pushed value.  This avoids pushing backtrack</span></div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;    <span class="comment">// information for each iteration of the loop, which could take up a lot of</span></div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    <span class="comment">// space.</span></div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;    greedy_loop = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a17aad9f3e6fb63578ab794d064d13ce6">stop_node</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a1eeb573d37905e75d33c94f562c7e6b7">PushCurrentPosition</a>();</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;    current_trace = &amp;counter_backtrack_trace;</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;    Label greedy_match_failed;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;    <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> greedy_match_trace;</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a0ef79f18aadaaf13a5a16191c81daffa">not_at_start</a>()) greedy_match_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae611c22c88cd712f5de2fccb737c925a">set_at_start</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    greedy_match_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ab35bf036a462f0e82cabba4c61a84491">set_backtrack</a>(&amp;greedy_match_failed);</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    Label loop_label;</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;loop_label);</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    greedy_match_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aba7342760ccaec5ccb92c6e19bfab8b1">set_stop_node</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;    greedy_match_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a20edffa8d68120954ea187cb1712767e">set_loop_label</a>(&amp;loop_label);</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;    <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">alternatives_</a>-&gt;at(0).node()-&gt;Emit(compiler, &amp;greedy_match_trace);</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;greedy_match_failed);</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  }</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;  Label second_choice;  <span class="comment">// For use in greedy matches.</span></div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;second_choice);</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <span class="keywordtype">int</span> first_normal_choice = greedy_loop ? 1 : 0;</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  <span class="keywordtype">bool</span> not_at_start = current_trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ad25392e0b5e996bb4a15285ab11d22c6">at_start</a>() == <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kEatsAtLeastNotYetInitialized = -1;</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  <span class="keywordtype">int</span> eats_at_least = kEatsAtLeastNotYetInitialized;</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;  <span class="keywordtype">bool</span> skip_was_emitted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  <span class="keywordflow">if</span> (!greedy_loop &amp;&amp; choice_count == 2) {</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;    <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alt1 = <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">alternatives_</a>-&gt;at(1);</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <span class="keywordflow">if</span> (alt1.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> || alt1.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>()-&gt;length() == 0) {</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;      <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* eats_anything_node = alt1.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>();</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;      <span class="keywordflow">if</span> (eats_anything_node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a2688ddbd9e79f6cd0af32cc89f5e8f40">GetSuccessorOfOmnivorousTextNode</a>(compiler) ==</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;          <span class="keyword">this</span>) {</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;        <span class="comment">// At this point we know that we are at a non-greedy loop that will eat</span></div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;        <span class="comment">// any character one at a time.  Any non-anchored regexp has such a</span></div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;        <span class="comment">// loop prepended to it in order to find where it starts.  We look for</span></div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;        <span class="comment">// a pattern of the form ...abc... where we can look 6 characters ahead</span></div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;        <span class="comment">// and step forwards 3 if the character is not one of abc.  Abc need</span></div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        <span class="comment">// not be atoms, they can be any reasonably limited character class or</span></div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;        <span class="comment">// small alternation.</span></div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>());  <span class="comment">// This is the case on LoopChoiceNodes.</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;        <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>* lookahead = <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1199b3c74c3d6949d74f912bd01bf15f">bm_info</a>(not_at_start);</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;        <span class="keywordflow">if</span> (lookahead == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;          eats_at_least = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9da011eef375046e863ae0607148a362">kMaxLookaheadForBoyerMoore</a>,</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;                              <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a80133ae4529af28fbf5f4c988e015792">EatsAtLeast</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9da011eef375046e863ae0607148a362">kMaxLookaheadForBoyerMoore</a>,</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;                                          <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1e2abe976c69112c4ba4663bada3e281">kRecursionBudget</a>,</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;                                          not_at_start));</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;          <span class="keywordflow">if</span> (eats_at_least &gt;= 1) {</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;            <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>* bm =</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;                <span class="keyword">new</span>(<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()) <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>(eats_at_least,</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;                                                compiler,</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;                                                <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;            <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alt0 = <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">alternatives_</a>-&gt;at(0);</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;            alt0.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab25a373b2e7c1252b7617520364e502a">FillInBMInfo</a>(0, <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1e2abe976c69112c4ba4663bada3e281">kRecursionBudget</a>, bm, not_at_start);</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;            skip_was_emitted = bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a0c5f9cb19744fad0d6aeae3a5f1a0497">EmitSkipInstructions</a>(macro_assembler);</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;          }</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;          skip_was_emitted = lookahead-&gt;EmitSkipInstructions(macro_assembler);</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;        }</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;      }</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    }</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  }</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;  <span class="keywordflow">if</span> (eats_at_least == kEatsAtLeastNotYetInitialized) {</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    <span class="comment">// Save some time by looking at most one machine word ahead.</span></div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    eats_at_least =</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;        <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a80133ae4529af28fbf5f4c988e015792">EatsAtLeast</a>(compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">ascii</a>() ? 4 : 2, <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1e2abe976c69112c4ba4663bada3e281">kRecursionBudget</a>, <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a0ef79f18aadaaf13a5a16191c81daffa">not_at_start</a>);</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;  }</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;  <span class="keywordtype">int</span> preload_characters = CalculatePreloadCharacters(compiler, eats_at_least);</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  <span class="keywordtype">bool</span> preload_is_current = !skip_was_emitted &amp;&amp;</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;      (current_trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a563872b94167abe32e27c06082a15e12">characters_preloaded</a>() == preload_characters);</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;  <span class="keywordtype">bool</span> preload_has_checked_bounds = preload_is_current;</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;  <a class="code" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html">AlternativeGenerationList</a> alt_gens(choice_count, <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;  <span class="comment">// For now we just call all choices one after the other.  The idea ultimately</span></div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;  <span class="comment">// is to use the Dispatch table to try only the relevant ones.</span></div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = first_normal_choice; i &lt; choice_count; i++) {</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alternative = <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">alternatives_</a>-&gt;at(i);</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html">AlternativeGeneration</a>* alt_gen = alt_gens.<a class="code" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#ab3be7e6940da4c18a5bc91f086abe3ca">at</a>(i);</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a1c5533a8f4c3d4cf2bdebe558f9e8867">quick_check_details</a>.<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a20d9549a6c934400e0c3db1982902bf9">set_characters</a>(preload_characters);</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;Guard*&gt;</a>* guards = alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>();</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;    <span class="keywordtype">int</span> guard_count = (guards == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) ? 0 : guards-&gt;length();</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_trace(*current_trace);</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a4fadca6f2c94d4e8197cf24a9accb87c">set_characters_preloaded</a>(preload_is_current ?</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;                                         preload_characters :</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;                                         0);</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    <span class="keywordflow">if</span> (preload_has_checked_bounds) {</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;      new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a76897e2f9e7ecf9192893ab10d015ae9">set_bound_checked_up_to</a>(preload_characters);</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;    }</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a2ca2d2c8bbde63dd1810dab4a49e9f10">quick_check_performed</a>()-&gt;<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    <span class="keywordflow">if</span> (not_at_start_) new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae611c22c88cd712f5de2fccb737c925a">set_at_start</a>(<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>);</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;    alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a8b6e14f42b5eb9c5bb545879e6b231c5">expects_preload</a> = preload_is_current;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;    <span class="keywordtype">bool</span> generate_full_check_inline = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;    <span class="keywordflow">if</span> (FLAG_regexp_optimization &amp;&amp;</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;        <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a621c9f18bfa3d14cf1b53a8860ad31bb">try_to_emit_quick_check_for_alternative</a>(i) &amp;&amp;</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;        alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a57e6c43abaa66dd869ea45b4f97184d7">EmitQuickCheck</a>(compiler,</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;                                           &amp;new_trace,</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;                                           preload_has_checked_bounds,</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;                                           &amp;alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a0685c2a9ce0acf259ad1263a61e2ebec">possible_success</a>,</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;                                           &amp;alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a1c5533a8f4c3d4cf2bdebe558f9e8867">quick_check_details</a>,</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;                                           i &lt; choice_count - 1)) {</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;      <span class="comment">// Quick check was generated for this choice.</span></div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;      preload_is_current = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;      preload_has_checked_bounds = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;      <span class="comment">// On the last choice in the ChoiceNode we generated the quick</span></div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;      <span class="comment">// check to fall through on possible success.  So now we need to</span></div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;      <span class="comment">// generate the full check inline.</span></div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;      <span class="keywordflow">if</span> (i == choice_count - 1) {</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;        macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a0685c2a9ce0acf259ad1263a61e2ebec">possible_success</a>);</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;        new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aa91da1caf0695fe6ecbb19b17e759336">set_quick_check_performed</a>(&amp;alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a1c5533a8f4c3d4cf2bdebe558f9e8867">quick_check_details</a>);</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;        new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a4fadca6f2c94d4e8197cf24a9accb87c">set_characters_preloaded</a>(preload_characters);</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;        new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a76897e2f9e7ecf9192893ab10d015ae9">set_bound_checked_up_to</a>(preload_characters);</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;        generate_full_check_inline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;      }</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a1c5533a8f4c3d4cf2bdebe558f9e8867">quick_check_details</a>.<a class="code" href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa64456812be53c41ea02111b5cbdcb8c">cannot_match</a>()) {</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;      <span class="keywordflow">if</span> (i == choice_count - 1 &amp;&amp; !greedy_loop) {</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;        macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;      }</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;      <span class="comment">// No quick check was generated.  Put the full code here.</span></div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;      <span class="comment">// If this is not the first choice then there could be slow checks from</span></div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;      <span class="comment">// previous cases that go here when they fail.  There&#39;s no reason to</span></div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;      <span class="comment">// insist that they preload characters since the slow check we are about</span></div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;      <span class="comment">// to generate probably can&#39;t use it.</span></div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;      <span class="keywordflow">if</span> (i != first_normal_choice) {</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;        alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a8b6e14f42b5eb9c5bb545879e6b231c5">expects_preload</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;        new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac1688599684fdda143cf66441a7bd07">InvalidateCurrentCharacter</a>();</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;      }</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      <span class="keywordflow">if</span> (i &lt; choice_count - 1) {</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;        new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ab35bf036a462f0e82cabba4c61a84491">set_backtrack</a>(&amp;alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#abfeff53910a50c12485ca4d21930353e">after</a>);</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;      }</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;      generate_full_check_inline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    }</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;    <span class="keywordflow">if</span> (generate_full_check_inline) {</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;      <span class="keywordflow">if</span> (new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#afcc6b3bbbe4a33e9bebe66f85bc51eb4">actions</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;        new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac05302071fa8ca5949d7ba4e391cfe44">set_flush_budget</a>(new_flush_budget);</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;      }</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; guard_count; j++) {</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;        GenerateGuard(macro_assembler, guards-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(j), &amp;new_trace);</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;      }</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;      alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;new_trace);</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;      preload_is_current = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    }</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#abfeff53910a50c12485ca4d21930353e">after</a>);</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;  }</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;  <span class="keywordflow">if</span> (greedy_loop) {</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;greedy_loop_label);</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    <span class="comment">// If we have unwound to the bottom then backtrack.</span></div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8b7d4323220ed806b78e031f34980a74">CheckGreedyLoop</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;    <span class="comment">// Otherwise try the second priority at an earlier position.</span></div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a416082488c33841cd2f26f5c5c14d6ca">AdvanceCurrentPosition</a>(-text_length);</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(&amp;second_choice);</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;  }</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  <span class="comment">// At this point we need to generate slow checks for the alternatives where</span></div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  <span class="comment">// the quick check was inlined.  We can recognize these because the associated</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <span class="comment">// label was bound.</span></div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = first_normal_choice; i &lt; choice_count - 1; i++) {</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html">AlternativeGeneration</a>* alt_gen = alt_gens.<a class="code" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#ab3be7e6940da4c18a5bc91f086abe3ca">at</a>(i);</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_trace(*current_trace);</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <span class="comment">// If there are actions to be flushed we have to limit how many times</span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;    <span class="comment">// they are flushed.  Take the budget of the parent trace and distribute</span></div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    <span class="comment">// it fairly amongst the children.</span></div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;    <span class="keywordflow">if</span> (new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#afcc6b3bbbe4a33e9bebe66f85bc51eb4">actions</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;      new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac05302071fa8ca5949d7ba4e391cfe44">set_flush_budget</a>(new_flush_budget);</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    }</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    EmitOutOfLineContinuation(compiler,</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;                              &amp;new_trace,</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;                              <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">alternatives_</a>-&gt;at(i),</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;                              alt_gen,</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;                              preload_characters,</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;                              alt_gens.<a class="code" href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#ab3be7e6940da4c18a5bc91f086abe3ca">at</a>(i + 1)-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a8b6e14f42b5eb9c5bb545879e6b231c5">expects_preload</a>);</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;  }</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;}</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;<span class="keywordtype">void</span> ChoiceNode::EmitOutOfLineContinuation(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler,</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;                                           <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace,</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;                                           <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a> alternative,</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;                                           <a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html">AlternativeGeneration</a>* alt_gen,</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;                                           <span class="keywordtype">int</span> preload_characters,</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;                                           <span class="keywordtype">bool</span> next_expects_preload) {</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  <span class="keywordflow">if</span> (!alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a0685c2a9ce0acf259ad1263a61e2ebec">possible_success</a>.is_linked()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* macro_assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;  macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a0685c2a9ce0acf259ad1263a61e2ebec">possible_success</a>);</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;  <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> out_of_line_trace(*trace);</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;  out_of_line_trace.set_characters_preloaded(preload_characters);</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;  out_of_line_trace.set_quick_check_performed(&amp;alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a1c5533a8f4c3d4cf2bdebe558f9e8867">quick_check_details</a>);</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;  <span class="keywordflow">if</span> (not_at_start_) out_of_line_trace.set_at_start(<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">Trace::FALSE_VALUE</a>);</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;Guard*&gt;</a>* guards = alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>();</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;  <span class="keywordtype">int</span> guard_count = (guards == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) ? 0 : guards-&gt;length();</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;  <span class="keywordflow">if</span> (next_expects_preload) {</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    Label reload_current_char;</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    out_of_line_trace.set_backtrack(&amp;reload_current_char);</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; guard_count; j++) {</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;      GenerateGuard(macro_assembler, guards-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(j), &amp;out_of_line_trace);</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;    }</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;    alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;out_of_line_trace);</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;reload_current_char);</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;    <span class="comment">// Reload the current character, since the next quick check expects that.</span></div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    <span class="comment">// We don&#39;t need to check bounds here because we only get into this</span></div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;    <span class="comment">// code through a quick check which already did the checked load.</span></div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a170549aeb974cf446b8b4c0e66063395">LoadCurrentCharacter</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>(),</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;                                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>,</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;                                          <span class="keyword">false</span>,</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;                                          preload_characters);</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    macro_assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(&amp;(alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#abfeff53910a50c12485ca4d21930353e">after</a>));</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    out_of_line_trace.set_backtrack(&amp;(alt_gen-&gt;<a class="code" href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#abfeff53910a50c12485ca4d21930353e">after</a>));</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; guard_count; j++) {</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;      GenerateGuard(macro_assembler, guards-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(j), &amp;out_of_line_trace);</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    }</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    alternative.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;out_of_line_trace);</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;  }</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;}</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;</div>
<div class="line"><a name="l04192"></a><span class="lineno"><a class="line" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#adcf87d1548a77913bc9b2ab00539c0a2"> 4192</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#adcf87d1548a77913bc9b2ab00539c0a2">ActionNode::Emit</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698b">LimitResult</a> limit_result = <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a572c2762346f34ffbecc288554574dc8">LimitVersions</a>(compiler, trace);</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;  <span class="keywordflow">if</span> (limit_result == <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698ba9c954bcf443428c80b0f107b3bc48749">DONE</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(limit_result == <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698ba49959dd441dcda75d6898cf2c68fb374">CONTINUE</a>);</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;  <a class="code" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html">RecursionCheck</a> rc(compiler);</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;  <span class="keywordflow">switch</span> (action_type_) {</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950badfba1cc7e906c4022250d065271248ae">STORE_POSITION</a>: {</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;      <a class="code" href="../../d0/d3f/classv8_1_1internal_1_1_trace_1_1_deferred_capture.html">Trace::DeferredCapture</a></div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;          new_capture(data_.u_position_register.reg,</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;                      data_.u_position_register.is_capture,</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;                      trace);</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;      <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_trace = *trace;</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;      new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac3d1d8755c556097f18f52fc1b9de9a">add_action</a>(&amp;new_capture);</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;      <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;new_trace);</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    }</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950bac532c07128e84d4319797277198b5ec2">INCREMENT_REGISTER</a>: {</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;      <a class="code" href="../../db/d90/classv8_1_1internal_1_1_trace_1_1_deferred_increment_register.html">Trace::DeferredIncrementRegister</a></div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;          new_increment(data_.u_increment_register.reg);</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;      <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_trace = *trace;</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;      new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac3d1d8755c556097f18f52fc1b9de9a">add_action</a>(&amp;new_increment);</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;      <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;new_trace);</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    }</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba5320cb7aedaa3d802dcb62971a5b2ebf">SET_REGISTER</a>: {</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;      <a class="code" href="../../d6/d87/classv8_1_1internal_1_1_trace_1_1_deferred_set_register.html">Trace::DeferredSetRegister</a></div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;          new_set(data_.u_store_register.reg, data_.u_store_register.value);</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;      <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_trace = *trace;</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;      new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac3d1d8755c556097f18f52fc1b9de9a">add_action</a>(&amp;new_set);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;      <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;new_trace);</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;    }</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba4e8ab798d920ae0697c7bce2b9f04f6a">CLEAR_CAPTURES</a>: {</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;      <a class="code" href="../../d2/d5d/classv8_1_1internal_1_1_trace_1_1_deferred_clear_captures.html">Trace::DeferredClearCaptures</a></div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;        new_capture(<a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html">Interval</a>(data_.u_clear_captures.range_from,</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;                             data_.u_clear_captures.range_to));</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;      <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_trace = *trace;</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;      new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac3d1d8755c556097f18f52fc1b9de9a">add_action</a>(&amp;new_capture);</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;      <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;new_trace);</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;    }</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba776121259d1b943e213a27d1d044fce2">BEGIN_SUBMATCH</a>:</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      <span class="keywordflow">if</span> (!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>()) {</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;        trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Flush</a>(compiler, <span class="keyword">this</span>);</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;        assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a82b439ee7b7bb7c99d319f9c0f377aaf">WriteCurrentPositionToRegister</a>(</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;            data_.u_submatch.current_position_register, 0);</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;        assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a540897bc4b8c37f64b4de2b060e18efa">WriteStackPointerToRegister</a>(</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;            data_.u_submatch.stack_pointer_register);</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;        <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, trace);</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;      }</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba463d5cbdcbe7099c62bfbc14e021badb">EMPTY_MATCH_CHECK</a>: {</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;      <span class="keywordtype">int</span> start_pos_reg = data_.u_empty_match_check.start_register;</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;      <span class="keywordtype">int</span> stored_pos = 0;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;      <span class="keywordtype">int</span> rep_reg = data_.u_empty_match_check.repetition_register;</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;      <span class="keywordtype">bool</span> has_minimum = (rep_reg != <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a31879679b6594fbb6d10e96e485cfcc7">RegExpCompiler::kNoRegister</a>);</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;      <span class="keywordtype">bool</span> know_dist = trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a32dc99dd100d25eac8d07dd33bb74b9c">GetStoredPosition</a>(start_pos_reg, &amp;stored_pos);</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;      <span class="keywordflow">if</span> (know_dist &amp;&amp; !has_minimum &amp;&amp; stored_pos == trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">cp_offset</a>()) {</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;        <span class="comment">// If we know we haven&#39;t advanced and there is no minimum we</span></div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;        <span class="comment">// can just backtrack immediately.</span></div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;        assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">GoTo</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (know_dist &amp;&amp; stored_pos &lt; trace-&gt;cp_offset()) {</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;        <span class="comment">// If we know we&#39;ve advanced we can generate the continuation</span></div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;        <span class="comment">// immediately.</span></div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;        <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, trace);</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>()) {</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;        trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Flush</a>(compiler, <span class="keyword">this</span>);</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;        Label skip_empty_check;</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;        <span class="comment">// If we have a minimum number of repetitions we check the current</span></div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;        <span class="comment">// number first and skip the empty check if it&#39;s not enough.</span></div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;        <span class="keywordflow">if</span> (has_minimum) {</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;          <span class="keywordtype">int</span> limit = data_.u_empty_match_check.repetition_limit;</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;          assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8ee52ba7ad5d191a1e1db65b26af54e7">IfRegisterLT</a>(rep_reg, limit, &amp;skip_empty_check);</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;        }</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;        <span class="comment">// If the match is empty we bail out, otherwise we fall through</span></div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;        <span class="comment">// to the on-success continuation.</span></div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;        assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a1da4f8908c5247959e6007d6d2f57f1e">IfRegisterEqPos</a>(data_.u_empty_match_check.start_register,</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;                                   trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;        assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;skip_empty_check);</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;        <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, trace);</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;      }</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;    }</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba3354f3542d9a79335546b8d55469776d">POSITIVE_SUBMATCH_SUCCESS</a>: {</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;      <span class="keywordflow">if</span> (!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>()) {</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;        trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Flush</a>(compiler, <span class="keyword">this</span>);</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;      }</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa451955c0f1011fb012e3bb8263fa129">ReadCurrentPositionFromRegister</a>(</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;          data_.u_submatch.current_position_register);</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0bd9ede5bc67686059167db5504e8420">ReadStackPointerFromRegister</a>(</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;          data_.u_submatch.stack_pointer_register);</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#afe7636348b72eec24f6c5603e25c47db">clear_register_count</a> = data_.u_submatch.clear_register_count;</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;      <span class="keywordflow">if</span> (clear_register_count == 0) {</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;        <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, trace);</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;      }</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;      <span class="keywordtype">int</span> clear_registers_from = data_.u_submatch.clear_register_from;</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;      Label clear_registers_backtrack;</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;      <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a> new_trace = *trace;</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;      new_trace.<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ab35bf036a462f0e82cabba4c61a84491">set_backtrack</a>(&amp;clear_registers_backtrack);</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;      <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, &amp;new_trace);</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">Bind</a>(&amp;clear_registers_backtrack);</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;      <span class="keywordtype">int</span> clear_registers_to = clear_registers_from + clear_register_count - 1;</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa55df1b98219bf14033b93f65269080c">ClearRegisters</a>(clear_registers_from, clear_registers_to);</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;      assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa87841b829265864c139464be369ac70">Backtrack</a>();</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;    }</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;  }</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;}</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;</div>
<div class="line"><a name="l04314"></a><span class="lineno"><a class="line" href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#adcf87d1548a77913bc9b2ab00539c0a2"> 4314</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#adcf87d1548a77913bc9b2ab00539c0a2">BackReferenceNode::Emit</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html">Trace</a>* trace) {</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;  <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">RegExpMacroAssembler</a>* assembler = compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">macro_assembler</a>();</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  <span class="keywordflow">if</span> (!trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">is_trivial</a>()) {</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">Flush</a>(compiler, <span class="keyword">this</span>);</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  }</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698b">LimitResult</a> limit_result = <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a572c2762346f34ffbecc288554574dc8">LimitVersions</a>(compiler, trace);</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;  <span class="keywordflow">if</span> (limit_result == <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698ba9c954bcf443428c80b0f107b3bc48749">DONE</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(limit_result == <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698ba49959dd441dcda75d6898cf2c68fb374">CONTINUE</a>);</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <a class="code" href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html">RecursionCheck</a> rc(compiler);</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(start_reg_ + 1, end_reg_);</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;  <span class="keywordflow">if</span> (compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a34e4782c368d557b6c861ae6de97d128">ignore_case</a>()) {</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#acd07f0eb22425e1dd3312f8e095c146e">CheckNotBackReferenceIgnoreCase</a>(start_reg_,</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;                                               trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;    assembler-&gt;<a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a5fa3f83bf984177723a982f2a74b4e48">CheckNotBackReference</a>(start_reg_, trace-&gt;<a class="code" href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">backtrack</a>());</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;  }</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;  <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">Emit</a>(compiler, trace);</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;}</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;<span class="comment">// -------------------------------------------------------------------</span></div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;<span class="comment">// Dot/dotty output</span></div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;<span class="keyword">class </span>DotPrinter: <span class="keyword">public</span> <a class="code" href="../../df/df8/classv8_1_1internal_1_1_node_visitor.html">NodeVisitor</a> {</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;  <span class="keyword">explicit</span> DotPrinter(<span class="keywordtype">bool</span> ignore_case)</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;      : ignore_case_(ignore_case),</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;        <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>(&amp;alloc_) { }</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;  <span class="keywordtype">void</span> PrintNode(<span class="keyword">const</span> <span class="keywordtype">char</span>* label, RegExpNode* node);</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;  <span class="keywordtype">void</span> Visit(RegExpNode* node);</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;  <span class="keywordtype">void</span> PrintAttributes(RegExpNode* from);</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;  StringStream* stream() { <span class="keywordflow">return</span> &amp;<a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>; }</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;  <span class="keywordtype">void</span> PrintOnFailure(RegExpNode* from, RegExpNode* to);</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;<span class="preprocessor">#define DECLARE_VISIT(Type)                                          \</span></div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;<span class="preprocessor">  virtual void Visit##Type(Type##Node* that);</span></div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;<a class="code" href="../../d7/d0c/jsregexp_8h.html#a9b694eeb3fc5709b228ca212e7a6e211">FOR_EACH_NODE_TYPE</a>(<a class="code" href="../../d5/d3f/full-codegen_8h.html#acf1a97e3dc1fb4583362725ee70ba04a">DECLARE_VISIT</a>)</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;<span class="preprocessor">#undef DECLARE_VISIT</span></div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;  <span class="keywordtype">bool</span> ignore_case_;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;  HeapStringAllocator alloc_;</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;  StringStream <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>;</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;};</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;<span class="keywordtype">void</span> DotPrinter::PrintNode(<span class="keyword">const</span> <span class="keywordtype">char</span>* label, RegExpNode* node) {</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;digraph G {\n  graph [label=\&quot;&quot;</span>);</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; label[i]; i++) {</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;    <span class="keywordflow">switch</span> (label[i]) {</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;        stream()-&gt;Add(<span class="stringliteral">&quot;\\\\&quot;</span>);</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;        stream()-&gt;Add(<span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;        stream()-&gt;Put(label[i]);</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;    }</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;  }</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;\&quot;];\n&quot;</span>);</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;  Visit(node);</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;}\n&quot;</span>);</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;  printf(<span class="stringliteral">&quot;%s&quot;</span>, stream()-&gt;<a class="code" href="../../da/d3d/lineprocessor_8cc.html#a85e2fa9e1c9c033b527f5bb3baf7afb3">ToCString</a>().<span class="keyword">get</span>());</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;}</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;<span class="keywordtype">void</span> DotPrinter::Visit(RegExpNode* node) {</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;  <span class="keywordflow">if</span> (node-&gt;info()-&gt;visited) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;  node-&gt;info()-&gt;visited = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;  node-&gt;Accept(<span class="keyword">this</span>);</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;}</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;<span class="keywordtype">void</span> DotPrinter::PrintOnFailure(RegExpNode* from, RegExpNode* on_failure) {</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p -&gt; n%p [style=dotted];\n&quot;</span>, from, on_failure);</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;  Visit(on_failure);</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;}</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;<span class="keyword">class </span>TableEntryBodyPrinter {</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;  TableEntryBodyPrinter(StringStream* stream, ChoiceNode* choice)</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;      : <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>(stream), choice_(choice) { }</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;  <span class="keywordtype">void</span> Call(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> from, DispatchTable::Entry entry) {</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;    OutSet* out_set = entry.out_set();</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#ac01abfc0824209b97ee423c957ff0e74">OutSet::kFirstLimit</a>; i++) {</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;      <span class="keywordflow">if</span> (out_set-&gt;Get(i)) {</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;        stream()-&gt;Add(<span class="stringliteral">&quot;    n%p:s%io%i -&gt; n%p;\n&quot;</span>,</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;                      choice(),</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;                      from,</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;                      i,</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;                      choice()-&gt;alternatives()-&gt;at(i).node());</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;      }</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;    }</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;  }</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;  StringStream* stream() { <span class="keywordflow">return</span> <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>; }</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;  ChoiceNode* choice() { <span class="keywordflow">return</span> choice_; }</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;  StringStream* <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>;</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;  ChoiceNode* choice_;</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;};</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;<span class="keyword">class </span>TableEntryHeaderPrinter {</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;  <span class="keyword">explicit</span> TableEntryHeaderPrinter(StringStream* stream)</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;      : first_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a29dd6ffe8f62d1541ef1c8056c028e9c">true</a>), <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>(stream) { }</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;  <span class="keywordtype">void</span> Call(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> from, DispatchTable::Entry entry) {</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;    <span class="keywordflow">if</span> (first_) {</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;      first_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;|&quot;</span>);</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;    }</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;    stream()-&gt;Add(<span class="stringliteral">&quot;{\\%k-\\%k|{&quot;</span>, from, entry.to());</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    OutSet* out_set = entry.out_set();</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;    <span class="keywordtype">int</span> priority = 0;</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#ac01abfc0824209b97ee423c957ff0e74">OutSet::kFirstLimit</a>; i++) {</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;      <span class="keywordflow">if</span> (out_set-&gt;Get(i)) {</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        <span class="keywordflow">if</span> (priority &gt; 0) stream()-&gt;Add(<span class="stringliteral">&quot;|&quot;</span>);</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;        stream()-&gt;Add(<span class="stringliteral">&quot;&lt;s%io%i&gt; %i&quot;</span>, from, i, priority);</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;        priority++;</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;      }</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    }</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    stream()-&gt;Add(<span class="stringliteral">&quot;}}&quot;</span>);</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;  }</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;  <span class="keywordtype">bool</span> first_;</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;  StringStream* stream() { <span class="keywordflow">return</span> <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>; }</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;  StringStream* <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>;</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;};</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;<span class="keyword">class </span>AttributePrinter {</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;  <span class="keyword">explicit</span> AttributePrinter(DotPrinter* out)</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;      : out_(out), first_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a29dd6ffe8f62d1541ef1c8056c028e9c">true</a>) { }</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;  <span class="keywordtype">void</span> PrintSeparator() {</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;    <span class="keywordflow">if</span> (first_) {</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;      first_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;      out_-&gt;stream()-&gt;Add(<span class="stringliteral">&quot;|&quot;</span>);</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    }</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;  }</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;  <span class="keywordtype">void</span> PrintBit(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a>, <span class="keywordtype">bool</span> value) {</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    <span class="keywordflow">if</span> (!value) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    PrintSeparator();</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;    out_-&gt;stream()-&gt;Add(<span class="stringliteral">&quot;{%s}&quot;</span>, name);</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;  }</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;  <span class="keywordtype">void</span> PrintPositive(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">int</span> value) {</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;    <span class="keywordflow">if</span> (value &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;    PrintSeparator();</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;    out_-&gt;stream()-&gt;Add(<span class="stringliteral">&quot;{%s|%x}&quot;</span>, name, value);</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;  }</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;  DotPrinter* out_;</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;  <span class="keywordtype">bool</span> first_;</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;};</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;<span class="keywordtype">void</span> DotPrinter::PrintAttributes(RegExpNode* that) {</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  a%p [shape=Mrecord, color=grey, fontcolor=grey, &quot;</span></div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;                <span class="stringliteral">&quot;margin=0.1, fontsize=10, label=\&quot;{&quot;</span>,</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;                that);</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;  AttributePrinter printer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;  NodeInfo* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a> = that-&gt;info();</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;  printer.PrintBit(<span class="stringliteral">&quot;NI&quot;</span>, info-&gt;follows_newline_interest);</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;  printer.PrintBit(<span class="stringliteral">&quot;WI&quot;</span>, info-&gt;follows_word_interest);</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;  printer.PrintBit(<span class="stringliteral">&quot;SI&quot;</span>, info-&gt;follows_start_interest);</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;  Label* label = that-&gt;label();</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;  <span class="keywordflow">if</span> (label-&gt;is_bound())</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    printer.PrintPositive(<span class="stringliteral">&quot;@&quot;</span>, label-&gt;pos());</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;}\&quot;];\n&quot;</span>);</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  a%p -&gt; n%p [style=dashed, color=grey, &quot;</span></div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;                <span class="stringliteral">&quot;arrowhead=none];\n&quot;</span>, that, that);</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;}</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> kPrintDispatchTable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;<span class="keywordtype">void</span> DotPrinter::VisitChoice(ChoiceNode* that) {</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;  <span class="keywordflow">if</span> (kPrintDispatchTable) {</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;    stream()-&gt;Add(<span class="stringliteral">&quot;  n%p [shape=Mrecord, label=\&quot;&quot;</span>, that);</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    TableEntryHeaderPrinter header_printer(stream());</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;    that-&gt;GetTable(ignore_case_)-&gt;ForEach(&amp;header_printer);</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;    stream()-&gt;Add(<span class="stringliteral">&quot;\&quot;]\n&quot;</span>, that);</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;    PrintAttributes(that);</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;    TableEntryBodyPrinter body_printer(stream(), that);</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;    that-&gt;GetTable(ignore_case_)-&gt;ForEach(&amp;body_printer);</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;    stream()-&gt;Add(<span class="stringliteral">&quot;  n%p [shape=Mrecord, label=\&quot;?\&quot;];\n&quot;</span>, that);</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; that-&gt;alternatives()-&gt;length(); i++) {</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;      GuardedAlternative alt = that-&gt;alternatives()-&gt;at(i);</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;  n%p -&gt; n%p;\n&quot;</span>, that, alt.node());</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    }</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;  }</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; that-&gt;alternatives()-&gt;length(); i++) {</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;    GuardedAlternative alt = that-&gt;alternatives()-&gt;at(i);</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;    alt.node()-&gt;Accept(<span class="keyword">this</span>);</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;  }</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;}</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;<span class="keywordtype">void</span> DotPrinter::VisitText(TextNode* that) {</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;  Zone* zone = that-&gt;zone();</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p [label=\&quot;&quot;</span>, that);</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; that-&gt;elements()-&gt;length(); i++) {</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;    <span class="keywordflow">if</span> (i &gt; 0) stream()-&gt;Add(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;    TextElement elm = that-&gt;elements()-&gt;at(i);</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;    <span class="keywordflow">switch</span> (elm.text_type()) {</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;      <span class="keywordflow">case</span> TextElement::ATOM: {</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;        stream()-&gt;Add(<span class="stringliteral">&quot;&#39;%w&#39;&quot;</span>, elm.atom()-&gt;data());</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;      }</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;      <span class="keywordflow">case</span> TextElement::CHAR_CLASS: {</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;        RegExpCharacterClass* node = elm.char_class();</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;        stream()-&gt;Add(<span class="stringliteral">&quot;[&quot;</span>);</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;        <span class="keywordflow">if</span> (node-&gt;is_negated())</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;          stream()-&gt;Add(<span class="stringliteral">&quot;^&quot;</span>);</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; node-&gt;ranges(zone)-&gt;length(); j++) {</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;          CharacterRange range = node-&gt;ranges(zone)-&gt;at(j);</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;          stream()-&gt;Add(<span class="stringliteral">&quot;%k-%k&quot;</span>, range.from(), range.to());</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;        }</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;        stream()-&gt;Add(<span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;      }</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;    }</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;  }</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;\&quot;, shape=box, peripheries=2];\n&quot;</span>);</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;  PrintAttributes(that);</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p -&gt; n%p;\n&quot;</span>, that, that-&gt;on_success());</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;  Visit(that-&gt;on_success());</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;}</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;<span class="keywordtype">void</span> DotPrinter::VisitBackReference(BackReferenceNode* that) {</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p [label=\&quot;$%i..$%i\&quot;, shape=doubleoctagon];\n&quot;</span>,</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;                that,</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;                that-&gt;start_register(),</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;                that-&gt;end_register());</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;  PrintAttributes(that);</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p -&gt; n%p;\n&quot;</span>, that, that-&gt;on_success());</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;  Visit(that-&gt;on_success());</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;}</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;<span class="keywordtype">void</span> DotPrinter::VisitEnd(EndNode* that) {</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p [style=bold, shape=point];\n&quot;</span>, that);</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;  PrintAttributes(that);</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;}</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;<span class="keywordtype">void</span> DotPrinter::VisitAssertion(AssertionNode* that) {</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p [&quot;</span>, that);</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;  <span class="keywordflow">switch</span> (that-&gt;assertion_type()) {</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402aba817d5daa30d120630da830656c80ec">AssertionNode::AT_END</a>:</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;$\&quot;, shape=septagon&quot;</span>);</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a593de3fe66dd4fb0c156ebe006f13c0d">AssertionNode::AT_START</a>:</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;^\&quot;, shape=septagon&quot;</span>);</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a852d5862232544f102842d2fbf0e87ce">AssertionNode::AT_BOUNDARY</a>:</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;\\b\&quot;, shape=septagon&quot;</span>);</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a253b18eb2c813cd90e898bfee8528ac5">AssertionNode::AT_NON_BOUNDARY</a>:</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;\\B\&quot;, shape=septagon&quot;</span>);</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a3650b701dbc7a3d684f3cec77e80d372">AssertionNode::AFTER_NEWLINE</a>:</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;(?&lt;=\\n)\&quot;, shape=septagon&quot;</span>);</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;  }</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;];\n&quot;</span>);</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;  PrintAttributes(that);</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;  RegExpNode* successor = that-&gt;on_success();</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p -&gt; n%p;\n&quot;</span>, that, successor);</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;  Visit(successor);</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;}</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;<span class="keywordtype">void</span> DotPrinter::VisitAction(ActionNode* that) {</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p [&quot;</span>, that);</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;  <span class="keywordflow">switch</span> (that-&gt;action_type_) {</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba5320cb7aedaa3d802dcb62971a5b2ebf">ActionNode::SET_REGISTER</a>:</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;$%i:=%i\&quot;, shape=octagon&quot;</span>,</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;                    that-&gt;data_.u_store_register.reg,</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;                    that-&gt;data_.u_store_register.value);</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950bac532c07128e84d4319797277198b5ec2">ActionNode::INCREMENT_REGISTER</a>:</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;$%i++\&quot;, shape=octagon&quot;</span>,</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;                    that-&gt;data_.u_increment_register.reg);</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950badfba1cc7e906c4022250d065271248ae">ActionNode::STORE_POSITION</a>:</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;$%i:=$pos\&quot;, shape=octagon&quot;</span>,</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;                    that-&gt;data_.u_position_register.reg);</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba776121259d1b943e213a27d1d044fce2">ActionNode::BEGIN_SUBMATCH</a>:</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;$%i:=$pos,begin\&quot;, shape=septagon&quot;</span>,</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;                    that-&gt;data_.u_submatch.current_position_register);</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba3354f3542d9a79335546b8d55469776d">ActionNode::POSITIVE_SUBMATCH_SUCCESS</a>:</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;escape\&quot;, shape=septagon&quot;</span>);</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba463d5cbdcbe7099c62bfbc14e021badb">ActionNode::EMPTY_MATCH_CHECK</a>:</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;$%i=$pos?,$%i&lt;%i?\&quot;, shape=septagon&quot;</span>,</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;                    that-&gt;data_.u_empty_match_check.start_register,</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;                    that-&gt;data_.u_empty_match_check.repetition_register,</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;                    that-&gt;data_.u_empty_match_check.repetition_limit);</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba4e8ab798d920ae0697c7bce2b9f04f6a">ActionNode::CLEAR_CAPTURES</a>: {</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;label=\&quot;clear $%i to $%i\&quot;, shape=septagon&quot;</span>,</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;                    that-&gt;data_.u_clear_captures.range_from,</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;                    that-&gt;data_.u_clear_captures.range_to);</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;    }</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;  }</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;];\n&quot;</span>);</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  PrintAttributes(that);</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;  RegExpNode* successor = that-&gt;on_success();</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;  n%p -&gt; n%p;\n&quot;</span>, that, successor);</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;  Visit(successor);</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;}</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;<span class="keyword">class </span>DispatchTableDumper {</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;  <span class="keyword">explicit</span> DispatchTableDumper(StringStream* stream) : <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>(stream) { }</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;  <span class="keywordtype">void</span> Call(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> key, DispatchTable::Entry entry);</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;  StringStream* stream() { <span class="keywordflow">return</span> <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>; }</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;  StringStream* <a class="code" href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a>;</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;};</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;<span class="keywordtype">void</span> DispatchTableDumper::Call(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> key, DispatchTable::Entry entry) {</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;[%k-%k]: {&quot;</span>, key, entry.to());</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;  OutSet* set = entry.out_set();</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;  <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#ac01abfc0824209b97ee423c957ff0e74">OutSet::kFirstLimit</a>; i++) {</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;    <span class="keywordflow">if</span> (set-&gt;Get(i)) {</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;      <span class="keywordflow">if</span> (first) {</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;        first = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;        stream()-&gt;Add(<span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;      }</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;      stream()-&gt;Add(<span class="stringliteral">&quot;%i&quot;</span>, i);</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;    }</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;  }</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;  stream()-&gt;Add(<span class="stringliteral">&quot;}\n&quot;</span>);</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;}</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#a793169e06e9183e678805ce0663b6000">DispatchTable::Dump</a>() {</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;  HeapStringAllocator alloc;</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;  StringStream stream(&amp;alloc);</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;  DispatchTableDumper dumper(&amp;stream);</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;  tree()-&gt;ForEach(&amp;dumper);</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75f2330504a416d8b572870b9cfade17">OS::PrintError</a>(<span class="stringliteral">&quot;%s&quot;</span>, stream.ToCString().get());</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;}</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d51/classv8_1_1internal_1_1_reg_exp_engine.html#a89c522a712bf9194fb63bfd50c9ad72c">RegExpEngine::DotPrint</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* label,</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;                            RegExpNode* node,</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;                            <span class="keywordtype">bool</span> ignore_case) {</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;  DotPrinter printer(ignore_case);</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;  printer.PrintNode(label, node);</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;}</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;<span class="comment">// -------------------------------------------------------------------</span></div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;<span class="comment">// Tree to graph conversion</span></div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;RegExpNode* RegExpAtom::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;                               RegExpNode* on_success) {</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;  ZoneList&lt;TextElement&gt;* elms =</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;      <span class="keyword">new</span>(compiler-&gt;zone()) ZoneList&lt;TextElement&gt;(1, compiler-&gt;zone());</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;  elms-&gt;Add(TextElement::Atom(<span class="keyword">this</span>), compiler-&gt;zone());</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span>(compiler-&gt;zone()) TextNode(elms, on_success);</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;}</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;RegExpNode* RegExpText::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;                               RegExpNode* on_success) {</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span>(compiler-&gt;zone()) TextNode(elements(), on_success);</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;}</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> CompareInverseRanges(ZoneList&lt;CharacterRange&gt;* ranges,</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">int</span>* special_class,</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;                                 <span class="keywordtype">int</span> length) {</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;  length--;  <span class="comment">// Remove final 0x10000.</span></div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(special_class[length] == 0x10000);</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(ranges-&gt;length() != 0);</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(length != 0);</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(special_class[0] != 0);</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;  <span class="keywordflow">if</span> (ranges-&gt;length() != (length &gt;&gt; 1) + 1) {</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;  }</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;  CharacterRange range = ranges-&gt;at(0);</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;  <span class="keywordflow">if</span> (range.from() != 0) {</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;  }</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i += 2) {</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;    <span class="keywordflow">if</span> (special_class[i] != (range.to() + 1)) {</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    }</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;    range = ranges-&gt;at((i &gt;&gt; 1) + 1);</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    <span class="keywordflow">if</span> (special_class[i+1] != range.from()) {</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    }</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;  }</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;  <span class="keywordflow">if</span> (range.to() != 0xffff) {</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;  }</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;}</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> CompareRanges(ZoneList&lt;CharacterRange&gt;* ranges,</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;                          <span class="keyword">const</span> <span class="keywordtype">int</span>* special_class,</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;                          <span class="keywordtype">int</span> length) {</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;  length--;  <span class="comment">// Remove final 0x10000.</span></div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(special_class[length] == 0x10000);</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;  <span class="keywordflow">if</span> (ranges-&gt;length() * 2 != length) {</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;  }</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i += 2) {</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    CharacterRange range = ranges-&gt;at(i &gt;&gt; 1);</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    <span class="keywordflow">if</span> (range.from() != special_class[i] ||</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;        range.to() != special_class[i + 1] - 1) {</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;    }</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;  }</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;}</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;<span class="keywordtype">bool</span> RegExpCharacterClass::is_standard(Zone* zone) {</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;  <span class="comment">// TODO(lrn): Remove need for this function, by not throwing away information</span></div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;  <span class="comment">// along the way.</span></div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;  <span class="keywordflow">if</span> (is_negated_) {</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;  }</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;  <span class="keywordflow">if</span> (set_.is_standard()) {</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;  }</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;  <span class="keywordflow">if</span> (CompareRanges(set_.ranges(zone), kSpaceRanges, kSpaceRangeCount)) {</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;    set_.set_standard_set_type(<span class="charliteral">&#39;s&#39;</span>);</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;  }</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;  <span class="keywordflow">if</span> (CompareInverseRanges(set_.ranges(zone), kSpaceRanges, kSpaceRangeCount)) {</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    set_.set_standard_set_type(<span class="charliteral">&#39;S&#39;</span>);</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;  }</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;  <span class="keywordflow">if</span> (CompareInverseRanges(set_.ranges(zone),</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;                           kLineTerminatorRanges,</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;                           kLineTerminatorRangeCount)) {</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;    set_.set_standard_set_type(<span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;  }</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;  <span class="keywordflow">if</span> (CompareRanges(set_.ranges(zone),</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;                    kLineTerminatorRanges,</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;                    kLineTerminatorRangeCount)) {</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    set_.set_standard_set_type(<span class="charliteral">&#39;n&#39;</span>);</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;  }</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  <span class="keywordflow">if</span> (CompareRanges(set_.ranges(zone), kWordRanges, kWordRangeCount)) {</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;    set_.set_standard_set_type(<span class="charliteral">&#39;w&#39;</span>);</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;  }</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;  <span class="keywordflow">if</span> (CompareInverseRanges(set_.ranges(zone), kWordRanges, kWordRangeCount)) {</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;    set_.set_standard_set_type(<span class="charliteral">&#39;W&#39;</span>);</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;  }</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;}</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;RegExpNode* RegExpCharacterClass::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;                                         RegExpNode* on_success) {</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span>(compiler-&gt;zone()) TextNode(<span class="keyword">this</span>, on_success);</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;}</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;RegExpNode* RegExpDisjunction::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;                                      RegExpNode* on_success) {</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;  ZoneList&lt;RegExpTree*&gt;* alternatives = this-&gt;alternatives();</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;  <span class="keywordtype">int</span> length = alternatives-&gt;length();</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;  ChoiceNode* result =</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;      <span class="keyword">new</span>(compiler-&gt;zone()) ChoiceNode(length, compiler-&gt;zone());</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    GuardedAlternative alternative(alternatives-&gt;at(i)-&gt;ToNode(compiler,</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;                                                               on_success));</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    result-&gt;AddAlternative(alternative);</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;  }</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;}</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;RegExpNode* RegExpQuantifier::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;                                     RegExpNode* on_success) {</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;  <span class="keywordflow">return</span> ToNode(min(),</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;                max(),</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;                is_greedy(),</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;                body(),</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;                compiler,</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;                on_success);</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;}</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;<span class="comment">// Scoped object to keep track of how much we unroll quantifier loops in the</span></div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;<span class="comment">// regexp graph generator.</span></div>
<div class="line"><a name="l04837"></a><span class="lineno"><a class="line" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html"> 4837</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html">RegExpExpansionLimiter</a> {</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04839"></a><span class="lineno"><a class="line" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#acfef1457bb499b9368f690a7866aa263"> 4839</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#acfef1457bb499b9368f690a7866aa263">kMaxExpansionFactor</a> = 6;</div>
<div class="line"><a name="l04840"></a><span class="lineno"><a class="line" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#a05a184681d55b0c5b88908a9cc942881"> 4840</a></span>&#160;  <a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#a05a184681d55b0c5b88908a9cc942881">RegExpExpansionLimiter</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler, <span class="keywordtype">int</span> factor)</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;      : compiler_(compiler),</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;        saved_expansion_factor_(compiler-&gt;current_expansion_factor()),</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;        ok_to_expand_(saved_expansion_factor_ &lt;= <a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#acfef1457bb499b9368f690a7866aa263">kMaxExpansionFactor</a>) {</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(factor &gt; 0);</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    <span class="keywordflow">if</span> (ok_to_expand_) {</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;      <span class="keywordflow">if</span> (factor &gt; <a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#acfef1457bb499b9368f690a7866aa263">kMaxExpansionFactor</a>) {</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;        <span class="comment">// Avoid integer overflow of the current expansion factor.</span></div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;        ok_to_expand_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;        compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afaa7f8dd6a477404b28d9ad16b1f62d5">set_current_expansion_factor</a>(<a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#acfef1457bb499b9368f690a7866aa263">kMaxExpansionFactor</a> + 1);</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;        <span class="keywordtype">int</span> new_factor = saved_expansion_factor_ * factor;</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;        ok_to_expand_ = (new_factor &lt;= <a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#acfef1457bb499b9368f690a7866aa263">kMaxExpansionFactor</a>);</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;        compiler-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afaa7f8dd6a477404b28d9ad16b1f62d5">set_current_expansion_factor</a>(new_factor);</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;      }</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    }</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;  }</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;</div>
<div class="line"><a name="l04858"></a><span class="lineno"><a class="line" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#a7913d17501ecd4467723b505aebc3d81"> 4858</a></span>&#160;  <a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#a7913d17501ecd4467723b505aebc3d81">~RegExpExpansionLimiter</a>() {</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;    compiler_-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afaa7f8dd6a477404b28d9ad16b1f62d5">set_current_expansion_factor</a>(saved_expansion_factor_);</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;  }</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;</div>
<div class="line"><a name="l04862"></a><span class="lineno"><a class="line" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#ad95304e607b4636d52d492d254e30b5e"> 4862</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#ad95304e607b4636d52d492d254e30b5e">ok_to_expand</a>() { <span class="keywordflow">return</span> ok_to_expand_; }</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a>* compiler_;</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <span class="keywordtype">int</span> saved_expansion_factor_;</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  <span class="keywordtype">bool</span> ok_to_expand_;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;  DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html">RegExpExpansionLimiter</a>);</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;};</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;RegExpNode* RegExpQuantifier::ToNode(<span class="keywordtype">int</span> min,</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;                                     <span class="keywordtype">int</span> max,</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;                                     <span class="keywordtype">bool</span> is_greedy,</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;                                     RegExpTree* body,</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;                                     RegExpCompiler* compiler,</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;                                     RegExpNode* on_success,</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;                                     <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;  <span class="comment">// x{f, t} becomes this:</span></div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;  <span class="comment">//             (r++)&lt;-.</span></div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;  <span class="comment">//               |     `</span></div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;  <span class="comment">//               |     (x)</span></div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;  <span class="comment">//               v     ^</span></div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;  <span class="comment">//      (r=0)--&gt;(?)---/ [if r &lt; t]</span></div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;  <span class="comment">//               |</span></div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;  <span class="comment">//   [if r &gt;= f] \----&gt; ...</span></div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;  <span class="comment">// 15.10.2.5 RepeatMatcher algorithm.</span></div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;  <span class="comment">// The parser has already eliminated the case where max is 0.  In the case</span></div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;  <span class="comment">// where max_match is zero the parser has removed the quantifier if min was</span></div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;  <span class="comment">// &gt; 0 and removed the atom if min was 0.  See AddQuantifierToAtom.</span></div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;  <span class="comment">// If we know that we cannot match zero length then things are a little</span></div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;  <span class="comment">// simpler since we don&#39;t need to make the special zero length match check</span></div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;  <span class="comment">// from step 2.1.  If the min and max are small we can unroll a little in</span></div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;  <span class="comment">// this case.</span></div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxUnrolledMinMatches = 3;  <span class="comment">// Unroll (foo)+ and (foo){3,}</span></div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxUnrolledMaxMatches = 3;  <span class="comment">// Unroll (foo)? and (foo){x,3}</span></div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;  <span class="keywordflow">if</span> (max == 0) <span class="keywordflow">return</span> on_success;  <span class="comment">// This can happen due to recursion.</span></div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;  <span class="keywordtype">bool</span> body_can_be_empty = (body-&gt;min_match() == 0);</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;  <span class="keywordtype">int</span> body_start_reg = <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a31879679b6594fbb6d10e96e485cfcc7">RegExpCompiler::kNoRegister</a>;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;  Interval capture_registers = body-&gt;CaptureRegisters();</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;  <span class="keywordtype">bool</span> needs_capture_clearing = !capture_registers.is_empty();</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;  Zone* zone = compiler-&gt;zone();</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;  <span class="keywordflow">if</span> (body_can_be_empty) {</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;    body_start_reg = compiler-&gt;AllocateRegister();</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FLAG_regexp_optimization &amp;&amp; !needs_capture_clearing) {</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;    <span class="comment">// Only unroll if there are no captures and the body can&#39;t be</span></div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;    <span class="comment">// empty.</span></div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;    {</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;      RegExpExpansionLimiter limiter(</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;          compiler, min + ((max != min) ? 1 : 0));</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;      <span class="keywordflow">if</span> (min &gt; 0 &amp;&amp; min &lt;= kMaxUnrolledMinMatches &amp;&amp; limiter.ok_to_expand()) {</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;        <span class="keywordtype">int</span> new_max = (max == kInfinity) ? max : max - min;</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;        <span class="comment">// Recurse once to get the loop or optional matches after the fixed</span></div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;        <span class="comment">// ones.</span></div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;        RegExpNode* answer = ToNode(</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;            0, new_max, is_greedy, body, compiler, on_success, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;        <span class="comment">// Unroll the forced matches from 0 to min.  This can cause chains of</span></div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;        <span class="comment">// TextNodes (which the parser does not generate).  These should be</span></div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;        <span class="comment">// combined if it turns out they hinder good code generation.</span></div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; min; i++) {</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;          answer = body-&gt;ToNode(compiler, answer);</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;        }</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;        <span class="keywordflow">return</span> answer;</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;      }</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    }</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    <span class="keywordflow">if</span> (max &lt;= kMaxUnrolledMaxMatches &amp;&amp; min == 0) {</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(max &gt; 0);  <span class="comment">// Due to the &#39;if&#39; above.</span></div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;      RegExpExpansionLimiter limiter(compiler, max);</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;      <span class="keywordflow">if</span> (limiter.ok_to_expand()) {</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;        <span class="comment">// Unroll the optional matches up to max.</span></div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;        RegExpNode* answer = on_success;</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; max; i++) {</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;          ChoiceNode* alternation = <span class="keyword">new</span>(zone) ChoiceNode(2, zone);</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;          <span class="keywordflow">if</span> (is_greedy) {</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;            alternation-&gt;AddAlternative(</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;                GuardedAlternative(body-&gt;ToNode(compiler, answer)));</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;            alternation-&gt;AddAlternative(GuardedAlternative(on_success));</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;            alternation-&gt;AddAlternative(GuardedAlternative(on_success));</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;            alternation-&gt;AddAlternative(</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;                GuardedAlternative(body-&gt;ToNode(compiler, answer)));</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;          }</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;          answer = alternation;</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;          <span class="keywordflow">if</span> (not_at_start) alternation-&gt;set_not_at_start();</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;        }</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;        <span class="keywordflow">return</span> answer;</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;      }</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;    }</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;  }</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;  <span class="keywordtype">bool</span> has_min = min &gt; 0;</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;  <span class="keywordtype">bool</span> has_max = max &lt; <a class="code" href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#ae73c75a454712915a5f86b59c3874bf4">RegExpTree::kInfinity</a>;</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;  <span class="keywordtype">bool</span> needs_counter = has_min || has_max;</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;  <span class="keywordtype">int</span> reg_ctr = needs_counter</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;      ? compiler-&gt;AllocateRegister()</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;      : <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a31879679b6594fbb6d10e96e485cfcc7">RegExpCompiler::kNoRegister</a>;</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;  LoopChoiceNode* center = <span class="keyword">new</span>(zone) LoopChoiceNode(body-&gt;min_match() == 0,</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;                                                    zone);</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;  <span class="keywordflow">if</span> (not_at_start) center-&gt;set_not_at_start();</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;  RegExpNode* loop_return = needs_counter</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;      ? <span class="keyword">static_cast&lt;</span>RegExpNode*<span class="keyword">&gt;</span>(<a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a052670e7fe387a82112dfa8fd9347309">ActionNode::IncrementRegister</a>(reg_ctr, center))</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;      : static_cast&lt;RegExpNode*&gt;(center);</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;  <span class="keywordflow">if</span> (body_can_be_empty) {</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;    <span class="comment">// If the body can be empty we need to check if it was and then</span></div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;    <span class="comment">// backtrack.</span></div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;    loop_return = <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6c17ccdb42fde260e08170e996b466a8">ActionNode::EmptyMatchCheck</a>(body_start_reg,</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;                                              reg_ctr,</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;                                              min,</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;                                              loop_return);</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;  }</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;  RegExpNode* body_node = body-&gt;ToNode(compiler, loop_return);</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;  <span class="keywordflow">if</span> (body_can_be_empty) {</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;    <span class="comment">// If the body can be empty we need to store the start position</span></div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <span class="comment">// so we can bail out if it was empty.</span></div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    body_node = <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6b0237610fe682f5a451b96e9f83d010">ActionNode::StorePosition</a>(body_start_reg, <span class="keyword">false</span>, body_node);</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;  }</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;  <span class="keywordflow">if</span> (needs_capture_clearing) {</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;    <span class="comment">// Before entering the body of this loop we need to clear captures.</span></div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;    body_node = <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a410a012e28ef151d0df12390fd1fd1ed">ActionNode::ClearCaptures</a>(capture_registers, body_node);</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  }</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;  GuardedAlternative body_alt(body_node);</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;  <span class="keywordflow">if</span> (has_max) {</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;    Guard* body_guard =</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;        <span class="keyword">new</span>(zone) Guard(reg_ctr, <a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a32244553e6de01a64084f56cc7da7747a486aa221ceeeac475326e85d3d37f571">Guard::LT</a>, max);</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;    body_alt.AddGuard(body_guard, zone);</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;  }</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  GuardedAlternative rest_alt(on_success);</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;  <span class="keywordflow">if</span> (has_min) {</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;    Guard* rest_guard = <span class="keyword">new</span>(compiler-&gt;zone()) Guard(reg_ctr, <a class="code" href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a32244553e6de01a64084f56cc7da7747a99705e9593e3e5c078150b293c86561e">Guard::GEQ</a>, min);</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;    rest_alt.AddGuard(rest_guard, zone);</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;  }</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;  <span class="keywordflow">if</span> (is_greedy) {</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    center-&gt;AddLoopAlternative(body_alt);</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    center-&gt;AddContinueAlternative(rest_alt);</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;    center-&gt;AddContinueAlternative(rest_alt);</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;    center-&gt;AddLoopAlternative(body_alt);</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;  }</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;  <span class="keywordflow">if</span> (needs_counter) {</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a1577099d58b94bfd3e1ff9feba7871bd">ActionNode::SetRegister</a>(reg_ctr, 0, center);</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;    <span class="keywordflow">return</span> center;</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;  }</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;}</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;RegExpNode* RegExpAssertion::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;                                    RegExpNode* on_success) {</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;  NodeInfo <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>;</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;  Zone* zone = compiler-&gt;zone();</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;  <span class="keywordflow">switch</span> (assertion_type()) {</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <span class="keywordflow">case</span> START_OF_LINE:</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a151060ad3295b7b9ad4e121351dba2d6">AssertionNode::AfterNewline</a>(on_success);</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;    <span class="keywordflow">case</span> START_OF_INPUT:</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#adde4594afddc3953baf27c81d82ea91f">AssertionNode::AtStart</a>(on_success);</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    <span class="keywordflow">case</span> BOUNDARY:</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a9b2af5c8be29dbff074cf2a9c3272407">AssertionNode::AtBoundary</a>(on_success);</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    <span class="keywordflow">case</span> NON_BOUNDARY:</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a4179564c27a7173c7814e9857206c05b">AssertionNode::AtNonBoundary</a>(on_success);</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;    <span class="keywordflow">case</span> END_OF_INPUT:</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#aa06c4ea3febc2017da931f04c511d0db">AssertionNode::AtEnd</a>(on_success);</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;    <span class="keywordflow">case</span> END_OF_LINE: {</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;      <span class="comment">// Compile $ in multiline regexps as an alternation with a positive</span></div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;      <span class="comment">// lookahead in one side and an end-of-input on the other side.</span></div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;      <span class="comment">// We need two registers for the lookahead.</span></div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;      <span class="keywordtype">int</span> stack_pointer_register = compiler-&gt;AllocateRegister();</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;      <span class="keywordtype">int</span> position_register = compiler-&gt;AllocateRegister();</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;      <span class="comment">// The ChoiceNode to distinguish between a newline and end-of-input.</span></div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;      ChoiceNode* result = <span class="keyword">new</span>(zone) ChoiceNode(2, zone);</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;      <span class="comment">// Create a newline atom.</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;      ZoneList&lt;CharacterRange&gt;* newline_ranges =</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;          <span class="keyword">new</span>(zone) ZoneList&lt;CharacterRange&gt;(3, zone);</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;      <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ad92e045e0fdb44d46c955f24badcf3f2">CharacterRange::AddClassEscape</a>(<span class="charliteral">&#39;n&#39;</span>, newline_ranges, zone);</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;      RegExpCharacterClass* newline_atom = <span class="keyword">new</span>(zone) RegExpCharacterClass(<span class="charliteral">&#39;n&#39;</span>);</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;      TextNode* newline_matcher = <span class="keyword">new</span>(zone) TextNode(</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;         newline_atom,</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;         <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a88b303b102df0fc9a62138278b2ac4b6">ActionNode::PositiveSubmatchSuccess</a>(stack_pointer_register,</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;                                             position_register,</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;                                             0,  <span class="comment">// No captures inside.</span></div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;                                             -1,  <span class="comment">// Ignored if no captures.</span></div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;                                             on_success));</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;      <span class="comment">// Create an end-of-input matcher.</span></div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;      RegExpNode* end_of_line = <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#af824e989155e0dc331a8ff788e3c9d58">ActionNode::BeginSubmatch</a>(</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;          stack_pointer_register,</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;          position_register,</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;          newline_matcher);</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;      <span class="comment">// Add the two alternatives to the ChoiceNode.</span></div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;      GuardedAlternative eol_alternative(end_of_line);</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;      result-&gt;AddAlternative(eol_alternative);</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;      GuardedAlternative end_alternative(<a class="code" href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#aa06c4ea3febc2017da931f04c511d0db">AssertionNode::AtEnd</a>(on_success));</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;      result-&gt;AddAlternative(end_alternative);</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;      <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    }</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;  }</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;  <span class="keywordflow">return</span> on_success;</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;}</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;RegExpNode* RegExpBackReference::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;                                        RegExpNode* on_success) {</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span>(compiler-&gt;zone())</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;      BackReferenceNode(RegExpCapture::StartRegister(index()),</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;                        RegExpCapture::EndRegister(index()),</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;                        on_success);</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;}</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;RegExpNode* RegExpEmpty::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;                                RegExpNode* on_success) {</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  <span class="keywordflow">return</span> on_success;</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;}</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;RegExpNode* RegExpLookahead::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;                                    RegExpNode* on_success) {</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;  <span class="keywordtype">int</span> stack_pointer_register = compiler-&gt;AllocateRegister();</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;  <span class="keywordtype">int</span> position_register = compiler-&gt;AllocateRegister();</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> registers_per_capture = 2;</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> register_of_first_capture = 2;</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;  <span class="keywordtype">int</span> register_count = capture_count_ * registers_per_capture;</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;  <span class="keywordtype">int</span> register_start =</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;    register_of_first_capture + capture_from_ * registers_per_capture;</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;  RegExpNode* success;</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;  <span class="keywordflow">if</span> (is_positive()) {</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;    RegExpNode* node = <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#af824e989155e0dc331a8ff788e3c9d58">ActionNode::BeginSubmatch</a>(</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;        stack_pointer_register,</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;        position_register,</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;        body()-&gt;ToNode(</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;            compiler,</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;            <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a88b303b102df0fc9a62138278b2ac4b6">ActionNode::PositiveSubmatchSuccess</a>(stack_pointer_register,</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;                                                position_register,</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;                                                register_count,</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;                                                register_start,</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;                                                on_success)));</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    <span class="keywordflow">return</span> node;</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;    <span class="comment">// We use a ChoiceNode for a negative lookahead because it has most of</span></div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;    <span class="comment">// the characteristics we need.  It has the body of the lookahead as its</span></div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;    <span class="comment">// first alternative and the expression after the lookahead of the second</span></div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    <span class="comment">// alternative.  If the first alternative succeeds then the</span></div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;    <span class="comment">// NegativeSubmatchSuccess will unwind the stack including everything the</span></div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;    <span class="comment">// choice node set up and backtrack.  If the first alternative fails then</span></div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    <span class="comment">// the second alternative is tried, which is exactly the desired result</span></div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;    <span class="comment">// for a negative lookahead.  The NegativeLookaheadChoiceNode is a special</span></div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;    <span class="comment">// ChoiceNode that knows to ignore the first exit when calculating quick</span></div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;    <span class="comment">// checks.</span></div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;    Zone* zone = compiler-&gt;zone();</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    GuardedAlternative body_alt(</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;        body()-&gt;ToNode(</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;            compiler,</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;            success = <span class="keyword">new</span>(zone) NegativeSubmatchSuccess(stack_pointer_register,</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;                                                        position_register,</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;                                                        register_count,</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;                                                        register_start,</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;                                                        zone)));</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;    ChoiceNode* choice_node =</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;        <span class="keyword">new</span>(zone) NegativeLookaheadChoiceNode(body_alt,</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;                                              GuardedAlternative(on_success),</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;                                              zone);</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#af824e989155e0dc331a8ff788e3c9d58">ActionNode::BeginSubmatch</a>(stack_pointer_register,</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;                                     position_register,</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;                                     choice_node);</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;  }</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;}</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;RegExpNode* RegExpCapture::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;                                  RegExpNode* on_success) {</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;  <span class="keywordflow">return</span> ToNode(body(), index(), compiler, on_success);</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;}</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;RegExpNode* RegExpCapture::ToNode(RegExpTree* body,</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;                                  <span class="keywordtype">int</span> index,</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;                                  RegExpCompiler* compiler,</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;                                  RegExpNode* on_success) {</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;  <span class="keywordtype">int</span> start_reg = RegExpCapture::StartRegister(index);</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;  <span class="keywordtype">int</span> end_reg = RegExpCapture::EndRegister(index);</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;  RegExpNode* store_end = <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6b0237610fe682f5a451b96e9f83d010">ActionNode::StorePosition</a>(end_reg, <span class="keyword">true</span>, on_success);</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;  RegExpNode* body_node = body-&gt;ToNode(compiler, store_end);</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6b0237610fe682f5a451b96e9f83d010">ActionNode::StorePosition</a>(start_reg, <span class="keyword">true</span>, body_node);</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;}</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;RegExpNode* RegExpAlternative::ToNode(RegExpCompiler* compiler,</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;                                      RegExpNode* on_success) {</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;  ZoneList&lt;RegExpTree*&gt;* children = nodes();</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;  RegExpNode* current = on_success;</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = children-&gt;length() - 1; i &gt;= 0; i--) {</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;    current = children-&gt;at(i)-&gt;ToNode(compiler, current);</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;  }</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;  <span class="keywordflow">return</span> current;</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;}</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> AddClass(<span class="keyword">const</span> <span class="keywordtype">int</span>* elmv,</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;                     <span class="keywordtype">int</span> elmc,</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;                     ZoneList&lt;CharacterRange&gt;* ranges,</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;                     Zone* zone) {</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;  elmc--;</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elmv[elmc] == 0x10000);</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; elmc; i += 2) {</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elmv[i] &lt; elmv[i + 1]);</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;    ranges-&gt;Add(CharacterRange(elmv[i], elmv[i + 1] - 1), zone);</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;  }</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;}</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> AddClassNegated(<span class="keyword">const</span> <span class="keywordtype">int</span> *elmv,</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;                            <span class="keywordtype">int</span> elmc,</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;                            ZoneList&lt;CharacterRange&gt;* ranges,</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;                            Zone* zone) {</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;  elmc--;</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elmv[elmc] == 0x10000);</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elmv[0] != 0x0000);</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elmv[elmc-1] != <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>);</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> last = 0x0000;</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; elmc; i += 2) {</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(last &lt;= elmv[i] - 1);</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elmv[i] &lt; elmv[i + 1]);</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;    ranges-&gt;Add(CharacterRange(last, elmv[i] - 1), zone);</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;    last = elmv[i + 1];</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;  }</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;  ranges-&gt;Add(CharacterRange(last, <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>), zone);</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;}</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;</div>
<div class="line"><a name="l05199"></a><span class="lineno"><a class="line" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ad92e045e0fdb44d46c955f24badcf3f2"> 5199</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ad92e045e0fdb44d46c955f24badcf3f2">CharacterRange::AddClassEscape</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> type,</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;                                    <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges,</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;                                    <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;  <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;      AddClass(kSpaceRanges, kSpaceRangeCount, ranges, zone);</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;      AddClassNegated(kSpaceRanges, kSpaceRangeCount, ranges, zone);</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;      AddClass(kWordRanges, kWordRangeCount, ranges, zone);</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;W&#39;</span>:</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;      AddClassNegated(kWordRanges, kWordRangeCount, ranges, zone);</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;      AddClass(kDigitRanges, kDigitRangeCount, ranges, zone);</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;      AddClassNegated(kDigitRanges, kDigitRangeCount, ranges, zone);</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;.&#39;</span>:</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;      AddClassNegated(kLineTerminatorRanges,</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;                      kLineTerminatorRangeCount,</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;                      ranges,</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;                      zone);</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;    <span class="comment">// This is not a character range as defined by the spec but a</span></div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;    <span class="comment">// convenient shorthand for a character class that matches any</span></div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;    <span class="comment">// character.</span></div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>:</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;      ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ae6c6819bbdd8f55a29648d878b729abf">CharacterRange::Everything</a>(), zone);</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;    <span class="comment">// This is the set of characters matched by the $ and ^ symbols</span></div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;    <span class="comment">// in multiline mode.</span></div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;      AddClass(kLineTerminatorRanges,</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;               kLineTerminatorRangeCount,</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;               ranges,</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;               zone);</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;  }</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;}</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;</div>
<div class="line"><a name="l05247"></a><span class="lineno"><a class="line" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ac1cfbf36a81381ffca08ef0b785d5eb9"> 5247</a></span>&#160;<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;const int&gt;</a> <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ac1cfbf36a81381ffca08ef0b785d5eb9">CharacterRange::GetWordBounds</a>() {</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;const int&gt;</a>(kWordRanges, kWordRangeCount - 1);</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;}</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;</div>
<div class="line"><a name="l05252"></a><span class="lineno"><a class="line" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html"> 5252</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html">CharacterRangeSplitter</a> {</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05254"></a><span class="lineno"><a class="line" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#a8793b73605693635df09a63ed691ea3a"> 5254</a></span>&#160;  <a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#a8793b73605693635df09a63ed691ea3a">CharacterRangeSplitter</a>(<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>** included,</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;                         <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>** excluded,</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;                         <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone)</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;      : included_(included),</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;        excluded_(excluded),</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;        zone_(zone) { }</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#afd8c5fdb17f1a5ca625126ab1d06929e">Call</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> from, <a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">DispatchTable::Entry</a> entry);</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;</div>
<div class="line"><a name="l05262"></a><span class="lineno"><a class="line" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#af373121b0ab4162d2a55f459852aeaf8"> 5262</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#af373121b0ab4162d2a55f459852aeaf8">kInBase</a> = 0;</div>
<div class="line"><a name="l05263"></a><span class="lineno"><a class="line" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#aaf2d37b92f32e4b578b0ed04a7c74e7a"> 5263</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#aaf2d37b92f32e4b578b0ed04a7c74e7a">kInOverlay</a> = 1;</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>** included_;</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>** excluded_;</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;  <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone_;</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;};</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;</div>
<div class="line"><a name="l05272"></a><span class="lineno"><a class="line" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#afd8c5fdb17f1a5ca625126ab1d06929e"> 5272</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#afd8c5fdb17f1a5ca625126ab1d06929e">CharacterRangeSplitter::Call</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> from, <a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">DispatchTable::Entry</a> entry) {</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;  <span class="keywordflow">if</span> (!entry.<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a21b3bbbf1d65c82cd1d4ecdb12f92397">out_set</a>()-&gt;<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aad236a19b15097c4905c1e9f1ecd73e6">Get</a>(<a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#af373121b0ab4162d2a55f459852aeaf8">kInBase</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>** target = entry.<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a21b3bbbf1d65c82cd1d4ecdb12f92397">out_set</a>()-&gt;<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aad236a19b15097c4905c1e9f1ecd73e6">Get</a>(<a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#aaf2d37b92f32e4b578b0ed04a7c74e7a">kInOverlay</a>)</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;    ? included_</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;    : excluded_;</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;  <span class="keywordflow">if</span> (*target == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) *target = <span class="keyword">new</span>(zone_) <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>(2, zone_);</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;  (*target)-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a>(entry.<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a83c555f83382488ba26b3b77cbe2dfb5">from</a>(), entry.<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>()), zone_);</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;}</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;</div>
<div class="line"><a name="l05282"></a><span class="lineno"><a class="line" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a0d82d2101be44204f39e7008b8bf9207"> 5282</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a0d82d2101be44204f39e7008b8bf9207">CharacterRange::Split</a>(<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* base,</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;                           <a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;const int&gt;</a> overlay,</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;                           <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>** included,</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;                           <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>** excluded,</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;                           <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, *included);</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, *excluded);</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;  <a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html">DispatchTable</a> table(zone);</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; base-&gt;length(); i++)</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;    table.<a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#ad1bc40ec328ef8bbd439c5075ee58152">AddRange</a>(base-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i), <a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#af373121b0ab4162d2a55f459852aeaf8">CharacterRangeSplitter::kInBase</a>, zone);</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; overlay.<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html#a57b988236ee6a3a5e572d126d3fbccc1">length</a>(); i += 2) {</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    table.<a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#ad1bc40ec328ef8bbd439c5075ee58152">AddRange</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a43938f0f19ffcc81ff5426417bcde6b2">CharacterRange</a>(overlay[i], overlay[i + 1] - 1),</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;                   <a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#aaf2d37b92f32e4b578b0ed04a7c74e7a">CharacterRangeSplitter::kInOverlay</a>, zone);</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;  }</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;  <a class="code" href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html">CharacterRangeSplitter</a> callback(included, excluded, zone);</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;  table.<a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#abda62d25d1065006e23d3022d9db3b82">ForEach</a>(&amp;callback);</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;}</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;</div>
<div class="line"><a name="l05301"></a><span class="lineno"><a class="line" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#accd209742732fa57247d2fcbb6fa4625"> 5301</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#accd209742732fa57247d2fcbb6fa4625">CharacterRange::AddCaseEquivalents</a>(<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges,</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;                                        <span class="keywordtype">bool</span> is_ascii,</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;                                        <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;  <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = zone-&gt;<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>();</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> <a class="code" href="../../de/d3f/test-api_8cc.html#a867eb44ca3ea387269b34da7a51e5c6a">bottom</a> = <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>();</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> top = <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>();</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;  <span class="keywordflow">if</span> (is_ascii &amp;&amp; !RangeContainsLatin1Equivalents(*<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;    <span class="keywordflow">if</span> (bottom &gt; <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;    <span class="keywordflow">if</span> (top &gt; <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>) top = <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>;</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;  }</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;  <a class="code" href="../../d7/df6/namespaceunibrow.html#ae8d77ac121e443c19b70413c2a9b714c">unibrow::uchar</a> chars[<a class="code" href="../../d0/d9c/structunibrow_1_1_ecma262_un_canonicalize.html#ac2ebdc5a7a124f3a46428e5e402add12">unibrow::Ecma262UnCanonicalize::kMaxWidth</a>];</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;  <span class="keywordflow">if</span> (top == bottom) {</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    <span class="comment">// If this is a singleton we just expand the one character.</span></div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;    <span class="keywordtype">int</span> length = isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#afe8c0c63cc681a9d9573fdcb3f282b0b">jsregexp_uncanonicalize</a>()-&gt;<a class="code" href="../../dc/dbe/classunibrow_1_1_mapping.html#aee7c145af793f67d08aa3541e0016c7c">get</a>(bottom, <span class="charliteral">&#39;\0&#39;</span>, chars);</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae9518a9e1dcbf9dd9cafda6ac0946145">uc32</a> chr = chars[i];</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;      <span class="keywordflow">if</span> (chr != bottom) {</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a9554e15a8094bec751eb10505b736b33">CharacterRange::Singleton</a>(chars[i]), zone);</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;      }</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;    }</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;    <span class="comment">// If this is a range we expand the characters block by block,</span></div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;    <span class="comment">// expanding contiguous subranges (blocks) one at a time.</span></div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    <span class="comment">// The approach is as follows.  For a given start character we</span></div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;    <span class="comment">// look up the remainder of the block that contains it (represented</span></div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;    <span class="comment">// by the end point), for instance we find &#39;z&#39; if the character</span></div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;    <span class="comment">// is &#39;c&#39;.  A block is characterized by the property</span></div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;    <span class="comment">// that all characters uncanonicalize in the same way, except that</span></div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;    <span class="comment">// each entry in the result is incremented by the distance from the first</span></div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;    <span class="comment">// element.  So a-z is a block because &#39;a&#39; uncanonicalizes to [&#39;a&#39;, &#39;A&#39;] and</span></div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    <span class="comment">// the k&#39;th letter uncanonicalizes to [&#39;a&#39; + k, &#39;A&#39; + k].</span></div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;    <span class="comment">// Once we&#39;ve found the end point we look up its uncanonicalization</span></div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;    <span class="comment">// and produce a range for each element.  For instance for [c-f]</span></div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    <span class="comment">// we look up [&#39;z&#39;, &#39;Z&#39;] and produce [c-f] and [C-F].  We then only</span></div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;    <span class="comment">// add a range if it is not already contained in the input, so [c-f]</span></div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;    <span class="comment">// will be skipped but [C-F] will be added.  If this range is not</span></div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;    <span class="comment">// completely contained in a block we do this for all the blocks</span></div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;    <span class="comment">// covered by the range (handling characters that is not in a block</span></div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;    <span class="comment">// as a &quot;singleton block&quot;).</span></div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;    <a class="code" href="../../d7/df6/namespaceunibrow.html#ae8d77ac121e443c19b70413c2a9b714c">unibrow::uchar</a> range[<a class="code" href="../../d0/d9c/structunibrow_1_1_ecma262_un_canonicalize.html#ac2ebdc5a7a124f3a46428e5e402add12">unibrow::Ecma262UnCanonicalize::kMaxWidth</a>];</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;    <span class="keywordtype">int</span> pos = <a class="code" href="../../de/d3f/test-api_8cc.html#a867eb44ca3ea387269b34da7a51e5c6a">bottom</a>;</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;    <span class="keywordflow">while</span> (pos &lt;= top) {</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;      <span class="keywordtype">int</span> length = isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a36ccc3555f775b678a83477611ada1f8">jsregexp_canonrange</a>()-&gt;<a class="code" href="../../dc/dbe/classunibrow_1_1_mapping.html#aee7c145af793f67d08aa3541e0016c7c">get</a>(pos, <span class="charliteral">&#39;\0&#39;</span>, range);</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> block_end;</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;      <span class="keywordflow">if</span> (length == 0) {</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;        block_end = pos;</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(1, length);</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;        block_end = range[0];</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;      }</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;      <span class="keywordtype">int</span> end = (block_end &gt; top) ? top : block_end;</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;      length = isolate-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#afe8c0c63cc681a9d9573fdcb3f282b0b">jsregexp_uncanonicalize</a>()-&gt;<a class="code" href="../../dc/dbe/classunibrow_1_1_mapping.html#aee7c145af793f67d08aa3541e0016c7c">get</a>(block_end, <span class="charliteral">&#39;\0&#39;</span>, range);</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae9518a9e1dcbf9dd9cafda6ac0946145">uc32</a> c = range[i];</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> range_from = c - (block_end - pos);</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> range_to = c - (block_end - end);</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;        <span class="keywordflow">if</span> (!(bottom &lt;= range_from &amp;&amp; range_to &lt;= top)) {</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;          ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a43938f0f19ffcc81ff5426417bcde6b2">CharacterRange</a>(range_from, range_to), zone);</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;        }</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;      }</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;      pos = end + 1;</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;    }</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;  }</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;}</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;</div>
<div class="line"><a name="l05367"></a><span class="lineno"><a class="line" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a820243fe7fe3bd02491a8ce1e6151650"> 5367</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a820243fe7fe3bd02491a8ce1e6151650">CharacterRange::IsCanonical</a>(<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges) {</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#aa49e13f06cb6965b35c085c0497e2bf7">ASSERT_NOT_NULL</a>(ranges);</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;  <span class="keywordtype">int</span> n = ranges-&gt;length();</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;  <span class="keywordflow">if</span> (n &lt;= 1) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;  <span class="keywordtype">int</span> max = ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0).to();</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; n; i++) {</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;    <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> next_range = ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;    <span class="keywordflow">if</span> (next_range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>() &lt;= max + 1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;    max = next_range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>();</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;  }</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;}</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* CharacterSet::ranges(<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;  <span class="keywordflow">if</span> (ranges_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;    ranges_ = <span class="keyword">new</span>(zone) <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>(2, zone);</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;    <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ad92e045e0fdb44d46c955f24badcf3f2">CharacterRange::AddClassEscape</a>(standard_set_type_, ranges_, zone);</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;  }</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;  <span class="keywordflow">return</span> ranges_;</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;}</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;<span class="comment">// Move a number of elements in a zonelist to another position</span></div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;<span class="comment">// in the same list. Handles overlapping source and target areas.</span></div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> MoveRanges(ZoneList&lt;CharacterRange&gt;* list,</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;                       <span class="keywordtype">int</span> from,</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;                       <span class="keywordtype">int</span> to,</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;                       <span class="keywordtype">int</span> count) {</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;  <span class="comment">// Ranges are potentially overlapping.</span></div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;  <span class="keywordflow">if</span> (from &lt; to) {</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = count - 1; i &gt;= 0; i--) {</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;      list-&gt;at(to + i) = list-&gt;at(from + i);</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;    }</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) {</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;      list-&gt;at(to + i) = list-&gt;at(from + i);</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;    }</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;  }</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;}</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> InsertRangeInCanonicalList(ZoneList&lt;CharacterRange&gt;* list,</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;                                      <span class="keywordtype">int</span> count,</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;                                      CharacterRange insert) {</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;  <span class="comment">// Inserts a range into list[0..count[, which must be sorted</span></div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;  <span class="comment">// by from value and non-overlapping and non-adjacent, using at most</span></div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;  <span class="comment">// list[0..count] for the result. Returns the number of resulting</span></div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;  <span class="comment">// canonicalized ranges. Inserting a range may collapse existing ranges into</span></div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;  <span class="comment">// fewer ranges, so the return value can be anything in the range 1..count+1.</span></div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> from = insert.from();</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> to = insert.to();</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;  <span class="keywordtype">int</span> start_pos = 0;</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;  <span class="keywordtype">int</span> end_pos = count;</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = count - 1; i &gt;= 0; i--) {</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    CharacterRange current = list-&gt;at(i);</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    <span class="keywordflow">if</span> (current.from() &gt; to + 1) {</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;      end_pos = i;</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (current.to() + 1 &lt; from) {</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;      start_pos = i + 1;</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;    }</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;  }</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;  <span class="comment">// Inserted range overlaps, or is adjacent to, ranges at positions</span></div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;  <span class="comment">// [start_pos..end_pos[. Ranges before start_pos or at or after end_pos are</span></div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;  <span class="comment">// not affected by the insertion.</span></div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;  <span class="comment">// If start_pos == end_pos, the range must be inserted before start_pos.</span></div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;  <span class="comment">// if start_pos &lt; end_pos, the entire range from start_pos to end_pos</span></div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;  <span class="comment">// must be merged with the insert range.</span></div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;  <span class="keywordflow">if</span> (start_pos == end_pos) {</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;    <span class="comment">// Insert between existing ranges at position start_pos.</span></div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;    <span class="keywordflow">if</span> (start_pos &lt; count) {</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;      MoveRanges(list, start_pos, start_pos + 1, count - start_pos);</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;    }</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    list-&gt;at(start_pos) = insert;</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;    <span class="keywordflow">return</span> count + 1;</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;  }</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;  <span class="keywordflow">if</span> (start_pos + 1 == end_pos) {</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;    <span class="comment">// Replace single existing range at position start_pos.</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;    CharacterRange to_replace = list-&gt;at(start_pos);</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;    <span class="keywordtype">int</span> new_from = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(to_replace.from(), from);</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;    <span class="keywordtype">int</span> new_to = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">Max</a>(to_replace.to(), to);</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;    list-&gt;at(start_pos) = CharacterRange(new_from, new_to);</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;    <span class="keywordflow">return</span> count;</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;  }</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;  <span class="comment">// Replace a number of existing ranges from start_pos to end_pos - 1.</span></div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;  <span class="comment">// Move the remaining ranges down.</span></div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;  <span class="keywordtype">int</span> new_from = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(list-&gt;at(start_pos).from(), from);</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;  <span class="keywordtype">int</span> new_to = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">Max</a>(list-&gt;at(end_pos - 1).to(), to);</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;  <span class="keywordflow">if</span> (end_pos &lt; count) {</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;    MoveRanges(list, end_pos, start_pos + 1, count - end_pos);</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;  }</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;  list-&gt;at(start_pos) = CharacterRange(new_from, new_to);</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;  <span class="keywordflow">return</span> count - (end_pos - start_pos) + 1;</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;}</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a79ff3309a576b0187103c81dc86c98ef">CharacterSet::Canonicalize</a>() {</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;  <span class="comment">// Special/default classes are always considered canonical. The result</span></div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;  <span class="comment">// of calling ranges() will be sorted.</span></div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;  <span class="keywordflow">if</span> (ranges_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;  <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#aa4e480782bb23104de24be97b415f5de">CharacterRange::Canonicalize</a>(ranges_);</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;}</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;</div>
<div class="line"><a name="l05475"></a><span class="lineno"><a class="line" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#aa4e480782bb23104de24be97b415f5de"> 5475</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#aa4e480782bb23104de24be97b415f5de">CharacterRange::Canonicalize</a>(<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* character_ranges) {</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;  <span class="keywordflow">if</span> (character_ranges-&gt;length() &lt;= 1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;  <span class="comment">// Check whether ranges are already canonical (increasing, non-overlapping,</span></div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;  <span class="comment">// non-adjacent).</span></div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;  <span class="keywordtype">int</span> n = character_ranges-&gt;length();</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;  <span class="keywordtype">int</span> max = character_ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0).to();</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;  <span class="keywordtype">int</span> i = 1;</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;  <span class="keywordflow">while</span> (i &lt; n) {</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;    <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> current = character_ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;    <span class="keywordflow">if</span> (current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>() &lt;= max + 1) {</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    }</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    max = current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>();</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    i++;</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;  }</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;  <span class="comment">// Canonical until the i&#39;th range. If that&#39;s all of them, we are done.</span></div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;  <span class="keywordflow">if</span> (i == n) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;  <span class="comment">// The ranges at index i and forward are not canonicalized. Make them so by</span></div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;  <span class="comment">// doing the equivalent of insertion sort (inserting each into the previous</span></div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;  <span class="comment">// list, in order).</span></div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;  <span class="comment">// Notice that inserting a range can reduce the number of ranges in the</span></div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;  <span class="comment">// result due to combining of adjacent and overlapping ranges.</span></div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;  <span class="keywordtype">int</span> read = i;  <span class="comment">// Range to insert.</span></div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;  <span class="keywordtype">int</span> num_canonical = i;  <span class="comment">// Length of canonicalized part of list.</span></div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;    num_canonical = InsertRangeInCanonicalList(character_ranges,</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;                                               num_canonical,</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;                                               character_ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(read));</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;    read++;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;  } <span class="keywordflow">while</span> (read &lt; n);</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;  character_ranges-&gt;Rewind(num_canonical);</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a820243fe7fe3bd02491a8ce1e6151650">CharacterRange::IsCanonical</a>(character_ranges));</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;}</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;</div>
<div class="line"><a name="l05512"></a><span class="lineno"><a class="line" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a1bc21191716ccb40db3918417d3a9c89"> 5512</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a1bc21191716ccb40db3918417d3a9c89">CharacterRange::Negate</a>(<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges,</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;                            <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* negated_ranges,</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;                            <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a820243fe7fe3bd02491a8ce1e6151650">CharacterRange::IsCanonical</a>(ranges));</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(0, negated_ranges-&gt;length());</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;  <span class="keywordtype">int</span> range_count = ranges-&gt;length();</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> from = 0;</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;  <span class="keywordflow">if</span> (range_count &gt; 0 &amp;&amp; ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0).from() == 0) {</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    from = ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0).to();</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    i = 1;</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;  }</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;  <span class="keywordflow">while</span> (i &lt; range_count) {</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;    <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> range = ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    negated_ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a43938f0f19ffcc81ff5426417bcde6b2">CharacterRange</a>(from + 1, range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>() - 1), zone);</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;    from = range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>();</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;    i++;</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;  }</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;  <span class="keywordflow">if</span> (from &lt; <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>) {</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;    negated_ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a43938f0f19ffcc81ff5426417bcde6b2">CharacterRange</a>(from + 1, <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>),</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;                        zone);</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;  }</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;}</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;<span class="comment">// -------------------------------------------------------------------</span></div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;<span class="comment">// Splay tree</span></div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;</div>
<div class="line"><a name="l05541"></a><span class="lineno"><a class="line" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aeb259aadaa16e385a9f15a12edd8a38e"> 5541</a></span>&#160;<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">OutSet</a>* <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aeb259aadaa16e385a9f15a12edd8a38e">OutSet::Extend</a>(<span class="keywordtype">unsigned</span> value, <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aad236a19b15097c4905c1e9f1ecd73e6">Get</a>(value))</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;  <span class="keywordflow">if</span> (successors(zone) != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; successors(zone)-&gt;length(); i++) {</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;      <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">OutSet</a>* successor = successors(zone)-&gt;at(i);</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;      <span class="keywordflow">if</span> (successor-&gt;<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aad236a19b15097c4905c1e9f1ecd73e6">Get</a>(value))</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;        <span class="keywordflow">return</span> successor;</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;    }</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;    successors_ = <span class="keyword">new</span>(zone) <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;OutSet*&gt;</a>(2, zone);</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;  }</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;  <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">OutSet</a>* result = <span class="keyword">new</span>(zone) <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#a4d174a60a72c960654c0e519ac758a23">OutSet</a>(first_, remaining_);</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;  result-&gt;Set(value, zone);</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;  successors(zone)-&gt;Add(result, zone);</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;}</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;<span class="keywordtype">void</span> OutSet::Set(<span class="keywordtype">unsigned</span> value, <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a> *zone) {</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;  <span class="keywordflow">if</span> (value &lt; <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#ac01abfc0824209b97ee423c957ff0e74">kFirstLimit</a>) {</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;    first_ |= (1 &lt;&lt; value);</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;    <span class="keywordflow">if</span> (remaining_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>)</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;      remaining_ = <span class="keyword">new</span>(zone) ZoneList&lt;unsigned&gt;(1, zone);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;    <span class="keywordflow">if</span> (remaining_-&gt;is_empty() || !remaining_-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#acfa0e5fbc41ad0bf04c9ec7a4f72473f">Contains</a>(value))</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;      remaining_-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(value, zone);</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;  }</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;}</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;</div>
<div class="line"><a name="l05572"></a><span class="lineno"><a class="line" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aad236a19b15097c4905c1e9f1ecd73e6"> 5572</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aad236a19b15097c4905c1e9f1ecd73e6">OutSet::Get</a>(<span class="keywordtype">unsigned</span> value) {</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  <span class="keywordflow">if</span> (value &lt; <a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#ac01abfc0824209b97ee423c957ff0e74">kFirstLimit</a>) {</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;    <span class="keywordflow">return</span> (first_ &amp; (1 &lt;&lt; value)) != 0;</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (remaining_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;    <span class="keywordflow">return</span> remaining_-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#acfa0e5fbc41ad0bf04c9ec7a4f72473f">Contains</a>(value);</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;  }</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;}</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;<span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> <a class="code" href="../../d5/d5c/classv8_1_1internal_1_1_dispatch_table_1_1_config.html#a0ecaf5106bd009e87189036e7e46d088">DispatchTable::Config::kNoKey</a> = <a class="code" href="../../d5/dd6/classunibrow_1_1_utf8.html#aa5d4ac9789c6b7ff1b9a993924d3fde1">unibrow::Utf8::kBadChar</a>;</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;</div>
<div class="line"><a name="l05586"></a><span class="lineno"><a class="line" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#ad1bc40ec328ef8bbd439c5075ee58152"> 5586</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#ad1bc40ec328ef8bbd439c5075ee58152">DispatchTable::AddRange</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> full_range, <span class="keywordtype">int</span> value,</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;                             <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;  <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> current = full_range;</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;  <span class="keywordflow">if</span> (tree()-&gt;is_empty()) {</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;    <span class="comment">// If this is the first range we just insert into the table.</span></div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;    <a class="code" href="../../d4/da6/classv8_1_1internal_1_1_zone_splay_tree.html">ZoneSplayTree&lt;Config&gt;::Locator</a> loc;</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a8e9df8a732b85ce860145a332c523e0c">ASSERT_RESULT</a>(tree()-&gt;Insert(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), &amp;loc));</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;    loc.set_value(<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">Entry</a>(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>(),</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;                        empty()-&gt;<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aeb259aadaa16e385a9f15a12edd8a38e">Extend</a>(value, zone)));</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  }</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;  <span class="comment">// First see if there is a range to the left of this one that</span></div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;  <span class="comment">// overlaps.</span></div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;  <a class="code" href="../../d4/da6/classv8_1_1internal_1_1_zone_splay_tree.html">ZoneSplayTree&lt;Config&gt;::Locator</a> loc;</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;  <span class="keywordflow">if</span> (tree()-&gt;FindGreatestLessThan(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), &amp;loc)) {</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;    <a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">Entry</a>* entry = &amp;loc.value();</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;    <span class="comment">// If we&#39;ve found a range that overlaps with this one, and it</span></div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;    <span class="comment">// starts strictly to the left of this one, we have to fix it</span></div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;    <span class="comment">// because the following code only handles ranges that start on</span></div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;    <span class="comment">// or after the start point of the range we&#39;re adding.</span></div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;    <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a83c555f83382488ba26b3b77cbe2dfb5">from</a>() &lt; current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>() &amp;&amp; entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>() &gt;= current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>()) {</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;      <span class="comment">// Snap the overlapping range in half around the start point of</span></div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;      <span class="comment">// the range we&#39;re adding.</span></div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;      <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> left(entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a83c555f83382488ba26b3b77cbe2dfb5">from</a>(), current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>() - 1);</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;      <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> right(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>());</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;      <span class="comment">// The left part of the overlapping range doesn&#39;t overlap.</span></div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;      <span class="comment">// Truncate the whole entry to be just the left part.</span></div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;      entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#aa4d7565b40840b2b52d08429a1935313">set_to</a>(left.to());</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;      <span class="comment">// The right part is the one that overlaps.  We add this part</span></div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;      <span class="comment">// to the map and let the next step deal with merging it with</span></div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;      <span class="comment">// the range we&#39;re adding.</span></div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;      <a class="code" href="../../d4/da6/classv8_1_1internal_1_1_zone_splay_tree.html">ZoneSplayTree&lt;Config&gt;::Locator</a> loc;</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a8e9df8a732b85ce860145a332c523e0c">ASSERT_RESULT</a>(tree()-&gt;Insert(right.from(), &amp;loc));</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;      loc.set_value(<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">Entry</a>(right.from(),</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;                          right.to(),</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;                          entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a21b3bbbf1d65c82cd1d4ecdb12f92397">out_set</a>()));</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    }</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;  }</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;  <span class="keywordflow">while</span> (current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af4d2f059b86d0249fcab31063634aa57">is_valid</a>()) {</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;    <span class="keywordflow">if</span> (tree()-&gt;FindLeastGreaterThan(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), &amp;loc) &amp;&amp;</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;        (loc.value().from() &lt;= current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>()) &amp;&amp;</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;        (loc.value().to() &gt;= current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>())) {</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;      <a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">Entry</a>* entry = &amp;loc.value();</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;      <span class="comment">// We have overlap.  If there is space between the start point of</span></div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;      <span class="comment">// the range we&#39;re adding and where the overlapping range starts</span></div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;      <span class="comment">// then we have to add a range covering just that space.</span></div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;      <span class="keywordflow">if</span> (current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>() &lt; entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a83c555f83382488ba26b3b77cbe2dfb5">from</a>()) {</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;        <a class="code" href="../../d4/da6/classv8_1_1internal_1_1_zone_splay_tree.html">ZoneSplayTree&lt;Config&gt;::Locator</a> ins;</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a8e9df8a732b85ce860145a332c523e0c">ASSERT_RESULT</a>(tree()-&gt;Insert(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), &amp;ins));</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;        ins.set_value(<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">Entry</a>(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(),</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;                            entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a83c555f83382488ba26b3b77cbe2dfb5">from</a>() - 1,</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;                            empty()-&gt;<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aeb259aadaa16e385a9f15a12edd8a38e">Extend</a>(value, zone)));</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;        current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a59c1c9859d651f657c13b20668030995">set_from</a>(entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a83c555f83382488ba26b3b77cbe2dfb5">from</a>());</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;      }</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a83c555f83382488ba26b3b77cbe2dfb5">from</a>());</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;      <span class="comment">// If the overlapping range extends beyond the one we want to add</span></div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;      <span class="comment">// we have to snap the right part off and add it separately.</span></div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>() &gt; current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>()) {</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;        <a class="code" href="../../d4/da6/classv8_1_1internal_1_1_zone_splay_tree.html">ZoneSplayTree&lt;Config&gt;::Locator</a> ins;</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a8e9df8a732b85ce860145a332c523e0c">ASSERT_RESULT</a>(tree()-&gt;Insert(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>() + 1, &amp;ins));</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;        ins.set_value(<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">Entry</a>(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>() + 1,</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;                            entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>(),</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;                            entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a21b3bbbf1d65c82cd1d4ecdb12f92397">out_set</a>()));</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;        entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#aa4d7565b40840b2b52d08429a1935313">set_to</a>(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>());</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;      }</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>() &lt;= current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>());</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;      <span class="comment">// The overlapping range is now completely contained by the range</span></div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;      <span class="comment">// we&#39;re adding so we can just update it and move the start point</span></div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;      <span class="comment">// of the range we&#39;re adding just past it.</span></div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;      entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#ad6861817f37891ea450e24d407d235ef">AddValue</a>(value, zone);</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;      <span class="comment">// Bail out if the last interval ended at 0xFFFF since otherwise</span></div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;      <span class="comment">// adding 1 will wrap around to 0.</span></div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>() == <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>)</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>() + 1 &gt; current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>());</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;      current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a59c1c9859d651f657c13b20668030995">set_from</a>(entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>() + 1);</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;      <span class="comment">// There is no overlap so we can just add the range</span></div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;      <a class="code" href="../../d4/da6/classv8_1_1internal_1_1_zone_splay_tree.html">ZoneSplayTree&lt;Config&gt;::Locator</a> ins;</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a8e9df8a732b85ce860145a332c523e0c">ASSERT_RESULT</a>(tree()-&gt;Insert(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), &amp;ins));</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;      ins.set_value(<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">Entry</a>(current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(),</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;                          current.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>(),</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;                          empty()-&gt;<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aeb259aadaa16e385a9f15a12edd8a38e">Extend</a>(value, zone)));</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;    }</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;  }</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;}</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;</div>
<div class="line"><a name="l05675"></a><span class="lineno"><a class="line" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#a9f1cd81a5f1eafd65303aedfbb5b6c87"> 5675</a></span>&#160;<a class="code" href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">OutSet</a>* <a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#a9f1cd81a5f1eafd65303aedfbb5b6c87">DispatchTable::Get</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> value) {</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;  <a class="code" href="../../d4/da6/classv8_1_1internal_1_1_zone_splay_tree.html">ZoneSplayTree&lt;Config&gt;::Locator</a> loc;</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;  <span class="keywordflow">if</span> (!tree()-&gt;FindGreatestLessThan(value, &amp;loc))</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;    <span class="keywordflow">return</span> empty();</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;  <a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">Entry</a>* entry = &amp;loc.value();</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;  <span class="keywordflow">if</span> (value &lt;= entry-&gt;to())</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;    <span class="keywordflow">return</span> entry-&gt;<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a21b3bbbf1d65c82cd1d4ecdb12f92397">out_set</a>();</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;    <span class="keywordflow">return</span> empty();</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;}</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;<span class="comment">// -------------------------------------------------------------------</span></div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;<span class="comment">// Analysis</span></div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;</div>
<div class="line"><a name="l05691"></a><span class="lineno"><a class="line" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa"> 5691</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">Analysis::EnsureAnalyzed</a>(<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* that) {</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;  StackLimitCheck <a class="code" href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a>(that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>()-&gt;<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>());</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;  <span class="keywordflow">if</span> (check.HasOverflowed()) {</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;    <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#aa322103beb59146e6f87a6f86f933ce0">fail</a>(<span class="stringliteral">&quot;Stack overflow&quot;</span>);</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;  }</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;  <span class="keywordflow">if</span> (that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">info</a>()-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a7639070d5621e4a63f6fab64a98d113e">been_analyzed</a> || that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">info</a>()-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a33aefbdfed1a5d856dc31b73254683f2">being_analyzed</a>)</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;  that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">info</a>()-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a33aefbdfed1a5d856dc31b73254683f2">being_analyzed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;  that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a55e8936a72d3cf53b5bb9a41b304bea1">Accept</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;  that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">info</a>()-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a33aefbdfed1a5d856dc31b73254683f2">being_analyzed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;  that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">info</a>()-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a7639070d5621e4a63f6fab64a98d113e">been_analyzed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;}</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;<span class="keywordtype">void</span> Analysis::VisitEnd(<a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html">EndNode</a>* that) {</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;  <span class="comment">// nothing to do</span></div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;}</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;</div>
<div class="line"><a name="l05711"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#aa74b44fa215f47190c128585cb54b186"> 5711</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#aa74b44fa215f47190c128585cb54b186">TextNode::CalculateOffsets</a>() {</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;  <span class="keywordtype">int</span> element_count = <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a8618d156fe7a79c72d8c1125d424ea52">elements</a>()-&gt;length();</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;  <span class="comment">// Set up the offsets of the elements relative to the start.  This is a fixed</span></div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;  <span class="comment">// quantity since a TextNode can only contain fixed-width things.</span></div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;  <span class="keywordtype">int</span> cp_offset = 0;</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; element_count; i++) {</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;    TextElement&amp; elm = <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a8618d156fe7a79c72d8c1125d424ea52">elements</a>()-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;    elm.set_cp_offset(cp_offset);</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;    cp_offset += elm.length();</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;  }</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;}</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;<span class="keywordtype">void</span> Analysis::VisitText(<a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html">TextNode</a>* that) {</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;  <span class="keywordflow">if</span> (ignore_case_) {</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;    that-&gt;<a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a872c42964c5ba547a345b4a43e0b9c56">MakeCaseIndependent</a>(is_ascii_);</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;  }</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;  <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">EnsureAnalyzed</a>(that-&gt;<a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>());</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a1631175946d96e43015893575ba0d8e3">has_failed</a>()) {</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;    that-&gt;<a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#aa74b44fa215f47190c128585cb54b186">CalculateOffsets</a>();</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;  }</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;}</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;<span class="keywordtype">void</span> Analysis::VisitAction(ActionNode* that) {</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;  RegExpNode* target = that-&gt;on_success();</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;  <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">EnsureAnalyzed</a>(target);</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a1631175946d96e43015893575ba0d8e3">has_failed</a>()) {</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;    <span class="comment">// If the next node is interested in what it follows then this node</span></div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;    <span class="comment">// has to be interested too so it can pass the information on.</span></div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;    that-&gt;info()-&gt;AddFromFollowing(target-&gt;info());</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;  }</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;}</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;<span class="keywordtype">void</span> Analysis::VisitChoice(ChoiceNode* that) {</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;  NodeInfo* info = that-&gt;info();</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; that-&gt;alternatives()-&gt;length(); i++) {</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    RegExpNode* node = that-&gt;alternatives()-&gt;at(i).node();</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;    <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">EnsureAnalyzed</a>(node);</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a1631175946d96e43015893575ba0d8e3">has_failed</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;    <span class="comment">// Anything the following nodes need to know has to be known by</span></div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;    <span class="comment">// this node also, so it can pass it on.</span></div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;    info-&gt;AddFromFollowing(node-&gt;info());</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;  }</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;}</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;</div>
<div class="line"><a name="l05759"></a><span class="lineno"><a class="line" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#af5fa7e1662cdf91857593ec47a33d0d2"> 5759</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#af5fa7e1662cdf91857593ec47a33d0d2">Analysis::VisitLoopChoice</a>(<a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html">LoopChoiceNode</a>* that) {</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;  <a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html">NodeInfo</a>* info = that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">info</a>();</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; that-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a37b823894e4723024cc85217901f8882">alternatives</a>()-&gt;length(); i++) {</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node = that-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a37b823894e4723024cc85217901f8882">alternatives</a>()-&gt;at(i).node();</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;    <span class="keywordflow">if</span> (node != that-&gt;<a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a318b29168a49005878b62bd133de33c8">loop_node</a>()) {</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;      <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">EnsureAnalyzed</a>(node);</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a1631175946d96e43015893575ba0d8e3">has_failed</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;      info-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#ac1f4d646248296beeaa18f27cdb19a92">AddFromFollowing</a>(node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">info</a>());</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;    }</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;  }</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;  <span class="comment">// Check the loop last since it may need the value of this node</span></div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;  <span class="comment">// to get a correct result.</span></div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;  <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">EnsureAnalyzed</a>(that-&gt;<a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a318b29168a49005878b62bd133de33c8">loop_node</a>());</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a1631175946d96e43015893575ba0d8e3">has_failed</a>()) {</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;    info-&gt;<a class="code" href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#ac1f4d646248296beeaa18f27cdb19a92">AddFromFollowing</a>(that-&gt;<a class="code" href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a318b29168a49005878b62bd133de33c8">loop_node</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">info</a>());</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;  }</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;}</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;<span class="keywordtype">void</span> Analysis::VisitBackReference(<a class="code" href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html">BackReferenceNode</a>* that) {</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;  <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">EnsureAnalyzed</a>(that-&gt;<a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>());</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;}</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;<span class="keywordtype">void</span> Analysis::VisitAssertion(AssertionNode* that) {</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;  <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">EnsureAnalyzed</a>(that-&gt;on_success());</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;}</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;</div>
<div class="line"><a name="l05788"></a><span class="lineno"><a class="line" href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3"> 5788</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">BackReferenceNode::FillInBMInfo</a>(<span class="keywordtype">int</span> offset,</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;                                     <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;                                     <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>* bm,</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;                                     <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;  <span class="comment">// Working out the set of characters that a backreference can match is too</span></div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;  <span class="comment">// hard, so we just say that any character can match.</span></div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;  bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#ac11f91aaf59d0399151d52296da21020">SetRest</a>(offset);</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a0bdfc46ecf6d8806c340b2195313cc95">SaveBMInfo</a>(bm, not_at_start, offset);</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;}</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">STATIC_ASSERT</a>(<a class="code" href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#ae9314597c1e6d24bd47f43d6c9a1e2ec">BoyerMoorePositionInfo::kMapSize</a> ==</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;              <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">RegExpMacroAssembler::kTableSize</a>);</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;</div>
<div class="line"><a name="l05803"></a><span class="lineno"><a class="line" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3"> 5803</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">ChoiceNode::FillInBMInfo</a>(<span class="keywordtype">int</span> offset,</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;                              <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;                              <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>* bm,</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;                              <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;GuardedAlternative&gt;</a>* alts = <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a37b823894e4723024cc85217901f8882">alternatives</a>();</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;  budget = (budget - 1) / alts-&gt;length();</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; alts-&gt;length(); i++) {</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;    <a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a>&amp; alt = alts-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;    <span class="keywordflow">if</span> (alt.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; alt.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">guards</a>()-&gt;length() != 0) {</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;      bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#ac11f91aaf59d0399151d52296da21020">SetRest</a>(offset);  <span class="comment">// Give up trying to fill in info.</span></div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;      <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a0bdfc46ecf6d8806c340b2195313cc95">SaveBMInfo</a>(bm, not_at_start, offset);</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;    }</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;    alt.<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">node</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab25a373b2e7c1252b7617520364e502a">FillInBMInfo</a>(offset, budget, bm, not_at_start);</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;  }</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a0bdfc46ecf6d8806c340b2195313cc95">SaveBMInfo</a>(bm, not_at_start, offset);</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;}</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;</div>
<div class="line"><a name="l05822"></a><span class="lineno"><a class="line" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3"> 5822</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">TextNode::FillInBMInfo</a>(<span class="keywordtype">int</span> initial_offset,</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;                            <span class="keywordtype">int</span> budget,</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;                            <a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">BoyerMooreLookahead</a>* bm,</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;                            <span class="keywordtype">bool</span> not_at_start) {</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;  <span class="keywordflow">if</span> (initial_offset &gt;= bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3d0f4ae571310c6ed081daa3985ecb47">length</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;  <span class="keywordtype">int</span> offset = initial_offset;</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;  <span class="keywordtype">int</span> max_char = bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3fbb61302166a5dca4c13d7976c97c10">max_char</a>();</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a8618d156fe7a79c72d8c1125d424ea52">elements</a>()-&gt;length(); i++) {</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;    <span class="keywordflow">if</span> (offset &gt;= bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3d0f4ae571310c6ed081daa3985ecb47">length</a>()) {</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;      <span class="keywordflow">if</span> (initial_offset == 0) <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a24575bf85ec9d1e8099e6ae770da0725">set_bm_info</a>(not_at_start, bm);</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;    }</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;    TextElement text = <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a8618d156fe7a79c72d8c1125d424ea52">elements</a>()-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;    <span class="keywordflow">if</span> (text.text_type() == TextElement::ATOM) {</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;      RegExpAtom* atom = text.atom();</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; atom-&gt;length(); j++, offset++) {</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;        <span class="keywordflow">if</span> (offset &gt;= bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3d0f4ae571310c6ed081daa3985ecb47">length</a>()) {</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;          <span class="keywordflow">if</span> (initial_offset == 0) <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a24575bf85ec9d1e8099e6ae770da0725">set_bm_info</a>(not_at_start, bm);</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;        }</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> character = atom-&gt;data()[j];</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;        <span class="keywordflow">if</span> (bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a60b8db80c105adfa8a9b84c8cb21d9be">compiler</a>()-&gt;<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a34e4782c368d557b6c861ae6de97d128">ignore_case</a>()) {</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;          <a class="code" href="../../d7/df6/namespaceunibrow.html#ae8d77ac121e443c19b70413c2a9b714c">unibrow::uchar</a> chars[<a class="code" href="../../d0/d9c/structunibrow_1_1_ecma262_un_canonicalize.html#ac2ebdc5a7a124f3a46428e5e402add12">unibrow::Ecma262UnCanonicalize::kMaxWidth</a>];</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;          <span class="keywordtype">int</span> length = GetCaseIndependentLetters(</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;              Isolate::Current(),</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;              character,</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;              bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3fbb61302166a5dca4c13d7976c97c10">max_char</a>() == <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">String::kMaxOneByteCharCode</a>,</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;              chars);</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; length; j++) {</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;            bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#ab44b9ebb49c21a8483a04387cbe001a0">Set</a>(offset, chars[j]);</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;          }</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;          <span class="keywordflow">if</span> (character &lt;= max_char) bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#ab44b9ebb49c21a8483a04387cbe001a0">Set</a>(offset, character);</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;        }</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;      }</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(TextElement::CHAR_CLASS, text.text_type());</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;      RegExpCharacterClass* char_class = text.char_class();</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;      <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges = char_class-&gt;ranges(<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;      <span class="keywordflow">if</span> (char_class-&gt;is_negated()) {</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;        bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#aedab4838830b01ba8d7c2c4f8abe2a9a">SetAll</a>(offset);</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; ranges-&gt;length(); k++) {</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;          <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a>&amp; range = ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(k);</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;          <span class="keywordflow">if</span> (range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>() &gt; max_char) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;          <span class="keywordtype">int</span> to = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(max_char, static_cast&lt;int&gt;(range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>()));</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;          bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#aa4f7e2873a4ecc90055306e56f3a67bd">SetInterval</a>(offset, <a class="code" href="../../d3/de9/classv8_1_1internal_1_1_interval.html">Interval</a>(range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>(), to));</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;        }</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;      }</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;      offset++;</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;    }</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;  }</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;  <span class="keywordflow">if</span> (offset &gt;= bm-&gt;<a class="code" href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3d0f4ae571310c6ed081daa3985ecb47">length</a>()) {</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;    <span class="keywordflow">if</span> (initial_offset == 0) <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a24575bf85ec9d1e8099e6ae770da0725">set_bm_info</a>(not_at_start, bm);</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;  }</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;  <a class="code" href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">on_success</a>()-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab25a373b2e7c1252b7617520364e502a">FillInBMInfo</a>(offset,</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;                             budget - 1,</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;                             bm,</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;                             <span class="keyword">true</span>);  <span class="comment">// Not at start after a text node.</span></div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;  <span class="keywordflow">if</span> (initial_offset == 0) <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a24575bf85ec9d1e8099e6ae770da0725">set_bm_info</a>(not_at_start, bm);</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;}</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;<span class="comment">// -------------------------------------------------------------------</span></div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;<span class="comment">// Dispatch table construction</span></div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;<span class="keywordtype">void</span> DispatchTableConstructor::VisitEnd(<a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html">EndNode</a>* that) {</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;  <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#aacc63b202fd46b0aba3c4c2e4e5cc65a">AddRange</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ae6c6819bbdd8f55a29648d878b729abf">CharacterRange::Everything</a>());</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;}</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;</div>
<div class="line"><a name="l05895"></a><span class="lineno"><a class="line" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a9faa84540ffb216afcf618b86ae1e2d9"> 5895</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a9faa84540ffb216afcf618b86ae1e2d9">DispatchTableConstructor::BuildTable</a>(<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html">ChoiceNode</a>* node) {</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;  node-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a7cb722c0cd184dcbc179f7d64dd2677b">set_being_calculated</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;  <a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;GuardedAlternative&gt;</a>* alternatives = node-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a37b823894e4723024cc85217901f8882">alternatives</a>();</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; alternatives-&gt;length(); i++) {</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a304e90a3507344b0f2f958a9bcf04f29">set_choice_index</a>(i);</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    alternatives-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i).node()-&gt;Accept(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;  }</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;  node-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a7cb722c0cd184dcbc179f7d64dd2677b">set_being_calculated</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;}</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;</div>
<div class="line"><a name="l05906"></a><span class="lineno"><a class="line" href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html"> 5906</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html">AddDispatchRange</a> {</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05908"></a><span class="lineno"><a class="line" href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html#a52e1fe3c63b347428ff7996852b41f3c"> 5908</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html#a52e1fe3c63b347428ff7996852b41f3c">AddDispatchRange</a>(<a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html">DispatchTableConstructor</a>* constructor)</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;    : constructor_(constructor) { }</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html#ad10aa8e49ee526c9bb79a275c5206f74">Call</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae9518a9e1dcbf9dd9cafda6ac0946145">uc32</a> from, <a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">DispatchTable::Entry</a> entry);</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;  <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html">DispatchTableConstructor</a>* constructor_;</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;};</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;</div>
<div class="line"><a name="l05916"></a><span class="lineno"><a class="line" href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html#ad10aa8e49ee526c9bb79a275c5206f74"> 5916</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html#ad10aa8e49ee526c9bb79a275c5206f74">AddDispatchRange::Call</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae9518a9e1dcbf9dd9cafda6ac0946145">uc32</a> from, <a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">DispatchTable::Entry</a> entry) {</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;  <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> range(from, entry.<a class="code" href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">to</a>());</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;  constructor_-&gt;<a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#aacc63b202fd46b0aba3c4c2e4e5cc65a">AddRange</a>(range);</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;}</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;<span class="keywordtype">void</span> DispatchTableConstructor::VisitChoice(<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html">ChoiceNode</a>* node) {</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a695d573132beefd43d4e0766042bc6a9">being_calculated</a>())</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;  <a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html">DispatchTable</a>* <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a6fb4333f3a6c37611b9f7f57d4a443ee">table</a> = node-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a46ab8101ac210049a8a9b23928e91862">GetTable</a>(<a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a07fd60f1c284e28d83e09093221644cc">ignore_case_</a>);</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;  <a class="code" href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html">AddDispatchRange</a> adder(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;  table-&gt;<a class="code" href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#abda62d25d1065006e23d3022d9db3b82">ForEach</a>(&amp;adder);</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;}</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;<span class="keywordtype">void</span> DispatchTableConstructor::VisitBackReference(BackReferenceNode* that) {</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;  <span class="comment">// TODO(160): Find the node that we refer back to and propagate its start</span></div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;  <span class="comment">// set back to here.  For now we just accept anything.</span></div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;  <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#aacc63b202fd46b0aba3c4c2e4e5cc65a">AddRange</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ae6c6819bbdd8f55a29648d878b729abf">CharacterRange::Everything</a>());</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;}</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;<span class="keywordtype">void</span> DispatchTableConstructor::VisitAssertion(AssertionNode* that) {</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;  RegExpNode* target = that-&gt;on_success();</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;  target-&gt;Accept(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;}</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> CompareRangeByFrom(<span class="keyword">const</span> CharacterRange* a,</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;                              <span class="keyword">const</span> CharacterRange* b) {</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;  <span class="keywordflow">return</span> Compare&lt;uc16&gt;(a-&gt;from(), b-&gt;from());</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;}</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;</div>
<div class="line"><a name="l05950"></a><span class="lineno"><a class="line" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a1f863ab85ec4c98d09fe8e420866fa30"> 5950</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a1f863ab85ec4c98d09fe8e420866fa30">DispatchTableConstructor::AddInverse</a>(<a class="code" href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">ZoneList&lt;CharacterRange&gt;</a>* ranges) {</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;  ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a87643b418e695b99a84dbc670e8ecccd">Sort</a>(CompareRangeByFrom);</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> last = 0;</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ranges-&gt;length(); i++) {</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    <a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a> range = ranges-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(i);</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <span class="keywordflow">if</span> (last &lt; range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>())</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;      <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#aacc63b202fd46b0aba3c4c2e4e5cc65a">AddRange</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a>(last, range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">from</a>() - 1));</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;    <span class="keywordflow">if</span> (range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>() &gt;= last) {</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;      <span class="keywordflow">if</span> (range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>() == <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>) {</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;        last = range.<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">to</a>() + 1;</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;      }</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;    }</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;  }</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;  <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#aacc63b202fd46b0aba3c4c2e4e5cc65a">AddRange</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a>(last, <a class="code" href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">String::kMaxUtf16CodeUnit</a>));</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;}</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;<span class="keywordtype">void</span> DispatchTableConstructor::VisitText(<a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html">TextNode</a>* that) {</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;  TextElement elm = that-&gt;<a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a8618d156fe7a79c72d8c1125d424ea52">elements</a>()-&gt;<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">at</a>(0);</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;  <span class="keywordflow">switch</span> (elm.text_type()) {</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    <span class="keywordflow">case</span> TextElement::ATOM: {</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">uc16</a> c = elm.atom()-&gt;data()[0];</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;      <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#aacc63b202fd46b0aba3c4c2e4e5cc65a">AddRange</a>(<a class="code" href="../../db/d32/classv8_1_1internal_1_1_character_range.html">CharacterRange</a>(c, c));</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;    }</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;    <span class="keywordflow">case</span> TextElement::CHAR_CLASS: {</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;      RegExpCharacterClass* tree = elm.char_class();</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;      ZoneList&lt;CharacterRange&gt;* ranges = tree-&gt;ranges(that-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">zone</a>());</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;      <span class="keywordflow">if</span> (tree-&gt;is_negated()) {</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;        <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a1f863ab85ec4c98d09fe8e420866fa30">AddInverse</a>(ranges);</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ranges-&gt;length(); i++)</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;          <a class="code" href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#aacc63b202fd46b0aba3c4c2e4e5cc65a">AddRange</a>(ranges-&gt;at(i));</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;      }</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;    }</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;    }</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;  }</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;}</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;<span class="keywordtype">void</span> DispatchTableConstructor::VisitAction(ActionNode* that) {</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;  RegExpNode* target = that-&gt;on_success();</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;  target-&gt;Accept(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;}</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;</div>
<div class="line"><a name="l06001"></a><span class="lineno"><a class="line" href="../../db/d51/classv8_1_1internal_1_1_reg_exp_engine.html#a03f0a733ec5a6da7c6d97dc31c924e9e"> 6001</a></span>&#160;<a class="code" href="../../d6/d37/structv8_1_1internal_1_1_reg_exp_engine_1_1_compilation_result.html">RegExpEngine::CompilationResult</a> <a class="code" href="../../db/d51/classv8_1_1internal_1_1_reg_exp_engine.html#a03f0a733ec5a6da7c6d97dc31c924e9e">RegExpEngine::Compile</a>(</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;    <a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html">RegExpCompileData</a>* data,</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;    <span class="keywordtype">bool</span> ignore_case,</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;    <span class="keywordtype">bool</span> is_global,</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;    <span class="keywordtype">bool</span> is_multiline,</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> pattern,</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;    <a class="code" href="../../da/dde/classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> sample_subject,</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    <span class="keywordtype">bool</span> is_ascii,</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;    <a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">Zone</a>* zone) {</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;  <span class="keywordflow">if</span> ((data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a> + 1) * 2 - 1 &gt; <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a66653fec330bd32f3bd8138aed61e794">RegExpMacroAssembler::kMaxRegister</a>) {</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;    <span class="keywordflow">return</span> IrregexpRegExpTooBig(zone-&gt;<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>());</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;  }</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;  <a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">RegExpCompiler</a> compiler(data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a>, ignore_case, is_ascii, zone);</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;  <span class="comment">// Sample some characters from the middle of the string.</span></div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/dd9/process_8cc.html#acfeabb6e05873c24a8a324e4aca82568">kSampleSize</a> = 128;</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae585d6bcec7e52a46e0e4447bfb2f7f3">FlattenString</a>(sample_subject);</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;  <span class="keywordtype">int</span> chars_sampled = 0;</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;  <span class="keywordtype">int</span> half_way = (sample_subject-&gt;length() - <a class="code" href="../../d5/dd9/process_8cc.html#acfeabb6e05873c24a8a324e4aca82568">kSampleSize</a>) / 2;</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">Max</a>(0, half_way);</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;       i &lt; sample_subject-&gt;length() &amp;&amp; chars_sampled &lt; <a class="code" href="../../d5/dd9/process_8cc.html#acfeabb6e05873c24a8a324e4aca82568">kSampleSize</a>;</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;       i++, chars_sampled++) {</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;    compiler.<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a29cd11a915baee6b93cba435c986d751">frequency_collator</a>()-&gt;<a class="code" href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#a9b0c890d2a441b0f7937cce6437d2076">CountCharacter</a>(sample_subject-&gt;Get(i));</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;  }</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;  <span class="comment">// Wrap the body of the regexp in capture #0.</span></div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* captured_body = RegExpCapture::ToNode(data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#ab50bba99f68cfed8a3d7783f1be59a11">tree</a>,</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;                                                    0,</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;                                                    &amp;compiler,</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;                                                    compiler.<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a0fc4a375d2651bfacda0494001ac63b5">accept</a>());</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;  <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* node = captured_body;</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;  <span class="keywordtype">bool</span> is_end_anchored = data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#ab50bba99f68cfed8a3d7783f1be59a11">tree</a>-&gt;<a class="code" href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a38733228668f3a748bc44bafbf26ffb8">IsAnchoredAtEnd</a>();</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;  <span class="keywordtype">bool</span> is_start_anchored = data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#ab50bba99f68cfed8a3d7783f1be59a11">tree</a>-&gt;<a class="code" href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a108af6c56a3245619f8d0a76761d4f04">IsAnchoredAtStart</a>();</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;  <span class="keywordtype">int</span> max_length = data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#ab50bba99f68cfed8a3d7783f1be59a11">tree</a>-&gt;<a class="code" href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#af3a0d53d135b098b5eba8b3c9c2426d9">max_match</a>();</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;  <span class="keywordflow">if</span> (!is_start_anchored) {</div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;    <span class="comment">// Add a .*? at the beginning, outside the body capture, unless</span></div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;    <span class="comment">// this expression is anchored at the beginning.</span></div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    <a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">RegExpNode</a>* loop_node =</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;        RegExpQuantifier::ToNode(0,</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;                                 RegExpTree::kInfinity,</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;                                 <span class="keyword">false</span>,</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;                                 <span class="keyword">new</span>(zone) RegExpCharacterClass(<span class="charliteral">&#39;*&#39;</span>),</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;                                 &amp;compiler,</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;                                 captured_body,</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;                                 data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a7d4a28fb57ba894bc4ab73acb46f79c6">contains_anchor</a>);</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;    <span class="keywordflow">if</span> (data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a7d4a28fb57ba894bc4ab73acb46f79c6">contains_anchor</a>) {</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;      <span class="comment">// Unroll loop once, to take care of the case that might start</span></div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;      <span class="comment">// at the start of input.</span></div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;      <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html">ChoiceNode</a>* first_step_node = <span class="keyword">new</span>(zone) <a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html">ChoiceNode</a>(2, zone);</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;      first_step_node-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#aff551e9db6ee173b2d74c6e139c85198">AddAlternative</a>(<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a>(captured_body));</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;      first_step_node-&gt;<a class="code" href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#aff551e9db6ee173b2d74c6e139c85198">AddAlternative</a>(<a class="code" href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">GuardedAlternative</a>(</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;          <span class="keyword">new</span>(zone) <a class="code" href="../../d8/db1/classv8_1_1internal_1_1_text_node.html">TextNode</a>(<span class="keyword">new</span>(zone) RegExpCharacterClass(<span class="charliteral">&#39;*&#39;</span>), loop_node)));</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;      node = first_step_node;</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;      node = loop_node;</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    }</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;  }</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;  <span class="keywordflow">if</span> (is_ascii) {</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;    node = node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">FilterASCII</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a877444282fd32f2ad9d579bf9053009c">RegExpCompiler::kMaxRecursion</a>, ignore_case);</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;    <span class="comment">// Do it again to propagate the new nodes to places where they were not</span></div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;    <span class="comment">// put because they had not been calculated yet.</span></div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;    <span class="keywordflow">if</span> (node != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;      node = node-&gt;<a class="code" href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">FilterASCII</a>(<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a877444282fd32f2ad9d579bf9053009c">RegExpCompiler::kMaxRecursion</a>, ignore_case);</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;    }</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;  }</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;  <span class="keywordflow">if</span> (node == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) node = <span class="keyword">new</span>(zone) <a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html">EndNode</a>(<a class="code" href="../../da/dae/classv8_1_1internal_1_1_end_node.html#a8bb1ef53467e4f61410d12822d922498a0e07dfbe2609c107f03b1d10c74c897d">EndNode::BACKTRACK</a>, zone);</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;  data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#aba5c118f4ce10ba7e6f68149052af74b">node</a> = node;</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;  <a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html">Analysis</a> analysis(ignore_case, is_ascii);</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;  analysis.<a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">EnsureAnalyzed</a>(node);</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;  <span class="keywordflow">if</span> (analysis.<a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a1631175946d96e43015893575ba0d8e3">has_failed</a>()) {</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message = analysis.<a class="code" href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a5963c4a0b76123eda5df202b54ce7fe3">error_message</a>();</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d37/structv8_1_1internal_1_1_reg_exp_engine_1_1_compilation_result.html">CompilationResult</a>(zone-&gt;<a class="code" href="../../dd/dbe/classv8_1_1internal_1_1_zone.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>(), error_message);</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;  }</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;  <span class="comment">// Create the correct assembler for the architecture.</span></div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;<span class="preprocessor">#ifndef V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;  <span class="comment">// Native regexp implementation.</span></div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;  <a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a46c8a310cf4c094f8c80e1cb8dc1f911">NativeRegExpMacroAssembler::Mode</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a> =</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;      is_ascii ? <a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a46c8a310cf4c094f8c80e1cb8dc1f911af9c208c7d7a0f102f2683165540c882d">NativeRegExpMacroAssembler::ASCII</a></div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;               : <a class="code" href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a46c8a310cf4c094f8c80e1cb8dc1f911ac884734c621820646d10f252bef71e2b">NativeRegExpMacroAssembler::UC16</a>;</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;<span class="preprocessor">#if V8_TARGET_ARCH_IA32</span></div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;  <a class="code" href="../../d6/dcd/classv8_1_1internal_1_1_reg_exp_macro_assembler_i_a32.html">RegExpMacroAssemblerIA32</a> macro_assembler(mode, (data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a> + 1) * 2,</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;                                           zone);</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_X64</span></div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;  <a class="code" href="../../df/d4a/classv8_1_1internal_1_1_reg_exp_macro_assembler_x64.html">RegExpMacroAssemblerX64</a> macro_assembler(mode, (data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a> + 1) * 2,</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;                                          zone);</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM</span></div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;  <a class="code" href="../../d9/dcb/classv8_1_1internal_1_1_reg_exp_macro_assembler_a_r_m.html">RegExpMacroAssemblerARM</a> macro_assembler(mode, (data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a> + 1) * 2,</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;                                          zone);</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM64</span></div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;  <a class="code" href="../../d7/dbc/classv8_1_1internal_1_1_reg_exp_macro_assembler_a_r_m64.html">RegExpMacroAssemblerARM64</a> macro_assembler(mode, (data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a> + 1) * 2,</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;                                            zone);</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_MIPS</span></div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;  <a class="code" href="../../dd/d47/classv8_1_1internal_1_1_reg_exp_macro_assembler_m_i_p_s.html">RegExpMacroAssemblerMIPS</a> macro_assembler(mode, (data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a> + 1) * 2,</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;                                           zone);</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;<span class="preprocessor">#error &quot;Unsupported architecture&quot;</span></div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;<span class="preprocessor">#else  // V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;  <span class="comment">// Interpreted regexp implementation.</span></div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;  <a class="code" href="../../db/d76/classv8_1_1internal_1_1_embedded_vector.html">EmbeddedVector&lt;byte, 1024&gt;</a> codes;</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;  RegExpMacroAssemblerIrregexp macro_assembler(codes, zone);</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;<span class="preprocessor">#endif  // V8_INTERPRETED_REGEXP</span></div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;  <span class="comment">// Inserted here, instead of in Assembler, because it depends on information</span></div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;  <span class="comment">// in the AST that isn&#39;t replicated in the Node structure.</span></div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxBacksearchLimit = 1024;</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;  <span class="keywordflow">if</span> (is_end_anchored &amp;&amp;</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;      !is_start_anchored &amp;&amp;</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;      max_length &lt; kMaxBacksearchLimit) {</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;    macro_assembler.SetCurrentPositionFromEnd(max_length);</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;  }</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;  <span class="keywordflow">if</span> (is_global) {</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;    macro_assembler.set_global_mode(</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;        (data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#ab50bba99f68cfed8a3d7783f1be59a11">tree</a>-&gt;<a class="code" href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a68711d6212e751afe43099a94a07b598">min_match</a>() &gt; 0)</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;            ? <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#af5cfb2b438186214d116eaf565a68e85ad70433b6eaea350901ce50c73a0c7dc5">RegExpMacroAssembler::GLOBAL_NO_ZERO_LENGTH_CHECK</a></div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;            : <a class="code" href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#af5cfb2b438186214d116eaf565a68e85afde1bb5ef04b28059e61df449501f1c0">RegExpMacroAssembler::GLOBAL</a>);</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;  }</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;  <span class="keywordflow">return</span> compiler.<a class="code" href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#abbb78fa299ba894efbd32d0d3ee00c06">Assemble</a>(&amp;macro_assembler,</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;                           node,</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;                           data-&gt;<a class="code" href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">capture_count</a>,</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;                           pattern);</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;}</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;}}  <span class="comment">// namespace v8::internal</span></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_position_info_html_a90285a5a55533d5cb3c614bfb179c9b4"><div class="ttname"><a href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a90285a5a55533d5cb3c614bfb179c9b4">v8::internal::BoyerMoorePositionInfo::SetInterval</a></div><div class="ttdeci">void SetInterval(const Interval &amp;interval)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03629">jsregexp.cc:3629</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_list_html_a63f9bc251f8172d04f37cce529d346d4"><div class="ttname"><a href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#a63f9bc251f8172d04f37cce529d346d4">v8::internal::AlternativeGenerationList::AlternativeGenerationList</a></div><div class="ttdeci">AlternativeGenerationList(int count, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03576">jsregexp.cc:3576</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a540897bc4b8c37f64b4de2b060e18efa"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a540897bc4b8c37f64b4de2b060e18efa">v8::internal::RegExpMacroAssembler::WriteStackPointerToRegister</a></div><div class="ttdeci">virtual void WriteStackPointerToRegister(int reg)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a6f4bc047edfca38c54dd63dd220e698ba9c954bcf443428c80b0f107b3bc48749"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698ba9c954bcf443428c80b0f107b3bc48749">v8::internal::RegExpNode::DONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00685">jsregexp.h:685</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa93c2c60a1492707ba7686a2d1579a32"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">v8::internal::NULL</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00269">flags.cc:269</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_html_a9f1cd81a5f1eafd65303aedfbb5b6c87"><div class="ttname"><a href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#a9f1cd81a5f1eafd65303aedfbb5b6c87">v8::internal::DispatchTable::Get</a></div><div class="ttdeci">OutSet * Get(uc16 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05675">jsregexp.cc:5675</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_aa97333f7948ff269a24a3d2418148910"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#aa97333f7948ff269a24a3d2418148910">v8::internal::RegExpNode::FilterASCII</a></div><div class="ttdeci">virtual RegExpNode * FilterASCII(int depth, bool ignore_case)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00648">jsregexp.h:648</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9444e382e4d03fb3058f2b9033c040a3ab93178eee38457fd0039470481cd46b4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3ab93178eee38457fd0039470481cd46b4">v8::internal::kLatticeUnknown</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01227">jsregexp.h:1227</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ac5b9e412e210f45a19bec2bcbfbb0b8a"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8a">v8::internal::Trace::TriBool</a></div><div class="ttdeci">TriBool</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01353">jsregexp.h:1353</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a43ac65dcebb2bd4a6a774d19eb2c1ec3"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">v8::internal::ChoiceNode::FillInBMInfo</a></div><div class="ttdeci">virtual void FillInBMInfo(int offset, int budget, BoyerMooreLookahead *bm, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05803">jsregexp.cc:5803</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_execution_html_a29e3b9fbd2ec0b91f1355037f29aebb1"><div class="ttname"><a href="../../d0/d00/classv8_1_1internal_1_1_execution.html#a29e3b9fbd2ec0b91f1355037f29aebb1">v8::internal::Execution::New</a></div><div class="ttdeci">static Handle&lt; Object &gt; New(Handle&lt; JSFunction &gt; func, int argc, Handle&lt; Object &gt; argv[], bool *pending_exception)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7d/execution_8cc_source.html#l00190">execution.cc:190</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5c35d53d6d799e0b34a8ef52aa8fe52f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5c35d53d6d799e0b34a8ef52aa8fe52f">v8::internal::EmitCharacterFunction</a></div><div class="ttdeci">bool EmitCharacterFunction(Isolate *isolate, RegExpCompiler *compiler, uc16 c, Label *on_failure, int cp_offset, bool check, bool preloaded)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01731">jsregexp.cc:1731</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_ad88167be922b9898f4d3c2bf559d8d38"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad88167be922b9898f4d3c2bf559d8d38">v8::internal::RegExpMacroAssembler::StackCheckFlag</a></div><div class="ttdeci">StackCheckFlag</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00062">regexp-macro-assembler.h:62</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guard_html_a64f02167608d30f14dbaffec5605a53e"><div class="ttname"><a href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a64f02167608d30f14dbaffec5605a53e">v8::internal::Guard::op</a></div><div class="ttdeci">Relation op()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01038">jsregexp.h:1038</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a0bb11efa2351e9e53ce391636b7603f1"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a0bb11efa2351e9e53ce391636b7603f1">v8::internal::Isolate::StackOverflow</a></div><div class="ttdeci">Failure * StackOverflow()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/isolate_8cc_source.html#l00871">isolate.cc:871</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a0a8951faf4040ee7a86456f8f034e874"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a0a8951faf4040ee7a86456f8f034e874">v8::internal::ActionNode::u_empty_match_check</a></div><div class="ttdeci">struct v8::internal::ActionNode::@17::@22 u_empty_match_check</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a34e4782c368d557b6c861ae6de97d128"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a34e4782c368d557b6c861ae6de97d128">v8::internal::RegExpCompiler::ignore_case</a></div><div class="ttdeci">bool ignore_case()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01053">jsregexp.cc:1053</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae585d6bcec7e52a46e0e4447bfb2f7f3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae585d6bcec7e52a46e0e4447bfb2f7f3">v8::internal::FlattenString</a></div><div class="ttdeci">void FlattenString(Handle&lt; String &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d59/handles_8cc_source.html#l00151">handles.cc:151</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a17aad9f3e6fb63578ab794d064d13ce6"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a17aad9f3e6fb63578ab794d064d13ce6">v8::internal::Trace::stop_node</a></div><div class="ttdeci">RegExpNode * stop_node()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01455">jsregexp.h:1455</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a1779245274893c36bdc6c29c9aa1e78e"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a1779245274893c36bdc6c29c9aa1e78e">v8::internal::ChoiceNode::GreedyLoopTextLengthForAlternative</a></div><div class="ttdeci">int GreedyLoopTextLengthForAlternative(GuardedAlternative *alternative)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03476">jsregexp.cc:3476</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a1d1cfd8ffb84e947f82999c682b666a7a868daeaf74b2132e2566214d51dc1c00"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a1d1cfd8ffb84e947f82999c682b666a7a868daeaf74b2132e2566214d51dc1c00">v8::internal::JSRegExp::ATOM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07876">objects.h:7876</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_a28287671eaf7406afd604bd055ba4066a76d44342c42b85edbde0cae33f14c5de"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066a76d44342c42b85edbde0cae33f14c5de">v8::internal::NativeRegExpMacroAssembler::RETRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00207">regexp-macro-assembler.h:207</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a618422c40e0c859b001be37fe2eae67a"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a618422c40e0c859b001be37fe2eae67a">v8::internal::JSRegExp::kIrregexpMaxRegisterCountIndex</a></div><div class="ttdeci">static const int kIrregexpMaxRegisterCountIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07954">objects.h:7954</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_aabaa5cf09ae6f09e4b4e5e74aa77952a"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aabaa5cf09ae6f09e4b4e5e74aa77952a">v8::internal::Heap::total_regexp_code_generated</a></div><div class="ttdeci">double total_regexp_code_generated()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01729">heap.h:1729</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_reg_exp_compile_data_html_ab50bba99f68cfed8a3d7783f1be59a11"><div class="ttname"><a href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#ab50bba99f68cfed8a3d7783f1be59a11">v8::internal::RegExpCompileData::tree</a></div><div class="ttdeci">RegExpTree * tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01606">jsregexp.h:1606</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_acfa0e5fbc41ad0bf04c9ec7a4f72473f"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#acfa0e5fbc41ad0bf04c9ec7a4f72473f">v8::internal::List::Contains</a></div><div class="ttdeci">bool Contains(const T &amp;elm) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcb/list-inl_8h_source.html#l00196">list-inl.h:196</a></div></div>
<div class="ttc" id="full-codegen_8h_html_acf1a97e3dc1fb4583362725ee70ba04a"><div class="ttname"><a href="../../d5/d3f/full-codegen_8h.html#acf1a97e3dc1fb4583362725ee70ba04a">DECLARE_VISIT</a></div><div class="ttdeci">#define DECLARE_VISIT(type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3f/full-codegen_8h_source.html#l00629">full-codegen.h:629</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_a7ecb839199ee379f9371723072e4148a"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a7ecb839199ee379f9371723072e4148a">v8::internal::Smi::value</a></div><div class="ttdeci">int value()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01204">objects-inl.h:1204</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_ac1cfbf36a81381ffca08ef0b785d5eb9"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ac1cfbf36a81381ffca08ef0b785d5eb9">v8::internal::CharacterRange::GetWordBounds</a></div><div class="ttdeci">static Vector&lt; const int &gt; GetWordBounds()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05247">jsregexp.cc:5247</a></div></div>
<div class="ttc" id="checks_8h_html_a8e9df8a732b85ce860145a332c523e0c"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a8e9df8a732b85ce860145a332c523e0c">ASSERT_RESULT</a></div><div class="ttdeci">#define ASSERT_RESULT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00328">checks.h:328</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_html"><div class="ttname"><a href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html">v8::internal::AlternativeGeneration</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03558">jsregexp.cc:3558</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_1_1_deferred_action_html"><div class="ttname"><a href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html">v8::internal::Trace::DeferredAction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01357">jsregexp.h:1357</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_ad7c904b45e434256ab084211ff9d7861"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad7c904b45e434256ab084211ff9d7861">v8::internal::RegExpMacroAssembler::GoTo</a></div><div class="ttdeci">virtual void GoTo(Label *label)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_adde4594afddc3953baf27c81d82ea91f"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#adde4594afddc3953baf27c81d82ea91f">v8::internal::AssertionNode::AtStart</a></div><div class="ttdeci">static AssertionNode * AtStart(RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00909">jsregexp.h:909</a></div></div>
<div class="ttc" id="lineprocessor_8cc_html_a85e2fa9e1c9c033b527f5bb3baf7afb3"><div class="ttname"><a href="../../da/d3d/lineprocessor_8cc.html#a85e2fa9e1c9c033b527f5bb3baf7afb3">ToCString</a></div><div class="ttdeci">const char * ToCString(const v8::String::Utf8Value &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3d/lineprocessor_8cc_source.html#l00338">lineprocessor.cc:338</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_aa4f7e2873a4ecc90055306e56f3a67bd"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#aa4f7e2873a4ecc90055306e56f3a67bd">v8::internal::BoyerMooreLookahead::SetInterval</a></div><div class="ttdeci">void SetInterval(int map_number, const Interval &amp;interval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01299">jsregexp.h:1299</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a1577099d58b94bfd3e1ff9feba7871bd"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a1577099d58b94bfd3e1ff9feba7871bd">v8::internal::ActionNode::SetRegister</a></div><div class="ttdeci">static ActionNode * SetRegister(int reg, int val, RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01497">jsregexp.cc:1497</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_abbb78fa299ba894efbd32d0d3ee00c06"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#abbb78fa299ba894efbd32d0d3ee00c06">v8::internal::RegExpCompiler::Assemble</a></div><div class="ttdeci">RegExpEngine::CompilationResult Assemble(RegExpMacroAssembler *assembler, RegExpNode *start, int capture_count, Handle&lt; String &gt; pattern)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01115">jsregexp.cc:1115</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a37d191ed187ec5eb57dbf73d76ce26bd"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a37d191ed187ec5eb57dbf73d76ce26bd">v8::internal::RegExpImpl::IrregexpNativeCode</a></div><div class="ttdeci">static Code * IrregexpNativeCode(FixedArray *re, bool is_ascii)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00511">jsregexp.cc:511</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_array_html_abcd36ed7eaaf3cbe4fc6bd4d9f38d3c3"><div class="ttname"><a href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#abcd36ed7eaaf3cbe4fc6bd4d9f38d3c3">v8::internal::FixedArray::set</a></div><div class="ttdeci">void set(int index, Object *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l02147">objects-inl.h:2147</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a29dd6ffe8f62d1541ef1c8056c028e9c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a29dd6ffe8f62d1541ef1c8056c028e9c">v8::internal::true</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths true</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00208">flags.cc:208</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a5d905915ad41b33c881e56059628fa8c"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a5d905915ad41b33c881e56059628fa8c">v8::internal::Isolate::compilation_cache</a></div><div class="ttdeci">CompilationCache * compilation_cache()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00867">isolate.h:867</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_zone_html"><div class="ttname"><a href="../../dd/dbe/classv8_1_1internal_1_1_zone.html">v8::internal::Zone</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9c/zone_8h_source.html#l00063">zone.h:63</a></div></div>
<div class="ttc" id="regexp-macro-assembler-arm_8h_html"><div class="ttname"><a href="../../d7/d0d/regexp-macro-assembler-arm_8h.html">regexp-macro-assembler-arm.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_splitter_html_a8793b73605693635df09a63ed691ea3a"><div class="ttname"><a href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#a8793b73605693635df09a63ed691ea3a">v8::internal::CharacterRangeSplitter::CharacterRangeSplitter</a></div><div class="ttdeci">CharacterRangeSplitter(ZoneList&lt; CharacterRange &gt; **included, ZoneList&lt; CharacterRange &gt; **excluded, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05254">jsregexp.cc:5254</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5da70e56552dee3c4945a0a410895567"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8a/v8utils_8cc_source.html#l00040">v8utils.cc:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_ad88167be922b9898f4d3c2bf559d8d38afb00239bc6365fbee20a38e99de50b19"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad88167be922b9898f4d3c2bf559d8d38afb00239bc6365fbee20a38e99de50b19">v8::internal::RegExpMacroAssembler::kCheckStackLimit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00064">regexp-macro-assembler.h:64</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a66b940b179a9a21572629d3d5c854cb4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a66b940b179a9a21572629d3d5c854cb4">v8::internal::map</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf map</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00350">flags.cc:350</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_html_a793169e06e9183e678805ce0663b6000"><div class="ttname"><a href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#a793169e06e9183e678805ce0663b6000">v8::internal::DispatchTable::Dump</a></div><div class="ttdeci">void Dump()</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_vector_html"><div class="ttname"><a href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">v8::internal::Vector&lt; const uc16 &gt;</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_back_reference_node_html_a43ac65dcebb2bd4a6a774d19eb2c1ec3"><div class="ttname"><a href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">v8::internal::BackReferenceNode::FillInBMInfo</a></div><div class="ttdeci">virtual void FillInBMInfo(int offset, int budget, BoyerMooreLookahead *bm, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05788">jsregexp.cc:5788</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html_a40e056f11454ab7441ad5de3b82b9cf1"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a40e056f11454ab7441ad5de3b82b9cf1">v8::internal::HeapObject::GetIsolate</a></div><div class="ttdeci">Isolate * GetIsolate()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01331">objects-inl.h:1331</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_negative_submatch_success_html_adcf87d1548a77913bc9b2ab00539c0a2"><div class="ttname"><a href="../../d4/d76/classv8_1_1internal_1_1_negative_submatch_success.html#adcf87d1548a77913bc9b2ab00539c0a2">v8::internal::NegativeSubmatchSuccess::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01439">jsregexp.cc:1439</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_a6391d7952fe2756ac824043f9d2f1122"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#a6391d7952fe2756ac824043f9d2f1122">v8::internal::String::cast</a></div><div class="ttdeci">static String * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_af824e989155e0dc331a8ff788e3c9d58"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#af824e989155e0dc331a8ff788e3c9d58">v8::internal::ActionNode::BeginSubmatch</a></div><div class="ttdeci">static ActionNode * BeginSubmatch(int stack_pointer_reg, int position_reg, RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01537">jsregexp.cc:1537</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_handle_html"><div class="ttname"><a href="../../da/dde/classv8_1_1internal_1_1_handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00044">handles.h:44</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_back_reference_node_html_a908887723ebc91a520a3fd481db26fdd"><div class="ttname"><a href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#a908887723ebc91a520a3fd481db26fdd">v8::internal::BackReferenceNode::EatsAtLeast</a></div><div class="ttdeci">virtual int EatsAtLeast(int still_to_find, int recursion_depth, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02356">jsregexp.cc:2356</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_aff072b5fc54e9c045205b0f71b34ca94"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#aff072b5fc54e9c045205b0f71b34ca94">v8::internal::Isolate::GetCodeTracer</a></div><div class="ttdeci">CodeTracer * GetCodeTracer()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/isolate_8cc_source.html#l02229">isolate.cc:2229</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html">v8::internal::QuickCheckDetails</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00535">jsregexp.h:535</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_adcf87d1548a77913bc9b2ab00539c0a2"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#adcf87d1548a77913bc9b2ab00539c0a2">v8::internal::TextNode::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03345">jsregexp.cc:3345</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_html"><div class="ttname"><a href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html">v8::internal::DispatchTable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00344">jsregexp.h:344</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_a07be0e5bc1ab29fca4cfb595d410613d"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#a07be0e5bc1ab29fca4cfb595d410613d">v8::internal::String::kMaxUtf16CodeUnit</a></div><div class="ttdeci">static const int kMaxUtf16CodeUnit</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08916">objects.h:8916</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_a20d9549a6c934400e0c3db1982902bf9"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a20d9549a6c934400e0c3db1982902bf9">v8::internal::QuickCheckDetails::set_characters</a></div><div class="ttdeci">void set_characters(int characters)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00562">jsregexp.h:562</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_afe8c0c63cc681a9d9573fdcb3f282b0b"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#afe8c0c63cc681a9d9573fdcb3f282b0b">v8::internal::Isolate::jsregexp_uncanonicalize</a></div><div class="ttdeci">unibrow::Mapping&lt; unibrow::Ecma262UnCanonicalize &gt; * jsregexp_uncanonicalize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00926">isolate.h:926</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html">v8::internal::List</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00408">globals.h:408</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_zone_list_html"><div class="ttname"><a href="../../de/d05/classv8_1_1internal_1_1_zone_list.html">v8::internal::ZoneList</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9c/zone_8h_source.html#l00202">zone.h:202</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_analysis_html_a1631175946d96e43015893575ba0d8e3"><div class="ttname"><a href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a1631175946d96e43015893575ba0d8e3">v8::internal::Analysis::has_failed</a></div><div class="ttdeci">bool has_failed()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01581">jsregexp.h:1581</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_visit_marker_html_a16c5f5a67dad2a30540151c7fce9ba81"><div class="ttname"><a href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html#a16c5f5a67dad2a30540151c7fce9ba81">v8::internal::VisitMarker::VisitMarker</a></div><div class="ttdeci">VisitMarker(NodeInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02767">jsregexp.cc:2767</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afc9485caadcdbab9ac567ff1ec54e554"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afc9485caadcdbab9ac567ff1ec54e554">v8::internal::kNumRegisters</a></div><div class="ttdeci">const int kNumRegisters</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00057">constants-arm.h:57</a></div></div>
<div class="ttc" id="test-threads_8cc_html_a236b9af6f8c1a2f8f031d4c6a79a1147a9c954bcf443428c80b0f107b3bc48749"><div class="ttname"><a href="../../de/d54/test-threads_8cc.html#a236b9af6f8c1a2f8f031d4c6a79a1147a9c954bcf443428c80b0f107b3bc48749">DONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/test-threads_8cc_source.html#l00040">test-threads.cc:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_afe1fa31a909cf533daaa9b30159f7ad9"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#afe1fa31a909cf533daaa9b30159f7ad9">v8::internal::String::IsFlat</a></div><div class="ttdeci">bool IsFlat()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l03030">objects-inl.h:3030</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a1c7fa9022c599da146cb77a1ae98ba1c"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">v8::internal::Heap::isolate</a></div><div class="ttdeci">Isolate * isolate()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/heap-inl_8h_source.html#l00624">heap-inl.h:624</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a2688ddbd9e79f6cd0af32cc89f5e8f40"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a2688ddbd9e79f6cd0af32cc89f5e8f40">v8::internal::RegExpNode::GetSuccessorOfOmnivorousTextNode</a></div><div class="ttdeci">virtual RegExpNode * GetSuccessorOfOmnivorousTextNode(RegExpCompiler *compiler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00627">jsregexp.h:627</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_a53259c85a9a7f54c354c7871cb340073"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a53259c85a9a7f54c354c7871cb340073">v8::internal::Smi::FromInt</a></div><div class="ttdeci">static Smi * FromInt(int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01209">objects-inl.h:1209</a></div></div>
<div class="ttc" id="log_8h_html_a146099bfe6b228d314fa3c784c56feec"><div class="ttname"><a href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a></div><div class="ttdeci">#define LOG(isolate, Call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/log_8h_source.html#l00086">log.h:86</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_interval_html_aa114e804f0ccb93b71e8a21b2330c4d7"><div class="ttname"><a href="../../d3/de9/classv8_1_1internal_1_1_interval.html#aa114e804f0ccb93b71e8a21b2330c4d7">v8::internal::Interval::Contains</a></div><div class="ttdeci">bool Contains(int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00723">jsregexp.h:723</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_interval_html_a9ac04ed8b141489166b5c27dc8f0714d"><div class="ttname"><a href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a9ac04ed8b141489166b5c27dc8f0714d">v8::internal::Interval::to</a></div><div class="ttdeci">int to() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00728">jsregexp.h:728</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ae611c22c88cd712f5de2fccb737c925a"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae611c22c88cd712f5de2fccb737c925a">v8::internal::Trace::set_at_start</a></div><div class="ttdeci">void set_at_start(bool at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01450">jsregexp.h:1450</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_a28287671eaf7406afd604bd055ba4066ac7f69f7c9e5aea9b8f54cf02870e2bf8"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066ac7f69f7c9e5aea9b8f54cf02870e2bf8">v8::internal::NativeRegExpMacroAssembler::SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00207">regexp-macro-assembler.h:207</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_per_thread_assert_scope_debug_only_html"><div class="ttname"><a href="../../d0/deb/classv8_1_1internal_1_1_per_thread_assert_scope_debug_only.html">v8::internal::PerThreadAssertScopeDebugOnly&lt; HEAP_ALLOCATION_ASSERT, false &gt;</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_1_1_global_cache_html_ac05a060ec7ec640887a07baf5bcdbaf4"><div class="ttname"><a href="../../df/d26/classv8_1_1internal_1_1_reg_exp_impl_1_1_global_cache.html#ac05a060ec7ec640887a07baf5bcdbaf4">v8::internal::RegExpImpl::GlobalCache::GlobalCache</a></div><div class="ttdeci">GlobalCache(Handle&lt; JSRegExp &gt; regexp, Handle&lt; String &gt; subject, bool is_global, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00711">jsregexp.cc:711</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_back_reference_node_html"><div class="ttname"><a href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html">v8::internal::BackReferenceNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00946">jsregexp.h:946</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a5fa3f83bf984177723a982f2a74b4e48"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a5fa3f83bf984177723a982f2a74b4e48">v8::internal::RegExpMacroAssembler::CheckNotBackReference</a></div><div class="ttdeci">virtual void CheckNotBackReference(int start_reg, Label *on_no_match)=0</div></div>
<div class="ttc" id="checks_8h_html_aa49e13f06cb6965b35c085c0497e2bf7"><div class="ttname"><a href="../../d5/d16/checks_8h.html#aa49e13f06cb6965b35c085c0497e2bf7">ASSERT_NOT_NULL</a></div><div class="ttdeci">#define ASSERT_NOT_NULL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00343">checks.h:343</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a6f4bc047edfca38c54dd63dd220e698b"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698b">v8::internal::RegExpNode::LimitResult</a></div><div class="ttdeci">LimitResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00685">jsregexp.h:685</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a7776bf19ea21f4a456c26b5f075972e2"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a7776bf19ea21f4a456c26b5f075972e2">v8::internal::ActionNode::u_position_register</a></div><div class="ttdeci">struct v8::internal::ActionNode::@17::@20 u_position_register</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_a28287671eaf7406afd604bd055ba4066aa5571864412c8275a2e18a931fddcaa6"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066aa5571864412c8275a2e18a931fddcaa6">v8::internal::NativeRegExpMacroAssembler::FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00207">regexp-macro-assembler.h:207</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8afe4762daf05f344b9afbf670d14fcb56"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8afe4762daf05f344b9afbf670d14fcb56">v8::internal::below</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0a/assembler-ia32_8h_source.html#l00279">assembler-ia32.h:279</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a57e6c43abaa66dd869ea45b4f97184d7"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a57e6c43abaa66dd869ea45b4f97184d7">v8::internal::RegExpNode::EmitQuickCheck</a></div><div class="ttdeci">bool EmitQuickCheck(RegExpCompiler *compiler, Trace *trace, bool preload_has_checked_bounds, Label *on_possible_success, QuickCheckDetails *details_return, bool fall_through_on_failure)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02477">jsregexp.cc:2477</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a20edffa8d68120954ea187cb1712767e"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a20edffa8d68120954ea187cb1712767e">v8::internal::Trace::set_loop_label</a></div><div class="ttdeci">void set_loop_label(Label *label)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01474">jsregexp.h:1474</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_handle_html_a306bd25814bd1c8e9a575e1edb78a46c"><div class="ttname"><a href="../../da/dde/classv8_1_1internal_1_1_handle.html#a306bd25814bd1c8e9a575e1edb78a46c">v8::internal::Handle::cast</a></div><div class="ttdeci">static Handle&lt; T &gt; cast(Handle&lt; S &gt; that)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00075">handles.h:75</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a9bff24679affbf050af90dd4e17b6f1d"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a9bff24679affbf050af90dd4e17b6f1d">v8::internal::Isolate::kJSRegexpStaticOffsetsVectorSize</a></div><div class="ttdeci">static const int kJSRegexpStaticOffsetsVectorSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00997">isolate.h:997</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_expansion_limiter_html"><div class="ttname"><a href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html">v8::internal::RegExpExpansionLimiter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l04837">jsregexp.cc:4837</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a6c17ccdb42fde260e08170e996b466a8"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6c17ccdb42fde260e08170e996b466a8">v8::internal::ActionNode::EmptyMatchCheck</a></div><div class="ttdeci">static ActionNode * EmptyMatchCheck(int start_register, int repetition_register, int repetition_limit, RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01563">jsregexp.cc:1563</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac1ca15b56c9c6bbf29ee4aa156dbc05a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">v8::internal::Max</a></div><div class="ttdeci">T Max(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00227">utils.h:227</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_aa55df1b98219bf14033b93f65269080c"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa55df1b98219bf14033b93f65269080c">v8::internal::RegExpMacroAssembler::ClearRegisters</a></div><div class="ttdeci">virtual void ClearRegisters(int reg_from, int reg_to)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_a53c091ceeb86f2f93c0aa1fce04b7a65"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a53c091ceeb86f2f93c0aa1fce04b7a65">v8::internal::QuickCheckDetails::positions</a></div><div class="ttdeci">Position * positions(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00563">jsregexp.h:563</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_1_1_deferred_capture_html"><div class="ttname"><a href="../../d0/d3f/classv8_1_1internal_1_1_trace_1_1_deferred_capture.html">v8::internal::Trace::DeferredCapture</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01372">jsregexp.h:1372</a></div></div>
<div class="ttc" id="runtime_8h_html"><div class="ttname"><a href="../../d3/d51/runtime_8h.html">runtime.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_ab6c511bb7e570f44fced9272fe78c23a"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#ab6c511bb7e570f44fced9272fe78c23a">v8::internal::TextNode::GetSuccessorOfOmnivorousTextNode</a></div><div class="ttdeci">virtual RegExpNode * GetSuccessorOfOmnivorousTextNode(RegExpCompiler *compiler)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03448">jsregexp.cc:3448</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae9518a9e1dcbf9dd9cafda6ac0946145"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae9518a9e1dcbf9dd9cafda6ac0946145">v8::internal::uc32</a></div><div class="ttdeci">int32_t uc32</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00310">globals.h:310</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guard_html_a84d28e51902a32faeb9c6d2be9d29547"><div class="ttname"><a href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a84d28e51902a32faeb9c6d2be9d29547">v8::internal::Guard::reg</a></div><div class="ttdeci">int reg()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01037">jsregexp.h:1037</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a572c2762346f34ffbecc288554574dc8"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a572c2762346f34ffbecc288554574dc8">v8::internal::RegExpNode::LimitVersions</a></div><div class="ttdeci">LimitResult LimitVersions(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02261">jsregexp.cc:2261</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_reg_exp_engine_1_1_compilation_result_html"><div class="ttname"><a href="../../d6/d37/structv8_1_1internal_1_1_reg_exp_engine_1_1_compilation_result.html">v8::internal::RegExpEngine::CompilationResult</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01617">jsregexp.h:1617</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_end_node_html_adcf87d1548a77913bc9b2ab00539c0a2"><div class="ttname"><a href="../../da/dae/classv8_1_1internal_1_1_end_node.html#adcf87d1548a77913bc9b2ab00539c0a2">v8::internal::EndNode::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01466">jsregexp.cc:1466</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_aeaafcd3af71d72da23a2c0b882bac184"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aeaafcd3af71d72da23a2c0b882bac184">v8::internal::RegExpImpl::CreateRegExpLiteral</a></div><div class="ttdeci">static Handle&lt; Object &gt; CreateRegExpLiteral(Handle&lt; JSFunction &gt; constructor, Handle&lt; String &gt; pattern, Handle&lt; String &gt; flags, bool *has_pending_exception)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00069">jsregexp.cc:69</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_node_info_html_ac1f4d646248296beeaa18f27cdb19a92"><div class="ttname"><a href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#ac1f4d646248296beeaa18f27cdb19a92">v8::internal::NodeInfo::AddFromFollowing</a></div><div class="ttdeci">void AddFromFollowing(NodeInfo *that)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00507">jsregexp.h:507</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aafde67e17c0eff2ae6a6bef6b217148d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aafde67e17c0eff2ae6a6bef6b217148d">v8::internal::Object</a></div><div class="ttdeci">kSerializedDataOffset Object</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l05016">objects-inl.h:5016</a></div></div>
<div class="ttc" id="regexp-stack_8h_html"><div class="ttname"><a href="../../dc/dfe/regexp-stack_8h.html">regexp-stack.h</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_reg_exp_compile_data_html_aba5c118f4ce10ba7e6f68149052af74b"><div class="ttname"><a href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#aba5c118f4ce10ba7e6f68149052af74b">v8::internal::RegExpCompileData::node</a></div><div class="ttdeci">RegExpNode * node</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01607">jsregexp.h:1607</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a3f3de3e0d751949b8d0b60ffb302944aafde1bb5ef04b28059e61df449501f1c0"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a3f3de3e0d751949b8d0b60ffb302944aafde1bb5ef04b28059e61df449501f1c0">v8::internal::JSRegExp::GLOBAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07877">objects.h:7877</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_html_ad1bc40ec328ef8bbd439c5075ee58152"><div class="ttname"><a href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#ad1bc40ec328ef8bbd439c5075ee58152">v8::internal::DispatchTable::AddRange</a></div><div class="ttdeci">void AddRange(CharacterRange range, int value, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05586">jsregexp.cc:5586</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a052670e7fe387a82112dfa8fd9347309"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a052670e7fe387a82112dfa8fd9347309">v8::internal::ActionNode::IncrementRegister</a></div><div class="ttdeci">static ActionNode * IncrementRegister(int reg, RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01508">jsregexp.cc:1508</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_1_1_entry_html_a6e569677dd11d892d730adbb05c6e13c"><div class="ttname"><a href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a6e569677dd11d892d730adbb05c6e13c">v8::internal::DispatchTable::Entry::to</a></div><div class="ttdeci">uc16 to()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00354">jsregexp.h:354</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_byte_array_html_af6a4268c19a4ae50cf4b03f0ef2b7ccf"><div class="ttname"><a href="../../d1/d5d/classv8_1_1internal_1_1_byte_array.html#af6a4268c19a4ae50cf4b03f0ef2b7ccf">v8::internal::ByteArray::cast</a></div><div class="ttdeci">static ByteArray * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_a808b2174341456870f24525432729faa"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#a808b2174341456870f24525432729faa">v8::internal::List&lt; T, ZoneAllocationPolicy &gt;::at</a></div><div class="ttdeci">T &amp; at(int i) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00090">list.h:90</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a39db7ca92c947a46c91591a57b8d0fb1"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a39db7ca92c947a46c91591a57b8d0fb1">v8::internal::RegExpImpl::IrregexpNumberOfCaptures</a></div><div class="ttdeci">static int IrregexpNumberOfCaptures(FixedArray *re)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00496">jsregexp.cc:496</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1caa5af05ec5fc8823953bb5436e4bc7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1caa5af05ec5fc8823953bb5436e4bc7">v8::internal::message</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long expose natives in global object expose freeBuffer extension expose gc extension under the specified name expose externalize string extension number of stack frames to capture disable builtin natives files print name of functions for which code is generated use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations always try to OSR functions trace optimize function deoptimization minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions trace debugging JSON request response trace out of bounds accesses to external arrays trace_js_array_abuse automatically set the debug break flag when debugger commands are in the queue abort by crashing maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable always perform global GCs print one trace line following each garbage collection do not print trace line after scavenger collection print statistics of the maximum memory committed for the heap in only print modified registers Don t break for ASM_UNIMPLEMENTED_BREAK macros print stack trace when an illegal exception is thrown randomize hashes to avoid predictable hash Fixed seed to use to hash property Print the time it takes to deserialize the snapshot testing_bool_flag testing_int_flag string flag tmp file in which to serialize heap Print the time it takes to lazily compile hydrogen code stubs concurrent_recompilation concurrent_sweeping Print usage message</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00665">flags.cc:665</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_1_1_entry_html_aa4d7565b40840b2b52d08429a1935313"><div class="ttname"><a href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#aa4d7565b40840b2b52d08429a1935313">v8::internal::DispatchTable::Entry::set_to</a></div><div class="ttdeci">void set_to(uc16 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00355">jsregexp.h:355</a></div></div>
<div class="ttc" id="namespaceunibrow_html_a32f2e37ee053cf2ce8ca28d1f74630e5"><div class="ttname"><a href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dad/unicode_8cc_source.html#l00047">unicode.cc:47</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guarded_alternative_html"><div class="ttname"><a href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html">v8::internal::GuardedAlternative</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01048">jsregexp.h:1048</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_array_html_ad10fca14cf06b063d21128adada0e25f"><div class="ttname"><a href="../../da/dc0/classv8_1_1internal_1_1_j_s_array.html#ad10fca14cf06b063d21128adada0e25f">v8::internal::JSArray::EnsureSize</a></div><div class="ttdeci">static void EnsureSize(Handle&lt; JSArray &gt; array, int minimum_size_of_backing_fixed_array)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l06610">objects-inl.h:6610</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_seq_reg_exp_node_html_abea7073b6546e43e81e47b36a0cb9c7e"><div class="ttname"><a href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#abea7073b6546e43e81e47b36a0cb9c7e">v8::internal::SeqRegExpNode::FilterASCII</a></div><div class="ttdeci">virtual RegExpNode * FilterASCII(int depth, bool ignore_case)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02779">jsregexp.cc:2779</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a170549aeb974cf446b8b4c0e66063395"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a170549aeb974cf446b8b4c0e66063395">v8::internal::RegExpMacroAssembler::LoadCurrentCharacter</a></div><div class="ttdeci">virtual void LoadCurrentCharacter(int cp_offset, Label *on_end_of_input, bool check_bounds=true, int characters=1)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_aa4e480782bb23104de24be97b415f5de"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#aa4e480782bb23104de24be97b415f5de">v8::internal::CharacterRange::Canonicalize</a></div><div class="ttdeci">static void Canonicalize(ZoneList&lt; CharacterRange &gt; *ranges)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05475">jsregexp.cc:5475</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_recursion_check_html_a506600b37b8560b0d57196a4122a3256"><div class="ttname"><a href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html#a506600b37b8560b0d57196a4122a3256">v8::internal::RecursionCheck::~RecursionCheck</a></div><div class="ttdeci">~RecursionCheck()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01086">jsregexp.cc:1086</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_reg_exp_compile_data_html_a3ade74206c7c7a1fdd42bc981e19087f"><div class="ttname"><a href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3ade74206c7c7a1fdd42bc981e19087f">v8::internal::RegExpCompileData::simple</a></div><div class="ttdeci">bool simple</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01608">jsregexp.h:1608</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_ac6ac79da9c9408adf2bac39747d9daa2"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2">v8::internal::LoopChoiceNode::GetQuickCheckDetails</a></div><div class="ttdeci">virtual void GetQuickCheckDetails(QuickCheckDetails *details, RegExpCompiler *compiler, int characters_filled_in, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02959">jsregexp.cc:2959</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_cache_html_abd4ce545774a9bae7ceba2cd29532ada"><div class="ttname"><a href="../../da/dd0/classv8_1_1internal_1_1_compilation_cache.html#abd4ce545774a9bae7ceba2cd29532ada">v8::internal::CompilationCache::LookupRegExp</a></div><div class="ttdeci">Handle&lt; FixedArray &gt; LookupRegExp(Handle&lt; String &gt; source, JSRegExp::Flags flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/compilation-cache_8cc_source.html#l00443">compilation-cache.cc:443</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_seq_reg_exp_node_html_a9a7155567e97603cc4f469abff034c10"><div class="ttname"><a href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#a9a7155567e97603cc4f469abff034c10">v8::internal::SeqRegExpNode::FilterSuccessor</a></div><div class="ttdeci">RegExpNode * FilterSuccessor(int depth, bool ignore_case)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02788">jsregexp.cc:2788</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_position_info_html_a42a292f2f6ebc44d2deeb87898529fd2"><div class="ttname"><a href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a42a292f2f6ebc44d2deeb87898529fd2">v8::internal::BoyerMoorePositionInfo::Set</a></div><div class="ttdeci">void Set(int character)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03624">jsregexp.cc:3624</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_analysis_html_ae662fdf2904db1cd6ffd430d41b66efa"><div class="ttname"><a href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#ae662fdf2904db1cd6ffd430d41b66efa">v8::internal::Analysis::EnsureAnalyzed</a></div><div class="ttdeci">void EnsureAnalyzed(RegExpNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05691">jsregexp.cc:5691</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_array_html"><div class="ttname"><a href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html">v8::internal::FixedArray</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l03025">objects.h:3025</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ac05302071fa8ca5949d7ba4e391cfe44"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac05302071fa8ca5949d7ba4e391cfe44">v8::internal::Trace::set_flush_budget</a></div><div class="ttdeci">void set_flush_budget(int to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01477">jsregexp.h:1477</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_a43ac65dcebb2bd4a6a774d19eb2c1ec3"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">v8::internal::LoopChoiceNode::FillInBMInfo</a></div><div class="ttdeci">virtual void FillInBMInfo(int offset, int budget, BoyerMooreLookahead *bm, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02972">jsregexp.cc:2972</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_m_i_p_s_html"><div class="ttname"><a href="../../dd/d47/classv8_1_1internal_1_1_reg_exp_macro_assembler_m_i_p_s.html">v8::internal::RegExpMacroAssemblerMIPS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da7/regexp-macro-assembler-mips_8h_source.html#l00042">regexp-macro-assembler-mips.h:42</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_constructor_html"><div class="ttname"><a href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html">v8::internal::DispatchTableConstructor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01522">jsregexp.h:1522</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_html_a0685c2a9ce0acf259ad1263a61e2ebec"><div class="ttname"><a href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a0685c2a9ce0acf259ad1263a61e2ebec">v8::internal::AlternativeGeneration::possible_success</a></div><div class="ttdeci">Label possible_success</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03565">jsregexp.cc:3565</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_ae6c6819bbdd8f55a29648d878b729abf"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ae6c6819bbdd8f55a29648d878b729abf">v8::internal::CharacterRange::Everything</a></div><div class="ttdeci">static CharacterRange Everything()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00274">jsregexp.h:274</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_tree_html_a38733228668f3a748bc44bafbf26ffb8"><div class="ttname"><a href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a38733228668f3a748bc44bafbf26ffb8">v8::internal::RegExpTree::IsAnchoredAtEnd</a></div><div class="ttdeci">virtual bool IsAnchoredAtEnd()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l02509">ast.h:2509</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_position_info_html_a693165f967e6ac94cb237b1457938474"><div class="ttname"><a href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a693165f967e6ac94cb237b1457938474">v8::internal::BoyerMoorePositionInfo::at</a></div><div class="ttdeci">bool &amp; at(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01256">jsregexp.h:1256</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a2b5d208a3fd079a73d35424691e391bf"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a2b5d208a3fd079a73d35424691e391bf">v8::internal::RegExpCompiler::RegExpCompiler</a></div><div class="ttdeci">RegExpCompiler(int capture_count, bool ignore_case, bool is_ascii, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01099">jsregexp.cc:1099</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a621c9f18bfa3d14cf1b53a8860ad31bb"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a621c9f18bfa3d14cf1b53a8860ad31bb">v8::internal::ChoiceNode::try_to_emit_quick_check_for_alternative</a></div><div class="ttdeci">virtual bool try_to_emit_quick_check_for_alternative(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01099">jsregexp.h:1099</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_1_1_entry_html_ad6861817f37891ea450e24d407d235ef"><div class="ttname"><a href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#ad6861817f37891ea450e24d407d235ef">v8::internal::DispatchTable::Entry::AddValue</a></div><div class="ttdeci">void AddValue(int value, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00356">jsregexp.h:356</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_out_set_html_aad236a19b15097c4905c1e9f1ecd73e6"><div class="ttname"><a href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aad236a19b15097c4905c1e9f1ecd73e6">v8::internal::OutSet::Get</a></div><div class="ttdeci">bool Get(unsigned value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05572">jsregexp.cc:5572</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a21d5e8f8cdaa838586b31007df0a950badfba1cc7e906c4022250d065271248ae"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950badfba1cc7e906c4022250d065271248ae">v8::internal::ActionNode::STORE_POSITION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00765">jsregexp.h:765</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_a80133ae4529af28fbf5f4c988e015792"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a80133ae4529af28fbf5f4c988e015792">v8::internal::TextNode::EatsAtLeast</a></div><div class="ttdeci">virtual int EatsAtLeast(int still_to_find, int budget, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02366">jsregexp.cc:2366</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a79ff3309a576b0187103c81dc86c98ef"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a79ff3309a576b0187103c81dc86c98ef">v8::internal::Canonicalize</a></div><div class="ttdeci">unibrow::Mapping&lt; unibrow::Ecma262Canonicalize &gt; Canonicalize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/interpreter-irregexp_8cc_source.html#l00044">interpreter-irregexp.cc:44</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a3f3de3e0d751949b8d0b60ffb302944aa597eb22229532b23475cd6622ce9b117"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a3f3de3e0d751949b8d0b60ffb302944aa597eb22229532b23475cd6622ce9b117">v8::internal::JSRegExp::MULTILINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07877">objects.h:7877</a></div></div>
<div class="ttc" id="compilation-cache_8h_html"><div class="ttname"><a href="../../de/dea/compilation-cache_8h.html">compilation-cache.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_position_info_html"><div class="ttname"><a href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html">v8::internal::BoyerMoorePositionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01242">jsregexp.h:1242</a></div></div>
<div class="ttc" id="classunibrow_1_1_latin1_html_a6923c8db78d4a8bf7db5a4d5de2bf174"><div class="ttname"><a href="../../d2/dd0/classunibrow_1_1_latin1.html#a6923c8db78d4a8bf7db5a4d5de2bf174">unibrow::Latin1::ConvertNonLatin1ToLatin1</a></div><div class="ttdeci">static uint16_t ConvertNonLatin1ToLatin1(uint16_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d37/unicode-inl_8h_source.html#l00083">unicode-inl.h:83</a></div></div>
<div class="ttc" id="checks_8h_html_ac22830a985e1daed0c9eadba8c6f606e"><div class="ttname"><a href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a></div><div class="ttdeci">#define ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00329">checks.h:329</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a6b0237610fe682f5a451b96e9f83d010"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a6b0237610fe682f5a451b96e9f83d010">v8::internal::ActionNode::StorePosition</a></div><div class="ttdeci">static ActionNode * StorePosition(int reg, bool is_capture, RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01516">jsregexp.cc:1516</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a43ac65dcebb2bd4a6a774d19eb2c1ec3"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">v8::internal::ActionNode::FillInBMInfo</a></div><div class="ttdeci">virtual void FillInBMInfo(int offset, int budget, BoyerMooreLookahead *bm, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02316">jsregexp.cc:2316</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_ab17751a1f98c3205d743079afb828c6a"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab17751a1f98c3205d743079afb828c6a">v8::internal::RegExpCompiler::current_expansion_factor</a></div><div class="ttdeci">int current_expansion_factor()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01057">jsregexp.cc:1057</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_position_info_html_a08d7ead5dfdcb4af6654fec354db4865"><div class="ttname"><a href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a08d7ead5dfdcb4af6654fec354db4865">v8::internal::BoyerMoorePositionInfo::SetAll</a></div><div class="ttdeci">void SetAll()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03653">jsregexp.cc:3653</a></div></div>
<div class="ttc" id="checks_8h_html_a8534ecd5e280a77dd885c1aae46a1c22"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a8534ecd5e280a77dd885c1aae46a1c22">ASSERT_GE</a></div><div class="ttdeci">#define ASSERT_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00332">checks.h:332</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a4fadca6f2c94d4e8197cf24a9accb87c"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a4fadca6f2c94d4e8197cf24a9accb87c">v8::internal::Trace::set_characters_preloaded</a></div><div class="ttdeci">void set_characters_preloaded(int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01475">jsregexp.h:1475</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab3f111ff99c60819793665a8b803cf83"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab3f111ff99c60819793665a8b803cf83">v8::internal::kPatternTooShortForBoyerMoore</a></div><div class="ttdeci">const int kPatternTooShortForBoyerMoore</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00142">jsregexp.cc:142</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_ab05c37f1de281a5630ee952b27565e7e"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab05c37f1de281a5630ee952b27565e7e">v8::internal::RegExpCompiler::ascii</a></div><div class="ttdeci">bool ascii()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01054">jsregexp.cc:1054</a></div></div>
<div class="ttc" id="namespaceunibrow_html_a273cf69d639a59973b6019625df33e30"><div class="ttname"><a href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dad/unicode_8cc_source.html#l00046">unicode.cc:46</a></div></div>
<div class="ttc" id="interpreter-irregexp_8h_html"><div class="ttname"><a href="../../d1/dd1/interpreter-irregexp_8h.html">interpreter-irregexp.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_a112e3d7d1f16a99ea027a0581ecea661"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a112e3d7d1f16a99ea027a0581ecea661">v8::internal::QuickCheckDetails::characters</a></div><div class="ttdeci">int characters()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00561">jsregexp.h:561</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a6c72b330e95c6d2c2d84b4608746713e"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a6c72b330e95c6d2c2d84b4608746713e">v8::internal::Trace::AdvanceCurrentPositionInTrace</a></div><div class="ttdeci">void AdvanceCurrentPositionInTrace(int by, RegExpCompiler *compiler)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03404">jsregexp.cc:3404</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_analysis_html_a5963c4a0b76123eda5df202b54ce7fe3"><div class="ttname"><a href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#a5963c4a0b76123eda5df202b54ce7fe3">v8::internal::Analysis::error_message</a></div><div class="ttdeci">const char * error_message()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01582">jsregexp.h:1582</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_af5cfb2b438186214d116eaf565a68e85ad70433b6eaea350901ce50c73a0c7dc5"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#af5cfb2b438186214d116eaf565a68e85ad70433b6eaea350901ce50c73a0c7dc5">v8::internal::RegExpMacroAssembler::GLOBAL_NO_ZERO_LENGTH_CHECK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00173">regexp-macro-assembler.h:173</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_af4d2f059b86d0249fcab31063634aa57"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af4d2f059b86d0249fcab31063634aa57">v8::internal::CharacterRange::is_valid</a></div><div class="ttdeci">bool is_valid()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00282">jsregexp.h:282</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_afa71ce1bd7803567a346b98de74ec9ac"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afa71ce1bd7803567a346b98de74ec9ac">v8::internal::RegExpCompiler::zone</a></div><div class="ttdeci">Zone * zone() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01062">jsregexp.cc:1062</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_a09fa601fe6ca5fd2e596ad30e87fc64c"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#a09fa601fe6ca5fd2e596ad30e87fc64c">v8::internal::String::kMaxOneByteCharCodeU</a></div><div class="ttdeci">static const uint32_t kMaxOneByteCharCodeU</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08915">objects.h:8915</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a21d5e8f8cdaa838586b31007df0a950ba776121259d1b943e213a27d1d044fce2"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba776121259d1b943e213a27d1d044fce2">v8::internal::ActionNode::BEGIN_SUBMATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00766">jsregexp.h:766</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0c32b379e3be65ce7c8fe0bfe51eb7eaaf3d0d752de4b5754a85fcdaaf0a2f26c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0c32b379e3be65ce7c8fe0bfe51eb7eaaf3d0d752de4b5754a85fcdaaf0a2f26c">v8::internal::TENURED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00201">v8globals.h:201</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_a60b8db80c105adfa8a9b84c8cb21d9be"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a60b8db80c105adfa8a9b84c8cb21d9be">v8::internal::BoyerMooreLookahead::compiler</a></div><div class="ttdeci">RegExpCompiler * compiler()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01285">jsregexp.h:1285</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_constructor_html_a9faa84540ffb216afcf618b86ae1e2d9"><div class="ttname"><a href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a9faa84540ffb216afcf618b86ae1e2d9">v8::internal::DispatchTableConstructor::BuildTable</a></div><div class="ttdeci">void BuildTable(ChoiceNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05895">jsregexp.cc:5895</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_aa451955c0f1011fb012e3bb8263fa129"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa451955c0f1011fb012e3bb8263fa129">v8::internal::RegExpMacroAssembler::ReadCurrentPositionFromRegister</a></div><div class="ttdeci">virtual void ReadCurrentPositionFromRegister(int reg)=0</div></div>
<div class="ttc" id="platform_8h_html"><div class="ttname"><a href="../../de/d03/platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_constructor_html_a6fb4333f3a6c37611b9f7f57d4a443ee"><div class="ttname"><a href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a6fb4333f3a6c37611b9f7f57d4a443ee">v8::internal::DispatchTableConstructor::table</a></div><div class="ttdeci">DispatchTable * table()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01544">jsregexp.h:1544</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guard_html_a32244553e6de01a64084f56cc7da7747a99705e9593e3e5c078150b293c86561e"><div class="ttname"><a href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a32244553e6de01a64084f56cc7da7747a99705e9593e3e5c078150b293c86561e">v8::internal::Guard::GEQ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01032">jsregexp.h:1032</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a21d5e8f8cdaa838586b31007df0a950ba5320cb7aedaa3d802dcb62971a5b2ebf"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba5320cb7aedaa3d802dcb62971a5b2ebf">v8::internal::ActionNode::SET_REGISTER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00763">jsregexp.h:763</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html">v8::internal::ActionNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00760">jsregexp.h:760</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_a0c5f9cb19744fad0d6aeae3a5f1a0497"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a0c5f9cb19744fad0d6aeae3a5f1a0497">v8::internal::BoyerMooreLookahead::EmitSkipInstructions</a></div><div class="ttdeci">bool EmitSkipInstructions(RegExpMacroAssembler *masm)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03782">jsregexp.cc:3782</a></div></div>
<div class="ttc" id="ast_8h_html"><div class="ttname"><a href="../../db/df0/ast_8h.html">ast.h</a></div></div>
<div class="ttc" id="jsregexp_8cc_html_a99e51162af3408ab63146c2edf99915b"><div class="ttname"><a href="../../dd/d24/jsregexp_8cc.html#a99e51162af3408ab63146c2edf99915b">DEFINE_ACCEPT</a></div><div class="ttdeci">#define DEFINE_ACCEPT(Type)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01576">jsregexp.cc:1576</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a21d5e8f8cdaa838586b31007df0a950ba463d5cbdcbe7099c62bfbc14e021badb"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba463d5cbdcbe7099c62bfbc14e021badb">v8::internal::ActionNode::EMPTY_MATCH_CHECK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00768">jsregexp.h:768</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a0fc4a375d2651bfacda0494001ac63b5"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a0fc4a375d2651bfacda0494001ac63b5">v8::internal::RegExpCompiler::accept</a></div><div class="ttdeci">EndNode * accept()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01044">jsregexp.cc:1044</a></div></div>
<div class="ttc" id="string-search_8h_html"><div class="ttname"><a href="../../d8/d6c/string-search_8h.html">string-search.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_a8618d156fe7a79c72d8c1125d424ea52"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a8618d156fe7a79c72d8c1125d424ea52">v8::internal::TextNode::elements</a></div><div class="ttdeci">ZoneList&lt; TextElement &gt; * elements()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00863">jsregexp.h:863</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guarded_alternative_html_abf42d68b0f966cba9199e50f75430549"><div class="ttname"><a href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#abf42d68b0f966cba9199e50f75430549">v8::internal::GuardedAlternative::node</a></div><div class="ttdeci">RegExpNode * node()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01052">jsregexp.h:1052</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a8b46196d58e6905fbfde58a8fca2f6c0"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a8b46196d58e6905fbfde58a8fca2f6c0">v8::internal::Isolate::factory</a></div><div class="ttdeci">Factory * factory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00995">isolate.h:995</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_aedab4838830b01ba8d7c2c4f8abe2a9a"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#aedab4838830b01ba8d7c2c4f8abe2a9a">v8::internal::BoyerMooreLookahead::SetAll</a></div><div class="ttdeci">void SetAll(int map_number)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01309">jsregexp.h:1309</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_tracer_html"><div class="ttname"><a href="../../dd/d71/classv8_1_1internal_1_1_reg_exp_macro_assembler_tracer.html">v8::internal::RegExpMacroAssemblerTracer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/df9/regexp-macro-assembler-tracer_8h_source.html#l00035">regexp-macro-assembler-tracer.h:35</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a4ba9a6b12da3e41bdf5bb810879d7c0c"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a4ba9a6b12da3e41bdf5bb810879d7c0c">v8::internal::RegExpMacroAssembler::PopCurrentPosition</a></div><div class="ttdeci">virtual void PopCurrentPosition()=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a644fc729be9f45a456bb5d0010f3dd06ab75dfa549f346af90150c58c6dc1f31c"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06ab75dfa549f346af90150c58c6dc1f31c">v8::internal::RegExpImpl::RE_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00108">jsregexp.h:108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_negative_lookahead_choice_node_html_a80133ae4529af28fbf5f4c988e015792"><div class="ttname"><a href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#a80133ae4529af28fbf5f4c988e015792">v8::internal::NegativeLookaheadChoiceNode::EatsAtLeast</a></div><div class="ttdeci">virtual int EatsAtLeast(int still_to_find, int budget, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02379">jsregexp.cc:2379</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_html_aba80719c3f7b718a879bf9343d55509c"><div class="ttname"><a href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba80719c3f7b718a879bf9343d55509c">v8::internal::Code::cast</a></div><div class="ttdeci">static Code * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a26aac4f73b076115b2c524f03f9c0830"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a26aac4f73b076115b2c524f03f9c0830">v8::internal::RegExpImpl::SetLastSubject</a></div><div class="ttdeci">static void SetLastSubject(FixedArray *array, String *to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00206">jsregexp.h:206</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_zone_html_a48eb2e583ddfeb6444567cdf2c6ffbec"><div class="ttname"><a href="../../dd/dbe/classv8_1_1internal_1_1_zone.html#a48eb2e583ddfeb6444567cdf2c6ffbec">v8::internal::Zone::isolate</a></div><div class="ttdeci">Isolate * isolate()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9c/zone_8h_source.html#l00090">zone.h:90</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_aa99311b3e50387be92c0a931265fc131"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa99311b3e50387be92c0a931265fc131">v8::internal::ActionNode::u_submatch</a></div><div class="ttdeci">struct v8::internal::ActionNode::@17::@21 u_submatch</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_abea7073b6546e43e81e47b36a0cb9c7e"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e">v8::internal::LoopChoiceNode::FilterASCII</a></div><div class="ttdeci">virtual RegExpNode * FilterASCII(int depth, bool ignore_case)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02867">jsregexp.cc:2867</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_out_set_html_a4d174a60a72c960654c0e519ac758a23"><div class="ttname"><a href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#a4d174a60a72c960654c0e519ac758a23">v8::internal::OutSet::OutSet</a></div><div class="ttdeci">OutSet()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00317">jsregexp.h:317</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_object_html"><div class="ttname"><a href="../../d8/df0/classv8_1_1internal_1_1_object.html">v8::internal::Object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l01440">objects.h:1440</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_a1bc21191716ccb40db3918417d3a9c89"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a1bc21191716ccb40db3918417d3a9c89">v8::internal::CharacterRange::Negate</a></div><div class="ttdeci">static void Negate(ZoneList&lt; CharacterRange &gt; *src, ZoneList&lt; CharacterRange &gt; *dst, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05512">jsregexp.cc:5512</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html">v8::internal::String</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08731">objects.h:8731</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_abed39a5dfec911d33422264af09ef88a"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#abed39a5dfec911d33422264af09ef88a">v8::internal::RegExpImpl::AtomExec</a></div><div class="ttdeci">static Handle&lt; Object &gt; AtomExec(Handle&lt; JSRegExp &gt; regexp, Handle&lt; String &gt; subject, int index, Handle&lt; JSArray &gt; lastMatchInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00342">jsregexp.cc:342</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags_html_add89e6e235c76d59e612d907ab8afdb7"><div class="ttname"><a href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#add89e6e235c76d59e612d907ab8afdb7">v8::internal::JSRegExp::Flags::is_multiline</a></div><div class="ttdeci">bool is_multiline()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07884">objects.h:7884</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_node_visitor_html"><div class="ttname"><a href="../../df/df8/classv8_1_1internal_1_1_node_visitor.html">v8::internal::NodeVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01509">jsregexp.h:1509</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_abd7228db8201e7f65153a896fe8de9bd"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#abd7228db8201e7f65153a896fe8de9bd">v8::internal::Smi::cast</a></div><div class="ttdeci">static Smi * cast(Object *object)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ada76c4fe81db9c32168c8ca541dedd91"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ada76c4fe81db9c32168c8ca541dedd91">v8::internal::FlattenGetString</a></div><div class="ttdeci">Handle&lt; String &gt; FlattenGetString(Handle&lt; String &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d59/handles_8cc_source.html#l00156">handles.cc:156</a></div></div>
<div class="ttc" id="parser_8h_html"><div class="ttname"><a href="../../d5/d36/parser_8h.html">parser.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a41c924ed91b2d5349a02cf72ca39f87a"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a41c924ed91b2d5349a02cf72ca39f87a">v8::internal::RegExpImpl::kRegExpExecutableMemoryLimit</a></div><div class="ttdeci">static const int kRegExpExecutableMemoryLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00235">jsregexp.h:235</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_ab17b497cd9489042e7216202dcb9e42c"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab17b497cd9489042e7216202dcb9e42c">v8::internal::RegExpNode::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a88b303b102df0fc9a62138278b2ac4b6"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a88b303b102df0fc9a62138278b2ac4b6">v8::internal::ActionNode::PositiveSubmatchSuccess</a></div><div class="ttdeci">static ActionNode * PositiveSubmatchSuccess(int stack_pointer_reg, int restore_reg, int clear_capture_count, int clear_capture_from, RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01548">jsregexp.cc:1548</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a31879679b6594fbb6d10e96e485cfcc7"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a31879679b6594fbb6d10e96e485cfcc7">v8::internal::RegExpCompiler::kNoRegister</a></div><div class="ttdeci">static const int kNoRegister</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01064">jsregexp.cc:1064</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_expansion_limiter_html_acfef1457bb499b9368f690a7866aa263"><div class="ttname"><a href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#acfef1457bb499b9368f690a7866aa263">v8::internal::RegExpExpansionLimiter::kMaxExpansionFactor</a></div><div class="ttdeci">static const int kMaxExpansionFactor</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l04839">jsregexp.cc:4839</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a416082488c33841cd2f26f5c5c14d6ca"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a416082488c33841cd2f26f5c5c14d6ca">v8::internal::RegExpMacroAssembler::AdvanceCurrentPosition</a></div><div class="ttdeci">virtual void AdvanceCurrentPosition(int by)=0</div></div>
<div class="ttc" id="classunibrow_1_1_mapping_html_aee7c145af793f67d08aa3541e0016c7c"><div class="ttname"><a href="../../dc/dbe/classunibrow_1_1_mapping.html#aee7c145af793f67d08aa3541e0016c7c">unibrow::Mapping::get</a></div><div class="ttdeci">int get(uchar c, uchar n, uchar *result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d37/unicode-inl_8h_source.html#l00050">unicode-inl.h:50</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_1_1_deferred_set_register_html"><div class="ttname"><a href="../../d6/d87/classv8_1_1internal_1_1_trace_1_1_deferred_set_register.html">v8::internal::Trace::DeferredSetRegister</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01386">jsregexp.h:1386</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_ab07b09dcea8dc39b98b1b4a30a935c53"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#ab07b09dcea8dc39b98b1b4a30a935c53">v8::internal::RegExpCompiler::macro_assembler</a></div><div class="ttdeci">RegExpMacroAssembler * macro_assembler()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01043">jsregexp.cc:1043</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a3f3de3e0d751949b8d0b60ffb302944aa743829c4dd20c98f1a4db5f83106d839"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a3f3de3e0d751949b8d0b60ffb302944aa743829c4dd20c98f1a4db5f83106d839">v8::internal::JSRegExp::IGNORE_CASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07877">objects.h:7877</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_a0d82d2101be44204f39e7008b8bf9207"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a0d82d2101be44204f39e7008b8bf9207">v8::internal::CharacterRange::Split</a></div><div class="ttdeci">static void Split(ZoneList&lt; CharacterRange &gt; *base, Vector&lt; const int &gt; overlay, ZoneList&lt; CharacterRange &gt; **included, ZoneList&lt; CharacterRange &gt; **excluded, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05282">jsregexp.cc:5282</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a3283943f6bd63ee58af3fbe37c228e2e"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a3283943f6bd63ee58af3fbe37c228e2e">v8::internal::Trace::cp_offset</a></div><div class="ttdeci">int cp_offset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01428">jsregexp.h:1428</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_a9511e4c051b60235930225bde9ee8252"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#a9511e4c051b60235930225bde9ee8252">v8::internal::String::ToCString</a></div><div class="ttdeci">SmartArrayPointer&lt; char &gt; ToCString(AllowNullsFlag allow_nulls, RobustnessFlag robustness_flag, int offset, int length, int *length_output=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7c/objects_8cc_source.html#l08272">objects.cc:8272</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_negative_lookahead_choice_node_html_abea7073b6546e43e81e47b36a0cb9c7e"><div class="ttname"><a href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e">v8::internal::NegativeLookaheadChoiceNode::FilterASCII</a></div><div class="ttdeci">virtual RegExpNode * FilterASCII(int depth, bool ignore_case)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02936">jsregexp.cc:2936</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_1_1_deferred_increment_register_html"><div class="ttname"><a href="../../db/d90/classv8_1_1internal_1_1_trace_1_1_deferred_increment_register.html">v8::internal::Trace::DeferredIncrementRegister</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01406">jsregexp.h:1406</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_a3d0f4ae571310c6ed081daa3985ecb47"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3d0f4ae571310c6ed081daa3985ecb47">v8::internal::BoyerMooreLookahead::length</a></div><div class="ttdeci">int length()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01283">jsregexp.h:1283</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_ae5e8782e13f7b74beb6a51a80e216c47"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#ae5e8782e13f7b74beb6a51a80e216c47">v8::internal::RegExpImpl::SetLastInput</a></div><div class="ttdeci">static void SetLastInput(FixedArray *array, String *to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00210">jsregexp.h:210</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a65debae264ce8581d3a90938aa599402a852d5862232544f102842d2fbf0e87ce"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a852d5862232544f102842d2fbf0e87ce">v8::internal::AssertionNode::AT_BOUNDARY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00902">jsregexp.h:902</a></div></div>
<div class="ttc" id="compiler_8h_html"><div class="ttname"><a href="../../d4/dd1/compiler_8h.html">compiler.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guard_html_a7ecb839199ee379f9371723072e4148a"><div class="ttname"><a href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a7ecb839199ee379f9371723072e4148a">v8::internal::Guard::value</a></div><div class="ttdeci">int value()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01039">jsregexp.h:1039</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a1b39af630e19008a3194e8f8b5b6dc5e"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a1b39af630e19008a3194e8f8b5b6dc5e">v8::internal::RegExpImpl::kRegWxpCompiledLimit</a></div><div class="ttdeci">static const int kRegWxpCompiledLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00236">jsregexp.h:236</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_a2a39a1e9edccbf6b06d93ac2e40ea359"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a2a39a1e9edccbf6b06d93ac2e40ea359">v8::internal::QuickCheckDetails::Advance</a></div><div class="ttdeci">void Advance(int by, bool ascii)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02715">jsregexp.cc:2715</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_a7901846ddef1e77cf592f2bacb3683a5"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a7901846ddef1e77cf592f2bacb3683a5">v8::internal::QuickCheckDetails::Merge</a></div><div class="ttdeci">void Merge(QuickCheckDetails *other, int from_index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02736">jsregexp.cc:2736</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_aa21bc93a9aaaa43c1fb312bcd60d5dc7"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#aa21bc93a9aaaa43c1fb312bcd60d5dc7">v8::internal::RegExpCompiler::IncrementRecursionDepth</a></div><div class="ttdeci">void IncrementRecursionDepth()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01048">jsregexp.cc:1048</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a8dd0c5d352bafd8e733695b2c31bc036"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a8dd0c5d352bafd8e733695b2c31bc036">v8::internal::Trace::loop_label</a></div><div class="ttdeci">Label * loop_label()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01454">jsregexp.h:1454</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a0be88ccd3d0087e417d2e8a4f5655f9d"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0be88ccd3d0087e417d2e8a4f5655f9d">v8::internal::RegExpMacroAssembler::CanReadUnaligned</a></div><div class="ttdeci">virtual bool CanReadUnaligned()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/regexp-macro-assembler_8cc_source.html#l00049">regexp-macro-assembler.cc:49</a></div></div>
<div class="ttc" id="checks_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00052">checks.h:52</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_expansion_limiter_html_a05a184681d55b0c5b88908a9cc942881"><div class="ttname"><a href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#a05a184681d55b0c5b88908a9cc942881">v8::internal::RegExpExpansionLimiter::RegExpExpansionLimiter</a></div><div class="ttdeci">RegExpExpansionLimiter(RegExpCompiler *compiler, int factor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l04840">jsregexp.cc:4840</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a6fa34f7c9ff37621fb4157823c26743e"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a6fa34f7c9ff37621fb4157823c26743e">v8::internal::RegExpImpl::IrregexpPrepare</a></div><div class="ttdeci">static int IrregexpPrepare(Handle&lt; JSRegExp &gt; regexp, Handle&lt; String &gt; subject)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00529">jsregexp.cc:529</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a2dbfd7a2e198f165c7fe6618c5e8271a"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a2dbfd7a2e198f165c7fe6618c5e8271a">v8::internal::Heap::IncreaseTotalRegexpCodeGenerated</a></div><div class="ttdeci">void IncreaseTotalRegexpCodeGenerated(int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01730">heap.h:1730</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5adc5ec2f1a2af41381abab75250b1c8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">v8::internal::mode</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long mode(MIPS only)&quot;)  DEFINE_string(expose_natives_as</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a21d5e8f8cdaa838586b31007df0a950bac532c07128e84d4319797277198b5ec2"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950bac532c07128e84d4319797277198b5ec2">v8::internal::ActionNode::INCREMENT_REGISTER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00764">jsregexp.h:764</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_vector_html_affb06cbe9d08291ab0fc1a467edec469"><div class="ttname"><a href="../../d5/d7d/classv8_1_1internal_1_1_vector.html#affb06cbe9d08291ab0fc1a467edec469">v8::internal::Vector::start</a></div><div class="ttdeci">T * start() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00426">utils.h:426</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_a28287671eaf7406afd604bd055ba4066"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066">v8::internal::NativeRegExpMacroAssembler::Result</a></div><div class="ttdeci">Result</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00207">regexp-macro-assembler.h:207</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_back_reference_node_html_adcf87d1548a77913bc9b2ab00539c0a2"><div class="ttname"><a href="../../d9/dfe/classv8_1_1internal_1_1_back_reference_node.html#adcf87d1548a77913bc9b2ab00539c0a2">v8::internal::BackReferenceNode::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l04314">jsregexp.cc:4314</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a1e2abe976c69112c4ba4663bada3e281"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1e2abe976c69112c4ba4663bada3e281">v8::internal::RegExpNode::kRecursionBudget</a></div><div class="ttdeci">static const int kRecursionBudget</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00637">jsregexp.h:637</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_a43ac65dcebb2bd4a6a774d19eb2c1ec3"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">v8::internal::TextNode::FillInBMInfo</a></div><div class="ttdeci">virtual void FillInBMInfo(int offset, int budget, BoyerMooreLookahead *bm, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05822">jsregexp.cc:5822</a></div></div>
<div class="ttc" id="regexp-macro-assembler-ia32_8h_html"><div class="ttname"><a href="../../d5/d60/regexp-macro-assembler-ia32_8h.html">regexp-macro-assembler-ia32.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_out_set_html_ac01abfc0824209b97ee423c957ff0e74"><div class="ttname"><a href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#ac01abfc0824209b97ee423c957ff0e74">v8::internal::OutSet::kFirstLimit</a></div><div class="ttdeci">static const unsigned kFirstLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00320">jsregexp.h:320</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_aff551e9db6ee173b2d74c6e139c85198"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#aff551e9db6ee173b2d74c6e139c85198">v8::internal::ChoiceNode::AddAlternative</a></div><div class="ttdeci">void AddAlternative(GuardedAlternative node)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01075">jsregexp.h:1075</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a47cda1e18818d1f8f03a00e89186c02f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a47cda1e18818d1f8f03a00e89186c02f">v8::internal::STATIC_ASSERT</a></div><div class="ttdeci">STATIC_ASSERT(sizeof(CPURegister)==sizeof(Register))</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a7ef76a96a906949b8a05ab13b3529d22"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a7ef76a96a906949b8a05ab13b3529d22">v8::internal::RegExpImpl::SetLastCaptureCount</a></div><div class="ttdeci">static void SetLastCaptureCount(FixedArray *array, int to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00202">jsregexp.h:202</a></div></div>
<div class="ttc" id="string-stream_8h_html"><div class="ttname"><a href="../../d4/dc4/string-stream_8h.html">string-stream.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a72ae4718167105f8e7d356f15d71182d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a72ae4718167105f8e7d356f15d71182d">v8::internal::flags</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long expose natives in global object expose freeBuffer extension expose gc extension under the specified name expose externalize string extension number of stack frames to capture disable builtin natives files print name of functions for which code is generated use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations always try to OSR functions trace optimize function deoptimization minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions trace debugging JSON request response trace out of bounds accesses to external arrays trace_js_array_abuse automatically set the debug break flag when debugger commands are in the queue abort by crashing maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable always perform global GCs print one trace line following each garbage collection do not print trace line after scavenger collection print statistics of the maximum memory committed for the heap in only print modified registers Don t break for ASM_UNIMPLEMENTED_BREAK macros print stack trace when an illegal exception is thrown randomize hashes to avoid predictable hash Fixed seed to use to hash property Print the time it takes to deserialize the snapshot testing_bool_flag testing_int_flag string flag tmp file in which to serialize heap Print the time it takes to lazily compile hydrogen code stubs concurrent_recompilation concurrent_sweeping Print usage including flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00665">flags.cc:665</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_analysis_html_aa322103beb59146e6f87a6f86f933ce0"><div class="ttname"><a href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#aa322103beb59146e6f87a6f86f933ce0">v8::internal::Analysis::fail</a></div><div class="ttdeci">void fail(const char *error_message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01586">jsregexp.h:1586</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_list_html_ab3be7e6940da4c18a5bc91f086abe3ca"><div class="ttname"><a href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#ab3be7e6940da4c18a5bc91f086abe3ca">v8::internal::AlternativeGenerationList::at</a></div><div class="ttdeci">AlternativeGeneration * at(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03592">jsregexp.cc:3592</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a26ae97c946e709188bcfbadcbadda2c3"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a26ae97c946e709188bcfbadcbadda2c3">v8::internal::OS::MemCopy</a></div><div class="ttdeci">static void MemCopy(void *dest, const void *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00399">platform.h:399</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_html_a8b6e14f42b5eb9c5bb545879e6b231c5"><div class="ttname"><a href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a8b6e14f42b5eb9c5bb545879e6b231c5">v8::internal::AlternativeGeneration::expects_preload</a></div><div class="ttdeci">bool expects_preload</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03566">jsregexp.cc:3566</a></div></div>
<div class="ttc" id="jsregexp-inl_8h_html"><div class="ttname"><a href="../../d1/d1d/jsregexp-inl_8h.html">jsregexp-inl.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_aead043984ade719ffd32883469674782"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aead043984ade719ffd32883469674782">v8::internal::RegExpMacroAssembler::CheckCharacterGT</a></div><div class="ttdeci">virtual void CheckCharacterGT(uc16 limit, Label *on_greater)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_add_dispatch_range_html_ad10aa8e49ee526c9bb79a275c5206f74"><div class="ttname"><a href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html#ad10aa8e49ee526c9bb79a275c5206f74">v8::internal::AddDispatchRange::Call</a></div><div class="ttdeci">void Call(uc32 from, DispatchTable::Entry entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05916">jsregexp.cc:5916</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guard_html"><div class="ttname"><a href="../../de/d1d/classv8_1_1internal_1_1_guard.html">v8::internal::Guard</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01030">jsregexp.h:1030</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9444e382e4d03fb3058f2b9033c040a3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3">v8::internal::ContainedInLattice</a></div><div class="ttdeci">ContainedInLattice</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01223">jsregexp.h:1223</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a76897e2f9e7ecf9192893ab10d015ae9"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a76897e2f9e7ecf9192893ab10d015ae9">v8::internal::Trace::set_bound_checked_up_to</a></div><div class="ttdeci">void set_bound_checked_up_to(int to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01476">jsregexp.h:1476</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_abea7073b6546e43e81e47b36a0cb9c7e"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#abea7073b6546e43e81e47b36a0cb9c7e">v8::internal::ChoiceNode::FilterASCII</a></div><div class="ttdeci">virtual RegExpNode * FilterASCII(int depth, bool ignore_case)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02885">jsregexp.cc:2885</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ab35bf036a462f0e82cabba4c61a84491"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ab35bf036a462f0e82cabba4c61a84491">v8::internal::Trace::set_backtrack</a></div><div class="ttdeci">void set_backtrack(Label *backtrack)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01472">jsregexp.h:1472</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a182abfbfaf75bb92acc61e08b2dbb4bb"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a182abfbfaf75bb92acc61e08b2dbb4bb">v8::internal::RegExpMacroAssembler::kTableSizeBits</a></div><div class="ttdeci">static const int kTableSizeBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00049">regexp-macro-assembler.h:49</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_tree_html_ae73c75a454712915a5f86b59c3874bf4"><div class="ttname"><a href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#ae73c75a454712915a5f86b59c3874bf4">v8::internal::RegExpTree::kInfinity</a></div><div class="ttdeci">static const int kInfinity</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l02502">ast.h:2502</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_factory_html"><div class="ttname"><a href="../../dd/d91/classv8_1_1internal_1_1_factory.html">v8::internal::Factory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d06/factory_8h_source.html#l00040">factory.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a2867ca3663c4fbc6e14473ea25125f8b"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a2867ca3663c4fbc6e14473ea25125f8b">v8::internal::RegExpCompiler::recursion_depth</a></div><div class="ttdeci">int recursion_depth()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01047">jsregexp.cc:1047</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_ac6ac79da9c9408adf2bac39747d9daa2"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2">v8::internal::ChoiceNode::GetQuickCheckDetails</a></div><div class="ttdeci">virtual void GetQuickCheckDetails(QuickCheckDetails *details, RegExpCompiler *compiler, int characters_filled_in, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02986">jsregexp.cc:2986</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_a2946225c91c30a8c62fc631c11468fac"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a2946225c91c30a8c62fc631c11468fac">v8::internal::LoopChoiceNode::Accept</a></div><div class="ttdeci">virtual void Accept(NodeVisitor *visitor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01584">jsregexp.cc:1584</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_html_a531a4e145c0f8eecd387a0d859974924"><div class="ttname"><a href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a531a4e145c0f8eecd387a0d859974924">v8::internal::AlternativeGeneration::AlternativeGeneration</a></div><div class="ttdeci">AlternativeGeneration()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03560">jsregexp.cc:3560</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_cache_html"><div class="ttname"><a href="../../da/dd0/classv8_1_1internal_1_1_compilation_cache.html">v8::internal::CompilationCache</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/compilation-cache_8h_source.html#l00207">compilation-cache.h:207</a></div></div>
<div class="ttc" id="test-api_8cc_html_a867eb44ca3ea387269b34da7a51e5c6a"><div class="ttname"><a href="../../de/d3f/test-api_8cc.html#a867eb44ca3ea387269b34da7a51e5c6a">bottom</a></div><div class="ttdeci">v8::Handle&lt; v8::Object &gt; bottom</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/test-api_8cc_source.html#l02280">test-api.cc:2280</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a03c6af9995b2e19b99bd9da87afc083d"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a03c6af9995b2e19b99bd9da87afc083d">v8::internal::RegExpMacroAssembler::kTableSize</a></div><div class="ttdeci">static const int kTableSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00050">regexp-macro-assembler.h:50</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_af78e570a35c07f91a936e411056d3305"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">v8::internal::Isolate::memory_allocator</a></div><div class="ttdeci">MemoryAllocator * memory_allocator()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00884">isolate.h:884</a></div></div>
<div class="ttc" id="test-hashing_8cc_html_a922008b4db75f9f1a9959460bb05fe37"><div class="ttname"><a href="../../d4/d93/test-hashing_8cc.html#a922008b4db75f9f1a9959460bb05fe37">check</a></div><div class="ttdeci">void check(i::Vector&lt; const uint8_t &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d93/test-hashing_8cc_source.html#l00187">test-hashing.cc:187</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_negative_lookahead_choice_node_html_ac6ac79da9c9408adf2bac39747d9daa2"><div class="ttname"><a href="../../de/dca/classv8_1_1internal_1_1_negative_lookahead_choice_node.html#ac6ac79da9c9408adf2bac39747d9daa2">v8::internal::NegativeLookaheadChoiceNode::GetQuickCheckDetails</a></div><div class="ttdeci">virtual void GetQuickCheckDetails(QuickCheckDetails *details, RegExpCompiler *compiler, int characters_filled_in, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02390">jsregexp.cc:2390</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a5ea184adef812a4467f84cb22b05c040"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a5ea184adef812a4467f84cb22b05c040">v8::internal::RegExpMacroAssembler::set_slow_safe</a></div><div class="ttdeci">void set_slow_safe(bool ssc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00170">regexp-macro-assembler.h:170</a></div></div>
<div class="ttc" id="src_2v8_8h_html"><div class="ttname"><a href="../../df/d6a/src_2v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a6145f45f6dc7404ad6c8b77ada378042"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a6145f45f6dc7404ad6c8b77ada378042">v8::internal::RegExpCompiler::AddWork</a></div><div class="ttdeci">void AddWork(RegExpNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01037">jsregexp.cc:1037</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_a820243fe7fe3bd02491a8ce1e6151650"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a820243fe7fe3bd02491a8ce1e6151650">v8::internal::CharacterRange::IsCanonical</a></div><div class="ttdeci">static bool IsCanonical(ZoneList&lt; CharacterRange &gt; *ranges)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05367">jsregexp.cc:5367</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a2ca2d2c8bbde63dd1810dab4a49e9f10"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a2ca2d2c8bbde63dd1810dab4a49e9f10">v8::internal::Trace::quick_check_performed</a></div><div class="ttdeci">QuickCheckDetails * quick_check_performed()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01459">jsregexp.h:1459</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html">v8::internal::BoyerMooreLookahead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01279">jsregexp.h:1279</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a4c08ebbfbb18cebcd9bec8f61f34ec0c"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a4c08ebbfbb18cebcd9bec8f61f34ec0c">v8::internal::RegExpImpl::SetLastMatchInfo</a></div><div class="ttdeci">static Handle&lt; JSArray &gt; SetLastMatchInfo(Handle&lt; JSArray &gt; last_match_info, Handle&lt; String &gt; subject, int capture_count, int32_t *match)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00688">jsregexp.cc:688</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guarded_alternative_html_a9d5899a31403e3b1b456cb0ea185e063"><div class="ttname"><a href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a9d5899a31403e3b1b456cb0ea185e063">v8::internal::GuardedAlternative::AddGuard</a></div><div class="ttdeci">void AddGuard(Guard *guard, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01490">jsregexp.cc:1490</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a80133ae4529af28fbf5f4c988e015792"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a80133ae4529af28fbf5f4c988e015792">v8::internal::AssertionNode::EatsAtLeast</a></div><div class="ttdeci">virtual int EatsAtLeast(int still_to_find, int budget, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02329">jsregexp.cc:2329</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_1_1_deferred_action_html_a84d28e51902a32faeb9c6d2be9d29547"><div class="ttname"><a href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html#a84d28e51902a32faeb9c6d2be9d29547">v8::internal::Trace::DeferredAction::reg</a></div><div class="ttdeci">int reg()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01363">jsregexp.h:1363</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_a3d0f4ae571310c6ed081daa3985ecb47"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#a3d0f4ae571310c6ed081daa3985ecb47">v8::internal::String::length</a></div><div class="ttdeci">int length()</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_position_info_html_a38c352e95d6dd391658c332444937e62"><div class="ttname"><a href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#a38c352e95d6dd391658c332444937e62">v8::internal::BoyerMoorePositionInfo::map_count</a></div><div class="ttdeci">int map_count() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01261">jsregexp.h:1261</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_reg_exp_compile_data_html_a7d4a28fb57ba894bc4ab73acb46f79c6"><div class="ttname"><a href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a7d4a28fb57ba894bc4ab73acb46f79c6">v8::internal::RegExpCompileData::contains_anchor</a></div><div class="ttdeci">bool contains_anchor</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01609">jsregexp.h:1609</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a24575bf85ec9d1e8099e6ae770da0725"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a24575bf85ec9d1e8099e6ae770da0725">v8::internal::RegExpNode::set_bm_info</a></div><div class="ttdeci">void set_bm_info(bool not_at_start, BoyerMooreLookahead *bm)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00690">jsregexp.h:690</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_constructor_html_a1f863ab85ec4c98d09fe8e420866fa30"><div class="ttname"><a href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a1f863ab85ec4c98d09fe8e420866fa30">v8::internal::DispatchTableConstructor::AddInverse</a></div><div class="ttdeci">void AddInverse(ZoneList&lt; CharacterRange &gt; *ranges)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05950">jsregexp.cc:5950</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_a3fbb61302166a5dca4c13d7976c97c10"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a3fbb61302166a5dca4c13d7976c97c10">v8::internal::BoyerMooreLookahead::max_char</a></div><div class="ttdeci">int max_char()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01284">jsregexp.h:1284</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a21d5e8f8cdaa838586b31007df0a950ba4e8ab798d920ae0697c7bce2b9f04f6a"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba4e8ab798d920ae0697c7bce2b9f04f6a">v8::internal::ActionNode::CLEAR_CAPTURES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00769">jsregexp.h:769</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_node_visitor_html_a206ea8974624b499d2832b0269e01f44"><div class="ttname"><a href="../../df/df8/classv8_1_1internal_1_1_node_visitor.html#a206ea8974624b499d2832b0269e01f44">v8::internal::NodeVisitor::VisitLoopChoice</a></div><div class="ttdeci">virtual void VisitLoopChoice(LoopChoiceNode *that)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01516">jsregexp.h:1516</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_tree_html_a68711d6212e751afe43099a94a07b598"><div class="ttname"><a href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a68711d6212e751afe43099a94a07b598">v8::internal::RegExpTree::min_match</a></div><div class="ttdeci">virtual int min_match()=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_aecfc202e4e328213f017d8bfea442602"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aecfc202e4e328213f017d8bfea442602">v8::internal::Trace::flush_budget</a></div><div class="ttdeci">int flush_budget()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01458">jsregexp.h:1458</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_accd209742732fa57247d2fcbb6fa4625"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#accd209742732fa57247d2fcbb6fa4625">v8::internal::CharacterRange::AddCaseEquivalents</a></div><div class="ttdeci">void AddCaseEquivalents(ZoneList&lt; CharacterRange &gt; *ranges, bool is_ascii, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05301">jsregexp.cc:5301</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_adcf87d1548a77913bc9b2ab00539c0a2"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#adcf87d1548a77913bc9b2ab00539c0a2">v8::internal::ActionNode::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l04192">jsregexp.cc:4192</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a0bd9ede5bc67686059167db5504e8420"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0bd9ede5bc67686059167db5504e8420">v8::internal::RegExpMacroAssembler::ReadStackPointerFromRegister</a></div><div class="ttdeci">virtual void ReadStackPointerFromRegister(int reg)=0</div></div>
<div class="ttc" id="jsregexp_8h_html"><div class="ttname"><a href="../../d7/d0c/jsregexp_8h.html">jsregexp.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_a46c8a310cf4c094f8c80e1cb8dc1f911ac884734c621820646d10f252bef71e2b"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a46c8a310cf4c094f8c80e1cb8dc1f911ac884734c621820646d10f252bef71e2b">v8::internal::NativeRegExpMacroAssembler::UC16</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00196">regexp-macro-assembler.h:196</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a80133ae4529af28fbf5f4c988e015792"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a80133ae4529af28fbf5f4c988e015792">v8::internal::ActionNode::EatsAtLeast</a></div><div class="ttdeci">virtual int EatsAtLeast(int still_to_find, int budget, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02305">jsregexp.cc:2305</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_adebd8f979cd9c87b49a3f84e84f30c76"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#adebd8f979cd9c87b49a3f84e84f30c76">v8::internal::RegExpImpl::IrregexpInitialize</a></div><div class="ttdeci">static void IrregexpInitialize(Handle&lt; JSRegExp &gt; re, Handle&lt; String &gt; pattern, JSRegExp::Flags flags, int capture_register_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00516">jsregexp.cc:516</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_adb723362c45cc0c3de9801707bbc3d70"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adb723362c45cc0c3de9801707bbc3d70">v8::internal::Trace::Trace</a></div><div class="ttdeci">Trace()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01412">jsregexp.h:1412</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a8ee52ba7ad5d191a1e1db65b26af54e7"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8ee52ba7ad5d191a1e1db65b26af54e7">v8::internal::RegExpMacroAssembler::IfRegisterLT</a></div><div class="ttdeci">virtual void IfRegisterLT(int reg, int comparand, Label *if_lt)=0</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab91e71e972251cbfe502d5f3856e5762"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab91e71e972251cbfe502d5f3856e5762">v8::internal::code</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra code(assertions) for debugging&quot;) DEFINE_bool(code_comments</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a6e0b5035fe1469f4344cb31927bf62c7"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a6e0b5035fe1469f4344cb31927bf62c7">v8::internal::RegExpMacroAssembler::Fail</a></div><div class="ttdeci">virtual void Fail()=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_acd07f0eb22425e1dd3312f8e095c146e"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#acd07f0eb22425e1dd3312f8e095c146e">v8::internal::RegExpMacroAssembler::CheckNotBackReferenceIgnoreCase</a></div><div class="ttdeci">virtual void CheckNotBackReferenceIgnoreCase(int start_reg, Label *on_no_match)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ad25392e0b5e996bb4a15285ab11d22c6"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ad25392e0b5e996bb4a15285ab11d22c6">v8::internal::Trace::at_start</a></div><div class="ttdeci">TriBool at_start()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01449">jsregexp.h:1449</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_splitter_html_aaf2d37b92f32e4b578b0ed04a7c74e7a"><div class="ttname"><a href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#aaf2d37b92f32e4b578b0ed04a7c74e7a">v8::internal::CharacterRangeSplitter::kInOverlay</a></div><div class="ttdeci">static const int kInOverlay</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05263">jsregexp.cc:5263</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_adefd12e66e0e167ac421e5dc057ccab9"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#adefd12e66e0e167ac421e5dc057ccab9">v8::internal::Trace::backtrack</a></div><div class="ttdeci">Label * backtrack()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01453">jsregexp.h:1453</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_irregexp_interpreter_html_a1091be9ca953b195e28627b54a4110ea"><div class="ttname"><a href="../../d1/ded/classv8_1_1internal_1_1_irregexp_interpreter.html#a1091be9ca953b195e28627b54a4110ea">v8::internal::IrregexpInterpreter::Match</a></div><div class="ttdeci">static RegExpImpl::IrregexpResult Match(Isolate *isolate, Handle&lt; ByteArray &gt; code, Handle&lt; String &gt; subject, int *captures, int start_position)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/interpreter-irregexp_8cc_source.html#l00599">interpreter-irregexp.cc:599</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_factory_html_a196ccf9888402bffd01c2fdeda60d87d"><div class="ttname"><a href="../../dd/d91/classv8_1_1internal_1_1_factory.html#a196ccf9888402bffd01c2fdeda60d87d">v8::internal::Factory::NewStringFromTwoByte</a></div><div class="ttdeci">Handle&lt; String &gt; NewStringFromTwoByte(Vector&lt; const uc16 &gt; str, PretenureFlag pretenure=NOT_TENURED)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4e/factory_8cc_source.html#l00282">factory.cc:282</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_factory_html_acc2479a030b5207a753706f8708f401b"><div class="ttname"><a href="../../dd/d91/classv8_1_1internal_1_1_factory.html#acc2479a030b5207a753706f8708f401b">v8::internal::Factory::NewByteArray</a></div><div class="ttdeci">Handle&lt; ByteArray &gt; NewByteArray(int length, PretenureFlag pretenure=NOT_TENURED)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4e/factory_8cc_source.html#l00738">factory.cc:738</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9e9f6458e65e4f27fba1d3fb66911f27"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">v8::internal::pc</a></div><div class="ttdeci">const Register pc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00244">assembler-arm.h:244</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_html_a1c5533a8f4c3d4cf2bdebe558f9e8867"><div class="ttname"><a href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#a1c5533a8f4c3d4cf2bdebe558f9e8867">v8::internal::AlternativeGeneration::quick_check_details</a></div><div class="ttdeci">QuickCheckDetails quick_check_details</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03568">jsregexp.cc:3568</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a752c78c5d2b8be614ea1f0908452198a"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a752c78c5d2b8be614ea1f0908452198a">v8::internal::RegExpImpl::Exec</a></div><div class="ttdeci">static Handle&lt; Object &gt; Exec(Handle&lt; JSRegExp &gt; regexp, Handle&lt; String &gt; subject, int index, Handle&lt; JSArray &gt; lastMatchInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00234">jsregexp.cc:234</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_1_1_flat_content_html_aab3d726434f93611d2e2661e8e60b768"><div class="ttname"><a href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#aab3d726434f93611d2e2661e8e60b768">v8::internal::String::FlatContent::ToUC16Vector</a></div><div class="ttdeci">Vector&lt; const uc16 &gt; ToUC16Vector()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08757">objects.h:8757</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a80133ae4529af28fbf5f4c988e015792"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a80133ae4529af28fbf5f4c988e015792">v8::internal::ChoiceNode::EatsAtLeast</a></div><div class="ttdeci">virtual int EatsAtLeast(int still_to_find, int budget, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02432">jsregexp.cc:2432</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smart_array_pointer_html"><div class="ttname"><a href="../../d1/dfa/classv8_1_1internal_1_1_smart_array_pointer.html">v8::internal::SmartArrayPointer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db0/smart-pointers_8h_source.html#l00123">smart-pointers.h:123</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a64a83f651e7cc25b5a12f47a45e0a1c3"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a64a83f651e7cc25b5a12f47a45e0a1c3">v8::internal::RegExpImpl::IrregexpExecRaw</a></div><div class="ttdeci">static int IrregexpExecRaw(Handle&lt; JSRegExp &gt; regexp, Handle&lt; String &gt; subject, int index, int32_t *output, int output_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00552">jsregexp.cc:552</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9da011eef375046e863ae0607148a362"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9da011eef375046e863ae0607148a362">v8::internal::kMaxLookaheadForBoyerMoore</a></div><div class="ttdeci">const int kMaxLookaheadForBoyerMoore</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00139">jsregexp.cc:139</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_afa71ce1bd7803567a346b98de74ec9ac"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#afa71ce1bd7803567a346b98de74ec9ac">v8::internal::RegExpNode::zone</a></div><div class="ttdeci">Zone * zone() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00682">jsregexp.h:682</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a48b6b404e309683fd05ffc4d2229630e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a48b6b404e309683fd05ffc4d2229630e">v8::internal::Combine</a></div><div class="ttdeci">ContainedInLattice Combine(ContainedInLattice a, ContainedInLattice b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01231">jsregexp.h:1231</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_position_info_html_ae9314597c1e6d24bd47f43d6c9a1e2ec"><div class="ttname"><a href="../../dd/d97/classv8_1_1internal_1_1_boyer_moore_position_info.html#ae9314597c1e6d24bd47f43d6c9a1e2ec">v8::internal::BoyerMoorePositionInfo::kMapSize</a></div><div class="ttdeci">static const int kMapSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01258">jsregexp.h:1258</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_vector_html_a57b988236ee6a3a5e572d126d3fbccc1"><div class="ttname"><a href="../../d5/d7d/classv8_1_1internal_1_1_vector.html#a57b988236ee6a3a5e572d126d3fbccc1">v8::internal::Vector::length</a></div><div class="ttdeci">int length() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00420">utils.h:420</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a448fe6fac2bdb27c9ace31c81b1bfae6"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a448fe6fac2bdb27c9ace31c81b1bfae6">v8::internal::RegExpCompiler::AllocateRegister</a></div><div class="ttdeci">int AllocateRegister()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01024">jsregexp.cc:1024</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_quick_check_details_1_1_position_html_a6b5ddf1e2122b4426b7c91ae499f2c73"><div class="ttname"><a href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a6b5ddf1e2122b4426b7c91ae499f2c73">v8::internal::QuickCheckDetails::Position::determines_perfectly</a></div><div class="ttdeci">bool determines_perfectly</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00559">jsregexp.h:559</a></div></div>
<div class="ttc" id="checks_8h_html_a5f2db7b7625d842511de66ae6055e1f6"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a5f2db7b7625d842511de66ae6055e1f6">ASSERT_LE</a></div><div class="ttdeci">#define ASSERT_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00334">checks.h:334</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a264e115a677ddd76416c8b13af732480"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a264e115a677ddd76416c8b13af732480">v8::internal::RegExpMacroAssembler::CheckNotAtStart</a></div><div class="ttdeci">virtual void CheckNotAtStart(Label *on_not_at_start)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_aac3d1d8755c556097f18f52fc1b9de9a"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac3d1d8755c556097f18f52fc1b9de9a">v8::internal::Trace::add_action</a></div><div class="ttdeci">void add_action(DeferredAction *new_action)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01467">jsregexp.h:1467</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_frequency_collator_html_add87ec92ee3b5be2974e88fe714db25e"><div class="ttname"><a href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#add87ec92ee3b5be2974e88fe714db25e">v8::internal::FrequencyCollator::FrequencyCollator</a></div><div class="ttdeci">FrequencyCollator()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00974">jsregexp.cc:974</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_frequency_collator_html"><div class="ttname"><a href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html">v8::internal::FrequencyCollator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00972">jsregexp.cc:972</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_embedded_vector_html"><div class="ttname"><a href="../../db/d76/classv8_1_1internal_1_1_embedded_vector.html">v8::internal::EmbeddedVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00526">utils.h:526</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_adcf87d1548a77913bc9b2ab00539c0a2"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#adcf87d1548a77913bc9b2ab00539c0a2">v8::internal::LoopChoiceNode::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03513">jsregexp.cc:3513</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_a_r_m_html"><div class="ttname"><a href="../../d9/dcb/classv8_1_1internal_1_1_reg_exp_macro_assembler_a_r_m.html">v8::internal::RegExpMacroAssemblerARM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0d/regexp-macro-assembler-arm_8h_source.html#l00040">regexp-macro-assembler-arm.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_i_a32_html"><div class="ttname"><a href="../../d6/dcd/classv8_1_1internal_1_1_reg_exp_macro_assembler_i_a32.html">v8::internal::RegExpMacroAssemblerIA32</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/regexp-macro-assembler-ia32_8h_source.html#l00039">regexp-macro-assembler-ia32.h:39</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a60114d0464a7f52e3ac3768b301c859a"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a60114d0464a7f52e3ac3768b301c859a">v8::internal::Isolate::has_pending_exception</a></div><div class="ttdeci">bool has_pending_exception()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00587">isolate.h:587</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_aa8fcd7e5ef9f198bf5f0f2c537ed05b6"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#aa8fcd7e5ef9f198bf5f0f2c537ed05b6">v8::internal::BoyerMooreLookahead::BoyerMooreLookahead</a></div><div class="ttdeci">BoyerMooreLookahead(int length, RegExpCompiler *compiler, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03662">jsregexp.cc:3662</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a8d25d2697abbda95aeeb323eb9fad9a0"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8d25d2697abbda95aeeb323eb9fad9a0">v8::internal::RegExpMacroAssembler::CheckCharacter</a></div><div class="ttdeci">virtual void CheckCharacter(unsigned c, Label *on_equal)=0</div></div>
<div class="ttc" id="execution_8h_html"><div class="ttname"><a href="../../dd/d01/execution_8h.html">execution.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a65debae264ce8581d3a90938aa599402aba817d5daa30d120630da830656c80ec"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402aba817d5daa30d120630da830656c80ec">v8::internal::AssertionNode::AT_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00900">jsregexp.h:900</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00560">heap.h:560</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a0bdfc46ecf6d8806c340b2195313cc95"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a0bdfc46ecf6d8806c340b2195313cc95">v8::internal::RegExpNode::SaveBMInfo</a></div><div class="ttdeci">void SaveBMInfo(BoyerMooreLookahead *bm, bool not_at_start, int offset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00664">jsregexp.h:664</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html">v8::internal::RegExpNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00588">jsregexp.h:588</a></div></div>
<div class="ttc" id="classv8_1_1_handle_html"><div class="ttname"><a href="../../d3/dd5/classv8_1_1_handle.html">v8::Handle&lt; Object &gt;</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a66653fec330bd32f3bd8138aed61e794"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a66653fec330bd32f3bd8138aed61e794">v8::internal::RegExpMacroAssembler::kMaxRegister</a></div><div class="ttdeci">static const int kMaxRegister</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00045">regexp-macro-assembler.h:45</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a7aab088007591d2d0e731e97510d7e85"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a7aab088007591d2d0e731e97510d7e85">v8::internal::JSRegExp::kIrregexpCaptureCountIndex</a></div><div class="ttdeci">static const int kIrregexpCaptureCountIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07956">objects.h:7956</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_constructor_html_aacc63b202fd46b0aba3c4c2e4e5cc65a"><div class="ttname"><a href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#aacc63b202fd46b0aba3c4c2e4e5cc65a">v8::internal::DispatchTableConstructor::AddRange</a></div><div class="ttdeci">void AddRange(CharacterRange range)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01533">jsregexp.h:1533</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a7cb722c0cd184dcbc179f7d64dd2677b"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a7cb722c0cd184dcbc179f7d64dd2677b">v8::internal::ChoiceNode::set_being_calculated</a></div><div class="ttdeci">void set_being_calculated(bool b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01098">jsregexp.h:1098</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a1719324a3fab85858685e4d08892d823"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a1719324a3fab85858685e4d08892d823">v8::internal::RegExpImpl::AtomCompile</a></div><div class="ttdeci">static void AtomCompile(Handle&lt; JSRegExp &gt; re, Handle&lt; String &gt; pattern, JSRegExp::Flags flags, Handle&lt; String &gt; match_pattern)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00258">jsregexp.cc:258</a></div></div>
<div class="ttc" id="factory_8h_html"><div class="ttname"><a href="../../de/d06/factory_8h.html">factory.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html">v8::internal::RegExpMacroAssembler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00042">regexp-macro-assembler.h:42</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a563872b94167abe32e27c06082a15e12"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a563872b94167abe32e27c06082a15e12">v8::internal::Trace::characters_preloaded</a></div><div class="ttdeci">int characters_preloaded()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01456">jsregexp.h:1456</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a65debae264ce8581d3a90938aa599402a3650b701dbc7a3d684f3cec77e80d372"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a3650b701dbc7a3d684f3cec77e80d372">v8::internal::AssertionNode::AFTER_NEWLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00904">jsregexp.h:904</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_afcc6b3bbbe4a33e9bebe66f85bc51eb4"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#afcc6b3bbbe4a33e9bebe66f85bc51eb4">v8::internal::Trace::actions</a></div><div class="ttdeci">DeferredAction * actions()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01429">jsregexp.h:1429</a></div></div>
<div class="ttc" id="regexp-macro-assembler-arm64_8h_html"><div class="ttname"><a href="../../da/d95/regexp-macro-assembler-arm64_8h.html">regexp-macro-assembler-arm64.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_af2bccb42d16455b789dc4362fc3cb784"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#af2bccb42d16455b789dc4362fc3cb784">v8::internal::RegExpNode::kNodeIsTooComplexForGreedyLoops</a></div><div class="ttdeci">static const int kNodeIsTooComplexForGreedyLoops</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00623">jsregexp.h:623</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_1_1_entry_html_a83c555f83382488ba26b3b77cbe2dfb5"><div class="ttname"><a href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a83c555f83382488ba26b3b77cbe2dfb5">v8::internal::DispatchTable::Entry::from</a></div><div class="ttdeci">uc16 from()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00353">jsregexp.h:353</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_compilation_cache_html_a0a7477cec73a61d9e0a28fac995c283a"><div class="ttname"><a href="../../da/dd0/classv8_1_1internal_1_1_compilation_cache.html#a0a7477cec73a61d9e0a28fac995c283a">v8::internal::CompilationCache::PutRegExp</a></div><div class="ttdeci">void PutRegExp(Handle&lt; String &gt; source, JSRegExp::Flags flags, Handle&lt; FixedArray &gt; data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/compilation-cache_8cc_source.html#l00479">compilation-cache.cc:479</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9444e382e4d03fb3058f2b9033c040a3a8c22374c06720d1add66e5009afa88ca"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3a8c22374c06720d1add66e5009afa88ca">v8::internal::kLatticeIn</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01225">jsregexp.h:1225</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a00e8464566c15cbc97c5c8c850309df7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a00e8464566c15cbc97c5c8c850309df7">v8::internal::CStrVector</a></div><div class="ttdeci">Vector&lt; const char &gt; CStrVector(const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00574">utils.h:574</a></div></div>
<div class="ttc" id="regexp-macro-assembler-irregexp_8h_html"><div class="ttname"><a href="../../de/d7b/regexp-macro-assembler-irregexp_8h.html">regexp-macro-assembler-irregexp.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_visit_marker_html_a39f2a482b4e3924d7d44c02702d87099"><div class="ttname"><a href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html#a39f2a482b4e3924d7d44c02702d87099">v8::internal::VisitMarker::~VisitMarker</a></div><div class="ttdeci">~VisitMarker()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02771">jsregexp.cc:2771</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a46ab8101ac210049a8a9b23928e91862"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a46ab8101ac210049a8a9b23928e91862">v8::internal::ChoiceNode::GetTable</a></div><div class="ttdeci">DispatchTable * GetTable(bool ignore_case)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00962">jsregexp.cc:962</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a0fb80d1e7fafc4b00df717805a1c83ea"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a0fb80d1e7fafc4b00df717805a1c83ea">v8::internal::cc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00087">constants-arm.h:87</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_a28287671eaf7406afd604bd055ba4066ab8fa9515ef8cac50a79988c978b31fa0"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a28287671eaf7406afd604bd055ba4066ab8fa9515ef8cac50a79988c978b31fa0">v8::internal::NativeRegExpMacroAssembler::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00207">regexp-macro-assembler.h:207</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a18f422341e9b1bb5c0c7132c16738fe7"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a18f422341e9b1bb5c0c7132c16738fe7">v8::internal::RegExpImpl::IrregexpMaxRegisterCount</a></div><div class="ttdeci">static int IrregexpMaxRegisterCount(FixedArray *re)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00485">jsregexp.cc:485</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_1_1_deferred_action_html_a8b955a2feee029b0a354a6ca52ef03ff"><div class="ttname"><a href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html#a8b955a2feee029b0a354a6ca52ef03ff">v8::internal::Trace::DeferredAction::Mentions</a></div><div class="ttdeci">bool Mentions(int reg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01169">jsregexp.cc:1169</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a1d1cfd8ffb84e947f82999c682b666a7a6e72f43865881adfca6d1c8bfe346249"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a1d1cfd8ffb84e947f82999c682b666a7a6e72f43865881adfca6d1c8bfe346249">v8::internal::JSRegExp::IRREGEXP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07876">objects.h:7876</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a93f69932a860f5552187cee95aa40f6f"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a93f69932a860f5552187cee95aa40f6f">v8::internal::ChoiceNode::EatsAtLeastHelper</a></div><div class="ttdeci">int EatsAtLeastHelper(int still_to_find, int budget, RegExpNode *ignore_this_node, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02402">jsregexp.cc:2402</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_frequency_collator_html_a9b0c890d2a441b0f7937cce6437d2076"><div class="ttname"><a href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#a9b0c890d2a441b0f7937cce6437d2076">v8::internal::FrequencyCollator::CountCharacter</a></div><div class="ttdeci">void CountCharacter(int character)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00980">jsregexp.cc:980</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_seq_reg_exp_node_html_aa11a83108e81d772c19afbf6fde65cce"><div class="ttname"><a href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html#aa11a83108e81d772c19afbf6fde65cce">v8::internal::SeqRegExpNode::on_success</a></div><div class="ttdeci">RegExpNode * on_success()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00741">jsregexp.h:741</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_aece7801ee90bc2c268944d7b7a051472"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aece7801ee90bc2c268944d7b7a051472">v8::internal::RegExpImpl::SetIrregexpMaxRegisterCount</a></div><div class="ttdeci">static void SetIrregexpMaxRegisterCount(FixedArray *re, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00491">jsregexp.cc:491</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a1eeb573d37905e75d33c94f562c7e6b7"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a1eeb573d37905e75d33c94f562c7e6b7">v8::internal::RegExpMacroAssembler::PushCurrentPosition</a></div><div class="ttdeci">virtual void PushCurrentPosition()=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a55bc20a159f012c3214887b1a405106f"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a55bc20a159f012c3214887b1a405106f">v8::internal::RegExpMacroAssembler::kTableMask</a></div><div class="ttdeci">static const int kTableMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00051">regexp-macro-assembler.h:51</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a1199b3c74c3d6949d74f912bd01bf15f"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1199b3c74c3d6949d74f912bd01bf15f">v8::internal::RegExpNode::bm_info</a></div><div class="ttdeci">BoyerMooreLookahead * bm_info(bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00678">jsregexp.h:678</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a644fc729be9f45a456bb5d0010f3dd06"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06">v8::internal::RegExpImpl::IrregexpResult</a></div><div class="ttdeci">IrregexpResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00108">jsregexp.h:108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_ad0cf376d3ed0c5e6b299706904ee5489"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#ad0cf376d3ed0c5e6b299706904ee5489">v8::internal::RegExpImpl::AtomExecRaw</a></div><div class="ttdeci">static int AtomExecRaw(Handle&lt; JSRegExp &gt; regexp, Handle&lt; String &gt; subject, int index, int32_t *output, int output_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00283">jsregexp.cc:283</a></div></div>
<div class="ttc" id="checks_8h_html_a41a2cfdd7e28f51f137840ff0633761a"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a41a2cfdd7e28f51f137840ff0633761a">ASSERT_LT</a></div><div class="ttdeci">#define ASSERT_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00333">checks.h:333</a></div></div>
<div class="ttc" id="regexp-macro-assembler_8h_html"><div class="ttname"><a href="../../d8/d17/regexp-macro-assembler_8h.html">regexp-macro-assembler.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_abea7073b6546e43e81e47b36a0cb9c7e"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#abea7073b6546e43e81e47b36a0cb9c7e">v8::internal::TextNode::FilterASCII</a></div><div class="ttdeci">virtual RegExpNode * FilterASCII(int depth, bool ignore_case)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02813">jsregexp.cc:2813</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a004ecf4f861bb7c8e9754db89f31ee2d"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a004ecf4f861bb7c8e9754db89f31ee2d">v8::internal::RegExpImpl::kLastMatchOverhead</a></div><div class="ttdeci">static const int kLastMatchOverhead</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00185">jsregexp.h:185</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html">v8::internal::LoopChoiceNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01159">jsregexp.h:1159</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_list_html_a1747b0df16c04278a92e6594bfbebe2c"><div class="ttname"><a href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html#a1747b0df16c04278a92e6594bfbebe2c">v8::internal::AlternativeGenerationList::~AlternativeGenerationList</a></div><div class="ttdeci">~AlternativeGenerationList()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03585">jsregexp.cc:3585</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a70429b8ff3b6da876438d313a1492ef5"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a70429b8ff3b6da876438d313a1492ef5">v8::internal::ActionNode::u_increment_register</a></div><div class="ttdeci">struct v8::internal::ActionNode::@17::@19 u_increment_register</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_1_1_flat_content_html"><div class="ttname"><a href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html">v8::internal::String::FlatContent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08740">objects.h:8740</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_a59c1c9859d651f657c13b20668030995"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a59c1c9859d651f657c13b20668030995">v8::internal::CharacterRange::set_from</a></div><div class="ttdeci">void set_from(uc16 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00279">jsregexp.h:279</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_aacdd6bd83c7e14a88a794705c551313f"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#aacdd6bd83c7e14a88a794705c551313f">v8::internal::String::GetFlatContent</a></div><div class="ttdeci">FlatContent GetFlatContent()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7c/objects_8cc_source.html#l08229">objects.cc:8229</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_af5cfb2b438186214d116eaf565a68e85afde1bb5ef04b28059e61df449501f1c0"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#af5cfb2b438186214d116eaf565a68e85afde1bb5ef04b28059e61df449501f1c0">v8::internal::RegExpMacroAssembler::GLOBAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00173">regexp-macro-assembler.h:173</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_node_info_html_a1df99df902f5f6e81ec3e21e9c07360e"><div class="ttname"><a href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a1df99df902f5f6e81ec3e21e9c07360e">v8::internal::NodeInfo::visited</a></div><div class="ttdeci">bool visited</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00528">jsregexp.h:528</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a31f58ba37e722444d2aa9f0bbb643860"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a31f58ba37e722444d2aa9f0bbb643860">v8::internal::above</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0a/assembler-ia32_8h_source.html#l00284">assembler-ia32.h:284</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ab898fe3c24e16ea3f8f1358e0fd80cd0"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ab898fe3c24e16ea3f8f1358e0fd80cd0">v8::internal::Trace::bound_checked_up_to</a></div><div class="ttdeci">int bound_checked_up_to()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01457">jsregexp.h:1457</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smart_pointer_base_html_a07f851191ad3a7c5c1598ef14f710f96"><div class="ttname"><a href="../../d3/d8e/classv8_1_1internal_1_1_smart_pointer_base.html#a07f851191ad3a7c5c1598ef14f710f96">v8::internal::SmartPointerBase::get</a></div><div class="ttdeci">T * get() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db0/smart-pointers_8h_source.html#l00055">smart-pointers.h:55</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_add_dispatch_range_html"><div class="ttname"><a href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html">v8::internal::AddDispatchRange</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05906">jsregexp.cc:5906</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_ac11810e443814f25ad30092122bae98e"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ac11810e443814f25ad30092122bae98e">v8::internal::MemoryAllocator::SizeExecutable</a></div><div class="ttdeci">intptr_t SizeExecutable()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01109">spaces.h:1109</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_ae9bdbc05a9d2f3778ecd885281af0f4a"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ae9bdbc05a9d2f3778ecd885281af0f4a">v8::internal::RegExpNode::GreedyLoopTextLength</a></div><div class="ttdeci">virtual int GreedyLoopTextLength()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00624">jsregexp.h:624</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_a80133ae4529af28fbf5f4c988e015792"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a80133ae4529af28fbf5f4c988e015792">v8::internal::LoopChoiceNode::EatsAtLeast</a></div><div class="ttdeci">virtual int EatsAtLeast(int still_to_find, int budget, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02422">jsregexp.cc:2422</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a65debae264ce8581d3a90938aa599402a253b18eb2c813cd90e898bfee8528ac5"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a253b18eb2c813cd90e898bfee8528ac5">v8::internal::AssertionNode::AT_NON_BOUNDARY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00903">jsregexp.h:903</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_aaac33a7a9deea6dead99b2767627bc0e"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aaac33a7a9deea6dead99b2767627bc0e">v8::internal::RegExpMacroAssembler::CheckSpecialCharacterClass</a></div><div class="ttdeci">virtual bool CheckSpecialCharacterClass(uc16 type, Label *on_no_match)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00130">regexp-macro-assembler.h:130</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a877444282fd32f2ad9d579bf9053009c"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a877444282fd32f2ad9d579bf9053009c">v8::internal::RegExpCompiler::kMaxRecursion</a></div><div class="ttdeci">static const int kMaxRecursion</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01046">jsregexp.cc:1046</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_ab30fefcb60567de8afd56c42eca2538a"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#ab30fefcb60567de8afd56c42eca2538a">v8::internal::LoopChoiceNode::AddContinueAlternative</a></div><div class="ttdeci">void AddContinueAlternative(GuardedAlternative alt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03506">jsregexp.cc:3506</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a32dc99dd100d25eac8d07dd33bb74b9c"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a32dc99dd100d25eac8d07dd33bb74b9c">v8::internal::Trace::GetStoredPosition</a></div><div class="ttdeci">bool GetStoredPosition(int reg, int *cp_offset)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01190">jsregexp.cc:1190</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a43ac65dcebb2bd4a6a774d19eb2c1ec3"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a43ac65dcebb2bd4a6a774d19eb2c1ec3">v8::internal::AssertionNode::FillInBMInfo</a></div><div class="ttdeci">virtual void FillInBMInfo(int offset, int budget, BoyerMooreLookahead *bm, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02345">jsregexp.cc:2345</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a151060ad3295b7b9ad4e121351dba2d6"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a151060ad3295b7b9ad4e121351dba2d6">v8::internal::AssertionNode::AfterNewline</a></div><div class="ttdeci">static AssertionNode * AfterNewline(RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00918">jsregexp.h:918</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_visit_marker_html"><div class="ttname"><a href="../../d7/d1d/classv8_1_1internal_1_1_visit_marker.html">v8::internal::VisitMarker</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02765">jsregexp.cc:2765</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags_html"><div class="ttname"><a href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">v8::internal::JSRegExp::Flags</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07879">objects.h:7879</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_interval_html_a8c7a687342404f975c3f58fa62829c73"><div class="ttname"><a href="../../d3/de9/classv8_1_1internal_1_1_interval.html#a8c7a687342404f975c3f58fa62829c73">v8::internal::Interval::from</a></div><div class="ttdeci">int from() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00727">jsregexp.h:727</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a29cd11a915baee6b93cba435c986d751"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a29cd11a915baee6b93cba435c986d751">v8::internal::RegExpCompiler::frequency_collator</a></div><div class="ttdeci">FrequencyCollator * frequency_collator()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01055">jsregexp.cc:1055</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_a87643b418e695b99a84dbc670e8ecccd"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#a87643b418e695b99a84dbc670e8ecccd">v8::internal::List&lt; T, ZoneAllocationPolicy &gt;::Sort</a></div><div class="ttdeci">void Sort(int(*cmp)(const T *x, const T *y))</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a4179564c27a7173c7814e9857206c05b"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a4179564c27a7173c7814e9857206c05b">v8::internal::AssertionNode::AtNonBoundary</a></div><div class="ttdeci">static AssertionNode * AtNonBoundary(RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00915">jsregexp.h:915</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a644fc729be9f45a456bb5d0010f3dd06a1b74a99ab439c5209be2bd5c3bda589b"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a1b74a99ab439c5209be2bd5c3bda589b">v8::internal::RegExpImpl::RE_EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00108">jsregexp.h:108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_handle_html_a3c45461717ff230edd665ce24da988c5"><div class="ttname"><a href="../../da/dde/classv8_1_1internal_1_1_handle.html#a3c45461717ff230edd665ce24da988c5">v8::internal::Handle::is_null</a></div><div class="ttdeci">bool is_null() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00081">handles.h:81</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a82b439ee7b7bb7c99d319f9c0f377aaf"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a82b439ee7b7bb7c99d319f9c0f377aaf">v8::internal::RegExpMacroAssembler::WriteCurrentPositionToRegister</a></div><div class="ttdeci">virtual void WriteCurrentPositionToRegister(int reg, int cp_offset)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_1_1_deferred_clear_captures_html"><div class="ttname"><a href="../../d2/d5d/classv8_1_1internal_1_1_trace_1_1_deferred_clear_captures.html">v8::internal::Trace::DeferredClearCaptures</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01396">jsregexp.h:1396</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4730147a5f2fa83bf450138f42b1df92"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">v8::internal::info</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function info</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00317">flags.cc:317</a></div></div>
<div class="ttc" id="structunibrow_1_1_ecma262_un_canonicalize_html_ac2ebdc5a7a124f3a46428e5e402add12"><div class="ttname"><a href="../../d0/d9c/structunibrow_1_1_ecma262_un_canonicalize.html#ac2ebdc5a7a124f3a46428e5e402add12">unibrow::Ecma262UnCanonicalize::kMaxWidth</a></div><div class="ttdeci">static const int kMaxWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d90/unicode_8h_source.html#l00268">unicode.h:268</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_analysis_html_af5fa7e1662cdf91857593ec47a33d0d2"><div class="ttname"><a href="../../dc/d59/classv8_1_1internal_1_1_analysis.html#af5fa7e1662cdf91857593ec47a33d0d2">v8::internal::Analysis::VisitLoopChoice</a></div><div class="ttdeci">virtual void VisitLoopChoice(LoopChoiceNode *that)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05759">jsregexp.cc:5759</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_aad0f038ca63231dff36848666404e6a7"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#aad0f038ca63231dff36848666404e6a7">v8::internal::JSRegExp::kAtomPatternIndex</a></div><div class="ttdeci">static const int kAtomPatternIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07932">objects.h:7932</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_a46c8a310cf4c094f8c80e1cb8dc1f911af9c208c7d7a0f102f2683165540c882d"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a46c8a310cf4c094f8c80e1cb8dc1f911af9c208c7d7a0f102f2683165540c882d">v8::internal::NativeRegExpMacroAssembler::ASCII</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00196">regexp-macro-assembler.h:196</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_ac6ac79da9c9408adf2bac39747d9daa2"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#ac6ac79da9c9408adf2bac39747d9daa2">v8::internal::TextNode::GetQuickCheckDetails</a></div><div class="ttdeci">virtual void GetQuickCheckDetails(QuickCheckDetails *details, RegExpCompiler *compiler, int characters_filled_in, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02553">jsregexp.cc:2553</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_ac0effb29cfe9c1c6f835c8b529e81325"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ac0effb29cfe9c1c6f835c8b529e81325">v8::internal::RegExpMacroAssembler::Bind</a></div><div class="ttdeci">virtual void Bind(Label *label)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a1782826f9624cc6200f79711ccec2a1c"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a1782826f9624cc6200f79711ccec2a1c">v8::internal::RegExpNode::GetQuickCheckDetails</a></div><div class="ttdeci">virtual void GetQuickCheckDetails(QuickCheckDetails *details, RegExpCompiler *compiler, int characters_filled_in, bool not_at_start)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_a8b507cc4ae13ff9b13cef567c52b72bb"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#a8b507cc4ae13ff9b13cef567c52b72bb">v8::internal::BoyerMooreLookahead::Count</a></div><div class="ttdeci">int Count(int map_number)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01287">jsregexp.h:1287</a></div></div>
<div class="ttc" id="checks_8h_html_add09d39ec888c2d7e12877586f29368d"><div class="ttname"><a href="../../d5/d16/checks_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a></div><div class="ttdeci">#define UNIMPLEMENTED()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00050">checks.h:50</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_1_1_flat_content_html_afe1fa31a909cf533daaa9b30159f7ad9"><div class="ttname"><a href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#afe1fa31a909cf533daaa9b30159f7ad9">v8::internal::String::FlatContent::IsFlat</a></div><div class="ttdeci">bool IsFlat()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08743">objects.h:8743</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a65debae264ce8581d3a90938aa599402a593de3fe66dd4fb0c156ebe006f13c0d"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a65debae264ce8581d3a90938aa599402a593de3fe66dd4fb0c156ebe006f13c0d">v8::internal::AssertionNode::AT_START</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00901">jsregexp.h:901</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a767c85176123a943849a1abecc3d0755"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a767c85176123a943849a1abecc3d0755">v8::internal::uc16</a></div><div class="ttdeci">uint16_t uc16</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00309">globals.h:309</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_a872c42964c5ba547a345b4a43e0b9c56"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a872c42964c5ba547a345b4a43e0b9c56">v8::internal::TextNode::MakeCaseIndependent</a></div><div class="ttdeci">void MakeCaseIndependent(bool is_ascii)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03423">jsregexp.cc:3423</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a8b657c19c792f758e1fa248a9c0e3129"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8b657c19c792f758e1fa248a9c0e3129">v8::internal::RegExpMacroAssembler::CheckCharacterLT</a></div><div class="ttdeci">virtual void CheckCharacterLT(uc16 limit, Label *on_less)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a37b823894e4723024cc85217901f8882"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a37b823894e4723024cc85217901f8882">v8::internal::ChoiceNode::alternatives</a></div><div class="ttdeci">ZoneList&lt; GuardedAlternative &gt; * alternatives()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01078">jsregexp.h:1078</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_tree_html_a108af6c56a3245619f8d0a76761d4f04"><div class="ttname"><a href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a108af6c56a3245619f8d0a76761d4f04">v8::internal::RegExpTree::IsAnchoredAtStart</a></div><div class="ttdeci">virtual bool IsAnchoredAtStart()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l02508">ast.h:2508</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_malloced_html"><div class="ttname"><a href="../../db/d67/classv8_1_1internal_1_1_malloced.html">v8::internal::Malloced</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db7/allocation_8h_source.html#l00042">allocation.h:42</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_reg_exp_compile_data_html"><div class="ttname"><a href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html">v8::internal::RegExpCompileData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01599">jsregexp.h:1599</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html">v8::internal::RegExpCompiler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01019">jsregexp.cc:1019</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_ac8482834f3861825162b4a637de7bc4d"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#ac8482834f3861825162b4a637de7bc4d">v8::internal::JSRegExp::code_index</a></div><div class="ttdeci">static int code_index(bool is_ascii)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07900">objects.h:7900</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html">v8::internal::CharacterRange</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00258">jsregexp.h:258</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a75f2330504a416d8b572870b9cfade17"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75f2330504a416d8b572870b9cfade17">v8::internal::OS::PrintError</a></div><div class="ttdeci">static void PrintError(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00452">platform-posix.cc:452</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_af1ba772af0a7f825fe3521d9a6edfe14"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#af1ba772af0a7f825fe3521d9a6edfe14">v8::internal::RegExpCompiler::DecrementRecursionDepth</a></div><div class="ttdeci">void DecrementRecursionDepth()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01049">jsregexp.cc:1049</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_flat_string_reader_html"><div class="ttname"><a href="../../da/d7f/classv8_1_1internal_1_1_flat_string_reader.html">v8::internal::FlatStringReader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l09364">objects.h:9364</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_handle_html_a5c1c5f8dcdfd3fe359a6af56e98ec280"><div class="ttname"><a href="../../da/dde/classv8_1_1internal_1_1_handle.html#a5c1c5f8dcdfd3fe359a6af56e98ec280">v8::internal::Handle::null</a></div><div class="ttdeci">static Handle&lt; T &gt; null()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00080">handles.h:80</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_recursion_check_html"><div class="ttname"><a href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html">v8::internal::RecursionCheck</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01081">jsregexp.cc:1081</a></div></div>
<div class="ttc" id="regexp-macro-assembler-x64_8h_html"><div class="ttname"><a href="../../de/d51/regexp-macro-assembler-x64_8h.html">regexp-macro-assembler-x64.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a00f68117a5c1794038aba2a21c333d3b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a00f68117a5c1794038aba2a21c333d3b">v8::internal::SearchString</a></div><div class="ttdeci">int SearchString(Isolate *isolate, Vector&lt; const SubjectChar &gt; subject, Vector&lt; const PatternChar &gt; pattern, int start_index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/string-search_8h_source.html#l00570">string-search.h:570</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_ac11f91aaf59d0399151d52296da21020"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#ac11f91aaf59d0399151d52296da21020">v8::internal::BoyerMooreLookahead::SetRest</a></div><div class="ttdeci">void SetRest(int from_map)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01313">jsregexp.h:1313</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_ad95c6aba65ad77af1d49a828f02d9ee0"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#ad95c6aba65ad77af1d49a828f02d9ee0">v8::internal::NativeRegExpMacroAssembler::Match</a></div><div class="ttdeci">static Result Match(Handle&lt; Code &gt; regexp, Handle&lt; String &gt; subject, int *offsets_vector, int offsets_vector_length, int previous_index, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/regexp-macro-assembler_8cc_source.html#l00103">regexp-macro-assembler.cc:103</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_1_1_config_html_a0ecaf5106bd009e87189036e7e46d088"><div class="ttname"><a href="../../d5/d5c/classv8_1_1internal_1_1_dispatch_table_1_1_config.html#a0ecaf5106bd009e87189036e7e46d088">v8::internal::DispatchTable::Config::kNoKey</a></div><div class="ttdeci">static const uc16 kNoKey</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00370">jsregexp.h:370</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_aa87841b829265864c139464be369ac70"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa87841b829265864c139464be369ac70">v8::internal::RegExpMacroAssembler::Backtrack</a></div><div class="ttdeci">virtual void Backtrack()=0</div></div>
<div class="ttc" id="checks_8h_html_a9f578a62e6cedf3f56577f294abe2713"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a></div><div class="ttdeci">#define ASSERT_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00330">checks.h:330</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a3f3de3e0d751949b8d0b60ffb302944aac157bdf0b85a40d2619cbc8bc1ae5fe2"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a3f3de3e0d751949b8d0b60ffb302944aac157bdf0b85a40d2619cbc8bc1ae5fe2">v8::internal::JSRegExp::NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07877">objects.h:7877</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_html_abda62d25d1065006e23d3022d9db3b82"><div class="ttname"><a href="../../df/d03/classv8_1_1internal_1_1_dispatch_table.html#abda62d25d1065006e23d3022d9db3b82">v8::internal::DispatchTable::ForEach</a></div><div class="ttdeci">void ForEach(Callback *callback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00387">jsregexp.h:387</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_tree_html_a2fe96ac3a1ea89b80b5b2766b615fa26"><div class="ttname"><a href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#a2fe96ac3a1ea89b80b5b2766b615fa26">v8::internal::RegExpTree::AppendToText</a></div><div class="ttdeci">virtual void AppendToText(RegExpText *text, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00918">jsregexp.cc:918</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_a84eddcf9aeaf051663e0f93129e13ce8"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#a84eddcf9aeaf051663e0f93129e13ce8">v8::internal::RegExpCompiler::SetRegExpTooBig</a></div><div class="ttdeci">void SetRegExpTooBig()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01051">jsregexp.cc:1051</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_out_set_html_aeb259aadaa16e385a9f15a12edd8a38e"><div class="ttname"><a href="../../d3/d21/classv8_1_1internal_1_1_out_set.html#aeb259aadaa16e385a9f15a12edd8a38e">v8::internal::OutSet::Extend</a></div><div class="ttdeci">OutSet * Extend(unsigned value, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05541">jsregexp.cc:5541</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_engine_html_a89c522a712bf9194fb63bfd50c9ad72c"><div class="ttname"><a href="../../db/d51/classv8_1_1internal_1_1_reg_exp_engine.html#a89c522a712bf9194fb63bfd50c9ad72c">v8::internal::RegExpEngine::DotPrint</a></div><div class="ttdeci">static void DotPrint(const char *label, RegExpNode *node, bool ignore_case)</div></div>
<div class="ttc" id="classunibrow_1_1_utf8_html_aa5d4ac9789c6b7ff1b9a993924d3fde1"><div class="ttname"><a href="../../d5/dd6/classunibrow_1_1_utf8.html#aa5d4ac9789c6b7ff1b9a993924d3fde1">unibrow::Utf8::kBadChar</a></div><div class="ttdeci">static const uchar kBadChar</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d90/unicode_8h_source.html#l00162">unicode.h:162</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab46a6342f518ffe356dd4b116eabc1e0"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">v8::internal::USE</a></div><div class="ttdeci">void USE(T)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00341">globals.h:341</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_x64_html"><div class="ttname"><a href="../../df/d4a/classv8_1_1internal_1_1_reg_exp_macro_assembler_x64.html">v8::internal::RegExpMacroAssemblerX64</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d51/regexp-macro-assembler-x64_8h_source.html#l00042">regexp-macro-assembler-x64.h:42</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_aa89364c7b3f4b619bc61591832cc3275"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#aa89364c7b3f4b619bc61591832cc3275">v8::internal::ActionNode::u_store_register</a></div><div class="ttdeci">struct v8::internal::ActionNode::@17::@18 u_store_register</div></div>
<div class="ttc" id="v8conversions_8cc_html_a6c5ed7d7d22bb8c36b49be977f12a4be"><div class="ttname"><a href="../../de/dd0/v8conversions_8cc.html#a6c5ed7d7d22bb8c36b49be977f12a4be">stream_</a></div><div class="ttdeci">StringCharacterStream *const stream_</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd0/v8conversions_8cc_source.html#l00058">v8conversions.cc:58</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_native_reg_exp_macro_assembler_html_a46c8a310cf4c094f8c80e1cb8dc1f911"><div class="ttname"><a href="../../d2/dd6/classv8_1_1internal_1_1_native_reg_exp_macro_assembler.html#a46c8a310cf4c094f8c80e1cb8dc1f911">v8::internal::NativeRegExpMacroAssembler::Mode</a></div><div class="ttdeci">Mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00196">regexp-macro-assembler.h:196</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a16b8db0d8c76a04f3348decb8fac983e"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a16b8db0d8c76a04f3348decb8fac983e">v8::internal::ChoiceNode::alternatives_</a></div><div class="ttdeci">ZoneList&lt; GuardedAlternative &gt; * alternatives_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01104">jsregexp.h:1104</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a61edaa41363cb4d08116a3356cdd11df"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a61edaa41363cb4d08116a3356cdd11df">v8::internal::RegExpMacroAssembler::CheckCharacterAfterAnd</a></div><div class="ttdeci">virtual void CheckCharacterAfterAnd(unsigned c, unsigned and_with, Label *on_equal)=0</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9ec81f7778b86ffd802328effe40aa18"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9ec81f7778b86ffd802328effe40aa18">v8::internal::AddRange</a></div><div class="ttdeci">ContainedInLattice AddRange(ContainedInLattice containment, const int *ranges, int ranges_length, Interval new_range)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00114">jsregexp.cc:114</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a6f4bc047edfca38c54dd63dd220e698ba49959dd441dcda75d6898cf2c68fb374"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a6f4bc047edfca38c54dd63dd220e698ba49959dd441dcda75d6898cf2c68fb374">v8::internal::RegExpNode::CONTINUE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00685">jsregexp.h:685</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a1da4f8908c5247959e6007d6d2f57f1e"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a1da4f8908c5247959e6007d6d2f57f1e">v8::internal::RegExpMacroAssembler::IfRegisterEqPos</a></div><div class="ttdeci">virtual void IfRegisterEqPos(int reg, Label *if_eq)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_a31c980bed6b185c6e7fbe39c6cfaef22"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#a31c980bed6b185c6e7fbe39c6cfaef22">v8::internal::TextNode::GreedyLoopTextLength</a></div><div class="ttdeci">virtual int GreedyLoopTextLength()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03442">jsregexp.cc:3442</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a2fc0798787b2a8406428b3ea9f5690c3"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a2fc0798787b2a8406428b3ea9f5690c3">v8::internal::RegExpImpl::IrregexpByteCode</a></div><div class="ttdeci">static ByteArray * IrregexpByteCode(FixedArray *re, bool is_ascii)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00506">jsregexp.cc:506</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_aa64456812be53c41ea02111b5cbdcb8c"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa64456812be53c41ea02111b5cbdcb8c">v8::internal::QuickCheckDetails::cannot_match</a></div><div class="ttdeci">bool cannot_match()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00553">jsregexp.h:553</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_afc1cf8440b6942b6264cb5d93799f40f"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#afc1cf8440b6942b6264cb5d93799f40f">v8::internal::CharacterRange::Contains</a></div><div class="ttdeci">bool Contains(uc16 i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00277">jsregexp.h:277</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_array_html_ab72b1bdfe3d9d45e6b5a01348e6691eb"><div class="ttname"><a href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">v8::internal::FixedArray::cast</a></div><div class="ttdeci">static FixedArray * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_adcf87d1548a77913bc9b2ab00539c0a2"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#adcf87d1548a77913bc9b2ab00539c0a2">v8::internal::AssertionNode::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03169">jsregexp.cc:3169</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_compiler_html_afaa7f8dd6a477404b28d9ad16b1f62d5"><div class="ttname"><a href="../../d5/d8e/classv8_1_1internal_1_1_reg_exp_compiler.html#afaa7f8dd6a477404b28d9ad16b1f62d5">v8::internal::RegExpCompiler::set_current_expansion_factor</a></div><div class="ttdeci">void set_current_expansion_factor(int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01058">jsregexp.cc:1058</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_reg_exp_compile_data_html_a77ee662c66438915bcfeb599665f7466"><div class="ttname"><a href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a77ee662c66438915bcfeb599665f7466">v8::internal::RegExpCompileData::error</a></div><div class="ttdeci">Handle&lt; String &gt; error</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01610">jsregexp.h:1610</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_aa94b2dc15a54c8b50cecaa5170ae13b0"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa94b2dc15a54c8b50cecaa5170ae13b0">v8::internal::QuickCheckDetails::set_cannot_match</a></div><div class="ttdeci">void set_cannot_match()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00554">jsregexp.h:554</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a410a012e28ef151d0df12390fd1fd1ed"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a410a012e28ef151d0df12390fd1fd1ed">v8::internal::ActionNode::ClearCaptures</a></div><div class="ttdeci">static ActionNode * ClearCaptures(Interval range, RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01527">jsregexp.cc:1527</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_node_info_html_a7639070d5621e4a63f6fab64a98d113e"><div class="ttname"><a href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a7639070d5621e4a63f6fab64a98d113e">v8::internal::NodeInfo::been_analyzed</a></div><div class="ttdeci">bool been_analyzed</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00519">jsregexp.h:519</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_boyer_moore_lookahead_html_ab44b9ebb49c21a8483a04387cbe001a0"><div class="ttname"><a href="../../d4/de7/classv8_1_1internal_1_1_boyer_moore_lookahead.html#ab44b9ebb49c21a8483a04387cbe001a0">v8::internal::BoyerMooreLookahead::Set</a></div><div class="ttdeci">void Set(int map_number, int character)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01293">jsregexp.h:1293</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a21d5e8f8cdaa838586b31007df0a950ba3354f3542d9a79335546b8d55469776d"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a21d5e8f8cdaa838586b31007df0a950ba3354f3542d9a79335546b8d55469776d">v8::internal::ActionNode::POSITIVE_SUBMATCH_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00767">jsregexp.h:767</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_aacf51d24a8191509574e198f3c9acaa5"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#aacf51d24a8191509574e198f3c9acaa5">v8::internal::RegExpImpl::IrregexpNumberOfRegisters</a></div><div class="ttdeci">static int IrregexpNumberOfRegisters(FixedArray *re)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00501">jsregexp.cc:501</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_ae3460e47b8b36503208537fa3c0365b0"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ae3460e47b8b36503208537fa3c0365b0">v8::internal::RegExpMacroAssembler::CheckBitInTable</a></div><div class="ttdeci">virtual void CheckBitInTable(Handle&lt; ByteArray &gt; table, Label *on_bit_set)=0</div></div>
<div class="ttc" id="classv8_1_1_isolate_html"><div class="ttname"><a href="../../d5/dda/classv8_1_1_isolate.html">v8::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l04124">v8.h:4124</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a36ccc3555f775b678a83477611ada1f8"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a36ccc3555f775b678a83477611ada1f8">v8::internal::Isolate::jsregexp_canonrange</a></div><div class="ttdeci">unibrow::Mapping&lt; unibrow::CanonicalizationRange &gt; * jsregexp_canonrange()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00930">isolate.h:930</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a4b001e2d47b150142d4bb4fdec339305"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a4b001e2d47b150142d4bb4fdec339305">v8::internal::JSRegExp::kCompilationErrorValue</a></div><div class="ttdeci">static const int kCompilationErrorValue</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07983">objects.h:7983</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guard_html_a32244553e6de01a64084f56cc7da7747a486aa221ceeeac475326e85d3d37f571"><div class="ttname"><a href="../../de/d1d/classv8_1_1internal_1_1_guard.html#a32244553e6de01a64084f56cc7da7747a486aa221ceeeac475326e85d3d37f571">v8::internal::Guard::LT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01032">jsregexp.h:1032</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa0c69b00a80960415f08ee60e47502249">v8::internal::Trace::FALSE_VALUE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01354">jsregexp.h:1354</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9444e382e4d03fb3058f2b9033c040a3a5612e662aa888e090080f0ed368d1e2e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9444e382e4d03fb3058f2b9033c040a3a5612e662aa888e090080f0ed368d1e2e">v8::internal::kLatticeOut</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01226">jsregexp.h:1226</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_ac63f315efa825f0466278da00abcdbfd"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">v8::internal::List::Add</a></div><div class="ttdeci">void Add(const T &amp;element, AllocationPolicy allocator=AllocationPolicy())</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcb/list-inl_8h_source.html#l00039">list-inl.h:39</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_acd6012d9e4c6123f5efb5b3571f3e6d3"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#acd6012d9e4c6123f5efb5b3571f3e6d3">v8::internal::Trace::is_trivial</a></div><div class="ttdeci">bool is_trivial()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01440">jsregexp.h:1440</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_1_1_entry_html"><div class="ttname"><a href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html">v8::internal::DispatchTable::Entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00348">jsregexp.h:348</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_a110a962396636331216d44ef9be28bf0"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a110a962396636331216d44ef9be28bf0">v8::internal::QuickCheckDetails::Rationalize</a></div><div class="ttdeci">bool Rationalize(bool ascii)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02453">jsregexp.cc:2453</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_afa71ce1bd7803567a346b98de74ec9ac"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#afa71ce1bd7803567a346b98de74ec9ac">v8::internal::RegExpMacroAssembler::zone</a></div><div class="ttdeci">Zone * zone() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00182">regexp-macro-assembler.h:182</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_array_html_a4d2ccf5f857e12f610f313edc524e692"><div class="ttname"><a href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#a4d2ccf5f857e12f610f313edc524e692">v8::internal::FixedArray::get</a></div><div class="ttdeci">Object * get(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l02127">objects-inl.h:2127</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a8b7d4323220ed806b78e031f34980a74"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a8b7d4323220ed806b78e031f34980a74">v8::internal::RegExpMacroAssembler::CheckGreedyLoop</a></div><div class="ttdeci">virtual void CheckGreedyLoop(Label *on_tos_equals_current_position)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_html"><div class="ttname"><a href="../../d3/d0e/classv8_1_1internal_1_1_code.html">v8::internal::Code</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l05180">objects.h:5180</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_a5aaaaa8a61628d7afa2c276389b55370"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a5aaaaa8a61628d7afa2c276389b55370">v8::internal::LoopChoiceNode::AddLoopAlternative</a></div><div class="ttdeci">void AddLoopAlternative(GuardedAlternative alt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03499">jsregexp.cc:3499</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a234da2be1ed67db6657a5f96ac510880"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a234da2be1ed67db6657a5f96ac510880">v8::internal::RegExpMacroAssembler::Succeed</a></div><div class="ttdeci">virtual bool Succeed()=0</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac667b904858a97154268e29dec306a21"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">v8::internal::false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00171">flags.cc:171</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_constructor_html_a304e90a3507344b0f2f958a9bcf04f29"><div class="ttname"><a href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a304e90a3507344b0f2f958a9bcf04f29">v8::internal::DispatchTableConstructor::set_choice_index</a></div><div class="ttdeci">void set_choice_index(int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01545">jsregexp.h:1545</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_a2d8378a2d08b2f9d2a0c60c12badbcbf"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a2d8378a2d08b2f9d2a0c60c12badbcbf">v8::internal::QuickCheckDetails::value</a></div><div class="ttdeci">uint32_t value()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00569">jsregexp.h:569</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a0ef79f18aadaaf13a5a16191c81daffa"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a0ef79f18aadaaf13a5a16191c81daffa">v8::internal::ChoiceNode::not_at_start</a></div><div class="ttdeci">bool not_at_start()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01096">jsregexp.h:1096</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a644fc729be9f45a456bb5d0010f3dd06a2a2159b2524390bf0195a9a342f14818"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a644fc729be9f45a456bb5d0010f3dd06a2a2159b2524390bf0195a9a342f14818">v8::internal::RegExpImpl::RE_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00108">jsregexp.h:108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_aa71d36872f416feaa853788a7a7a7ef8"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#aa71d36872f416feaa853788a7a7a7ef8">v8::internal::QuickCheckDetails::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02705">jsregexp.cc:2705</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a55e8936a72d3cf53b5bb9a41b304bea1"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a55e8936a72d3cf53b5bb9a41b304bea1">v8::internal::RegExpNode::Accept</a></div><div class="ttdeci">virtual void Accept(NodeVisitor *visitor)=0</div></div>
<div class="ttc" id="structv8_1_1internal_1_1_node_info_html_a33aefbdfed1a5d856dc31b73254683f2"><div class="ttname"><a href="../../d7/d72/structv8_1_1internal_1_1_node_info.html#a33aefbdfed1a5d856dc31b73254683f2">v8::internal::NodeInfo::being_analyzed</a></div><div class="ttdeci">bool being_analyzed</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00518">jsregexp.h:518</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_quick_check_details_1_1_position_html_abe47cbb407f5be800f650a5d3a1e7f29"><div class="ttname"><a href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#abe47cbb407f5be800f650a5d3a1e7f29">v8::internal::QuickCheckDetails::Position::value</a></div><div class="ttdeci">uc16 value</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00558">jsregexp.h:558</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_loop_choice_node_html_a318b29168a49005878b62bd133de33c8"><div class="ttname"><a href="../../d1/d10/classv8_1_1internal_1_1_loop_choice_node.html#a318b29168a49005878b62bd133de33c8">v8::internal::LoopChoiceNode::loop_node</a></div><div class="ttdeci">RegExpNode * loop_node()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01178">jsregexp.h:1178</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_zone_splay_tree_html"><div class="ttname"><a href="../../d4/da6/classv8_1_1internal_1_1_zone_splay_tree.html">v8::internal::ZoneSplayTree</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9c/zone_8h_source.html#l00254">zone.h:254</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_1_1_flat_content_html_ac0020ce704c3eeaf34eacfafc7d5aedc"><div class="ttname"><a href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac0020ce704c3eeaf34eacfafc7d5aedc">v8::internal::String::FlatContent::IsAscii</a></div><div class="ttdeci">bool IsAscii()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08745">objects.h:8745</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_interval_html"><div class="ttname"><a href="../../d3/de9/classv8_1_1internal_1_1_interval.html">v8::internal::Interval</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00711">jsregexp.h:711</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a8f256205fcc245f944326d5dbe9000d1"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a8f256205fcc245f944326d5dbe9000d1">v8::internal::RegExpImpl::Compile</a></div><div class="ttdeci">static Handle&lt; Object &gt; Compile(Handle&lt; JSRegExp &gt; re, Handle&lt; String &gt; pattern, Handle&lt; String &gt; flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00171">jsregexp.cc:171</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html">v8::internal::TextNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00844">jsregexp.h:844</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_ad88167be922b9898f4d3c2bf559d8d38a164942bfc23192553b38524409587852"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad88167be922b9898f4d3c2bf559d8d38a164942bfc23192553b38524409587852">v8::internal::RegExpMacroAssembler::kNoStackLimitCheck</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00063">regexp-macro-assembler.h:63</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_1_1_deferred_action_html_aa314d33ec8bb59e6e16f8ad77a83e060"><div class="ttname"><a href="../../d2/de4/classv8_1_1internal_1_1_trace_1_1_deferred_action.html#aa314d33ec8bb59e6e16f8ad77a83e060">v8::internal::Trace::DeferredAction::action_type</a></div><div class="ttdeci">ActionNode::ActionType action_type()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01364">jsregexp.h:1364</a></div></div>
<div class="ttc" id="regexp-macro-assembler-mips_8h_html"><div class="ttname"><a href="../../d6/da7/regexp-macro-assembler-mips_8h.html">regexp-macro-assembler-mips.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_af68174edbbb39a18a6c2ab022bde535e"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#af68174edbbb39a18a6c2ab022bde535e">v8::internal::CharacterRange::to</a></div><div class="ttdeci">uc16 to() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00280">jsregexp.h:280</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_a695d573132beefd43d4e0766042bc6a9"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#a695d573132beefd43d4e0766042bc6a9">v8::internal::ChoiceNode::being_calculated</a></div><div class="ttdeci">bool being_calculated()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01095">jsregexp.h:1095</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_list_html"><div class="ttname"><a href="../../dc/d4c/classv8_1_1internal_1_1_alternative_generation_list.html">v8::internal::AlternativeGenerationList</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03574">jsregexp.cc:3574</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_guarded_alternative_html_a7f9f798601f9a83d2ea07bce0b788548"><div class="ttname"><a href="../../d6/d58/classv8_1_1internal_1_1_guarded_alternative.html#a7f9f798601f9a83d2ea07bce0b788548">v8::internal::GuardedAlternative::guards</a></div><div class="ttdeci">ZoneList&lt; Guard * &gt; * guards()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01054">jsregexp.h:1054</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_seq_reg_exp_node_html"><div class="ttname"><a href="../../d9/de6/classv8_1_1internal_1_1_seq_reg_exp_node.html">v8::internal::SeqRegExpNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00737">jsregexp.h:737</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_end_node_html"><div class="ttname"><a href="../../da/dae/classv8_1_1internal_1_1_end_node.html">v8::internal::EndNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00978">jsregexp.h:978</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_afe7636348b72eec24f6c5603e25c47db"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#afe7636348b72eec24f6c5603e25c47db">v8::internal::ActionNode::clear_register_count</a></div><div class="ttdeci">int clear_register_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00823">jsregexp.h:823</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_end_node_html_a8bb1ef53467e4f61410d12822d922498a5707b7b8bf1b098d620552e9576d8061"><div class="ttname"><a href="../../da/dae/classv8_1_1internal_1_1_end_node.html#a8bb1ef53467e4f61410d12822d922498a5707b7b8bf1b098d620552e9576d8061">v8::internal::EndNode::ACCEPT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00980">jsregexp.h:980</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_alternative_generation_html_abfeff53910a50c12485ca4d21930353e"><div class="ttname"><a href="../../df/d3e/classv8_1_1internal_1_1_alternative_generation.html#abfeff53910a50c12485ca4d21930353e">v8::internal::AlternativeGeneration::after</a></div><div class="ttdeci">Label after</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03567">jsregexp.cc:3567</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html_adcf87d1548a77913bc9b2ab00539c0a2"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html#adcf87d1548a77913bc9b2ab00539c0a2">v8::internal::ChoiceNode::Emit</a></div><div class="ttdeci">virtual void Emit(RegExpCompiler *compiler, Trace *trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03928">jsregexp.cc:3928</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a0c0184d12549dbca4cd9b060cd295fa1"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a0c0184d12549dbca4cd9b060cd295fa1">v8::internal::RegExpImpl::IrregexpExec</a></div><div class="ttdeci">static Handle&lt; Object &gt; IrregexpExec(Handle&lt; JSRegExp &gt; regexp, Handle&lt; String &gt; subject, int index, Handle&lt; JSArray &gt; lastMatchInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00640">jsregexp.cc:640</a></div></div>
<div class="ttc" id="jsregexp_8h_html_a9b694eeb3fc5709b228ca212e7a6e211"><div class="ttname"><a href="../../d7/d0c/jsregexp_8h.html#a9b694eeb3fc5709b228ca212e7a6e211">FOR_EACH_NODE_TYPE</a></div><div class="ttdeci">#define FOR_EACH_NODE_TYPE(VISIT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00401">jsregexp.h:401</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_1_1_flat_content_html_ac45594dc230aa9bac4ade46a9db85439"><div class="ttname"><a href="../../da/d1c/classv8_1_1internal_1_1_string_1_1_flat_content.html#ac45594dc230aa9bac4ade46a9db85439">v8::internal::String::FlatContent::ToOneByteVector</a></div><div class="ttdeci">Vector&lt; const uint8_t &gt; ToOneByteVector()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08751">objects.h:8751</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4789b60113833ac293f9d1aa9a6372e8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">v8::internal::Min</a></div><div class="ttdeci">T Min(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00234">utils.h:234</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_quick_check_details_html_a05bf52f442507ade3860ee8589ed921d"><div class="ttname"><a href="../../df/d77/classv8_1_1internal_1_1_quick_check_details.html#a05bf52f442507ade3860ee8589ed921d">v8::internal::QuickCheckDetails::mask</a></div><div class="ttdeci">uint32_t mask()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00568">jsregexp.h:568</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00389">isolate.h:389</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_splitter_html_afd8c5fdb17f1a5ca625126ab1d06929e"><div class="ttname"><a href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#afd8c5fdb17f1a5ca625126ab1d06929e">v8::internal::CharacterRangeSplitter::Call</a></div><div class="ttdeci">void Call(uc16 from, DispatchTable::Entry entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05272">jsregexp.cc:5272</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_tree_html_af3a0d53d135b098b5eba8b3c9c2426d9"><div class="ttname"><a href="../../d2/dca/classv8_1_1internal_1_1_reg_exp_tree.html#af3a0d53d135b098b5eba8b3c9c2426d9">v8::internal::RegExpTree::max_match</a></div><div class="ttdeci">virtual int max_match()=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_expansion_limiter_html_a7913d17501ecd4467723b505aebc3d81"><div class="ttname"><a href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#a7913d17501ecd4467723b505aebc3d81">v8::internal::RegExpExpansionLimiter::~RegExpExpansionLimiter</a></div><div class="ttdeci">~RegExpExpansionLimiter()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l04858">jsregexp.cc:4858</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ae29da5b0634e259d281d51b0c5fb15e8"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ae29da5b0634e259d281d51b0c5fb15e8">v8::internal::Trace::Flush</a></div><div class="ttdeci">void Flush(RegExpCompiler *compiler, RegExpNode *successor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01378">jsregexp.cc:1378</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a4771abd95c586d298dbf52fb51c0d279"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a4771abd95c586d298dbf52fb51c0d279">v8::internal::JSRegExp::kUninitializedValue</a></div><div class="ttdeci">static const int kUninitializedValue</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07979">objects.h:7979</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_aa91da1caf0695fe6ecbb19b17e759336"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aa91da1caf0695fe6ecbb19b17e759336">v8::internal::Trace::set_quick_check_performed</a></div><div class="ttdeci">void set_quick_check_performed(QuickCheckDetails *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01478">jsregexp.h:1478</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html">v8::internal::Trace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01349">jsregexp.h:1349</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_action_node_html_a274ff2bd2f354c873597c731ffc4e72c"><div class="ttname"><a href="../../d0/df0/classv8_1_1internal_1_1_action_node.html#a274ff2bd2f354c873597c731ffc4e72c">v8::internal::ActionNode::u_clear_captures</a></div><div class="ttdeci">struct v8::internal::ActionNode::@17::@23 u_clear_captures</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags_html_a42e975d742a961e82c50a1334a7dd550"><div class="ttname"><a href="../../df/d72/classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a42e975d742a961e82c50a1334a7dd550">v8::internal::JSRegExp::Flags::is_ignore_case</a></div><div class="ttdeci">bool is_ignore_case()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07883">objects.h:7883</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab1d901438c48d5937e2b75647ab50e49"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">v8::internal::name</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long expose natives in global object expose freeBuffer extension expose gc extension under the specified name expose externalize string extension number of stack frames to capture disable builtin natives files print name of functions for which code is generated use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations always try to OSR functions trace optimize function deoptimization minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions trace debugging JSON request response trace out of bounds accesses to external arrays trace_js_array_abuse automatically set the debug break flag when debugger commands are in the queue abort by crashing maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable always perform global GCs print one trace line following each garbage collection do not print trace line after scavenger collection print statistics of the maximum memory committed for the heap in name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00505">flags.cc:505</a></div></div>
<div class="ttc" id="process_8cc_html_acfeabb6e05873c24a8a324e4aca82568"><div class="ttname"><a href="../../d5/dd9/process_8cc.html#acfeabb6e05873c24a8a324e4aca82568">kSampleSize</a></div><div class="ttdeci">const int kSampleSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd9/process_8cc_source.html#l00616">process.cc:616</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_constructor_html_a07fd60f1c284e28d83e09093221644cc"><div class="ttname"><a href="../../db/db3/classv8_1_1internal_1_1_dispatch_table_constructor.html#a07fd60f1c284e28d83e09093221644cc">v8::internal::DispatchTableConstructor::ignore_case_</a></div><div class="ttdeci">bool ignore_case_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01550">jsregexp.h:1550</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_aac1688599684fdda143cf66441a7bd07"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aac1688599684fdda143cf66441a7bd07">v8::internal::Trace::InvalidateCurrentCharacter</a></div><div class="ttdeci">void InvalidateCurrentCharacter()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03399">jsregexp.cc:3399</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ac5b9e412e210f45a19bec2bcbfbb0b8aa4cc630dfafc74666b7c5bdcca6633628"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa4cc630dfafc74666b7c5bdcca6633628">v8::internal::Trace::TRUE_VALUE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01354">jsregexp.h:1354</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_a62b0083dca5e1abd6c41b7c1eb2f8ed1"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a62b0083dca5e1abd6c41b7c1eb2f8ed1">v8::internal::CharacterRange::from</a></div><div class="ttdeci">uc16 from() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00278">jsregexp.h:278</a></div></div>
<div class="ttc" id="globals_8h_html_a25f003de16c08a4888b69f619d70f427"><div class="ttname"><a href="../../d5/d87/globals_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00333">globals.h:333</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_aa8a1ac4aeead2956bfee27f586976f07"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#aa8a1ac4aeead2956bfee27f586976f07">v8::internal::RegExpMacroAssembler::CheckNotCharacter</a></div><div class="ttdeci">virtual void CheckNotCharacter(unsigned c, Label *on_not_equal)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_ad92e045e0fdb44d46c955f24badcf3f2"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#ad92e045e0fdb44d46c955f24badcf3f2">v8::internal::CharacterRange::AddClassEscape</a></div><div class="ttdeci">static void AddClassEscape(uc16 type, ZoneList&lt; CharacterRange &gt; *ranges, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05199">jsregexp.cc:5199</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_dispatch_table_1_1_entry_html_a21b3bbbf1d65c82cd1d4ecdb12f92397"><div class="ttname"><a href="../../dd/d2a/classv8_1_1internal_1_1_dispatch_table_1_1_entry.html#a21b3bbbf1d65c82cd1d4ecdb12f92397">v8::internal::DispatchTable::Entry::out_set</a></div><div class="ttdeci">OutSet * out_set()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00359">jsregexp.h:359</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_reg_exp_html_a43fabce489775678e65f64fa423f31c0"><div class="ttname"><a href="../../d9/d2b/classv8_1_1internal_1_1_j_s_reg_exp.html#a43fabce489775678e65f64fa423f31c0">v8::internal::JSRegExp::saved_code_index</a></div><div class="ttdeci">static int saved_code_index(bool is_ascii)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l07908">objects.h:7908</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_string_html_a9707e6291c7814254ee0c325552e622c"><div class="ttname"><a href="../../db/db6/classv8_1_1internal_1_1_string.html#a9707e6291c7814254ee0c325552e622c">v8::internal::String::kMaxOneByteCharCode</a></div><div class="ttdeci">static const int32_t kMaxOneByteCharCode</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l08914">objects.h:8914</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_frequency_collator_html_af66d2480c5f99c33de4ebff9da15f8d3"><div class="ttname"><a href="../../d7/d29/classv8_1_1internal_1_1_frequency_collator.html#af66d2480c5f99c33de4ebff9da15f8d3">v8::internal::FrequencyCollator::Frequency</a></div><div class="ttdeci">int Frequency(int in_character)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l00988">jsregexp.cc:988</a></div></div>
<div class="ttc" id="regexp-macro-assembler-tracer_8h_html"><div class="ttname"><a href="../../df/df9/regexp-macro-assembler-tracer_8h.html">regexp-macro-assembler-tracer.h</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_quick_check_details_1_1_position_html"><div class="ttname"><a href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html">v8::internal::QuickCheckDetails::Position</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00555">jsregexp.h:555</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_a43938f0f19ffcc81ff5426417bcde6b2"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a43938f0f19ffcc81ff5426417bcde6b2">v8::internal::CharacterRange::CharacterRange</a></div><div class="ttdeci">CharacterRange()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00260">jsregexp.h:260</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a617cf5838d2e1844601b6eb4fac6cb9a"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a617cf5838d2e1844601b6eb4fac6cb9a">v8::internal::RegExpNode::info</a></div><div class="ttdeci">NodeInfo * info()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00676">jsregexp.h:676</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_a_r_m64_html"><div class="ttname"><a href="../../d7/dbc/classv8_1_1internal_1_1_reg_exp_macro_assembler_a_r_m64.html">v8::internal::RegExpMacroAssemblerARM64</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d95/regexp-macro-assembler-arm64_8h_source.html#l00040">regexp-macro-assembler-arm64.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a06220884bd8e65bf07a079ce39d52242"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a06220884bd8e65bf07a079ce39d52242">v8::internal::RegExpMacroAssembler::CheckPosition</a></div><div class="ttdeci">virtual void CheckPosition(int cp_offset, Label *on_outside_input)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00123">regexp-macro-assembler.h:123</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_ab25a373b2e7c1252b7617520364e502a"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#ab25a373b2e7c1252b7617520364e502a">v8::internal::RegExpNode::FillInBMInfo</a></div><div class="ttdeci">virtual void FillInBMInfo(int offset, int budget, BoyerMooreLookahead *bm, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00638">jsregexp.h:638</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_recursion_check_html_a32ba5c5d0897bc91d453bd8baee7dbe1"><div class="ttname"><a href="../../da/d53/classv8_1_1internal_1_1_recursion_check.html#a32ba5c5d0897bc91d453bd8baee7dbe1">v8::internal::RecursionCheck::RecursionCheck</a></div><div class="ttdeci">RecursionCheck(RegExpCompiler *compiler)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01083">jsregexp.cc:1083</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a37536ea36e616e38bc66d6c62707f830"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a37536ea36e616e38bc66d6c62707f830">v8::internal::RegExpNode::EatsAtLeast</a></div><div class="ttdeci">virtual int EatsAtLeast(int still_to_find, int budget, bool not_at_start)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_expansion_limiter_html_ad95304e607b4636d52d492d254e30b5e"><div class="ttname"><a href="../../dd/d77/classv8_1_1internal_1_1_reg_exp_expansion_limiter.html#ad95304e607b4636d52d492d254e30b5e">v8::internal::RegExpExpansionLimiter::ok_to_expand</a></div><div class="ttdeci">bool ok_to_expand()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l04862">jsregexp.cc:4862</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_html_a9554e15a8094bec751eb10505b736b33"><div class="ttname"><a href="../../db/d32/classv8_1_1internal_1_1_character_range.html#a9554e15a8094bec751eb10505b736b33">v8::internal::CharacterRange::Singleton</a></div><div class="ttdeci">static CharacterRange Singleton(uc16 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00267">jsregexp.h:267</a></div></div>
<div class="ttc" id="namespaceunibrow_html_ae8d77ac121e443c19b70413c2a9b714c"><div class="ttname"><a href="../../d7/df6/namespaceunibrow.html#ae8d77ac121e443c19b70413c2a9b714c">unibrow::uchar</a></div><div class="ttdeci">unsigned int uchar</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d90/unicode_8h_source.html#l00040">unicode.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_out_set_html"><div class="ttname"><a href="../../d3/d21/classv8_1_1internal_1_1_out_set.html">v8::internal::OutSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00315">jsregexp.h:315</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_ac5b9e412e210f45a19bec2bcbfbb0b8aa6ce26a62afab55d7606ad4e92428b30c"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa6ce26a62afab55d7606ad4e92428b30c">v8::internal::Trace::UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01354">jsregexp.h:1354</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_aa06c4ea3febc2017da931f04c511d0db"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#aa06c4ea3febc2017da931f04c511d0db">v8::internal::AssertionNode::AtEnd</a></div><div class="ttdeci">static AssertionNode * AtEnd(RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00906">jsregexp.h:906</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_analysis_html"><div class="ttname"><a href="../../dc/d59/classv8_1_1internal_1_1_analysis.html">v8::internal::Analysis</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01567">jsregexp.h:1567</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_af6ab5629a42a77c458649bcaedcc81dc"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#af6ab5629a42a77c458649bcaedcc81dc">v8::internal::RegExpMacroAssembler::CheckNotCharacterAfterAnd</a></div><div class="ttdeci">virtual void CheckNotCharacterAfterAnd(unsigned c, unsigned and_with, Label *on_not_equal)=0</div></div>
<div class="ttc" id="structv8_1_1internal_1_1_quick_check_details_1_1_position_html_a93e09a8f70474c95a3e745f11991093d"><div class="ttname"><a href="../../de/ddf/structv8_1_1internal_1_1_quick_check_details_1_1_position.html#a93e09a8f70474c95a3e745f11991093d">v8::internal::QuickCheckDetails::Position::mask</a></div><div class="ttdeci">uc16 mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00557">jsregexp.h:557</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_splitter_html_af373121b0ab4162d2a55f459852aeaf8"><div class="ttname"><a href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html#af373121b0ab4162d2a55f459852aeaf8">v8::internal::CharacterRangeSplitter::kInBase</a></div><div class="ttdeci">static const int kInBase</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05262">jsregexp.cc:5262</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_character_range_splitter_html"><div class="ttname"><a href="../../d3/d74/classv8_1_1internal_1_1_character_range_splitter.html">v8::internal::CharacterRangeSplitter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05252">jsregexp.cc:5252</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_acf0c9bee7c14b482c353f8500a52abea"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#acf0c9bee7c14b482c353f8500a52abea">v8::internal::RegExpMacroAssembler::GetCode</a></div><div class="ttdeci">virtual Handle&lt; HeapObject &gt; GetCode(Handle&lt; String &gt; source)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_add_dispatch_range_html_a52e1fe3c63b347428ff7996852b41f3c"><div class="ttname"><a href="../../d4/d7b/classv8_1_1internal_1_1_add_dispatch_range.html#a52e1fe3c63b347428ff7996852b41f3c">v8::internal::AddDispatchRange::AddDispatchRange</a></div><div class="ttdeci">AddDispatchRange(DispatchTableConstructor *constructor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05908">jsregexp.cc:5908</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a6b6c1f2255194659ec534a8f62a37ff3"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a6b6c1f2255194659ec534a8f62a37ff3">v8::internal::AssertionNode::GetQuickCheckDetails</a></div><div class="ttdeci">virtual void GetQuickCheckDetails(QuickCheckDetails *details, RegExpCompiler *compiler, int filled_in, bool not_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l03154">jsregexp.cc:3154</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_node_html_a71acb8a74bcb8d2fc80092766256c2b9"><div class="ttname"><a href="../../d6/d12/classv8_1_1internal_1_1_reg_exp_node.html#a71acb8a74bcb8d2fc80092766256c2b9">v8::internal::RegExpNode::~RegExpNode</a></div><div class="ttdeci">virtual ~RegExpNode()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l02257">jsregexp.cc:2257</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a9ab1cd1ffc103413d10220fc3fafc81d"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a9ab1cd1ffc103413d10220fc3fafc81d">v8::internal::RegExpMacroAssembler::IfRegisterGE</a></div><div class="ttdeci">virtual void IfRegisterGE(int reg, int comparand, Label *if_ge)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_aba7342760ccaec5ccb92c6e19bfab8b1"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#aba7342760ccaec5ccb92c6e19bfab8b1">v8::internal::Trace::set_stop_node</a></div><div class="ttdeci">void set_stop_node(RegExpNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01473">jsregexp.h:1473</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_end_node_html_a8bb1ef53467e4f61410d12822d922498a0e07dfbe2609c107f03b1d10c74c897d"><div class="ttname"><a href="../../da/dae/classv8_1_1internal_1_1_end_node.html#a8bb1ef53467e4f61410d12822d922498a0e07dfbe2609c107f03b1d10c74c897d">v8::internal::EndNode::BACKTRACK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00980">jsregexp.h:980</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_choice_node_html"><div class="ttname"><a href="../../d2/d90/classv8_1_1internal_1_1_choice_node.html">v8::internal::ChoiceNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01065">jsregexp.h:1065</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_ad8c2e7af6128ec916efd31f816e5ca26"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#ad8c2e7af6128ec916efd31f816e5ca26">v8::internal::RegExpMacroAssembler::PushBacktrack</a></div><div class="ttdeci">virtual void PushBacktrack(Label *label)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_engine_html_a03f0a733ec5a6da7c6d97dc31c924e9e"><div class="ttname"><a href="../../db/d51/classv8_1_1internal_1_1_reg_exp_engine.html#a03f0a733ec5a6da7c6d97dc31c924e9e">v8::internal::RegExpEngine::Compile</a></div><div class="ttdeci">static CompilationResult Compile(RegExpCompileData *input, bool ignore_case, bool global, bool multiline, Handle&lt; String &gt; pattern, Handle&lt; String &gt; sample_subject, bool is_ascii, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l06001">jsregexp.cc:6001</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_impl_html_a51582b37e1c62f7da107b009c9ece447"><div class="ttname"><a href="../../d2/d95/classv8_1_1internal_1_1_reg_exp_impl.html#a51582b37e1c62f7da107b009c9ece447">v8::internal::RegExpImpl::SetCapture</a></div><div class="ttdeci">static void SetCapture(FixedArray *array, int index, int to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00214">jsregexp.h:214</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_node_info_html"><div class="ttname"><a href="../../d7/d72/structv8_1_1internal_1_1_node_info.html">v8::internal::NodeInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00470">jsregexp.h:470</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_byte_array_html"><div class="ttname"><a href="../../d1/d5d/classv8_1_1internal_1_1_byte_array.html">v8::internal::ByteArray</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l04580">objects.h:4580</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_assertion_node_html_a9b2af5c8be29dbff074cf2a9c3272407"><div class="ttname"><a href="../../d9/dca/classv8_1_1internal_1_1_assertion_node.html#a9b2af5c8be29dbff074cf2a9c3272407">v8::internal::AssertionNode::AtBoundary</a></div><div class="ttdeci">static AssertionNode * AtBoundary(RegExpNode *on_success)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l00912">jsregexp.h:912</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_reg_exp_compile_data_html_a3b6e31eea5d1be831d7a3db4a193abaa"><div class="ttname"><a href="../../d7/d6e/structv8_1_1internal_1_1_reg_exp_compile_data.html#a3b6e31eea5d1be831d7a3db4a193abaa">v8::internal::RegExpCompileData::capture_count</a></div><div class="ttdeci">int capture_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/jsregexp_8h_source.html#l01611">jsregexp.h:1611</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_trace_html_a672e65697deaa09eb4fa423968e5a7f0"><div class="ttname"><a href="../../d5/d27/classv8_1_1internal_1_1_trace.html#a672e65697deaa09eb4fa423968e5a7f0">v8::internal::Trace::mentions_reg</a></div><div class="ttdeci">bool mentions_reg(int reg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l01179">jsregexp.cc:1179</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_text_node_html_aa74b44fa215f47190c128585cb54b186"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_text_node.html#aa74b44fa215f47190c128585cb54b186">v8::internal::TextNode::CalculateOffsets</a></div><div class="ttdeci">void CalculateOffsets()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/jsregexp_8cc_source.html#l05711">jsregexp.cc:5711</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a31879679b6594fbb6d10e96e485cfcc7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a31879679b6594fbb6d10e96e485cfcc7">v8::internal::kNoRegister</a></div><div class="ttdeci">const int kNoRegister</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00066">constants-arm.h:66</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_reg_exp_macro_assembler_html_a0b3d041dff9962a8c8bd489a26f87ee3"><div class="ttname"><a href="../../df/d96/classv8_1_1internal_1_1_reg_exp_macro_assembler.html#a0b3d041dff9962a8c8bd489a26f87ee3">v8::internal::RegExpMacroAssembler::kMaxCPOffset</a></div><div class="ttdeci">static const int kMaxCPOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d17/regexp-macro-assembler_8h_source.html#l00046">regexp-macro-assembler.h:46</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dd/d24/jsregexp_8cc.html">jsregexp.cc</a></li>
    <li class="footer">Generated on Sat Jun 7 2014 23:54:20 for v8 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
