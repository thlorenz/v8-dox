<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>v8: src/platform-win32.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../v8-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">v8
   &#160;<span id="projectnumber">3.25.30(node0.11.13)</span>
   </div>
   <div id="projectbrief">V8 is Google&#39;s open source JavaScript engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d27/platform-win32_8cc_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">platform-win32.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d5/d27/platform-win32_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// modification, are permitted provided that the following conditions are</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// met:</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//     * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//       copyright notice, this list of conditions and the following</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//       disclaimer in the documentation and/or other materials provided</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//       with the distribution.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//     * Neither the name of Google Inc. nor the names of its</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//       from this software without specific prior written permission.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// Platform-specific code for Win32.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// Secure API functions are not available using MinGW with msvcrt.dll</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// on Windows XP. Make sure MINGW_HAS_SECURE_API is not defined to</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// disable definition of secure API functions in standard headers that</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// would conflict with our own implementation.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#ifdef __MINGW32__</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;_mingw.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#ifdef MINGW_HAS_SECURE_API</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#undef MINGW_HAS_SECURE_API</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#endif  // MINGW_HAS_SECURE_API</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#endif  // __MINGW32__</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db0/win32-headers_8h.html">win32-headers.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d6a/src_2v8_8h.html">v8.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d39/codegen_8h.html">codegen.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d36/isolate-inl_8h.html">isolate-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d03/platform_8h.html">platform.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d9e/simulator_8h.html">simulator.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dd6/vm-state-inl_8h.html">vm-state-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// Case-insensitive bounded string comparisons. Use stricmp() on Win32. Usually</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">// defined in strings.h.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keywordtype">int</span> strncasecmp(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a00b253ab5971676c7634e1eba361c47a">s1</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1eb1a8d3d782d6567661dc32158c735c">s2</a>, <span class="keywordtype">int</span> n) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">return</span> _strnicmp(s1, s2, n);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#endif  // _MSC_VER</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">// Extra functions for MinGW. Most of these are the _s functions which are in</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">// the Microsoft Visual Studio C++ CRT.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#ifdef __MINGW32__</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#ifndef __MINGW64_VERSION_MAJOR</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#define _TRUNCATE 0</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#define STRUNCATE 80</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8227003ebda7d9b733c44e106e7ab607">MemoryBarrier</a>() {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordtype">int</span> barrier = 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  __asm__ __volatile__(<span class="stringliteral">&quot;xchgl %%eax,%0 &quot;</span>:<span class="stringliteral">&quot;=r&quot;</span> (barrier));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#endif  // __MINGW64_VERSION_MAJOR</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keywordtype">int</span> localtime_s(tm* out_tm, <span class="keyword">const</span> time_t* time) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  tm* posix_local_time_struct = localtime(time);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (posix_local_time_struct == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  *out_tm = *posix_local_time_struct;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keywordtype">int</span> fopen_s(FILE** pFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* filename, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  *pFile = fopen(filename, mode);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">return</span> *pFile != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> ? 0 : 1;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keywordtype">int</span> _vsnprintf_s(<span class="keywordtype">char</span>* buffer, <span class="keywordtype">size_t</span> sizeOfBuffer, <span class="keywordtype">size_t</span> count,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                 <span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list argptr) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(count == _TRUNCATE);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">return</span> _vsnprintf(buffer, sizeOfBuffer, format, argptr);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keywordtype">int</span> strncpy_s(<span class="keywordtype">char</span>* dest, <span class="keywordtype">size_t</span> dest_size, <span class="keyword">const</span> <span class="keywordtype">char</span>* source, <span class="keywordtype">size_t</span> count) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(source != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(dest != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ad5a1a3bc35696ef5a1070bca3a419c99">CHECK_GT</a>(dest_size, 0);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">if</span> (count == _TRUNCATE) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">while</span> (dest_size &gt; 0 &amp;&amp; *source != 0) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      *(dest++) = *(source++);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      --dest_size;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (dest_size == 0) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      *(dest - 1) = 0;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">return</span> STRUNCATE;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">while</span> (dest_size &gt; 0 &amp;&amp; count &gt; 0 &amp;&amp; *source != 0) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      *(dest++) = *(source++);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      --dest_size;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      --count;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ad5a1a3bc35696ef5a1070bca3a419c99">CHECK_GT</a>(dest_size, 0);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  *dest = 0;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#endif  // __MINGW32__</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">namespace </span>v8 {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">namespace </span>internal {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;intptr_t <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad3e0a75292d588a6496d229d85d36745">OS::MaxVirtualMemory</a>() {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#if V8_TARGET_ARCH_IA32</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> MemMoveWrapper(<span class="keywordtype">void</span>* dest, <span class="keyword">const</span> <span class="keywordtype">void</span>* src, <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  memmove(dest, src, size);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">// Initialize to library version so we can call this at any time during startup.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keyword">static</span> OS::MemMoveFunction memmove_function = &amp;MemMoveWrapper;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// Defined in codegen-ia32.cc.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;OS::MemMoveFunction CreateMemMoveFunction();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// Copy memory area to disjoint memory area.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a03bcd3bc55d9dbc1139378f1690573a9">OS::MemMove</a>(<span class="keywordtype">void</span>* dest, <span class="keyword">const</span> <span class="keywordtype">void</span>* src, <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (size == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// Note: here we rely on dependent reads being ordered. This is true</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// on all architectures we currently support.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  (*memmove_function)(dest, src, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#endif  // V8_TARGET_ARCH_IA32</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">typedef</span> double (*ModuloFunction)(double, double);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">static</span> ModuloFunction modulo_function = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">// Defined in codegen-x64.cc.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;ModuloFunction CreateModuloFunction();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keywordtype">void</span> init_modulo_function() {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  modulo_function = CreateModuloFunction();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ed88e41f6e2cfe2e355874acab98c85">modulo</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// Note: here we rely on dependent reads being ordered. This is true</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// on all architectures we currently support.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">return</span> (*modulo_function)(x, y);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor">#else  // Win32</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ed88e41f6e2cfe2e355874acab98c85">modulo</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// Workaround MS fmod bugs. ECMA-262 says:</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// dividend is finite and divisor is an infinity =&gt; result equals dividend</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// dividend is a zero and divisor is nonzero finite =&gt; result equals dividend</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../d8/dcc/namespacestd.html#a048be9bc6d45ca897ca5cbe2c3d42390">std::isfinite</a>(x) &amp;&amp; (!<a class="code" href="../../d8/dcc/namespacestd.html#a048be9bc6d45ca897ca5cbe2c3d42390">std::isfinite</a>(y) &amp;&amp; !<a class="code" href="../../d8/dcc/namespacestd.html#a56fb0b229c8206e092d5aa08fe151a8e">std::isnan</a>(y))) &amp;&amp;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      !(x == 0 &amp;&amp; (y != 0 &amp;&amp; <a class="code" href="../../d8/dcc/namespacestd.html#a048be9bc6d45ca897ca5cbe2c3d42390">std::isfinite</a>(y)))) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    x = fmod(x, y);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">return</span> x;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">#endif  // _WIN64</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">  190</a></span>&#160;<span class="preprocessor">#define UNARY_MATH_FUNCTION(name, generator)             \</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">static UnaryMathFunction fast_##name##_function = NULL;  \</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">void init_fast_##name##_function() {                     \</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">  fast_##name##_function = generator;                    \</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">}                                                        \</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">double fast_##name(double x) {                           \</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">  return (*fast_##name##_function)(x);                   \</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">}</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a>(exp, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7198ec3fa1a3931599a6dfe8f6ebf428">CreateExpFunction</a>())</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a>(sqrt, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f72bb5596bb46d7153f7ded163cc9b">CreateSqrtFunction</a>())</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">#undef UNARY_MATH_FUNCTION</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd1065cd2b3cc78dbc94df7324f588cb">lazily_initialize_fast_exp</a>() {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> (fast_exp_function == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    init_fast_exp_function();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#acc8b207eab70546b09e686d500c96198">  212</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acc8b207eab70546b09e686d500c96198">MathSetup</a>() {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  init_modulo_function();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// fast_exp is initialized lazily.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  init_fast_sqrt_function();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="keyword">class </span>TimezoneCache {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#ac0cc2a06890d12d1b590e1b9d68ca239">  223</a></span>&#160;  <a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#ac0cc2a06890d12d1b590e1b9d68ca239">TimezoneCache</a>() : initialized_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>) { }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#aa71d36872f416feaa853788a7a7a7ef8">  225</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>() {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    initialized_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// Initialize timezone information. The timezone information is obtained from</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// windows. If we cannot get the timezone information we fall back to CET.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#ab1d1d66eda8a75ddaf34b92a78853b2a">  231</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#ab1d1d66eda8a75ddaf34b92a78853b2a">InitializeIfNeeded</a>() {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// Just return if timezone information has already been initialized.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (initialized_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">// Initialize POSIX time zone data.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    _tzset();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// Obtain timezone information from operating system.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    memset(&amp;tzinfo_, 0, <span class="keyword">sizeof</span>(tzinfo_));</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (GetTimeZoneInformation(&amp;tzinfo_) == TIME_ZONE_ID_INVALID) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">// If we cannot get timezone information we fall back to CET.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      tzinfo_.Bias = -60;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      tzinfo_.StandardDate.wMonth = 10;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      tzinfo_.StandardDate.wDay = 5;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      tzinfo_.StandardDate.wHour = 3;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      tzinfo_.StandardBias = 0;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      tzinfo_.DaylightDate.wMonth = 3;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      tzinfo_.DaylightDate.wDay = 5;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      tzinfo_.DaylightDate.wHour = 2;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      tzinfo_.DaylightBias = -60;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// Make standard and DST timezone names.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    WideCharToMultiByte(CP_UTF8, 0, tzinfo_.StandardName, -1,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        std_tz_name_, kTzNameSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    std_tz_name_[kTzNameSize - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    WideCharToMultiByte(CP_UTF8, 0, tzinfo_.DaylightName, -1,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                        dst_tz_name_, kTzNameSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    dst_tz_name_[kTzNameSize - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// If OS returned empty string or resource id (like &quot;@tzres.dll,-211&quot;)</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// simply guess the name from the UTC bias of the timezone.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// To properly resolve the resource identifier requires a library load,</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// which is not possible in a sandbox.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (std_tz_name_[0] == <span class="charliteral">&#39;\0&#39;</span> || std_tz_name_[0] == <span class="charliteral">&#39;@&#39;</span>) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">OS::SNPrintF</a>(<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;char&gt;</a>(std_tz_name_, kTzNameSize - 1),</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                   <span class="stringliteral">&quot;%s Standard Time&quot;</span>,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                   <a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#a01e6a084803fbe177435e4e521c46bde">GuessTimezoneNameFromBias</a>(tzinfo_.Bias));</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (dst_tz_name_[0] == <span class="charliteral">&#39;\0&#39;</span> || dst_tz_name_[0] == <span class="charliteral">&#39;@&#39;</span>) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">OS::SNPrintF</a>(<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;char&gt;</a>(dst_tz_name_, kTzNameSize - 1),</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                   <span class="stringliteral">&quot;%s Daylight Time&quot;</span>,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                   <a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#a01e6a084803fbe177435e4e521c46bde">GuessTimezoneNameFromBias</a>(tzinfo_.Bias));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// Timezone information initialized.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    initialized_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Guess the name of the timezone from the bias.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// The guess is very biased towards the northern hemisphere.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#a01e6a084803fbe177435e4e521c46bde">  280</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#a01e6a084803fbe177435e4e521c46bde">GuessTimezoneNameFromBias</a>(<span class="keywordtype">int</span> bias) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHour = 60;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">switch</span> (-bias) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">case</span> -9*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Alaska&quot;</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="keywordflow">case</span> -8*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Pacific&quot;</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="keywordflow">case</span> -7*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Mountain&quot;</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">case</span> -6*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Central&quot;</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">case</span> -5*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Eastern&quot;</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">case</span> -4*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Atlantic&quot;</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">case</span>  0*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;GMT&quot;</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">case</span> +1*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Central Europe&quot;</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordflow">case</span> +2*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Eastern Europe&quot;</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">case</span> +3*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Russia&quot;</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">case</span> +5*kHour + 30: <span class="keywordflow">return</span> <span class="stringliteral">&quot;India&quot;</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">case</span> +8*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;China&quot;</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">case</span> +9*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Japan&quot;</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">case</span> +12*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;New Zealand&quot;</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Local&quot;</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTzNameSize = 128;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordtype">bool</span> initialized_;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordtype">char</span> std_tz_name_[kTzNameSize];</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordtype">char</span> dst_tz_name_[kTzNameSize];</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  TIME_ZONE_INFORMATION tzinfo_;</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#af4edcf9562e8b46fd0c750ecd489bead">  308</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html">Win32Time</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;};</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">// The Time class represents time on win32. A timestamp is represented as</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">// a 64-bit integer in 100 nanoseconds since January 1, 1601 (UTC). JavaScript</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">// timestamps are represented as a doubles in milliseconds since 00:00:00 UTC,</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">// January 1, 1970.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html">  318</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html">Win32Time</a> {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// Constructors.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa7f048ce200297630b063efd96ff36ba">Win32Time</a>();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa7f048ce200297630b063efd96ff36ba">Win32Time</a>(<span class="keywordtype">double</span> jstime);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa7f048ce200297630b063efd96ff36ba">Win32Time</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> mon, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> min, <span class="keywordtype">int</span> sec);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// Convert timestamp to JavaScript representation.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa732a55d5b69a54a02a721975cbb18bb">ToJSTime</a>();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">// Set timestamp to current time.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#ae8768031439fbb5e0b37aa8b802bf983">SetToCurrentTime</a>();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// Returns the local timezone offset in milliseconds east of UTC. This is</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// the number of milliseconds you must add to UTC to get local time, i.e.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// LocalOffset(CET) = 3600000 and LocalOffset(PST) = -28800000. This</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// routine also takes into account whether daylight saving is effect</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// at the time.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  int64_t <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a2891f1790791e9b5b37573c62b02fd03">LocalOffset</a>(<a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">TimezoneCache</a>* cache);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// Returns the daylight savings time offset for the time in milliseconds.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  int64_t <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#ae2ac32cecea249c7277e2b7073b4dd49">DaylightSavingsOffset</a>(<a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">TimezoneCache</a>* cache);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// Returns a string identifying the current timezone for the</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// timestamp taking into account daylight saving.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordtype">char</span>* <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a7174c22a90395676f63fe046630a0e57">LocalTimezone</a>(<a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">TimezoneCache</a>* cache);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// Constants for time conversion.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kTimeEpoc = 116444736000000000LL;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kTimeScaler = 10000;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kMsPerMinute = 60000;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// Constants for timezone information.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> kShortTzNames = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">// Return whether or not daylight savings time is in effect at this time.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordtype">bool</span> InDST(<a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">TimezoneCache</a>* cache);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// Accessor for FILETIME representation.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  FILETIME&amp; ft() { <span class="keywordflow">return</span> time_.ft_; }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// Accessor for integer representation.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  int64_t&amp; t() { <span class="keywordflow">return</span> time_.t_; }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// Although win32 uses 64-bit integers for representing timestamps,</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// these are packed into a FILETIME structure. The FILETIME structure</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// is just a struct representing a 64-bit integer. The TimeStamp union</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">// allows access to both a FILETIME and an integer representation of</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// the timestamp.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keyword">union </span>TimeStamp {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    FILETIME ft_;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    int64_t t_;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  };</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  TimeStamp time_;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;};</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">// Initialize timestamp to start of epoc.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa7f048ce200297630b063efd96ff36ba">  378</a></span>&#160;<a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa7f048ce200297630b063efd96ff36ba">Win32Time::Win32Time</a>() {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  t() = 0;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">// Initialize timestamp from a JavaScript timestamp.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a00f0faaf59c368ece550bcf42d68c0f4">  384</a></span>&#160;<a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa7f048ce200297630b063efd96ff36ba">Win32Time::Win32Time</a>(<span class="keywordtype">double</span> jstime) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  t() = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(jstime) * kTimeScaler + kTimeEpoc;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">// Initialize timestamp from date/time components.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#abb1547d37687330aa1feb942e21660ad">  390</a></span>&#160;<a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa7f048ce200297630b063efd96ff36ba">Win32Time::Win32Time</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> mon, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> min, <span class="keywordtype">int</span> sec) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  SYSTEMTIME st;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  st.wYear = year;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  st.wMonth = mon;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  st.wDay = day;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  st.wHour = hour;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  st.wMinute = min;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  st.wSecond = sec;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  st.wMilliseconds = 0;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  SystemTimeToFileTime(&amp;st, &amp;ft());</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">// Convert timestamp to JavaScript timestamp.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa732a55d5b69a54a02a721975cbb18bb">  404</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa732a55d5b69a54a02a721975cbb18bb">Win32Time::ToJSTime</a>() {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>((t() - kTimeEpoc) / kTimeScaler);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">// Set timestamp to current time.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#ae8768031439fbb5e0b37aa8b802bf983">  410</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#ae8768031439fbb5e0b37aa8b802bf983">Win32Time::SetToCurrentTime</a>() {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// The default GetSystemTimeAsFileTime has a ~15.5ms resolution.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// Because we&#39;re fast, we like fast timers which have at least a</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// 1ms resolution.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// timeGetTime() provides 1ms granularity when combined with</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// timeBeginPeriod().  If the host application for v8 wants fast</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// timers, it can use timeBeginPeriod to increase the resolution.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// Using timeGetTime() has a drawback because it is a 32bit value</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">// and hence rolls-over every ~49days.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// To use the clock, we use GetSystemTimeAsFileTime as our base;</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// and then use timeGetTime to extrapolate current time from the</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// start time.  To deal with rollovers, we resync the clock</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// any time when more than kMaxClockElapsedTime has passed or</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// whenever timeGetTime creates a rollover.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keyword">static</span> TimeStamp init_time;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keyword">static</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> init_ticks;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kHundredNanosecondsPerSecond = 10000000;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kMaxClockElapsedTime =</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      60*kHundredNanosecondsPerSecond;  <span class="comment">// 1 minute</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// If we are uninitialized, we need to resync the clock.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordtype">bool</span> needs_resync = !initialized;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// Get the current time.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  TimeStamp time_now;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  GetSystemTimeAsFileTime(&amp;time_now.ft_);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> ticks_now = timeGetTime();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">// Check if we need to resync due to clock rollover.</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  needs_resync |= ticks_now &lt; init_ticks;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// Check if we need to resync due to elapsed time.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  needs_resync |= (time_now.t_ - init_time.t_) &gt; kMaxClockElapsedTime;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// Check if we need to resync due to backwards time change.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  needs_resync |= time_now.t_ &lt; init_time.t_;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// Resync the clock if necessary.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">if</span> (needs_resync) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    GetSystemTimeAsFileTime(&amp;init_time.ft_);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    init_ticks = ticks_now = timeGetTime();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    initialized = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">// Finally, compute the actual time.  Why is this so hard.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> elapsed = ticks_now - init_ticks;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  this-&gt;time_.t_ = init_time.t_ + (<span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(elapsed) * 10000);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">// Return the local timezone offset in milliseconds east of UTC. This</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">// takes into account whether daylight saving is in effect at the time.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">// Only times in the 32-bit Unix range may be passed to this function.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">// Also, adding the time-zone offset to the input must not overflow.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">// The function EquivalentTime() in date.js guarantees this.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a2891f1790791e9b5b37573c62b02fd03">  470</a></span>&#160;int64_t <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a2891f1790791e9b5b37573c62b02fd03">Win32Time::LocalOffset</a>(<a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">TimezoneCache</a>* cache) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  cache-&gt;InitializeIfNeeded();</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html">Win32Time</a> rounded_to_second(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  rounded_to_second.t() = rounded_to_second.t() / 1000 / kTimeScaler *</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      1000 * kTimeScaler;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// Convert to local time using POSIX localtime function.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// Windows XP Service Pack 3 made SystemTimeToTzSpecificLocalTime()</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// very slow.  Other browsers use localtime().</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// Convert from JavaScript milliseconds past 1/1/1970 0:00:00 to</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">// POSIX seconds past 1/1/1970 0:00:00.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordtype">double</span> unchecked_posix_time = rounded_to_second.<a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa732a55d5b69a54a02a721975cbb18bb">ToJSTime</a>() / 1000;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">if</span> (unchecked_posix_time &gt; INT_MAX || unchecked_posix_time &lt; 0) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// Because _USE_32BIT_TIME_T is defined, time_t is a 32-bit int.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  time_t posix_time = <span class="keyword">static_cast&lt;</span>time_t<span class="keyword">&gt;</span>(unchecked_posix_time);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// Convert to local time, as struct with fields for day, hour, year, etc.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  tm posix_local_time_struct;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span> (localtime_s(&amp;posix_local_time_struct, &amp;posix_time)) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">if</span> (posix_local_time_struct.tm_isdst &gt; 0) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> (cache-&gt;tzinfo_.Bias + cache-&gt;tzinfo_.DaylightBias) * -kMsPerMinute;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (posix_local_time_struct.tm_isdst == 0) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> (cache-&gt;tzinfo_.Bias + cache-&gt;tzinfo_.StandardBias) * -kMsPerMinute;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">return</span> cache-&gt;tzinfo_.Bias * -kMsPerMinute;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">// Return whether or not daylight savings time is in effect at this time.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="keywordtype">bool</span> Win32Time::InDST(<a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">TimezoneCache</a>* cache) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  cache-&gt;InitializeIfNeeded();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// Determine if DST is in effect at the specified time.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordtype">bool</span> in_dst = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">if</span> (cache-&gt;tzinfo_.StandardDate.wMonth != 0 ||</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      cache-&gt;tzinfo_.DaylightDate.wMonth != 0) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// Get the local timezone offset for the timestamp in milliseconds.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    int64_t offset = <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a2891f1790791e9b5b37573c62b02fd03">LocalOffset</a>(cache);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// Compute the offset for DST. The bias parameters in the timezone info</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// are specified in minutes. These must be converted to milliseconds.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    int64_t dstofs =</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        -(cache-&gt;tzinfo_.Bias + cache-&gt;tzinfo_.DaylightBias) * kMsPerMinute;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// If the local time offset equals the timezone bias plus the daylight</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">// bias then DST is in effect.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    in_dst = offset == dstofs;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">return</span> in_dst;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">// Return the daylight savings time offset for this time.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#ae2ac32cecea249c7277e2b7073b4dd49">  529</a></span>&#160;int64_t <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#ae2ac32cecea249c7277e2b7073b4dd49">Win32Time::DaylightSavingsOffset</a>(<a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">TimezoneCache</a>* cache) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">return</span> InDST(cache) ? 60 * kMsPerMinute : 0;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">// Returns a string identifying the current timezone for the</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">// timestamp taking into account daylight saving.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a7174c22a90395676f63fe046630a0e57">  536</a></span>&#160;<span class="keywordtype">char</span>* <a class="code" href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a7174c22a90395676f63fe046630a0e57">Win32Time::LocalTimezone</a>(<a class="code" href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">TimezoneCache</a>* cache) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// Return the standard or DST time zone name based on whether daylight</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">// saving is in effect at the given time.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">return</span> InDST(cache) ? cache-&gt;dst_tz_name_ : cache-&gt;std_tz_name_;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adb9ac83c359db3e1a9fd194dc267906f">OS::PostSetUp</a>() {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="comment">// Math functions depend on CPU features therefore they are initialized after</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// CPU.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acc8b207eab70546b09e686d500c96198">MathSetup</a>();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="preprocessor">#if V8_TARGET_ARCH_IA32</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  OS::MemMoveFunction generated_memmove = CreateMemMoveFunction();</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">if</span> (generated_memmove != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    memmove_function = generated_memmove;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">// Returns the accumulated user time for thread.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75b0ff73dd1b5db44ad916f4206b92be">OS::GetUserTime</a>(uint32_t* secs,  uint32_t* usecs) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  FILETIME dummy;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  uint64_t usertime;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">// Get the amount of time that the thread has executed in user mode.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (!GetThreadTimes(GetCurrentThread(), &amp;dummy, &amp;dummy, &amp;dummy,</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                      reinterpret_cast&lt;FILETIME*&gt;(&amp;usertime))) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// Adjust the resolution to micro-seconds.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  usertime /= 10;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// Convert to seconds and microseconds</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  *secs = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(usertime / 1000000);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  *usecs = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(usertime % 1000000);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">// Returns current time as the number of milliseconds since</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">// 00:00:00 UTC, January 1, 1970.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac66145f5794e9999422ed814b46c7604">OS::TimeCurrentMillis</a>() {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">return</span> Time::Now().ToJsTime();</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;TimezoneCache* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a35106a91d0410ff71e157fe6859635c3">OS::CreateTimezoneCache</a>() {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> TimezoneCache();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac8030952f5e121b1e42d8cdf3e6756b2">OS::DisposeTimezoneCache</a>(TimezoneCache* cache) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keyword">delete</span> cache;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aa8ecb8056f3947d651e26f05d6143147">OS::ClearTimezoneCache</a>(TimezoneCache* cache) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  cache-&gt;Clear();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">// Returns a string identifying the current timezone taking into</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">// account daylight saving.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a2153cd19c733548a8ac0fd2dc3cae169">OS::LocalTimezone</a>(<span class="keywordtype">double</span> time, TimezoneCache* cache) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">return</span> Win32Time(time).LocalTimezone(cache);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">// Returns the local time offset in milliseconds east of UTC without</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">// taking daylight savings time into account.</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#acbff0b34941757b8f389b3e1f9806d3a">OS::LocalTimeOffset</a>(TimezoneCache* cache) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="comment">// Use current time, rounded to the millisecond.</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  Win32Time t(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac66145f5794e9999422ed814b46c7604">TimeCurrentMillis</a>());</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// Time::LocalOffset inlcudes any daylight savings offset, so subtract it.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(t.LocalOffset(cache) -</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                             t.DaylightSavingsOffset(cache));</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">// Returns the daylight savings offset in milliseconds for the given</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">// time.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a27b91e940b90cc8521da6c56fb5d9497">OS::DaylightSavingsOffset</a>(<span class="keywordtype">double</span> time, TimezoneCache* cache) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  int64_t offset = Win32Time(time).DaylightSavingsOffset(cache);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(offset);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;}</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">OS::GetLastError</a>() {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  return ::GetLastError();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a376499501cbfeea6909ce63b06a21cb8">OS::GetCurrentProcessId</a>() {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a376499501cbfeea6909ce63b06a21cb8">::GetCurrentProcessId</a>());</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">// Win32 console output.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">// If a Win32 application is linked as a console application it has a normal</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">// standard output and standard error. In this case normal printf works fine</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">// for output. However, if the application is linked as a GUI application,</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">// the process doesn&#39;t have a console, and therefore (debugging) output is lost.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">// This is the case if we are embedded in a windows program (like a browser).</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">// In order to be able to get debug output in this case the the debugging</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">// facility using OutputDebugString. This output goes to the active debugger</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">// for the process (if any). Else the output can be monitored using DBMON.EXE.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33c">  645</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33c">OutputMode</a> {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765">UNKNOWN</a>,  <span class="comment">// Output method has not yet been determined.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">  647</a></span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">CONSOLE</a>,  <span class="comment">// Output is written to stdout.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363">  648</a></span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363">ODS</a>       <span class="comment">// Output is written to debug facility.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;};</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33c">OutputMode</a> output_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765">UNKNOWN</a>;  <span class="comment">// Current output mode.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">// Determine if the process has a console for output.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> HasConsole() {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">// Only check the first time. Eventual race conditions are not a problem,</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="comment">// because all threads will eventually determine the same mode.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">if</span> (output_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765">UNKNOWN</a>) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">// We cannot just check that the standard output is attached to a console</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="comment">// because this would fail if output is redirected to a file. Therefore we</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">// say that a process does not have an output console if either the</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// standard output handle is invalid or its file type is unknown.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (GetStdHandle(STD_OUTPUT_HANDLE) != INVALID_HANDLE_VALUE &amp;&amp;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        GetFileType(GetStdHandle(STD_OUTPUT_HANDLE)) != FILE_TYPE_UNKNOWN)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      output_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">CONSOLE</a>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      output_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363">ODS</a>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">return</span> output_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">CONSOLE</a>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> VPrintHelper(FILE* stream, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">if</span> ((stream == stdout || stream == stderr) &amp;&amp; !HasConsole()) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="comment">// It is important to use safe print here in order to avoid</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// overflowing the buffer. We might truncate the output, but this</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// does not crash.</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    EmbeddedVector&lt;char, 4096&gt; buffer;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aeedfd61901ac741799b8bcba0efc0693">OS::VSNPrintF</a>(buffer, format, args);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    OutputDebugStringA(buffer.start());</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    vfprintf(stream, format, args);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;FILE* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a71d8d763c7a5feba8bbb9a65fdc4cc87">OS::FOpen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  FILE* result;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">if</span> (fopen_s(&amp;result, path, mode) == 0) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7d64caad10c705910e723dd8920a9dba">OS::Remove</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">return</span> (DeleteFileA(path) != 0);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;FILE* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a0d1aca00c4d58a1f284b449268055c46">OS::OpenTemporaryFile</a>() {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="comment">// tmpfile_s tries to use the root dir, don&#39;t use it.</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordtype">char</span> tempPathBuffer[MAX_PATH];</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> path_result = 0;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  path_result = GetTempPathA(MAX_PATH, tempPathBuffer);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">if</span> (path_result &gt; MAX_PATH || path_result == 0) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  UINT name_result = 0;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordtype">char</span> tempNameBuffer[MAX_PATH];</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  name_result = GetTempFileNameA(tempPathBuffer, <span class="stringliteral">&quot;&quot;</span>, 0, tempNameBuffer);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">if</span> (name_result == 0) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  FILE* result = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a71d8d763c7a5feba8bbb9a65fdc4cc87">FOpen</a>(tempNameBuffer, <span class="stringliteral">&quot;w+&quot;</span>);  <span class="comment">// Same mode as tmpfile uses.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">if</span> (result != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7d64caad10c705910e723dd8920a9dba">Remove</a>(tempNameBuffer);  <span class="comment">// Delete on close.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">// Open log file in binary mode to avoid /n -&gt; /r/n conversion.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a58ff3fd2f1bbb80989a84c432cb19b34">OS::LogFileOpenMode</a> = <span class="stringliteral">&quot;wb&quot;</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">// Print (debug) message to console.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a9032cdcad230f3cde4b521a6750884ff">OS::Print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  va_list args;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a146ff176f27b3c2827a100e3a3b1c242">VPrint</a>(format, args);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a146ff176f27b3c2827a100e3a3b1c242">OS::VPrint</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  VPrintHelper(stdout, format, args);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;}</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a59b2a275f956b31d65d4472524c76c7f">OS::FPrint</a>(FILE* out, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  va_list args;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aa205d860b2308c1bec75312683a4fbfd">VFPrint</a>(out, format, args);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aa205d860b2308c1bec75312683a4fbfd">OS::VFPrint</a>(FILE* out, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  VPrintHelper(out, format, args);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;}</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">// Print error message to console.</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75f2330504a416d8b572870b9cfade17">OS::PrintError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  va_list args;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adc6afb6446e814fcbdea4f7d0168955b">VPrintError</a>(format, args);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adc6afb6446e814fcbdea4f7d0168955b">OS::VPrintError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  VPrintHelper(stderr, format, args);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">OS::SNPrintF</a>(Vector&lt;char&gt; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  va_list args;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordtype">int</span> result = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aeedfd61901ac741799b8bcba0efc0693">VSNPrintF</a>(str, format, args);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;}</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aeedfd61901ac741799b8bcba0efc0693">OS::VSNPrintF</a>(Vector&lt;char&gt; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordtype">int</span> n = _vsnprintf_s(str.start(), str.length(), _TRUNCATE, format, args);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// Make sure to zero-terminate the string if the output was</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">// truncated or if there was an error.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> (n &lt; 0 || n &gt;= str.length()) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">if</span> (str.length() &gt; 0)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      str[str.length() - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="keywordtype">char</span>* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a1140b1c7ad3d3e068359ee56e891f1ec">OS::StrChr</a>(<span class="keywordtype">char</span>* str, <span class="keywordtype">int</span> c) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(strchr(str, c));</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;}</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aaca8567ae014abed35c19d23b44e73cb">OS::StrNCpy</a>(Vector&lt;char&gt; dest, <span class="keyword">const</span> <span class="keywordtype">char</span>* src, <span class="keywordtype">size_t</span> n) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="comment">// Use _TRUNCATE or strncpy_s crashes (by design) if buffer is too small.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="keywordtype">size_t</span> buffer_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(dest.length());</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">if</span> (n + 1 &gt; buffer_size)  <span class="comment">// count for trailing &#39;\0&#39;</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    n = _TRUNCATE;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordtype">int</span> result = strncpy_s(dest.start(), dest.length(), src, n);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result == 0 || (n == _TRUNCATE &amp;&amp; result == STRUNCATE));</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="preprocessor">#undef _TRUNCATE</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="preprocessor">#undef STRUNCATE</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">// Get the system&#39;s page size used by VirtualAlloc() or the next power</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">// of two. The reason for always returning a power of two is that the</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">// rounding up in OS::Allocate expects that.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span> GetPageSize() {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> page_size = 0;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">if</span> (page_size == 0) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    SYSTEM_INFO <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    GetSystemInfo(&amp;info);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    page_size = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a531ab2599d4f9b07d5129b797ad3b222">RoundUpToPowerOf2</a>(info.dwPageSize);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">return</span> page_size;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">// The allocation alignment is the guaranteed alignment for</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">// VirtualAlloc&#39;ed blocks of memory.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">OS::AllocateAlignment</a>() {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> allocate_alignment = 0;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span> (allocate_alignment == 0) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    SYSTEM_INFO <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">info</a>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    GetSystemInfo(&amp;info);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    allocate_alignment = info.dwAllocationGranularity;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">return</span> allocate_alignment;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a5b0878cd0078b7a5ef6e59685fbf8869">OS::GetRandomMmapAddr</a>() {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  Isolate* isolate = Isolate::UncheckedCurrent();</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// Note that the current isolate isn&#39;t set up in a call path via</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// CpuFeatures::Probe. We don&#39;t care about randomization in this case because</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// the code page is immediately freed.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">if</span> (isolate != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// The address range used to randomize RWX allocations in OS::Allocate</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">// Try not to map pages into the default range that windows loads DLLs</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">// Use a multiple of 64k to prevent committing unused memory.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// Note: This does not guarantee RWX regions will be within the</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// range kAllocationRandomAddressMin to kAllocationRandomAddressMax</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">#ifdef V8_HOST_ARCH_64_BIT</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> intptr_t kAllocationRandomAddressMin = 0x0000000080000000;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> intptr_t kAllocationRandomAddressMax = 0x000003FFFFFF0000;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> intptr_t kAllocationRandomAddressMin = 0x04000000;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> intptr_t kAllocationRandomAddressMax = 0x3FFF0000;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    uintptr_t address =</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        (isolate-&gt;random_number_generator()-&gt;NextInt() &lt;&lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae7773e084aaa4f7cea3199510ecd27ac">kPageSizeBits</a>) |</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        kAllocationRandomAddressMin;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    address &amp;= kAllocationRandomAddressMax;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(address);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* RandomizedVirtualAlloc(<span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> action, <span class="keywordtype">int</span> protection) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  LPVOID base = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">if</span> (protection == PAGE_EXECUTE_READWRITE || protection == PAGE_NOACCESS) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">// For exectutable pages try and randomize the allocation address</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> attempts = 0; base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> &amp;&amp; attempts &lt; 3; ++attempts) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      base = VirtualAlloc(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a5b0878cd0078b7a5ef6e59685fbf8869">OS::GetRandomMmapAddr</a>(), size, action, protection);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="comment">// After three attempts give up and let the OS find an address to use.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">if</span> (base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) base = VirtualAlloc(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, size, action, protection);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">return</span> base;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae4d8ebc38f56768d3a8c9e2686bb4223">OS::Allocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> requested,</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                   <span class="keywordtype">size_t</span>* allocated,</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                   <span class="keywordtype">bool</span> is_executable) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="comment">// VirtualAlloc rounds allocated size to page size automatically.</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordtype">size_t</span> msize = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(requested, static_cast&lt;int&gt;(GetPageSize()));</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="comment">// Windows XP SP2 allows Data Excution Prevention (DEP).</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="keywordtype">int</span> prot = is_executable ? PAGE_EXECUTE_READWRITE : PAGE_READWRITE;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  LPVOID mbase = RandomizedVirtualAlloc(msize,</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                                        MEM_COMMIT | MEM_RESERVE,</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                                        prot);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">if</span> (mbase == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(Isolate::Current(), StringEvent(<span class="stringliteral">&quot;OS::Allocate&quot;</span>, <span class="stringliteral">&quot;VirtualAlloc failed&quot;</span>));</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(reinterpret_cast&lt;size_t&gt;(mbase), <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">OS::AllocateAlignment</a>()));</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  *allocated = msize;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">return</span> mbase;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a5162f44ada41163be4daf296cf77127f">OS::Free</a>(<span class="keywordtype">void</span>* address, <span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="comment">// TODO(1240712): VirtualFree has a return value which is ignored here.</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  VirtualFree(address, 0, MEM_RELEASE);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(size);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;}</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;intptr_t <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">OS::CommitPageSize</a>() {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordflow">return</span> 4096;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;}</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a856ab6f6a6eb33c76bebaa49caaa1d39">OS::ProtectCode</a>(<span class="keywordtype">void</span>* address, <span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> old_protect;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  VirtualProtect(address, size, PAGE_EXECUTE_READ, &amp;old_protect);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;}</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a3e417fdc67271cfae54cdd8d3fc91525">OS::Guard</a>(<span class="keywordtype">void</span>* address, <span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> oldprotect;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  VirtualProtect(address, size, PAGE_NOACCESS, &amp;oldprotect);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a93167fd3ca0557191f8854f4236e29e4">OS::Sleep</a>(<span class="keywordtype">int</span> milliseconds) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a93167fd3ca0557191f8854f4236e29e4">::Sleep</a>(milliseconds);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;}</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a12b9283f52eaf7610afe4b04fbca2ff0">OS::Abort</a>() {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">if</span> (FLAG_hard_abort) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="../../d5/d87/globals_8h.html#a6c37e37da8d9058d314a8f11299cae53">V8_IMMEDIATE_CRASH</a>();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="comment">// Make the MSVCRT do a silent abort.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keyword">raise</span>(SIGABRT);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aedac882e1f21e19ef4a15ef77cd22a3a">OS::DebugBreak</a>() {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="comment">// To avoid Visual Studio runtime support the following code can be used</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// instead</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="comment">// __asm { int 3 }</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  __debugbreak();</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aedac882e1f21e19ef4a15ef77cd22a3a">::DebugBreak</a>();</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html">  955</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html">Win32MemoryMappedFile</a> : <span class="keyword">public</span> <a class="code" href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html">OS::MemoryMappedFile</a> {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a1f130addb4ad83524de7f1e8b90085d0">  957</a></span>&#160;  <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a1f130addb4ad83524de7f1e8b90085d0">Win32MemoryMappedFile</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file,</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_mapping,</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                        <span class="keywordtype">void</span>* <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a63fd3e7b0d22ddeaba0f3265034d7acb">memory</a>,</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                        <span class="keywordtype">int</span> size)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      : file_(file),</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        file_mapping_(file_mapping),</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        memory_(memory),</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        size_(size) { }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a10e1f6966c5274c8807317c1bca83db6">~Win32MemoryMappedFile</a>();</div>
<div class="line"><a name="l00966"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a63fd3e7b0d22ddeaba0f3265034d7acb">  966</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a63fd3e7b0d22ddeaba0f3265034d7acb">memory</a>() { <span class="keywordflow">return</span> memory_; }</div>
<div class="line"><a name="l00967"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a7edc9fae01093617967fd7c9df18a2a2">  967</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a7edc9fae01093617967fd7c9df18a2a2">size</a>() { <span class="keywordflow">return</span> size_; }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_mapping_;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordtype">void</span>* memory_;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordtype">int</span> size_;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;};</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;OS::MemoryMappedFile* <a class="code" href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a0ddf8516907fa14688fa7611750c688c">OS::MemoryMappedFile::open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">name</a>) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="comment">// Open a physical file</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file = CreateFileA(name, GENERIC_READ | GENERIC_WRITE,</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      FILE_SHARE_READ | FILE_SHARE_WRITE, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, OPEN_EXISTING, 0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keywordflow">if</span> (file == INVALID_HANDLE_VALUE) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordtype">int</span> size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(GetFileSize(file, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>));</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// Create a file mapping for the physical file</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_mapping = CreateFileMapping(file, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>,</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      PAGE_READWRITE, 0, static_cast&lt;DWORD&gt;(size), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">if</span> (file_mapping == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="comment">// Map a view of the file into memory</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a335b025a91c959a0b993dc6cfc3ec093">memory</a> = MapViewOfFile(file_mapping, FILE_MAP_ALL_ACCESS, 0, 0, size);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32MemoryMappedFile(file, file_mapping, memory, size);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;OS::MemoryMappedFile* <a class="code" href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a795f4ccc4c09dc9052a3ea5afe7ba792">OS::MemoryMappedFile::create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">int</span> size,</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordtype">void</span>* initial) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// Open a physical file</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file = CreateFileA(name, GENERIC_READ | GENERIC_WRITE,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      FILE_SHARE_READ | FILE_SHARE_WRITE, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, OPEN_ALWAYS, 0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordflow">if</span> (file == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// Create a file mapping for the physical file</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_mapping = CreateFileMapping(file, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>,</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      PAGE_READWRITE, 0, static_cast&lt;DWORD&gt;(size), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordflow">if</span> (file_mapping == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">// Map a view of the file into memory</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a833bca494b925759e44ae537498424a2">memory</a> = MapViewOfFile(file_mapping, FILE_MAP_ALL_ACCESS, 0, 0, size);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keywordflow">if</span> (memory) <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a03bcd3bc55d9dbc1139378f1690573a9">OS::MemMove</a>(memory, initial, size);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32MemoryMappedFile(file, file_mapping, memory, size);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div>
<div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a10e1f6966c5274c8807317c1bca83db6"> 1012</a></span>&#160;<a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a10e1f6966c5274c8807317c1bca83db6">Win32MemoryMappedFile::~Win32MemoryMappedFile</a>() {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (memory_ != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    UnmapViewOfFile(memory_);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  CloseHandle(file_mapping_);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  CloseHandle(file_);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;}</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">// The following code loads functions defined in DbhHelp.h and TlHelp32.h</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">// dynamically. This is to avoid being depending on dbghelp.dll and</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">// tlhelp32.dll when running (the functions in tlhelp32.dll have been moved to</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">// kernel32.dll at some point so loading functions defines in TlHelp32.h</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">// dynamically might not be necessary any more - for some versions of Windows?).</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">// Function pointers to functions dynamically loaded from dbghelp.dll.</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818"> 1027</a></span>&#160;<span class="preprocessor">#define DBGHELP_FUNCTION_LIST(V)  \</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="preprocessor">  V(SymInitialize)                \</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="preprocessor">  V(SymGetOptions)                \</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="preprocessor">  V(SymSetOptions)                \</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="preprocessor">  V(SymGetSearchPath)             \</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="preprocessor">  V(SymLoadModule64)              \</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="preprocessor">  V(StackWalk64)                  \</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="preprocessor">  V(SymGetSymFromAddr64)          \</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="preprocessor">  V(SymGetLineFromAddr64)         \</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="preprocessor">  V(SymFunctionTableAccess64)     \</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="preprocessor">  V(SymGetModuleBase64)</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">// Function pointers to functions dynamically loaded from dbghelp.dll.</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4"> 1040</a></span>&#160;<span class="preprocessor">#define TLHELP32_FUNCTION_LIST(V)  \</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="preprocessor">  V(CreateToolhelp32Snapshot)      \</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="preprocessor">  V(Module32FirstW)                \</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="preprocessor">  V(Module32NextW)</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment">// Define the decoration to use for the type and variable name used for</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">// dynamically loaded DLL function..</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77"> 1047</a></span>&#160;<span class="preprocessor">#define DLL_FUNC_TYPE(name) _##name##_</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a43223e71833ca2a79d67807e2ea44e38"> 1048</a></span>&#160;<span class="preprocessor">#define DLL_FUNC_VAR(name) _##name</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">// Define the type for each dynamically loaded DLL function. The function</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">// definitions are copied from DbgHelp.h and TlHelp32.h. The IN and VOID macros</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">// from the Windows include files are redefined here to have the function</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">// definitions to be as close to the ones in the original .h files as possible.</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="preprocessor">#ifndef IN</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928"> 1055</a></span>&#160;<span class="preprocessor">#define IN</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="preprocessor">#ifndef VOID</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf"> 1058</a></span>&#160;<span class="preprocessor">#define VOID void</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">// DbgHelp isn&#39;t supported on MinGW yet</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="preprocessor">#ifndef __MINGW32__</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">// DbgHelp.h functions.</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymInitialize))(<a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a252a3fdfbf10a2a0d67709024e437923"> 1065</a></span>&#160;                                                       <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a252a3fdfbf10a2a0d67709024e437923">UserSearchPath</a>,</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                                       <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0cee649003fae72f307bafa3fa3ac9cf">fInvadeProcess</a>);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetOptions))(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymSetOptions))(<a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> SymOptions);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetSearchPath))(</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01071"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#acbe942506e38bc285ce5d26eac08c847"> 1071</a></span>&#160;    OUT PSTR <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac63c1c56e8ea6fb4a5ab90f721f099d8">SearchPath</a>,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acbe942506e38bc285ce5d26eac08c847">SearchPathLength</a>);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymLoadModule64))(</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#ae04ffbfbcc4147f59c253f40ddf80e44"> 1075</a></span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1a112006d088ef858eebbe868e966a57">hFile</a>,</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a61a3c741e45fec1dec99ad16e31ca3e4">ImageName</a>,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a62b8e5ceab550c2581b1697aada221c3">ModuleName</a>,</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3a5743f917579cd6073a241efc0cb6ae">BaseOfDll</a>,</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae04ffbfbcc4147f59c253f40ddf80e44">SizeOfDll</a>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(StackWalk64))(</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> MachineType,</div>
<div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#aa482a54a167d1909947c5ac6855a460f"> 1082</a></span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afb83aa5f45767ca9b22ea563cb6e6306">hThread</a>,</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    LPSTACKFRAME64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f30ccf59233403783321902193ac283">StackFrame</a>,</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a83c3cdb803c638b79c180b4352bedae3">PVOID</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ad3bc02ff3f2df4c8663dad4b7e809b">ContextRecord</a>,</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    PREAD_PROCESS_MEMORY_ROUTINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aaf13d4f9ed169ce08f966011c4d69c4a">ReadMemoryRoutine</a>,</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    PFUNCTION_TABLE_ACCESS_ROUTINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae62128e9bec528b19035466146279d8e">FunctionTableAccessRoutine</a>,</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    PGET_MODULE_BASE_ROUTINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a138defefcd058df315adb42c4b1dc863">GetModuleBaseRoutine</a>,</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    PTRANSLATE_ADDRESS_ROUTINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa482a54a167d1909947c5ac6855a460f">TranslateAddress</a>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetSymFromAddr64))(</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01092"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#ad2b71fb1bdba33d1f58fcbdb0dc9d4d2"> 1092</a></span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa9bf695d8a22ce48df8b3c216fcd3191">qwAddr</a>,</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    OUT PDWORD64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa68aed3722a9ed5004de28b80be6b738">pdwDisplacement</a>,</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    OUT PIMAGEHLP_SYMBOL64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad2b71fb1bdba33d1f58fcbdb0dc9d4d2">Symbol</a>);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetLineFromAddr64))(</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a403065d0871ec99ec58aa4cd19f8aabf"> 1097</a></span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa9bf695d8a22ce48df8b3c216fcd3191">qwAddr</a>,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    OUT PDWORD <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa68aed3722a9ed5004de28b80be6b738">pdwDisplacement</a>,</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    OUT PIMAGEHLP_LINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a403065d0871ec99ec58aa4cd19f8aabf">Line64</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment">// DbgHelp.h typedefs. Implementation found in dbghelp.dll.</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a83c3cdb803c638b79c180b4352bedae3">PVOID</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymFunctionTableAccess64))(</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01103"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a1d9badc4d7e641eb49c90a9518fbf137"> 1103</a></span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1d9badc4d7e641eb49c90a9518fbf137">AddrBase</a>);  <span class="comment">// DbgHelp.h typedef PFUNCTION_TABLE_ACCESS_ROUTINE64</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetModuleBase64))(</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1d9badc4d7e641eb49c90a9518fbf137">AddrBase</a>);  <span class="comment">// DbgHelp.h typedef PGET_MODULE_BASE_ROUTINE64</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment">// TlHelp32.h functions.</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(CreateToolhelp32Snapshot))(</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> dwFlags,</div>
<div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a13252007b9bb2e4fe2ef49cefd946220"> 1111</a></span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a13252007b9bb2e4fe2ef49cefd946220">th32ProcessID</a>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(Module32FirstW))(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> hSnapshot,</div>
<div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a86faa2c9474e9636a79e2430d41490fa"> 1113</a></span>&#160;                                                        LPMODULEENTRY32W <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a86faa2c9474e9636a79e2430d41490fa">lpme</a>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(Module32NextW))(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> hSnapshot,</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                                                       LPMODULEENTRY32W <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a86faa2c9474e9636a79e2430d41490fa">lpme</a>);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="preprocessor">#undef IN</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="preprocessor">#undef VOID</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">// Declare a variable for each dynamically loaded DLL function.</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302"> 1121</a></span>&#160;<span class="preprocessor">#define DEF_DLL_FUNCTION(name) DLL_FUNC_TYPE(name) DLL_FUNC_VAR(name) = NULL;</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a>)</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a>)</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="preprocessor">#undef DEF_DLL_FUNCTION</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">// Load the functions. This function has a lot of &quot;ugly&quot; macros in order to</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">// keep down code duplication.</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> LoadDbgHelpAndTlHelp32() {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> dbghelp_loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">if</span> (dbghelp_loaded) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  HMODULE module;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// Load functions from the dbghelp.dll module.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  module = LoadLibrary(TEXT(<span class="stringliteral">&quot;dbghelp.dll&quot;</span>));</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keywordflow">if</span> (module == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="preprocessor">#define LOAD_DLL_FUNC(name)                                                 \</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="preprocessor">  DLL_FUNC_VAR(name) =                                                      \</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="preprocessor">      reinterpret_cast&lt;DLL_FUNC_TYPE(name)&gt;(GetProcAddress(module, #name));</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a>)</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="preprocessor">#undef LOAD_DLL_FUNC</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="comment">// Load functions from the kernel32.dll module (the TlHelp32.h function used</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="comment">// to be in tlhelp32.dll but are now moved to kernel32.dll).</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  module = LoadLibrary(TEXT(<span class="stringliteral">&quot;kernel32.dll&quot;</span>));</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">if</span> (module == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="preprocessor">#define LOAD_DLL_FUNC(name)                                                 \</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="preprocessor">  DLL_FUNC_VAR(name) =                                                      \</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="preprocessor">      reinterpret_cast&lt;DLL_FUNC_TYPE(name)&gt;(GetProcAddress(module, #name));</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a>)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="preprocessor">#undef LOAD_DLL_FUNC</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="comment">// Check that all functions where loaded.</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordtype">bool</span> result =</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="preprocessor">#define DLL_FUNC_LOADED(name) (DLL_FUNC_VAR(name) != NULL) &amp;&amp;</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a>)</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a>)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="preprocessor">#undef DLL_FUNC_LOADED</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keyword">true</span>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  dbghelp_loaded = result;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// NOTE: The modules are never unloaded and will stay around until the</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="comment">// application is closed.</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="preprocessor">#undef DBGHELP_FUNCTION_LIST</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="preprocessor">#undef TLHELP32_FUNCTION_LIST</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="preprocessor">#undef DLL_FUNC_VAR</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="preprocessor">#undef DLL_FUNC_TYPE</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">// Load the symbols for generating stack traces.</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> LoadSymbols(Isolate* isolate, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> process_handle) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> symbols_loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">if</span> (symbols_loaded) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> ok;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="comment">// Initialize the symbol engine.</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  ok = _SymInitialize(process_handle,  <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>,            <span class="comment">// UserSearchPath</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                      <span class="keyword">false</span>);          <span class="comment">// fInvadeProcess</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">if</span> (!ok) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> options = _SymGetOptions();</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  options |= SYMOPT_LOAD_LINES;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  options |= SYMOPT_FAIL_CRITICAL_ERRORS;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  options = _SymSetOptions(options);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordtype">char</span> buf[<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">OS::kStackWalkMaxNameLen</a>] = {0};</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  ok = _SymGetSearchPath(process_handle, buf, <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">OS::kStackWalkMaxNameLen</a>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">GetLastError</a>();</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%d\n&quot;</span>, err);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> snapshot = _CreateToolhelp32Snapshot(</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      TH32CS_SNAPMODULE,       <span class="comment">// dwFlags</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a376499501cbfeea6909ce63b06a21cb8">GetCurrentProcessId</a>());  <span class="comment">// th32ProcessId</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">if</span> (snapshot == INVALID_HANDLE_VALUE) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  MODULEENTRY32W module_entry;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  module_entry.dwSize = <span class="keyword">sizeof</span>(module_entry);  <span class="comment">// Set the size of the structure.</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> cont = _Module32FirstW(snapshot, &amp;module_entry);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keywordflow">while</span> (cont) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> base;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// NOTE the SymLoadModule64 function has the peculiarity of accepting a</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="comment">// both unicode and ASCII strings even though the parameter is PSTR.</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    base = _SymLoadModule64(</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        process_handle,                                       <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        0,                                                    <span class="comment">// hFile</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        reinterpret_cast&lt;PSTR&gt;(module_entry.szExePath),       <span class="comment">// ImageName</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        reinterpret_cast&lt;PSTR&gt;(module_entry.szModule),        <span class="comment">// ModuleName</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        reinterpret_cast&lt;DWORD64&gt;(module_entry.modBaseAddr),  <span class="comment">// BaseOfDll</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        module_entry.modBaseSize);                            <span class="comment">// SizeOfDll</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span> (base == 0) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordtype">int</span> err = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">GetLastError</a>();</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">if</span> (err != ERROR_MOD_NOT_FOUND &amp;&amp;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;          err != ERROR_INVALID_HANDLE) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate,</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        SharedLibraryEvent(</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            module_entry.szExePath,</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            reinterpret_cast&lt;unsigned int&gt;(module_entry.modBaseAddr),</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            reinterpret_cast&lt;unsigned int&gt;(module_entry.modBaseAddr +</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                                           module_entry.modBaseSize)));</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    cont = _Module32NextW(snapshot, &amp;module_entry);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  CloseHandle(snapshot);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  symbols_loaded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;}</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ab134319c268f44e5bb9c9de400091fb7">OS::LogSharedLibraryAddresses</a>(Isolate* isolate) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="comment">// SharedLibraryEvents are logged when loading symbol information.</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="comment">// Only the shared libraries loaded at the time of the call to</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="comment">// LogSharedLibraryAddresses are logged.  DLLs loaded after</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="comment">// initialization are not accounted for.</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">if</span> (!LoadDbgHelpAndTlHelp32()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> process_handle = GetCurrentProcess();</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  LoadSymbols(isolate, process_handle);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a14c69262fa5c517defdc171416914060">OS::SignalCodeMovingGC</a>() {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;}</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;uint64_t <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac56e1f9d8bdf118c7b1ee8c6c6f0cb50">OS::TotalPhysicalMemory</a>() {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  MEMORYSTATUSEX memory_info;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  memory_info.dwLength = <span class="keyword">sizeof</span>(memory_info);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">if</span> (!GlobalMemoryStatusEx(&amp;memory_info)) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(memory_info.ullTotalPhys);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;}</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="preprocessor">#else  // __MINGW32__</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ab134319c268f44e5bb9c9de400091fb7">OS::LogSharedLibraryAddresses</a>(Isolate* isolate) { }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a14c69262fa5c517defdc171416914060">OS::SignalCodeMovingGC</a>() { }</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="preprocessor">#endif  // __MINGW32__</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;uint64_t <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae40525a0648a33d8a7a53036beb8fe59">OS::CpuFeaturesImpliedByPlatform</a>() {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">return</span> 0;  <span class="comment">// Windows runs on anything.</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;}</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a2ad80cdfa895b81968050fa753ecda20">OS::nan_value</a>() {</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="comment">// Positive Quiet NaN with no payload (aka. Indeterminate) has all bits</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="comment">// in mask set, so value equals mask.</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> __int64 nanval = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2ef62fc89c8fba3da5e2e2f1343e196e">kQuietNaNMask</a>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span>(&amp;nanval);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="preprocessor">#else  // _MSC_VER</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">return</span> NAN;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="preprocessor">#endif  // _MSC_VER</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;}</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a38b9d155c95f9e591479d49caab2a4a6">OS::ActivationFrameAlignment</a>() {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="keywordflow">return</span> 16;  <span class="comment">// Windows 64-bit ABI requires the stack to be 16-byte aligned.</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="preprocessor">#elif defined(__MINGW32__)</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="comment">// With gcc 4.4 the tree vectorization optimizer can generate code</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="comment">// that requires 16 byte alignment such as movdqa on x86.</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordflow">return</span> 16;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="keywordflow">return</span> 8;  <span class="comment">// Floating-point math runs faster with 8-byte alignment.</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;}</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a7f1301ae3674e8cb6336b9206ab81e76">VirtualMemory::VirtualMemory</a>() : address_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), size_(0) { }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;VirtualMemory::VirtualMemory(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    : address_(ReserveRegion(size)), size_(size) { }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;VirtualMemory::VirtualMemory(<span class="keywordtype">size_t</span> size, <span class="keywordtype">size_t</span> alignment)</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    : address_(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>), size_(0) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(alignment, static_cast&lt;intptr_t&gt;(OS::AllocateAlignment())));</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordtype">size_t</span> request_size = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(size + alignment,</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                static_cast&lt;intptr_t&gt;(OS::AllocateAlignment()));</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordtype">void</span>* address = ReserveRegion(request_size);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordflow">if</span> (address == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(static_cast&lt;Address&gt;(address), alignment);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="comment">// Try reducing the size by freeing and then reallocating a specific area.</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordtype">bool</span> result = ReleaseRegion(address, request_size);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  address = VirtualAlloc(base, size, MEM_RESERVE, PAGE_NOACCESS);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordflow">if</span> (address != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    request_size = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(base == static_cast&lt;Address&gt;(address));</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="comment">// Resizing failed, just go with a bigger area.</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    address = ReserveRegion(request_size);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (address == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  address_ = address;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  size_ = request_size;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;}</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;VirtualMemory::~VirtualMemory() {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordflow">if</span> (IsReserved()) {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordtype">bool</span> result = ReleaseRegion(address(), <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>());</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;}</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::IsReserved() {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keywordflow">return</span> address_ != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;}</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="keywordtype">void</span> VirtualMemory::Reset() {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  address_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  size_ = 0;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;}</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::Commit(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> size, <span class="keywordtype">bool</span> is_executable) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="keywordflow">return</span> CommitRegion(address, size, is_executable);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;}</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::Uncommit(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsReserved());</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="keywordflow">return</span> UncommitRegion(address, size);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::Guard(<span class="keywordtype">void</span>* address) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> == VirtualAlloc(address,</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                           OS::CommitPageSize(),</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                           MEM_COMMIT,</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                           PAGE_NOACCESS)) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;}</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="keywordtype">void</span>* VirtualMemory::ReserveRegion(<span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keywordflow">return</span> RandomizedVirtualAlloc(size, MEM_RESERVE, PAGE_NOACCESS);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;}</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::CommitRegion(<span class="keywordtype">void</span>* base, <span class="keywordtype">size_t</span> size, <span class="keywordtype">bool</span> is_executable) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordtype">int</span> prot = is_executable ? PAGE_EXECUTE_READWRITE : PAGE_READWRITE;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a> == VirtualAlloc(base, size, MEM_COMMIT, prot)) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;}</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::UncommitRegion(<span class="keywordtype">void</span>* base, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordflow">return</span> VirtualFree(base, size, MEM_DECOMMIT) != 0;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::ReleaseRegion(<span class="keywordtype">void</span>* base, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keywordflow">return</span> VirtualFree(base, 0, MEM_RELEASE) != 0;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;}</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::HasLazyCommits() {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">// TODO(alph): implement for the platform.</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;}</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">// Win32 thread support.</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">// Definition of invalid thread handle and id.</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> kNoThread = INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment">// Entry point for threads. The supplied argument is a pointer to the thread</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">// object. The entry function dispatches to the run method in the thread</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment">// object. It is important that this function has __stdcall calling</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="comment">// convention.</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> __stdcall ThreadEntry(<span class="keywordtype">void</span>* arg) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  Thread* thread = <span class="keyword">reinterpret_cast&lt;</span>Thread*<span class="keyword">&gt;</span>(arg);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  thread-&gt;NotifyStartedAndRun();</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="keyword">class </span>Thread::PlatformData : <span class="keyword">public</span> Malloced {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01439"></a><span class="lineno"><a class="line" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a4c52f320409a6aa9b7101a21ed27d62e"> 1439</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a4c52f320409a6aa9b7101a21ed27d62e">PlatformData</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> thread) : thread_(thread) {}</div>
<div class="line"><a name="l01440"></a><span class="lineno"><a class="line" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7695a6d41ec7f92a34c878a0c42981e6"> 1440</a></span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7695a6d41ec7f92a34c878a0c42981e6">thread_</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"><a class="line" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922"> 1441</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922">thread_id_</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;};</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="comment">// Initialize a Win32 thread object. The thread has an invalid thread</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="comment">// handle until it is started.</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;Thread::Thread(<span class="keyword">const</span> <a class="code" href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html">Options</a>&amp; options)</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    : stack_size_(options.stack_size()),</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      start_semaphore_(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  data_ = <span class="keyword">new</span> <a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#ade22e811680aaf01cfc02494c1790943">PlatformData</a>(kNoThread);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  set_name(options.<a class="code" href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html#a862958aa3c2b9bf36903f1f0f2e81c54">name</a>());</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;}</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="keywordtype">void</span> Thread::set_name(<span class="keyword">const</span> <span class="keywordtype">char</span>* name) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aaca8567ae014abed35c19d23b44e73cb">OS::StrNCpy</a>(<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;char&gt;</a>(name_, <span class="keyword">sizeof</span>(name_)), name, strlen(name));</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  name_[<span class="keyword">sizeof</span>(name_) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;}</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">// Close our own handle for the thread.</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a87a9c69a69ee4b13cb1ec5772f6d32ad">Thread::~Thread</a>() {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordflow">if</span> (data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">thread_</a> != kNoThread) CloseHandle(data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">thread_</a>);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keyword">delete</span> data_;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;}</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="comment">// Create a new thread. It is important to use _beginthreadex() instead of</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="comment">// the Win32 function CreateThread(), because the CreateThread() does not</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment">// initialize thread specific structures in the C runtime library.</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a07aaf1227e4d645f15e0a964f54ef291">Thread::Start</a>() {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">thread_</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      _beginthreadex(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>,</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                     static_cast&lt;unsigned&gt;(stack_size_),</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                     ThreadEntry,</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                     <span class="keyword">this</span>,</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                     0,</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                     &amp;data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922">thread_id_</a>));</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;}</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">// Wait for thread to terminate.</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#ac24a06ec0749cb482b60f621833bddd7">Thread::Join</a>() {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordflow">if</span> (data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922">thread_id_</a> != GetCurrentThreadId()) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    WaitForSingleObject(data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">thread_</a>, INFINITE);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;}</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">Thread::LocalStorageKey</a> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#ad0ed7a1fdf1fd5a83d2611a636438036">Thread::CreateThreadLocalKey</a>() {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> result = TlsAlloc();</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result != TLS_OUT_OF_INDEXES);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">LocalStorageKey</a><span class="keyword">&gt;</span>(result);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;}</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a88a95695fff06aad8428dbbe33a89c17">Thread::DeleteThreadLocalKey</a>(<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">LocalStorageKey</a> key) {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> result = TlsFree(static_cast&lt;DWORD&gt;(key));</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a5d1a7f515d19714a96084288efe72368">Thread::GetThreadLocal</a>(<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">LocalStorageKey</a> key) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="keywordflow">return</span> TlsGetValue(static_cast&lt;DWORD&gt;(key));</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;}</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a9b1fb6604c6982bf0111e2c1b3110728">Thread::SetThreadLocal</a>(<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">LocalStorageKey</a> key, <span class="keywordtype">void</span>* value) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> result = TlsSetValue(static_cast&lt;DWORD&gt;(key), value);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;}</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#adf71998ede43577319275683ac798cb7">Thread::YieldCPU</a>() {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  Sleep(0);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;}</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;} }  <span class="comment">// namespace v8::internal</span></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac7f0eb0e10bc8bbb03c793ea1256e329"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">v8::internal::Address</a></div><div class="ttdeci">byte * Address</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00186">globals.h:186</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file_html"><div class="ttname"><a href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html">v8::internal::OS::MemoryMappedFile</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00273">platform.h:273</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa482a54a167d1909947c5ac6855a460f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa482a54a167d1909947c5ac6855a460f">v8::internal::TranslateAddress</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID PREAD_PROCESS_MEMORY_ROUTINE64 PFUNCTION_TABLE_ACCESS_ROUTINE64 PGET_MODULE_BASE_ROUTINE64 PTRANSLATE_ADDRESS_ROUTINE64 TranslateAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01082">platform-win32.cc:1082</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa93c2c60a1492707ba7686a2d1579a32"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa93c2c60a1492707ba7686a2d1579a32">v8::internal::NULL</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00269">flags.cc:269</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1eb1a8d3d782d6567661dc32158c735c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1eb1a8d3d782d6567661dc32158c735c">v8::internal::s2</a></div><div class="ttdeci">const SwVfpRegister s2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00398">assembler-arm.h:398</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_aa93c2c60a1492707ba7686a2d1579a32"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00268">flag-definitions.h:268</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a5d1a7f515d19714a96084288efe72368"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a5d1a7f515d19714a96084288efe72368">v8::internal::Thread::GetThreadLocal</a></div><div class="ttdeci">static void * GetThreadLocal(LocalStorageKey key)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00796">platform-posix.cc:796</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_time_html_a2891f1790791e9b5b37573c62b02fd03"><div class="ttname"><a href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a2891f1790791e9b5b37573c62b02fd03">v8::internal::Win32Time::LocalOffset</a></div><div class="ttdeci">int64_t LocalOffset(TimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00470">platform-win32.cc:470</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a0f965c047f07659ca0e9af4ff9df1ffb"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a></div><div class="ttdeci">#define DLL_FUNC_LOADED(name)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa68aed3722a9ed5004de28b80be6b738"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa68aed3722a9ed5004de28b80be6b738">v8::internal::pdwDisplacement</a></div><div class="ttdeci">IN DWORD64 OUT PDWORD64 pdwDisplacement</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01092">platform-win32.cc:1092</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a5162f44ada41163be4daf296cf77127f"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a5162f44ada41163be4daf296cf77127f">v8::internal::OS::Free</a></div><div class="ttdeci">static void Free(void *address, const size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00176">platform-posix.cc:176</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa9bf695d8a22ce48df8b3c216fcd3191"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa9bf695d8a22ce48df8b3c216fcd3191">v8::internal::qwAddr</a></div><div class="ttdeci">IN DWORD64 qwAddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01092">platform-win32.cc:1092</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a7f1301ae3674e8cb6336b9206ab81e76"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a7f1301ae3674e8cb6336b9206ab81e76">v8::internal::VirtualMemory::VirtualMemory</a></div><div class="ttdeci">VirtualMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00253">platform-cygwin.cc:253</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_time_html_ae2ac32cecea249c7277e2b7073b4dd49"><div class="ttname"><a href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#ae2ac32cecea249c7277e2b7073b4dd49">v8::internal::Win32Time::DaylightSavingsOffset</a></div><div class="ttdeci">int64_t DaylightSavingsOffset(TimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00529">platform-win32.cc:529</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5da70e56552dee3c4945a0a410895567"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8a/v8utils_8cc_source.html#l00040">v8utils.cc:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_vector_html"><div class="ttname"><a href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">v8::internal::Vector&lt; char &gt;</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aeedfd61901ac741799b8bcba0efc0693"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aeedfd61901ac741799b8bcba0efc0693">v8::internal::OS::VSNPrintF</a></div><div class="ttdeci">static int VSNPrintF(Vector&lt; char &gt; str, const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00478">platform-posix.cc:478</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ab134319c268f44e5bb9c9de400091fb7"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ab134319c268f44e5bb9c9de400091fb7">v8::internal::OS::LogSharedLibraryAddresses</a></div><div class="ttdeci">static void LogSharedLibraryAddresses(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00138">platform-cygwin.cc:138</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_acc8b207eab70546b09e686d500c96198"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#acc8b207eab70546b09e686d500c96198">v8::internal::MathSetup</a></div><div class="ttdeci">void MathSetup()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00212">platform-win32.cc:212</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a403065d0871ec99ec58aa4cd19f8aabf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a403065d0871ec99ec58aa4cd19f8aabf">v8::internal::Line64</a></div><div class="ttdeci">IN DWORD64 OUT PDWORD OUT PIMAGEHLP_LINE64 Line64</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01097">platform-win32.cc:1097</a></div></div>
<div class="ttc" id="log_8h_html_a146099bfe6b228d314fa3c784c56feec"><div class="ttname"><a href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a></div><div class="ttdeci">#define LOG(isolate, Call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/log_8h_source.html#l00086">log.h:86</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a83c3cdb803c638b79c180b4352bedae3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a83c3cdb803c638b79c180b4352bedae3">v8::internal::PVOID</a></div><div class="ttdeci">typedef PVOID(__stdcall *DLL_FUNC_TYPE(SymFunctionTableAccess64))(HANDLE hProcess</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a0d1aca00c4d58a1f284b449268055c46"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a0d1aca00c4d58a1f284b449268055c46">v8::internal::OS::OpenTemporaryFile</a></div><div class="ttdeci">static FILE * OpenTemporaryFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00410">platform-posix.cc:410</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_time_html_a7174c22a90395676f63fe046630a0e57"><div class="ttname"><a href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#a7174c22a90395676f63fe046630a0e57">v8::internal::Win32Time::LocalTimezone</a></div><div class="ttdeci">char * LocalTimezone(TimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00536">platform-win32.cc:536</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_ac24a06ec0749cb482b60f621833bddd7"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#ac24a06ec0749cb482b60f621833bddd7">v8::internal::Thread::Join</a></div><div class="ttdeci">void Join()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00674">platform-posix.cc:674</a></div></div>
<div class="ttc" id="checks_8h_html_ad5a1a3bc35696ef5a1070bca3a419c99"><div class="ttname"><a href="../../d5/d16/checks_8h.html#ad5a1a3bc35696ef5a1070bca3a419c99">CHECK_GT</a></div><div class="ttdeci">#define CHECK_GT(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00260">checks.h:260</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a14c69262fa5c517defdc171416914060"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a14c69262fa5c517defdc171416914060">v8::internal::OS::SignalCodeMovingGC</a></div><div class="ttdeci">static void SignalCodeMovingGC()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00197">platform-cygwin.cc:197</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac63c1c56e8ea6fb4a5ab90f721f099d8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac63c1c56e8ea6fb4a5ab90f721f099d8">v8::internal::SearchPath</a></div><div class="ttdeci">OUT PSTR SearchPath</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01071">platform-win32.cc:1071</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a62b8e5ceab550c2581b1697aada221c3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a62b8e5ceab550c2581b1697aada221c3">v8::internal::ModuleName</a></div><div class="ttdeci">IN HANDLE IN PSTR IN PSTR ModuleName</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01075">platform-win32.cc:1075</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a5b0878cd0078b7a5ef6e59685fbf8869"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a5b0878cd0078b7a5ef6e59685fbf8869">v8::internal::OS::GetRandomMmapAddr</a></div><div class="ttdeci">static void * GetRandomMmapAddr()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00210">platform-posix.cc:210</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a27b91e940b90cc8521da6c56fb5d9497"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a27b91e940b90cc8521da6c56fb5d9497">v8::internal::OS::DaylightSavingsOffset</a></div><div class="ttdeci">static double DaylightSavingsOffset(double time, TimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00375">platform-posix.cc:375</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a2ef62fc89c8fba3da5e2e2f1343e196e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a2ef62fc89c8fba3da5e2e2f1343e196e">v8::internal::kQuietNaNMask</a></div><div class="ttdeci">const uint64_t kQuietNaNMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00304">globals.h:304</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a75b0ff73dd1b5db44ad916f4206b92be"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75b0ff73dd1b5db44ad916f4206b92be">v8::internal::OS::GetUserTime</a></div><div class="ttdeci">static int GetUserTime(uint32_t *secs, uint32_t *usecs)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00342">platform-posix.cc:342</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aa8ecb8056f3947d651e26f05d6143147"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aa8ecb8056f3947d651e26f05d6143147">v8::internal::OS::ClearTimezoneCache</a></div><div class="ttdeci">static void ClearTimezoneCache(TimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00370">platform-posix.cc:370</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_timezone_cache_html"><div class="ttname"><a href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html">v8::internal::TimezoneCache</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00357">platform-posix.cc:357</a></div></div>
<div class="ttc" id="simulator_8h_html"><div class="ttname"><a href="../../d3/d9e/simulator_8h.html">simulator.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a87a9c69a69ee4b13cb1ec5772f6d32ad"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a87a9c69a69ee4b13cb1ec5772f6d32ad">v8::internal::Thread::~Thread</a></div><div class="ttdeci">virtual ~Thread()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00598">platform-posix.cc:598</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1a112006d088ef858eebbe868e966a57"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1a112006d088ef858eebbe868e966a57">v8::internal::hFile</a></div><div class="ttdeci">IN HANDLE hFile</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01075">platform-win32.cc:1075</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">v8::internal::CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00647">platform-win32.cc:647</a></div></div>
<div class="ttc" id="checks_8h_html_ac22830a985e1daed0c9eadba8c6f606e"><div class="ttname"><a href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a></div><div class="ttdeci">#define ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00329">checks.h:329</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_add09f6a0b989fa16f6586b67b6747818"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a></div><div class="ttdeci">#define DBGHELP_FUNCTION_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01027">platform-win32.cc:1027</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4929dcf4129df9f2538146f09b1b52f6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">v8::internal::HANDLE</a></div><div class="ttdeci">typedef HANDLE(__stdcall *DLL_FUNC_TYPE(CreateToolhelp32Snapshot))(DWORD dwFlags</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aa205d860b2308c1bec75312683a4fbfd"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aa205d860b2308c1bec75312683a4fbfd">v8::internal::OS::VFPrint</a></div><div class="ttdeci">static void VFPrint(FILE *out, const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00443">platform-posix.cc:443</a></div></div>
<div class="ttc" id="namespacestd_html_a048be9bc6d45ca897ca5cbe2c3d42390"><div class="ttname"><a href="../../d8/dcc/namespacestd.html#a048be9bc6d45ca897ca5cbe2c3d42390">std::isfinite</a></div><div class="ttdeci">int isfinite(double x)</div></div>
<div class="ttc" id="platform_8h_html"><div class="ttname"><a href="../../de/d03/platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae04ffbfbcc4147f59c253f40ddf80e44"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae04ffbfbcc4147f59c253f40ddf80e44">v8::internal::SizeOfDll</a></div><div class="ttdeci">IN HANDLE IN PSTR IN PSTR IN DWORD64 IN DWORD SizeOfDll</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01075">platform-win32.cc:1075</a></div></div>
<div class="ttc" id="checks_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00075">checks.h:75</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a4d8735ab2ecf1720799bc1685cad6d86"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a></div><div class="ttdeci">#define UNARY_MATH_FUNCTION(name, generator)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00190">platform-win32.cc:190</a></div></div>
<div class="ttc" id="globals_8h_html_a6c37e37da8d9058d314a8f11299cae53"><div class="ttname"><a href="../../d5/d87/globals_8h.html#a6c37e37da8d9058d314a8f11299cae53">V8_IMMEDIATE_CRASH</a></div><div class="ttdeci">#define V8_IMMEDIATE_CRASH()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00399">globals.h:399</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file_html_a0ddf8516907fa14688fa7611750c688c"><div class="ttname"><a href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a0ddf8516907fa14688fa7611750c688c">v8::internal::OS::MemoryMappedFile::open</a></div><div class="ttdeci">static MemoryMappedFile * open(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00104">platform-cygwin.cc:104</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_a15ceca1222a290ef55ef094efc0a2922"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922">v8::internal::Thread::PlatformData::thread_id_</a></div><div class="ttdeci">unsigned thread_id_</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01441">platform-win32.cc:1441</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_ae491df1d2c24e3751c368155c20fe5ef"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00210">flag-definitions.h:210</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_ade22e811680aaf01cfc02494c1790943"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#ade22e811680aaf01cfc02494c1790943">v8::internal::Thread::PlatformData::PlatformData</a></div><div class="ttdeci">PlatformData()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00581">platform-posix.cc:581</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a7198ec3fa1a3931599a6dfe8f6ebf428"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a7198ec3fa1a3931599a6dfe8f6ebf428">v8::internal::CreateExpFunction</a></div><div class="ttdeci">UnaryMathFunction CreateExpFunction()</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_time_html_aa732a55d5b69a54a02a721975cbb18bb"><div class="ttname"><a href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa732a55d5b69a54a02a721975cbb18bb">v8::internal::Win32Time::ToJSTime</a></div><div class="ttdeci">double ToJSTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00404">platform-win32.cc:404</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_timezone_cache_html_aa71d36872f416feaa853788a7a7a7ef8"><div class="ttname"><a href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#aa71d36872f416feaa853788a7a7a7ef8">v8::internal::TimezoneCache::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00225">platform-win32.cc:225</a></div></div>
<div class="ttc" id="namespacestd_html_a56fb0b229c8206e092d5aa08fe151a8e"><div class="ttname"><a href="../../d8/dcc/namespacestd.html#a56fb0b229c8206e092d5aa08fe151a8e">std::isnan</a></div><div class="ttdeci">int isnan(double x)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a7153ed9aa37ce52059db777f98aa7b01"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">v8::internal::DWORD</a></div><div class="ttdeci">typedef DWORD(__stdcall *DLL_FUNC_TYPE(SymGetOptions))(VOID)</div></div>
<div class="ttc" id="platform-win32_8cc_html_ac2bbd6d630a06a980d9a92ddb9a49928"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a></div><div class="ttdeci">#define IN</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01055">platform-win32.cc:1055</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a61a3c741e45fec1dec99ad16e31ca3e4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a61a3c741e45fec1dec99ad16e31ca3e4">v8::internal::ImageName</a></div><div class="ttdeci">IN HANDLE IN PSTR ImageName</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01075">platform-win32.cc:1075</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9f30ccf59233403783321902193ac283"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9f30ccf59233403783321902193ac283">v8::internal::StackFrame</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 StackFrame</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01082">platform-win32.cc:1082</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file_html_a335b025a91c959a0b993dc6cfc3ec093"><div class="ttname"><a href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a335b025a91c959a0b993dc6cfc3ec093">v8::internal::OS::MemoryMappedFile::memory</a></div><div class="ttdeci">virtual void * memory()=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_adf71998ede43577319275683ac798cb7"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#adf71998ede43577319275683ac798cb7">v8::internal::Thread::YieldCPU</a></div><div class="ttdeci">static void YieldCPU()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00679">platform-posix.cc:679</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a12b9283f52eaf7610afe4b04fbca2ff0"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a12b9283f52eaf7610afe4b04fbca2ff0">v8::internal::OS::Abort</a></div><div class="ttdeci">static void Abort()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00267">platform-posix.cc:267</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a7d9e118177a6f2184128edabecad9302"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a></div><div class="ttdeci">#define DEF_DLL_FUNCTION(name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01121">platform-win32.cc:1121</a></div></div>
<div class="ttc" id="checks_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00052">checks.h:52</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a72446b1664e0afdbe3a0b0d425384970"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">v8::internal::BOOL</a></div><div class="ttdeci">typedef BOOL(__stdcall *DLL_FUNC_TYPE(SymInitialize))(IN HANDLE hProcess</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aad411e079c86d50fd77c1b865426c860"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">v8::internal::DWORD64</a></div><div class="ttdeci">typedef DWORD64(__stdcall *DLL_FUNC_TYPE(SymLoadModule64))(IN HANDLE hProcess</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5adc5ec2f1a2af41381abab75250b1c8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5adc5ec2f1a2af41381abab75250b1c8">v8::internal::mode</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long mode(MIPS only)&quot;)  DEFINE_string(expose_natives_as</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae491df1d2c24e3751c368155c20fe5ef"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">v8::internal::size</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object size</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00211">flags.cc:211</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3a5743f917579cd6073a241efc0cb6ae"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3a5743f917579cd6073a241efc0cb6ae">v8::internal::BaseOfDll</a></div><div class="ttdeci">IN HANDLE IN PSTR IN PSTR IN DWORD64 BaseOfDll</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01075">platform-win32.cc:1075</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3ade81327a560533c755661340652a2f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">v8::internal::hProcess</a></div><div class="ttdeci">HANDLE hProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01082">platform-win32.cc:1082</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_timezone_cache_html_a01e6a084803fbe177435e4e521c46bde"><div class="ttname"><a href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#a01e6a084803fbe177435e4e521c46bde">v8::internal::TimezoneCache::GuessTimezoneNameFromBias</a></div><div class="ttdeci">const char * GuessTimezoneNameFromBias(int bias)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00280">platform-win32.cc:280</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html_a1f130addb4ad83524de7f1e8b90085d0"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a1f130addb4ad83524de7f1e8b90085d0">v8::internal::Win32MemoryMappedFile::Win32MemoryMappedFile</a></div><div class="ttdeci">Win32MemoryMappedFile(HANDLE file, HANDLE file_mapping, void *memory, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00957">platform-win32.cc:957</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a252a3fdfbf10a2a0d67709024e437923"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a252a3fdfbf10a2a0d67709024e437923">v8::internal::UserSearchPath</a></div><div class="ttdeci">IN PSTR UserSearchPath</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01065">platform-win32.cc:1065</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3ad3bc02ff3f2df4c8663dad4b7e809b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3ad3bc02ff3f2df4c8663dad4b7e809b">v8::internal::ContextRecord</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID ContextRecord</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01082">platform-win32.cc:1082</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_a4c52f320409a6aa9b7101a21ed27d62e"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a4c52f320409a6aa9b7101a21ed27d62e">v8::internal::Thread::PlatformData::PlatformData</a></div><div class="ttdeci">PlatformData(HANDLE thread)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01439">platform-win32.cc:1439</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_timezone_cache_html_ac0cc2a06890d12d1b590e1b9d68ca239"><div class="ttname"><a href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#ac0cc2a06890d12d1b590e1b9d68ca239">v8::internal::TimezoneCache::TimezoneCache</a></div><div class="ttdeci">TimezoneCache()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00223">platform-win32.cc:223</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a856ab6f6a6eb33c76bebaa49caaa1d39"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a856ab6f6a6eb33c76bebaa49caaa1d39">v8::internal::OS::ProtectCode</a></div><div class="ttdeci">static void ProtectCode(void *address, const size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00185">platform-posix.cc:185</a></div></div>
<div class="ttc" id="src_2v8_8h_html"><div class="ttname"><a href="../../df/d6a/src_2v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html_a10e1f6966c5274c8807317c1bca83db6"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a10e1f6966c5274c8807317c1bca83db6">v8::internal::Win32MemoryMappedFile::~Win32MemoryMappedFile</a></div><div class="ttdeci">virtual ~Win32MemoryMappedFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01012">platform-win32.cc:1012</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aaf13d4f9ed169ce08f966011c4d69c4a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aaf13d4f9ed169ce08f966011c4d69c4a">v8::internal::ReadMemoryRoutine</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID PREAD_PROCESS_MEMORY_ROUTINE64 ReadMemoryRoutine</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01082">platform-win32.cc:1082</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afd1065cd2b3cc78dbc94df7324f588cb"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afd1065cd2b3cc78dbc94df7324f588cb">v8::internal::lazily_initialize_fast_exp</a></div><div class="ttdeci">void lazily_initialize_fast_exp()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00320">platform-posix.cc:320</a></div></div>
<div class="ttc" id="win32-headers_8h_html"><div class="ttname"><a href="../../db/db0/win32-headers_8h.html">win32-headers.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_ad0ed7a1fdf1fd5a83d2611a636438036"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#ad0ed7a1fdf1fd5a83d2611a636438036">v8::internal::Thread::CreateThreadLocalKey</a></div><div class="ttdeci">static LocalStorageKey CreateThreadLocalKey()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00767">platform-posix.cc:767</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a71d8d763c7a5feba8bbb9a65fdc4cc87"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a71d8d763c7a5feba8bbb9a65fdc4cc87">v8::internal::OS::FOpen</a></div><div class="ttdeci">static FILE * FOpen(const char *path, const char *mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00393">platform-posix.cc:393</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ada66adab5e750853950daf4371db1392"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">v8::internal::IsAligned</a></div><div class="ttdeci">bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00211">utils.h:211</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file_html_a795f4ccc4c09dc9052a3ea5afe7ba792"><div class="ttname"><a href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a795f4ccc4c09dc9052a3ea5afe7ba792">v8::internal::OS::MemoryMappedFile::create</a></div><div class="ttdeci">static MemoryMappedFile * create(const char *name, int size, void *initial)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00117">platform-cygwin.cc:117</a></div></div>
<div class="ttc" id="codegen_8h_html"><div class="ttname"><a href="../../d1/d39/codegen_8h.html">codegen.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a146ff176f27b3c2827a100e3a3b1c242"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a146ff176f27b3c2827a100e3a3b1c242">v8::internal::OS::VPrint</a></div><div class="ttdeci">static void VPrint(const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00426">platform-posix.cc:426</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a03bcd3bc55d9dbc1139378f1690573a9"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a03bcd3bc55d9dbc1139378f1690573a9">v8::internal::OS::MemMove</a></div><div class="ttdeci">static void MemMove(void *dest, const void *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00402">platform.h:402</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac7f72bb5596bb46d7153f7ded163cc9b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac7f72bb5596bb46d7153f7ded163cc9b">v8::internal::CreateSqrtFunction</a></div><div class="ttdeci">UnaryMathFunction CreateSqrtFunction()</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a3e417fdc67271cfae54cdd8d3fc91525"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a3e417fdc67271cfae54cdd8d3fc91525">v8::internal::OS::Guard</a></div><div class="ttdeci">static void Guard(void *address, const size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00200">platform-posix.cc:200</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_adc6afb6446e814fcbdea4f7d0168955b"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adc6afb6446e814fcbdea4f7d0168955b">v8::internal::OS::VPrintError</a></div><div class="ttdeci">static void VPrintError(const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00460">platform-posix.cc:460</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9ed88e41f6e2cfe2e355874acab98c85"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9ed88e41f6e2cfe2e355874acab98c85">v8::internal::modulo</a></div><div class="ttdeci">double modulo(double x, double y)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00300">platform-posix.cc:300</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a376499501cbfeea6909ce63b06a21cb8"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a376499501cbfeea6909ce63b06a21cb8">v8::internal::OS::GetCurrentProcessId</a></div><div class="ttdeci">static int GetCurrentProcessId()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00333">platform-posix.cc:333</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4718d33a2325528d5e80c19da5199e20"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">v8::internal::RoundUp</a></div><div class="ttdeci">T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00144">utils.h:144</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ac66145f5794e9999422ed814b46c7604"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac66145f5794e9999422ed814b46c7604">v8::internal::OS::TimeCurrentMillis</a></div><div class="ttdeci">static double TimeCurrentMillis()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00352">platform-posix.cc:352</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a96408c20703a2c69e5c2e52a893d618a"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a></div><div class="ttdeci">#define LOAD_DLL_FUNC(name)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_time_html_aa7f048ce200297630b063efd96ff36ba"><div class="ttname"><a href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#aa7f048ce200297630b063efd96ff36ba">v8::internal::Win32Time::Win32Time</a></div><div class="ttdeci">Win32Time()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00378">platform-win32.cc:378</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aedac882e1f21e19ef4a15ef77cd22a3a"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aedac882e1f21e19ef4a15ef77cd22a3a">v8::internal::OS::DebugBreak</a></div><div class="ttdeci">static void DebugBreak()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00276">platform-posix.cc:276</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a07aaf1227e4d645f15e0a964f54ef291"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a07aaf1227e4d645f15e0a964f54ef291">v8::internal::Thread::Start</a></div><div class="ttdeci">void Start()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00649">platform-posix.cc:649</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a88a95695fff06aad8428dbbe33a89c17"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a88a95695fff06aad8428dbbe33a89c17">v8::internal::Thread::DeleteThreadLocalKey</a></div><div class="ttdeci">static void DeleteThreadLocalKey(LocalStorageKey key)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00788">platform-posix.cc:788</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a93167fd3ca0557191f8854f4236e29e4"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a93167fd3ca0557191f8854f4236e29e4">v8::internal::OS::Sleep</a></div><div class="ttdeci">static void Sleep(const int milliseconds)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00261">platform-posix.cc:261</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a2153cd19c733548a8ac0fd2dc3cae169"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a2153cd19c733548a8ac0fd2dc3cae169">v8::internal::OS::LocalTimezone</a></div><div class="ttdeci">static const char * LocalTimezone(double time, TimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00054">platform-cygwin.cc:54</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a9032cdcad230f3cde4b521a6750884ff"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a9032cdcad230f3cde4b521a6750884ff">v8::internal::OS::Print</a></div><div class="ttdeci">static void Print(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00418">platform-posix.cc:418</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_a7c4ef401b32b066aa5ef0d6738923777"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">v8::internal::Thread::PlatformData::thread_</a></div><div class="ttdeci">pthread_t thread_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00582">platform-posix.cc:582</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afb83aa5f45767ca9b22ea563cb6e6306"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afb83aa5f45767ca9b22ea563cb6e6306">v8::internal::hThread</a></div><div class="ttdeci">HANDLE HANDLE hThread</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01082">platform-win32.cc:1082</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a00b253ab5971676c7634e1eba361c47a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a00b253ab5971676c7634e1eba361c47a">v8::internal::s1</a></div><div class="ttdeci">const SwVfpRegister s1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00397">assembler-arm.h:397</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_timezone_cache_html_ab1d1d66eda8a75ddaf34b92a78853b2a"><div class="ttname"><a href="../../d6/d6b/classv8_1_1internal_1_1_timezone_cache.html#ab1d1d66eda8a75ddaf34b92a78853b2a">v8::internal::TimezoneCache::InitializeIfNeeded</a></div><div class="ttdeci">void InitializeIfNeeded()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00231">platform-win32.cc:231</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a138defefcd058df315adb42c4b1dc863"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a138defefcd058df315adb42c4b1dc863">v8::internal::GetModuleBaseRoutine</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID PREAD_PROCESS_MEMORY_ROUTINE64 PFUNCTION_TABLE_ACCESS_ROUTINE64 PGET_MODULE_BASE_ROUTINE64 GetModuleBaseRoutine</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01082">platform-win32.cc:1082</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ac0bfad7b49b63e797573151f79007de5"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">v8::internal::OS::SNPrintF</a></div><div class="ttdeci">static int SNPrintF(Vector&lt; char &gt; str, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00469">platform-posix.cc:469</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ad40309f94a3d0c651592fac6cd1de398"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">v8::internal::OS::kStackWalkMaxNameLen</a></div><div class="ttdeci">static const int kStackWalkMaxNameLen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00266">platform.h:266</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ac8030952f5e121b1e42d8cdf3e6756b2"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac8030952f5e121b1e42d8cdf3e6756b2">v8::internal::OS::DisposeTimezoneCache</a></div><div class="ttdeci">static void DisposeTimezoneCache(TimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00365">platform-posix.cc:365</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a66d575bd069a059c1d65a87a74900fb4"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a></div><div class="ttdeci">#define TLHELP32_FUNCTION_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01040">platform-win32.cc:1040</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a2ad80cdfa895b81968050fa753ecda20"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a2ad80cdfa895b81968050fa753ecda20">v8::internal::OS::nan_value</a></div><div class="ttdeci">static double nan_value()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00327">platform-posix.cc:327</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_options_html"><div class="ttname"><a href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html">v8::internal::Thread::Options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00528">platform.h:528</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4730147a5f2fa83bf450138f42b1df92"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4730147a5f2fa83bf450138f42b1df92">v8::internal::info</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function info</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00317">flags.cc:317</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_time_html"><div class="ttname"><a href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html">v8::internal::Win32Time</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00318">platform-win32.cc:318</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a9b1fb6604c6982bf0111e2c1b3110728"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a9b1fb6604c6982bf0111e2c1b3110728">v8::internal::Thread::SetThreadLocal</a></div><div class="ttdeci">static void SetThreadLocal(LocalStorageKey key, void *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00802">platform-posix.cc:802</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ae4d8ebc38f56768d3a8c9e2686bb4223"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae4d8ebc38f56768d3a8c9e2686bb4223">v8::internal::OS::Allocate</a></div><div class="ttdeci">static void * Allocate(const size_t requested, size_t *allocated, bool is_executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00075">platform-cygwin.cc:75</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_time_html_ae8768031439fbb5e0b37aa8b802bf983"><div class="ttname"><a href="../../df/d5f/classv8_1_1internal_1_1_win32_time.html#ae8768031439fbb5e0b37aa8b802bf983">v8::internal::Win32Time::SetToCurrentTime</a></div><div class="ttdeci">void SetToCurrentTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00410">platform-win32.cc:410</a></div></div>
<div class="ttc" id="vm-state-inl_8h_html"><div class="ttname"><a href="../../dd/dd6/vm-state-inl_8h.html">vm-state-inl.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_adb9ac83c359db3e1a9fd194dc267906f"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adb9ac83c359db3e1a9fd194dc267906f">v8::internal::OS::PostSetUp</a></div><div class="ttdeci">static void PostSetUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00541">platform-posix.cc:541</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a479782c1ca16b739d6a4d4ea5bfea33c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33c">v8::internal::OutputMode</a></div><div class="ttdeci">OutputMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00645">platform-win32.cc:645</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_a7695a6d41ec7f92a34c878a0c42981e6"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7695a6d41ec7f92a34c878a0c42981e6">v8::internal::Thread::PlatformData::thread_</a></div><div class="ttdeci">HANDLE thread_</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01440">platform-win32.cc:1440</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_ad1bdeb16c3a6c7cf3da83c219ec4da77"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a></div><div class="ttdeci">#define DLL_FUNC_TYPE(name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01047">platform-win32.cc:1047</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a75f2330504a416d8b572870b9cfade17"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75f2330504a416d8b572870b9cfade17">v8::internal::OS::PrintError</a></div><div class="ttdeci">static void PrintError(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00452">platform-posix.cc:452</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a833bca494b925759e44ae537498424a2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a833bca494b925759e44ae537498424a2">v8::internal::memory</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long expose natives in global object expose freeBuffer extension expose gc extension under the specified name expose externalize string extension number of stack frames to capture disable builtin natives files print name of functions for which code is generated use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations always try to OSR functions trace optimize function deoptimization minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions trace debugging JSON request response trace out of bounds accesses to external arrays trace_js_array_abuse automatically set the debug break flag when debugger commands are in the queue abort by crashing maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable memory(in Mbytes)&quot;) DEFINE_bool(gc_global</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a13252007b9bb2e4fe2ef49cefd946220"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a13252007b9bb2e4fe2ef49cefd946220">v8::internal::th32ProcessID</a></div><div class="ttdeci">DWORD th32ProcessID</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01111">platform-win32.cc:1111</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_acbe942506e38bc285ce5d26eac08c847"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#acbe942506e38bc285ce5d26eac08c847">v8::internal::SearchPathLength</a></div><div class="ttdeci">OUT PSTR IN DWORD SearchPathLength</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01071">platform-win32.cc:1071</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a8575650d2c0f26010b06a5a09d5d6d7a"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">v8::internal::Thread::LocalStorageKey</a></div><div class="ttdeci">LocalStorageKey</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00523">platform.h:523</a></div></div>
<div class="ttc" id="isolate-inl_8h_html"><div class="ttname"><a href="../../d3/d36/isolate-inl_8h.html">isolate-inl.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab46a6342f518ffe356dd4b116eabc1e0"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">v8::internal::USE</a></div><div class="ttdeci">void USE(T)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00341">globals.h:341</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aaca8567ae014abed35c19d23b44e73cb"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aaca8567ae014abed35c19d23b44e73cb">v8::internal::OS::StrNCpy</a></div><div class="ttdeci">static void StrNCpy(Vector&lt; char &gt; dest, const char *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00570">platform-posix.cc:570</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363">v8::internal::ODS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00648">platform-win32.cc:648</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a38b9d155c95f9e591479d49caab2a4a6"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a38b9d155c95f9e591479d49caab2a4a6">v8::internal::OS::ActivationFrameAlignment</a></div><div class="ttdeci">static int ActivationFrameAlignment()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00152">platform-posix.cc:152</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_options_html_a862958aa3c2b9bf36903f1f0f2e81c54"><div class="ttname"><a href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html#a862958aa3c2b9bf36903f1f0f2e81c54">v8::internal::Thread::Options::name</a></div><div class="ttdeci">const char * name() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00534">platform.h:534</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad2b71fb1bdba33d1f58fcbdb0dc9d4d2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad2b71fb1bdba33d1f58fcbdb0dc9d4d2">v8::internal::Symbol</a></div><div class="ttdeci">IN DWORD64 OUT PDWORD64 OUT PIMAGEHLP_SYMBOL64 Symbol</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01092">platform-win32.cc:1092</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html_a7edc9fae01093617967fd7c9df18a2a2"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a7edc9fae01093617967fd7c9df18a2a2">v8::internal::Win32MemoryMappedFile::size</a></div><div class="ttdeci">virtual int size()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00967">platform-win32.cc:967</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a7722bc8d47e6547dea4f1beddb449c10"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">v8::internal::OS::AllocateAlignment</a></div><div class="ttdeci">static size_t AllocateAlignment()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00256">platform-posix.cc:256</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a35106a91d0410ff71e157fe6859635c3"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a35106a91d0410ff71e157fe6859635c3">v8::internal::OS::CreateTimezoneCache</a></div><div class="ttdeci">static TimezoneCache * CreateTimezoneCache()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00360">platform-posix.cc:360</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ae40525a0648a33d8a7a53036beb8fe59"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae40525a0648a33d8a7a53036beb8fe59">v8::internal::OS::CpuFeaturesImpliedByPlatform</a></div><div class="ttdeci">static uint64_t CpuFeaturesImpliedByPlatform()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00080">platform-posix.cc:80</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac667b904858a97154268e29dec306a21"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">v8::internal::false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00171">flags.cc:171</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a7d64caad10c705910e723dd8920a9dba"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7d64caad10c705910e723dd8920a9dba">v8::internal::OS::Remove</a></div><div class="ttdeci">static bool Remove(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00405">platform-posix.cc:405</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a10b9a284527af83a44533867b0aff0fc"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">v8::internal::OS::GetLastError</a></div><div class="ttdeci">static int GetLastError()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00384">platform-posix.cc:384</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae7773e084aaa4f7cea3199510ecd27ac"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae7773e084aaa4f7cea3199510ecd27ac">v8::internal::kPageSizeBits</a></div><div class="ttdeci">const int kPageSizeBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00095">v8globals.h:95</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_a5adc5ec2f1a2af41381abab75250b1c8"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long mode(MIPS only)&quot;)  DEFINE_string(expose_natives_as</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html">v8::internal::Win32MemoryMappedFile</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00955">platform-win32.cc:955</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a8227003ebda7d9b733c44e106e7ab607"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a8227003ebda7d9b733c44e106e7ab607">v8::internal::MemoryBarrier</a></div><div class="ttdeci">void MemoryBarrier()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/atomicops__internals__arm64__gcc_8h_source.html#l00036">atomicops_internals_arm64_gcc.h:36</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ad3e0a75292d588a6496d229d85d36745"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad3e0a75292d588a6496d229d85d36745">v8::internal::OS::MaxVirtualMemory</a></div><div class="ttdeci">static intptr_t MaxVirtualMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00095">platform-posix.cc:95</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a59b2a275f956b31d65d4472524c76c7f"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a59b2a275f956b31d65d4472524c76c7f">v8::internal::OS::FPrint</a></div><div class="ttdeci">static void FPrint(FILE *out, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00435">platform-posix.cc:435</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1d9badc4d7e641eb49c90a9518fbf137"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1d9badc4d7e641eb49c90a9518fbf137">v8::internal::AddrBase</a></div><div class="ttdeci">DWORD64 AddrBase</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01103">platform-win32.cc:1103</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765">v8::internal::UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/isolate_8cc_source.html#l00746">isolate.cc:746</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0cee649003fae72f307bafa3fa3ac9cf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0cee649003fae72f307bafa3fa3ac9cf">v8::internal::fInvadeProcess</a></div><div class="ttdeci">IN PSTR IN BOOL fInvadeProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01065">platform-win32.cc:1065</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae62128e9bec528b19035466146279d8e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae62128e9bec528b19035466146279d8e">v8::internal::FunctionTableAccessRoutine</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID PREAD_PROCESS_MEMORY_ROUTINE64 PFUNCTION_TABLE_ACCESS_ROUTINE64 FunctionTableAccessRoutine</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01082">platform-win32.cc:1082</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab1d901438c48d5937e2b75647ab50e49"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab1d901438c48d5937e2b75647ab50e49">v8::internal::name</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long expose natives in global object expose freeBuffer extension expose gc extension under the specified name expose externalize string extension number of stack frames to capture disable builtin natives files print name of functions for which code is generated use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations always try to OSR functions trace optimize function deoptimization minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions trace debugging JSON request response trace out of bounds accesses to external arrays trace_js_array_abuse automatically set the debug break flag when debugger commands are in the queue abort by crashing maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable always perform global GCs print one trace line following each garbage collection do not print trace line after scavenger collection print statistics of the maximum memory committed for the heap in name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00505">flags.cc:505</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a7f319bfc2492a2136964194204e7a8cf"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div><div class="ttdeci">#define VOID</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01058">platform-win32.cc:1058</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_af00c86fbba1628b33c07eebe858c4046"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">v8::internal::OS::CommitPageSize</a></div><div class="ttdeci">static intptr_t CommitPageSize()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00170">platform-posix.cc:170</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a58ff3fd2f1bbb80989a84c432cb19b34"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a58ff3fd2f1bbb80989a84c432cb19b34">v8::internal::OS::LogFileOpenMode</a></div><div class="ttdeci">static const char *const LogFileOpenMode</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00213">platform.h:213</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_acbff0b34941757b8f389b3e1f9806d3a"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#acbff0b34941757b8f389b3e1f9806d3a">v8::internal::OS::LocalTimeOffset</a></div><div class="ttdeci">static double LocalTimeOffset(TimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00063">platform-cygwin.cc:63</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a531ab2599d4f9b07d5129b797ad3b222"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a531ab2599d4f9b07d5129b797ad3b222">v8::internal::RoundUpToPowerOf2</a></div><div class="ttdeci">uint32_t RoundUpToPowerOf2(uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00191">utils.h:191</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html_a63fd3e7b0d22ddeaba0f3265034d7acb"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a63fd3e7b0d22ddeaba0f3265034d7acb">v8::internal::Win32MemoryMappedFile::memory</a></div><div class="ttdeci">virtual void * memory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00966">platform-win32.cc:966</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a1140b1c7ad3d3e068359ee56e891f1ec"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a1140b1c7ad3d3e068359ee56e891f1ec">v8::internal::OS::StrChr</a></div><div class="ttdeci">static char * StrChr(char *str, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00565">platform-posix.cc:565</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a86faa2c9474e9636a79e2430d41490fa"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a86faa2c9474e9636a79e2430d41490fa">v8::internal::lpme</a></div><div class="ttdeci">LPMODULEENTRY32W lpme</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01113">platform-win32.cc:1113</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ac56e1f9d8bdf118c7b1ee8c6c6f0cb50"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac56e1f9d8bdf118c7b1ee8c6c6f0cb50">v8::internal::OS::TotalPhysicalMemory</a></div><div class="ttdeci">static uint64_t TotalPhysicalMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00103">platform-posix.cc:103</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../d5/d27/platform-win32_8cc.html">platform-win32.cc</a></li>
    <li class="footer">Generated on Sat Jun 7 2014 23:54:29 for v8 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
