<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>v8: src/arm/macro-assembler-arm.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../v8-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">v8
   &#160;<span id="projectnumber">3.25.30(node0.11.13)</span>
   </div>
   <div id="projectbrief">V8 is Google&#39;s open source JavaScript engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/d09/macro-assembler-arm_8cc_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">macro-assembler-arm.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d3/d09/macro-assembler-arm_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// modification, are permitted provided that the following conditions are</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// met:</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//     * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//       copyright notice, this list of conditions and the following</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//       disclaimer in the documentation and/or other materials provided</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//       with the distribution.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//     * Neither the name of Google Inc. nor the names of its</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//       from this software without specific prior written permission.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;limits.h&gt;</span>  <span class="comment">// For LONG_MIN, LONG_MAX.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;v8.h&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#if V8_TARGET_ARCH_ARM</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d41/bootstrapper_8h.html">bootstrapper.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d39/codegen_8h.html">codegen.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d16/cpu-profiler_8h.html">cpu-profiler.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d16/debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d36/isolate-inl_8h.html">isolate-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d51/runtime_8h.html">runtime.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span>v8 {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">namespace </span>internal {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<a class="code" href="../../d8/db1/classv8_1_1internal_1_1_macro_assembler.html#adf95c7bdba7635e6435320dabd72edc2">MacroAssembler::MacroAssembler</a>(Isolate* arg_isolate, <span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    : Assembler(arg_isolate, buffer, size),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      generating_stub_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>),</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      has_frame_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">false</a>) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">if</span> (isolate() != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    code_object_ = Handle&lt;Object&gt;(isolate()-&gt;heap()-&gt;undefined_value(),</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                  isolate());</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Jump(Register target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  bx(target, cond);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Jump(intptr_t target, RelocInfo::Mode rmode,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(RelocInfo::IsCodeTarget(rmode));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, Operand(target, rmode), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Jump(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> target, RelocInfo::Mode rmode,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!RelocInfo::IsCodeTarget(rmode));</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  Jump(reinterpret_cast&lt;intptr_t&gt;(target), rmode, cond);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Jump(Handle&lt;Code&gt; <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ab91e71e972251cbfe502d5f3856e5762">code</a>, RelocInfo::Mode rmode,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(RelocInfo::IsCodeTarget(rmode));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// &#39;code&#39; is always generated ARM code, never THUMB code</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">AllowDeferredHandleDereference</a> embedding_raw_address;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  Jump(reinterpret_cast&lt;intptr_t&gt;(code.location()), rmode, cond);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keywordtype">int</span> MacroAssembler::CallSize(Register target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">return</span> kInstrSize;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Call(Register target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// Block constant pool for the call instruction sequence.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  BlockConstPoolScope block_const_pool(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  Label start;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  bind(&amp;start);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  blx(target, cond);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(CallSize(target, cond), SizeOfCodeGeneratedSince(&amp;start));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keywordtype">int</span> MacroAssembler::CallSize(</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> target, RelocInfo::Mode rmode, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordtype">int</span> size = 2 * kInstrSize;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac688647eb8d896312d63c312653e6bd4">Instr</a> mov_instr = cond | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2112dbdb049f53df83b3ba6fcbf13dc7aa1535ce8fd6caf08009dcae925741d9b">MOV</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  intptr_t immediate = <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(target);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span> (!Operand(immediate, rmode).is_single_instruction(<span class="keyword">this</span>, mov_instr)) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    size += kInstrSize;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keywordtype">int</span> MacroAssembler::CallSizeNotPredictableCodeSize(</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> target, RelocInfo::Mode rmode, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">int</span> size = 2 * kInstrSize;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac688647eb8d896312d63c312653e6bd4">Instr</a> mov_instr = cond | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2112dbdb049f53df83b3ba6fcbf13dc7aa1535ce8fd6caf08009dcae925741d9b">MOV</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  intptr_t immediate = <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(target);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">if</span> (!Operand(immediate, rmode).is_single_instruction(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, mov_instr)) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    size += kInstrSize;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Call(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> target,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                          RelocInfo::Mode rmode,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a20f5d86ee21c62c7695e77aacc44a9a4">TargetAddressStorageMode</a> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a>) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// Block constant pool for the call instruction sequence.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  BlockConstPoolScope block_const_pool(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  Label start;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  bind(&amp;start);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordtype">bool</span> old_predictable_code_size = predictable_code_size();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a20f5d86ee21c62c7695e77aacc44a9a4a9b3e3e45e3d0ea6ee19b1adb970d557f">NEVER_INLINE_TARGET_ADDRESS</a>) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    set_predictable_code_size(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// Check the expected size before generating code to ensure we assume the same</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// constant pool availability (e.g., whether constant pool is full or not).</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aac8e41bb723dcce98ff44836e43b76d0">expected_size</a> = CallSize(target, rmode, cond);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// Call sequence on V7 or later may be :</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">//  movw  ip, #... @ call address low 16</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">//  movt  ip, #... @ call address high 16</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">//  blx   ip</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">//                      @ return address</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// Or for pre-V7 or values that may be back-patched</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// to avoid ICache flushes:</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">//  ldr   ip, [pc, #...] @ call address</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">//  blx   ip</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">//                      @ return address</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// Statement positions are expected to be recorded when the target</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// address is loaded. The mov method will automatically record</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// positions when pc is the target, since this is not the case here</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// we have to do it explicitly.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  positions_recorder()-&gt;WriteRecordedPositions();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(reinterpret_cast&lt;int32_t&gt;(target), rmode));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  blx(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, cond);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(expected_size, SizeOfCodeGeneratedSince(&amp;start));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span> (mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a20f5d86ee21c62c7695e77aacc44a9a4a9b3e3e45e3d0ea6ee19b1adb970d557f">NEVER_INLINE_TARGET_ADDRESS</a>) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    set_predictable_code_size(old_predictable_code_size);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keywordtype">int</span> MacroAssembler::CallSize(Handle&lt;Code&gt; code,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                             RelocInfo::Mode rmode,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                             TypeFeedbackId ast_id,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">AllowDeferredHandleDereference</a> using_raw_address;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">return</span> CallSize(reinterpret_cast&lt;Address&gt;(code.location()), rmode, cond);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Call(Handle&lt;Code&gt; code,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                          RelocInfo::Mode rmode,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                          TypeFeedbackId ast_id,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a20f5d86ee21c62c7695e77aacc44a9a4">TargetAddressStorageMode</a> mode) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  Label start;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  bind(&amp;start);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(RelocInfo::IsCodeTarget(rmode));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">if</span> (rmode == RelocInfo::CODE_TARGET &amp;&amp; !ast_id.IsNone()) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    SetRecordedAstId(ast_id);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    rmode = RelocInfo::CODE_TARGET_WITH_ID;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// &#39;code&#39; is always generated ARM code, never THUMB code</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">AllowDeferredHandleDereference</a> embedding_raw_address;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  Call(reinterpret_cast&lt;Address&gt;(code.location()), rmode, cond, mode);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Ret(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  bx(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>, cond);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Drop(<span class="keywordtype">int</span> count, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> (count &gt; 0) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(count * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Ret(<span class="keywordtype">int</span> drop, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  Drop(drop, cond);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  Ret(cond);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Swap(Register reg1,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                          Register reg2,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                          Register scratch,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> (scratch.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>)) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    eor(reg1, reg1, Operand(reg2), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    eor(reg2, reg2, Operand(reg1), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    eor(reg1, reg1, Operand(reg2), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    mov(scratch, reg1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    mov(reg1, reg2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    mov(reg2, scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Call(Label* target) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  bl(target);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Push(Handle&lt;Object&gt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">handle</a>) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(handle));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Move(Register dst, Handle&lt;Object&gt; value) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">AllowDeferredHandleDereference</a> smi_check;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (value-&gt;IsSmi()) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    mov(dst, Operand(value));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(value-&gt;IsHeapObject());</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (isolate()-&gt;heap()-&gt;InNewSpace(*value)) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      Handle&lt;Cell&gt; cell = isolate()-&gt;factory()-&gt;NewCell(value);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      mov(dst, Operand(cell));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      ldr(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(dst, Cell::kValueOffset));</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      mov(dst, Operand(value));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Move(Register dst, Register src, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> (!dst.is(src)) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    mov(dst, src, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Move(DwVfpRegister dst, DwVfpRegister src) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">if</span> (!dst.is(src)) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    vmov(dst, src);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keywordtype">void</span> MacroAssembler::And(Register dst, Register src1, <span class="keyword">const</span> Operand&amp; src2,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> (!src2.is_reg() &amp;&amp;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      !src2.must_output_reloc_info(<span class="keyword">this</span>) &amp;&amp;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      src2.immediate() == 0) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    mov(dst, Operand::Zero(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!src2.is_single_instruction(<span class="keyword">this</span>) &amp;&amp;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;             !src2.must_output_reloc_info(<span class="keyword">this</span>) &amp;&amp;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;             CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) &amp;&amp;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46d6fb6aab3e552e9fb0ab7fe9212ba">IsPowerOf2</a>(src2.immediate() + 1)) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    ubfx(dst, src1, 0,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0009b1dd5c4a57eef19c9fc57ef6b8dd">WhichPowerOf2</a>(static_cast&lt;uint32_t&gt;(src2.immediate()) + 1), cond);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    and_(dst, src1, src2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Ubfx(Register dst, Register src1, <span class="keywordtype">int</span> lsb, <span class="keywordtype">int</span> width,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(lsb &lt; 32);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">if</span> (!CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) || predictable_code_size()) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordtype">int</span> mask = (1 &lt;&lt; (width + lsb)) - 1 - ((1 &lt;&lt; lsb) - 1);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    and_(dst, src1, Operand(mask), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (lsb != 0) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      mov(dst, Operand(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, lsb), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    ubfx(dst, src1, lsb, width, cond);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Sbfx(Register dst, Register src1, <span class="keywordtype">int</span> lsb, <span class="keywordtype">int</span> width,</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(lsb &lt; 32);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">if</span> (!CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) || predictable_code_size()) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">int</span> mask = (1 &lt;&lt; (width + lsb)) - 1 - ((1 &lt;&lt; lsb) - 1);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    and_(dst, src1, Operand(mask), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordtype">int</span> shift_up = 32 - lsb - width;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordtype">int</span> shift_down = lsb + shift_up;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (shift_up != 0) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      mov(dst, Operand(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, shift_up), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (shift_down != 0) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      mov(dst, Operand(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca6248dfabcf9a8cf93a2fa0b40c082936">ASR</a>, shift_down), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    sbfx(dst, src1, lsb, width, cond);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Bfi(Register dst,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                         Register src,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                         Register scratch,</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                         <span class="keywordtype">int</span> lsb,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                         <span class="keywordtype">int</span> width,</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(0 &lt;= lsb &amp;&amp; lsb &lt; 32);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(0 &lt;= width &amp;&amp; width &lt; 32);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(lsb + width &lt; 32);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch.is(dst));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">if</span> (width == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (!CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) || predictable_code_size()) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">int</span> mask = (1 &lt;&lt; (width + lsb)) - 1 - ((1 &lt;&lt; lsb) - 1);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    bic(dst, dst, Operand(mask));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    and_(scratch, src, Operand((1 &lt;&lt; width) - 1));</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    mov(scratch, Operand(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, lsb));</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    orr(dst, dst, scratch);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    bfi(dst, src, lsb, width, cond);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Bfc(Register dst, Register src, <span class="keywordtype">int</span> lsb, <span class="keywordtype">int</span> width,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(lsb &lt; 32);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">if</span> (!CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) || predictable_code_size()) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">int</span> mask = (1 &lt;&lt; (width + lsb)) - 1 - ((1 &lt;&lt; lsb) - 1);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    bic(dst, src, Operand(mask));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    Move(dst, src, cond);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    bfc(dst, lsb, width, cond);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Usat(Register dst, <span class="keywordtype">int</span> satpos, <span class="keyword">const</span> Operand&amp; src,</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">if</span> (!CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) || predictable_code_size()) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!dst.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>) &amp;&amp; !src.rm().is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>));</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((satpos &gt;= 0) &amp;&amp; (satpos &lt;= 31));</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// These asserts are required to ensure compatibility with the ARMv7</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// implementation.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((src.shift_op() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca6248dfabcf9a8cf93a2fa0b40c082936">ASR</a>) || (src.shift_op() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>));</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(src.rs().is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>));</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    Label done;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordtype">int</span> satval = (1 &lt;&lt; satpos) - 1;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (cond != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8e65f1fdd0e1d957735bb841b994a4a1">al</a>) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c3194971dfd6e181766eb2144fefbc3">NegateCondition</a>(cond), &amp;done);  <span class="comment">// Skip saturate if !condition.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (!(src.is_reg() &amp;&amp; dst.is(src.rm()))) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      mov(dst, src);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    tst(dst, Operand(~satval));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;done);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    mov(dst, Operand::Zero(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8adde6ecd6406700aa000b213c843a3091">mi</a>);  <span class="comment">// 0 if negative.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    mov(dst, Operand(satval), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a0ad7769f602705d0703a3685f5768c7b">pl</a>);  <span class="comment">// satval if positive.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    bind(&amp;done);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    usat(dst, satpos, src, cond);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d51/shell_8cc.html#a3d8d27d72275827406db2004cefa1a07">MacroAssembler::Load</a>(Register dst,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                          <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>&amp; src,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                          Representation r) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!r.IsDouble());</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">if</span> (r.IsInteger8()) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    ldrsb(dst, src);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r.IsUInteger8()) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    ldrb(dst, src);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r.IsInteger16()) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    ldrsh(dst, src);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r.IsUInteger16()) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    ldrh(dst, src);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    ldr(dst, src);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Store(Register src,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                           <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>&amp; dst,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                           Representation r) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!r.IsDouble());</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">if</span> (r.IsInteger8() || r.IsUInteger8()) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    strb(src, dst);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r.IsInteger16() || r.IsUInteger16()) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    strh(src, dst);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    str(src, dst);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadRoot(Register destination,</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                              Heap::RootListIndex index,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">if</span> (CpuFeatures::IsSupported(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34ad2f1491c2b8f33a337f2c8bf6fa1e7e8">MOVW_MOVT_IMMEDIATE_LOADS</a>) &amp;&amp;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      isolate()-&gt;heap()-&gt;RootCanBeTreatedAsConstant(index) &amp;&amp;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      !predictable_code_size()) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// The CPU supports fast immediate values, and this root will never</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// change. We will load it as a relocatable immediate value.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    Handle&lt;Object&gt; root(&amp;isolate()-&gt;heap()-&gt;roots_array_start()[index]);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    mov(destination, Operand(root), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, cond);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  ldr(destination, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d2/d46/assembler-mips_8h.html#ac635718ef11c22ad46f5c0ea7f3391d9">kRootRegister</a>, index &lt;&lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>), cond);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="keywordtype">void</span> MacroAssembler::StoreRoot(Register source,</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                               Heap::RootListIndex index,</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                               <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  str(source, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d2/d46/assembler-mips_8h.html#ac635718ef11c22ad46f5c0ea7f3391d9">kRootRegister</a>, index &lt;&lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>), cond);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InNewSpace(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                Register scratch,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                Label* branch) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(cond == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a> || cond == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  and_(scratch, <span class="keywordtype">object</span>, Operand(ExternalReference::new_space_mask(isolate())));</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  cmp(scratch, Operand(ExternalReference::new_space_start(isolate())));</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  b(cond, branch);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="keywordtype">void</span> MacroAssembler::RecordWriteField(</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordtype">int</span> offset,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    Register value,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    Register dst,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1e9da3f5876a63d127dcb5bfbb6e5a36">LinkRegisterStatus</a> lr_status,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7b4bcf1a2476785bc7f80eacbddf1822">SaveFPRegsMode</a> save_fp,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3884db38d654abf2e032bff0f4054d56">RememberedSetAction</a> remembered_set_action,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a32df3bb76b662e0f3613654187f72aa4">SmiCheck</a> smi_check) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// First, check if a write barrier is even needed. The tests below</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// catch stores of Smis.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  Label done;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">// Skip barrier if writing a smi.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">if</span> (smi_check == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a32df3bb76b662e0f3613654187f72aa4a9633f2089827507b40a10935839ed134">INLINE_SMI_CHECK</a>) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    JumpIfSmi(value, &amp;done);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// Although the object register is tagged, the offset is relative to the start</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// of the object, so so offset must be a multiple of kPointerSize.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(offset, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  add(dst, <span class="keywordtype">object</span>, Operand(offset - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    Label ok;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    tst(dst, Operand((1 &lt;&lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>) - 1));</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;ok);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    stop(<span class="stringliteral">&quot;Unaligned cell in write barrier&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    bind(&amp;ok);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  RecordWrite(<span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;              dst,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;              value,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;              lr_status,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;              save_fp,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;              remembered_set_action,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a32df3bb76b662e0f3613654187f72aa4a819e97a39906a4b5a6f6eeb9a82efaea">OMIT_SMI_CHECK</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// Clobber clobbered input registers when running with the debug-code flag</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="comment">// turned on to provoke errors.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    mov(value, Operand(BitCast&lt;int32_t&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a8fa6d618b69c17a399f61e9a4b56b3">kZapValue</a> + 4)));</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    mov(dst, Operand(BitCast&lt;int32_t&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a8fa6d618b69c17a399f61e9a4b56b3">kZapValue</a> + 8)));</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">// Will clobber 4 registers: object, address, scratch, ip.  The</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">// register &#39;object&#39; contains a heap object pointer.  The heap object</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">// tag is shifted away.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="keywordtype">void</span> MacroAssembler::RecordWrite(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                 Register address,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                                 Register value,</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1e9da3f5876a63d127dcb5bfbb6e5a36">LinkRegisterStatus</a> lr_status,</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7b4bcf1a2476785bc7f80eacbddf1822">SaveFPRegsMode</a> fp_mode,</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3884db38d654abf2e032bff0f4054d56">RememberedSetAction</a> remembered_set_action,</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a32df3bb76b662e0f3613654187f72aa4">SmiCheck</a> smi_check) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<span class="keywordtype">object</span>.is(value));</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(address));</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, value);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kWrongAddressOrValuePassedToRecordWrite);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// Count number of write barriers in generated code.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  isolate()-&gt;counters()-&gt;write_barriers_static()-&gt;Increment();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// TODO(mstarzinger): Dynamic counter missing.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// First, check if a write barrier is even needed. The tests below</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">// catch stores of smis and stores into the young generation.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  Label done;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">if</span> (smi_check == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a32df3bb76b662e0f3613654187f72aa4a9633f2089827507b40a10935839ed134">INLINE_SMI_CHECK</a>) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    JumpIfSmi(value, &amp;done);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  CheckPageFlag(value,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                value,  <span class="comment">// Used as scratch.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                MemoryChunk::kPointersToHereAreInterestingMask,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>,</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                &amp;done);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  CheckPageFlag(<span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                value,  <span class="comment">// Used as scratch.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                MemoryChunk::kPointersFromHereAreInterestingMask,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>,</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                &amp;done);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// Record the actual write.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">if</span> (lr_status == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1e9da3f5876a63d127dcb5bfbb6e5a36a3847fc27b740af3b42b1c8b23e1e3290">kLRHasNotBeenSaved</a>) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  RecordWriteStub stub(<span class="keywordtype">object</span>, value, address, remembered_set_action, fp_mode);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  CallStub(&amp;stub);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">if</span> (lr_status == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1e9da3f5876a63d127dcb5bfbb6e5a36a3847fc27b740af3b42b1c8b23e1e3290">kLRHasNotBeenSaved</a>) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    pop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="comment">// Clobber clobbered registers when running with the debug-code flag</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">// turned on to provoke errors.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    mov(address, Operand(BitCast&lt;int32_t&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a8fa6d618b69c17a399f61e9a4b56b3">kZapValue</a> + 12)));</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    mov(value, Operand(BitCast&lt;int32_t&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a8fa6d618b69c17a399f61e9a4b56b3">kZapValue</a> + 16)));</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="keywordtype">void</span> MacroAssembler::RememberedSetHelper(Register <span class="keywordtype">object</span>,  <span class="comment">// For debug tests.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                         Register address,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                         Register scratch,</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7b4bcf1a2476785bc7f80eacbddf1822">SaveFPRegsMode</a> fp_mode,</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                                         RememberedSetFinalAction and_then) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  Label done;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    Label ok;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    JumpIfNotInNewSpace(<span class="keywordtype">object</span>, scratch, &amp;ok);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    stop(<span class="stringliteral">&quot;Remembered set pointer is in new space&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    bind(&amp;ok);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// Load store buffer top.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  ExternalReference store_buffer =</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      ExternalReference::store_buffer_top(isolate());</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(store_buffer));</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="comment">// Store pointer to buffer and increment buffer top.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  str(address, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// Write back new top of buffer.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  str(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="comment">// Call stub on end of buffer.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="comment">// Check for end of buffer.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  tst(scratch, Operand(StoreBuffer::kStoreBufferOverflowBit));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">if</span> (and_then == kFallThroughAtEnd) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;done);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(and_then == kReturnAtEnd);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    Ret(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  StoreBufferOverflowStub store_buffer_overflow =</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      StoreBufferOverflowStub(fp_mode);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  CallStub(&amp;store_buffer_overflow);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  pop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">if</span> (and_then == kReturnAtEnd) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    Ret();</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PushFixedFrame(Register marker_reg) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!marker_reg.is_valid() || marker_reg.code() &lt; <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>.code());</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  stm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">db_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, (marker_reg.is_valid() ? marker_reg.bit() : 0) |</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>.bit() |</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                (FLAG_enable_ool_constant_pool ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">pp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() : 0) |</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() |</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PopFixedFrame(Register marker_reg) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!marker_reg.is_valid() || marker_reg.code() &lt; <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>.code());</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, (marker_reg.is_valid() ? marker_reg.bit() : 0) |</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>.bit() |</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                (FLAG_enable_ool_constant_pool ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">pp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() : 0) |</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() |</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">// Push and pop all registers that can hold pointers.</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PushSafepointRegisters() {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// Safepoints expect a block of contiguous register values starting with r0:</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(((1 &lt;&lt; <a class="code" href="../../de/de5/frames-arm64_8h.html#a5270da26d771451795798dce0d1e178c">kNumSafepointSavedRegisters</a>) - 1) == <a class="code" href="../../de/de5/frames-arm64_8h.html#abad8a9f61695ae29fb2d0dc3384e0daf">kSafepointSavedRegisters</a>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// Safepoints expect a block of kNumSafepointRegisters values on the</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// stack, so adjust the stack for unsaved registers.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> num_unsaved = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a120129960270720fe1e85f660c6157ac">kNumSafepointRegisters</a> - <a class="code" href="../../de/de5/frames-arm64_8h.html#a5270da26d771451795798dce0d1e178c">kNumSafepointSavedRegisters</a>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(num_unsaved &gt;= 0);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(num_unsaved * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  stm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">db_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../de/de5/frames-arm64_8h.html#abad8a9f61695ae29fb2d0dc3384e0daf">kSafepointSavedRegisters</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;}</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PopSafepointRegisters() {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> num_unsaved = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a120129960270720fe1e85f660c6157ac">kNumSafepointRegisters</a> - <a class="code" href="../../de/de5/frames-arm64_8h.html#a5270da26d771451795798dce0d1e178c">kNumSafepointSavedRegisters</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../de/de5/frames-arm64_8h.html#abad8a9f61695ae29fb2d0dc3384e0daf">kSafepointSavedRegisters</a>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(num_unsaved * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PushSafepointRegistersAndDoubles() {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// Number of d-regs not known at snapshot time.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!Serializer::enabled());</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  PushSafepointRegisters();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// Only save allocatable registers.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9dd0c0394c2c4403d04203fb3d9df209">kScratchDoubleReg</a>.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a076a45ccce4775ff6116f6e95a57e55a">d15</a>) &amp;&amp; <a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9d32ad7886e92c083fac96736bc7b951">kDoubleRegZero</a>.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afe4710d7b38a85f65707a581af07abf5">d14</a>));</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(DwVfpRegister::NumReservedRegisters() == 2);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">if</span> (CpuFeatures::IsSupported(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34aecef16611572613b5d1267294a74b827">VFP32DREGS</a>)) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    vstm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">db_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad4f494bd5431b8eccc84229bac14d55e">d16</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a90198aa29c84cc5dab5e2da173599dda">d31</a>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  vstm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">db_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aef300d7cb2b98426cb6e75540252fe9a">d13</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PopSafepointRegistersAndDoubles() {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="comment">// Number of d-regs not known at snapshot time.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!Serializer::enabled());</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">// Only save allocatable registers.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9dd0c0394c2c4403d04203fb3d9df209">kScratchDoubleReg</a>.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a076a45ccce4775ff6116f6e95a57e55a">d15</a>) &amp;&amp; <a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9d32ad7886e92c083fac96736bc7b951">kDoubleRegZero</a>.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afe4710d7b38a85f65707a581af07abf5">d14</a>));</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(DwVfpRegister::NumReservedRegisters() == 2);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  vldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aef300d7cb2b98426cb6e75540252fe9a">d13</a>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">if</span> (CpuFeatures::IsSupported(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34aecef16611572613b5d1267294a74b827">VFP32DREGS</a>)) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    vldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad4f494bd5431b8eccc84229bac14d55e">d16</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a90198aa29c84cc5dab5e2da173599dda">d31</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  PopSafepointRegisters();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="keywordtype">void</span> MacroAssembler::StoreToSafepointRegistersAndDoublesSlot(Register src,</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                                                             Register dst) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  str(src, SafepointRegistersAndDoublesSlot(dst));</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="keywordtype">void</span> MacroAssembler::StoreToSafepointRegisterSlot(Register src, Register dst) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  str(src, SafepointRegisterSlot(dst));</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadFromSafepointRegisterSlot(Register dst, Register src) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  ldr(dst, SafepointRegisterSlot(src));</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="keywordtype">int</span> MacroAssembler::SafepointRegisterStackIndex(<span class="keywordtype">int</span> reg_code) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">// The registers are pushed starting with the highest encoding,</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// which means that lowest encodings are closest to the stack pointer.</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(reg_code &gt;= 0 &amp;&amp; reg_code &lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a120129960270720fe1e85f660c6157ac">kNumSafepointRegisters</a>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">return</span> reg_code;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a> MacroAssembler::SafepointRegisterSlot(Register reg) {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, SafepointRegisterStackIndex(reg.code()) * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a> MacroAssembler::SafepointRegistersAndDoublesSlot(Register reg) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="comment">// Number of d-regs not known at snapshot time.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!Serializer::enabled());</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="comment">// General purpose registers are pushed last on the stack.</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordtype">int</span> doubles_size = DwVfpRegister::NumAllocatableRegisters() * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keywordtype">int</span> register_offset = SafepointRegisterStackIndex(reg.code()) * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, doubles_size + register_offset);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Ldrd(Register dst1, Register dst2,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                          <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>&amp; src, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(src.rm().is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>));</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!dst1.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>));  <span class="comment">// r14.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// V8 does not use this addressing mode, so the fallback code</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// below doesn&#39;t support it yet.</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((src.am() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68ae877526aa05f896867aa8b327dcab679">PreIndex</a>) &amp;&amp; (src.am() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a18afc6d16f473717903f2562858a66c4">NegPreIndex</a>));</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// Generate two ldr instructions if ldrd is not available.</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">if</span> (CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) &amp;&amp; !predictable_code_size() &amp;&amp;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      (dst1.code() % 2 == 0) &amp;&amp; (dst1.code() + 1 == dst2.code())) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    CpuFeatureScope scope(<span class="keyword">this</span>, <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    ldrd(dst1, dst2, src, cond);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> ((src.am() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a58f89ea394575eb2e0940a890ad02928">Offset</a>) || (src.am() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68ae4c2c115f305321156b13c2e08e9e949">NegOffset</a>)) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a> src2(src);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      src2.set_offset(src2.offset() + 4);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">if</span> (dst1.is(src.rn())) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        ldr(dst2, src2, cond);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        ldr(dst1, src, cond);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        ldr(dst1, src, cond);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        ldr(dst2, src2, cond);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    } <span class="keywordflow">else</span> {  <span class="comment">// PostIndex or NegPostIndex.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((src.am() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>) || (src.am() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4e15368c9094ed58852d1a5c0ebffaa2">NegPostIndex</a>));</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">if</span> (dst1.is(src.rn())) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        ldr(dst2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(src.rn(), 4, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a58f89ea394575eb2e0940a890ad02928">Offset</a>), cond);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        ldr(dst1, src, cond);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a> src2(src);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        src2.set_offset(src2.offset() - 4);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        ldr(dst1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(src.rn(), 4, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>), cond);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        ldr(dst2, src2, cond);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;}</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Strd(Register src1, Register src2,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                          <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>&amp; dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(dst.rm().is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>));</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!src1.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>));  <span class="comment">// r14.</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// V8 does not use this addressing mode, so the fallback code</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// below doesn&#39;t support it yet.</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((dst.am() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68ae877526aa05f896867aa8b327dcab679">PreIndex</a>) &amp;&amp; (dst.am() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a18afc6d16f473717903f2562858a66c4">NegPreIndex</a>));</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">// Generate two str instructions if strd is not available.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">if</span> (CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) &amp;&amp; !predictable_code_size() &amp;&amp;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      (src1.code() % 2 == 0) &amp;&amp; (src1.code() + 1 == src2.code())) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    CpuFeatureScope scope(<span class="keyword">this</span>, <a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    strd(src1, src2, dst, cond);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a> dst2(dst);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">if</span> ((dst.am() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a58f89ea394575eb2e0940a890ad02928">Offset</a>) || (dst.am() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68ae4c2c115f305321156b13c2e08e9e949">NegOffset</a>)) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      dst2.set_offset(dst2.offset() + 4);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      str(src1, dst, cond);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      str(src2, dst2, cond);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    } <span class="keywordflow">else</span> {  <span class="comment">// PostIndex or NegPostIndex.</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((dst.am() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>) || (dst.am() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4e15368c9094ed58852d1a5c0ebffaa2">NegPostIndex</a>));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      dst2.set_offset(dst2.offset() - 4);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      str(src1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst.rn(), 4, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>), cond);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      str(src2, dst2, cond);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VFPEnsureFPSCRState(Register scratch) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// If needed, restore wanted bits of FPSCR.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  Label fpscr_done;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  vmrs(scratch);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  tst(scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adc45819f141f29659f475e3fecd472f9">kVFPDefaultNaNModeControlBit</a>));</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;fpscr_done);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  orr(scratch, scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adc45819f141f29659f475e3fecd472f9">kVFPDefaultNaNModeControlBit</a>));</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  vmsr(scratch);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  bind(&amp;fpscr_done);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VFPCanonicalizeNaN(<span class="keyword">const</span> DwVfpRegister dst,</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                                        <span class="keyword">const</span> DwVfpRegister src,</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  vsub(dst, src, <a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9d32ad7886e92c083fac96736bc7b951">kDoubleRegZero</a>, cond);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;}</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VFPCompareAndSetFlags(<span class="keyword">const</span> DwVfpRegister src1,</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                                           <span class="keyword">const</span> DwVfpRegister src2,</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="comment">// Compare and move FPSCR flags to the normal condition flags.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  VFPCompareAndLoadFlags(src1, src2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, cond);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VFPCompareAndSetFlags(<span class="keyword">const</span> DwVfpRegister src1,</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                                           <span class="keyword">const</span> <span class="keywordtype">double</span> src2,</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// Compare and move FPSCR flags to the normal condition flags.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  VFPCompareAndLoadFlags(src1, src2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, cond);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VFPCompareAndLoadFlags(<span class="keyword">const</span> DwVfpRegister src1,</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                                            <span class="keyword">const</span> DwVfpRegister src2,</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                                            <span class="keyword">const</span> Register fpscr_flags,</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="comment">// Compare and load FPSCR.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  vcmp(src1, src2, cond);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  vmrs(fpscr_flags, cond);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VFPCompareAndLoadFlags(<span class="keyword">const</span> DwVfpRegister src1,</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                                            <span class="keyword">const</span> <span class="keywordtype">double</span> src2,</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                                            <span class="keyword">const</span> Register fpscr_flags,</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// Compare and load FPSCR.</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  vcmp(src1, src2, cond);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  vmrs(fpscr_flags, cond);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Vmov(<span class="keyword">const</span> DwVfpRegister dst,</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                          <span class="keyword">const</span> <span class="keywordtype">double</span> imm,</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                          <span class="keyword">const</span> Register scratch) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> DoubleRepresentation minus_zero(-0.0);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> DoubleRepresentation <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a876993158b491f4626155b468ffb6edc">zero</a>(0.0);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  DoubleRepresentation value_rep(imm);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// Handle special values first.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">if</span> (value_rep == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a876993158b491f4626155b468ffb6edc">zero</a>) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    vmov(dst, <a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9d32ad7886e92c083fac96736bc7b951">kDoubleRegZero</a>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value_rep == minus_zero) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    vneg(dst, <a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9d32ad7886e92c083fac96736bc7b951">kDoubleRegZero</a>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    vmov(dst, imm, scratch);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;}</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VmovHigh(Register dst, DwVfpRegister src) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">if</span> (src.code() &lt; 16) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keyword">const</span> LowDwVfpRegister loc = LowDwVfpRegister::from_code(src.code());</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    vmov(dst, loc.high());</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    vmov(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae304077acd37bcdba752ea67584aee9c">VmovIndexHi</a>, src);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VmovHigh(DwVfpRegister dst, Register src) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordflow">if</span> (dst.code() &lt; 16) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keyword">const</span> LowDwVfpRegister loc = LowDwVfpRegister::from_code(dst.code());</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    vmov(loc.high(), src);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    vmov(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae304077acd37bcdba752ea67584aee9c">VmovIndexHi</a>, src);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;}</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VmovLow(Register dst, DwVfpRegister src) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">if</span> (src.code() &lt; 16) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keyword">const</span> LowDwVfpRegister loc = LowDwVfpRegister::from_code(src.code());</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    vmov(dst, loc.low());</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    vmov(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc5cf46a5da53929e9dc1e4fb4025685">VmovIndexLo</a>, src);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;}</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="keywordtype">void</span> MacroAssembler::VmovLow(DwVfpRegister dst, Register src) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordflow">if</span> (dst.code() &lt; 16) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keyword">const</span> LowDwVfpRegister loc = LowDwVfpRegister::from_code(dst.code());</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    vmov(loc.low(), src);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    vmov(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afc5cf46a5da53929e9dc1e4fb4025685">VmovIndexLo</a>, src);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;}</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadConstantPoolPointerRegister() {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordtype">int</span> constant_pool_offset = Code::kConstantPoolOffset - Code::kHeaderSize -</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        pc_offset() - Instruction::kPCReadOffset;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(ImmediateFitsAddrMode2Instruction(constant_pool_offset));</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">pp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, constant_pool_offset));</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;}</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Prologue(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2dd387018a07035386a0b646904f2ed2">PrologueFrameMode</a> frame_mode) {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">if</span> (frame_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2dd387018a07035386a0b646904f2ed2af10c5618e918efcb30e098993503f475">BUILD_STUB_FRAME</a>) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    PushFixedFrame();</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    Push(Smi::FromInt(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854abf8228243e229b8ef4ab53f8317cd260">StackFrame::STUB</a>));</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="comment">// Adjust FP to point to saved FP.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(StandardFrameConstants::kFixedFrameSizeFromFp));</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    PredictableCodeSizeScope predictible_code_size_scope(</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keyword">this</span>, kNoCodeAgeSequenceLength * Assembler::kInstrSize);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// The following three instructions must remain together and unmodified</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// for code aging to work properly.</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (isolate()-&gt;IsCodePreAgingActive()) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="comment">// Pre-age the code.</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      Code* stub = Code::GetPreAgedCodeAgeStub(isolate());</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, Operand(-8));</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, -4));</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      emit_code_stub_address(stub);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      PushFixedFrame(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      nop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a9fbb542ce0dae274d40866ba432b411a">code</a>());</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="comment">// Adjust FP to point to saved FP.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(StandardFrameConstants::kFixedFrameSizeFromFp));</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    LoadConstantPoolPointerRegister();</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    set_constant_pool_available(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;}</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="keywordtype">void</span> MacroAssembler::EnterFrame(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">StackFrame::Type</a> type,</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                                <span class="keywordtype">bool</span> load_constant_pool) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// r0-r3: preserved</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  PushFixedFrame();</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool &amp;&amp; load_constant_pool) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    LoadConstantPoolPointerRegister();</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(Smi::FromInt(type)));</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(CodeObject()));</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">// Adjust FP to point to saved FP.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>,</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      Operand(StandardFrameConstants::kFixedFrameSizeFromFp + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="keywordtype">int</span> MacroAssembler::LeaveFrame(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">StackFrame::Type</a> type) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="comment">// r0: preserved</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">// r1: preserved</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="comment">// r2: preserved</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// Drop the execution stack down to the frame pointer and restore</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="comment">// the caller frame pointer, return address and constant pool pointer</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="comment">// (if FLAG_enable_ool_constant_pool).</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordtype">int</span> frame_ends;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, Operand(StandardFrameConstants::kConstantPoolOffset));</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    frame_ends = pc_offset();</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">pp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    frame_ends = pc_offset();</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">return</span> frame_ends;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;}</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="keywordtype">void</span> MacroAssembler::EnterExitFrame(<span class="keywordtype">bool</span> save_doubles, <span class="keywordtype">int</span> stack_space) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="comment">// Set up the frame structure on the stack.</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(2 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>, ExitFrameConstants::kCallerSPDisplacement);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(1 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>, ExitFrameConstants::kCallerPCOffset);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(0 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>, ExitFrameConstants::kCallerFPOffset);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  Push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>));  <span class="comment">// Set up new frame pointer.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// Reserve room for saved entry sp and code object.</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(ExitFrameConstants::kFrameSize));</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand::Zero());</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, ExitFrameConstants::kSPOffset));</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">pp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, ExitFrameConstants::kConstantPoolOffset));</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    LoadConstantPoolPointerRegister();</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(CodeObject()));</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, ExitFrameConstants::kCodeOffset));</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// Save the frame pointer and the context in top.</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(ExternalReference(Isolate::kCEntryFPAddress, isolate())));</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(ExternalReference(Isolate::kContextAddress, isolate())));</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  str(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">// Optionally save all double registers.</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordflow">if</span> (save_doubles) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    SaveFPRegs(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="comment">// Note that d0 will be accessible at</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">//   fp - ExitFrameConstants::kFrameSize -</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">//   DwVfpRegister::kMaxNumRegisters * kDoubleSize,</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="comment">// since the sp slot, code slot and constant pool slot (if</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">// FLAG_enable_ool_constant_pool) were pushed after the fp.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="comment">// Reserve place for the return address and stack space and align the frame</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="comment">// preparing for calling the runtime function.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> frame_alignment = MacroAssembler::ActivationFrameAlignment();</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand((stack_space + 1) * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">if</span> (frame_alignment &gt; 0) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46d6fb6aab3e552e9fb0ab7fe9212ba">IsPowerOf2</a>(frame_alignment));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    and_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(-frame_alignment));</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="comment">// Set the exit frame sp value to point just before the return address</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">// location.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, ExitFrameConstants::kSPOffset));</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InitializeNewString(Register <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                                         Register length,</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                                         Heap::RootListIndex map_index,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                                         Register scratch1,</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                                         Register scratch2) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  SmiTag(scratch1, length);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  LoadRoot(scratch2, map_index);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  str(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">string</span>, String::kLengthOffset));</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  mov(scratch1, Operand(String::kEmptyHashField));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  str(scratch2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">string</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  str(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">string</span>, String::kHashFieldOffset));</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;}</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="keywordtype">int</span> MacroAssembler::ActivationFrameAlignment() {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="preprocessor">#if V8_HOST_ARCH_ARM</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="comment">// Running on the real platform. Use the alignment as mandated by the local</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="comment">// environment.</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="comment">// Note: This will break if we ever start generating snapshots on one ARM</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="comment">// platform for another ARM platform with a different alignment.</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keywordflow">return</span> OS::ActivationFrameAlignment();</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="preprocessor">#else  // V8_HOST_ARCH_ARM</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="comment">// If we are using the simulator then we should always align to the expected</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="comment">// alignment. As the simulator is used to generate snapshots we do not know</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="comment">// if the target platform will need alignment, so this is controlled from a</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="comment">// flag.</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordflow">return</span> FLAG_sim_stack_alignment;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">#endif  // V8_HOST_ARCH_ARM</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;}</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LeaveExitFrame(<span class="keywordtype">bool</span> save_doubles,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                                    Register argument_count,</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                                    <span class="keywordtype">bool</span> restore_context) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  ConstantPoolUnavailableScope constant_pool_unavailable(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">// Optionally restore all double registers.</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">if</span> (save_doubles) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">// Calculate the stack location of the saved doubles and restore them.</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> offset = ExitFrameConstants::kFrameSize;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>,</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        Operand(offset + DwVfpRegister::kMaxNumRegisters * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a>));</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    RestoreFPRegs(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// Clear top frame.</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand::Zero());</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(ExternalReference(Isolate::kCEntryFPAddress, isolate())));</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">// Restore current context from top and clear it in debug mode.</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">if</span> (restore_context) {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(ExternalReference(Isolate::kContextAddress, isolate())));</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    ldr(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(ExternalReference(Isolate::kContextAddress, isolate())));</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="comment">// Tear down the exit frame, pop the arguments, and return.</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">pp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, ExitFrameConstants::kConstantPoolOffset));</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>));</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">if</span> (argument_count.is_valid()) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(argument_count, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>));</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;}</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="keywordtype">void</span> MacroAssembler::MovFromFloatResult(<span class="keyword">const</span> DwVfpRegister dst) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">if</span> (use_eabi_hardfloat()) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    Move(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    vmov(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment">// On ARM this is just a synonym to make the purpose clear.</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="keywordtype">void</span> MacroAssembler::MovFromFloatParameter(DwVfpRegister dst) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  MovFromFloatResult(dst);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InvokePrologue(<span class="keyword">const</span> ParameterCount&amp; expected,</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                                    <span class="keyword">const</span> ParameterCount&amp; actual,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                                    Handle&lt;Code&gt; code_constant,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                    Register code_reg,</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                                    Label* done,</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                    <span class="keywordtype">bool</span>* definitely_mismatches,</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                                    <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76da">InvokeFlag</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adfa873894470d6950e21cab8c6dadcd1">flag</a>,</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                                    <span class="keyword">const</span> CallWrapper&amp; call_wrapper) {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordtype">bool</span> definitely_matches = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  *definitely_mismatches = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  Label regular_invoke;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="comment">// Check whether the expected and actual arguments count match. If not,</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="comment">// setup registers according to contract with ArgumentsAdaptorTrampoline:</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">//  r0: actual arguments count</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">//  r1: function (passed through to callee)</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="comment">//  r2: expected arguments count</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">// The code below is made a lot easier because the calling code already sets</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// up actual and expected registers according to the contract if values are</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// passed in registers.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(actual.is_immediate() || actual.reg().is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>));</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(expected.is_immediate() || expected.reg().is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>));</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((!code_constant.is_null() &amp;&amp; code_reg.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>)) || code_reg.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>));</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keywordflow">if</span> (expected.is_immediate()) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(actual.is_immediate());</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">if</span> (expected.immediate() == actual.immediate()) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      definitely_matches = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(actual.immediate()));</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> sentinel = SharedFunctionInfo::kDontAdaptArgumentsSentinel;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">if</span> (expected.immediate() == sentinel) {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="comment">// Don&#39;t worry about adapting arguments for builtins that</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="comment">// don&#39;t want that done. Skip adaption code by making it look</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="comment">// like we have a match between expected and actual number of</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="comment">// arguments.</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        definitely_matches = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        *definitely_mismatches = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, Operand(expected.immediate()));</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">if</span> (actual.is_immediate()) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      cmp(expected.reg(), Operand(actual.immediate()));</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;regular_invoke);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(actual.immediate()));</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      cmp(expected.reg(), Operand(actual.reg()));</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;regular_invoke);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">if</span> (!definitely_matches) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordflow">if</span> (!code_constant.is_null()) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand(code_constant));</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand(Code::kHeaderSize - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    Handle&lt;Code&gt; adaptor =</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        isolate()-&gt;builtins()-&gt;ArgumentsAdaptorTrampoline();</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">if</span> (flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa8a04ffb719cd6530da36a0330bb5e396">CALL_FUNCTION</a>) {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      call_wrapper.BeforeCall(CallSize(adaptor));</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      Call(adaptor);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      call_wrapper.AfterCall();</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="keywordflow">if</span> (!*definitely_mismatches) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        b(done);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      Jump(adaptor, RelocInfo::CODE_TARGET);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    }</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    bind(&amp;regular_invoke);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InvokeCode(Register code,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                <span class="keyword">const</span> ParameterCount&amp; expected,</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                                <span class="keyword">const</span> ParameterCount&amp; actual,</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                                <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76da">InvokeFlag</a> flag,</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                <span class="keyword">const</span> CallWrapper&amp; call_wrapper) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">// You can&#39;t call a function without a valid frame.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa4b42ca0575007ffd974842dfa51433a4">JUMP_FUNCTION</a> || has_frame());</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  Label done;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordtype">bool</span> definitely_mismatches = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  InvokePrologue(expected, actual, Handle&lt;Code&gt;::null(), code,</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                 &amp;done, &amp;definitely_mismatches, flag,</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                 call_wrapper);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">if</span> (!definitely_mismatches) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">if</span> (flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa8a04ffb719cd6530da36a0330bb5e396">CALL_FUNCTION</a>) {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      call_wrapper.BeforeCall(CallSize(code));</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      Call(code);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      call_wrapper.AfterCall();</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa4b42ca0575007ffd974842dfa51433a4">JUMP_FUNCTION</a>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      Jump(code);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="comment">// Continue here if InvokePrologue does handle the invocation due to</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="comment">// mismatched parameter counts.</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    bind(&amp;done);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;}</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InvokeFunction(Register fun,</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                                    <span class="keyword">const</span> ParameterCount&amp; actual,</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                    <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76da">InvokeFlag</a> flag,</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                    <span class="keyword">const</span> CallWrapper&amp; call_wrapper) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// You can&#39;t call a function without a valid frame.</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa4b42ca0575007ffd974842dfa51433a4">JUMP_FUNCTION</a> || has_frame());</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="comment">// Contract with called JS functions requires that function is passed in r1.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(fun.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>));</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  Register expected_reg = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  Register code_reg = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  ldr(code_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, JSFunction::kSharedFunctionInfoOffset));</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  ldr(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, JSFunction::kContextOffset));</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  ldr(expected_reg,</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(code_reg,</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                      SharedFunctionInfo::kFormalParameterCountOffset));</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  SmiUntag(expected_reg);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  ldr(code_reg,</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, JSFunction::kCodeEntryOffset));</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  ParameterCount expected(expected_reg);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  InvokeCode(code_reg, expected, actual, flag, call_wrapper);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;}</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InvokeFunction(Register <span class="keyword">function</span>,</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                                    <span class="keyword">const</span> ParameterCount&amp; expected,</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                                    <span class="keyword">const</span> ParameterCount&amp; actual,</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                                    <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76da">InvokeFlag</a> flag,</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                                    <span class="keyword">const</span> CallWrapper&amp; call_wrapper) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="comment">// You can&#39;t call a function without a valid frame.</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa4b42ca0575007ffd974842dfa51433a4">JUMP_FUNCTION</a> || has_frame());</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="comment">// Contract with called JS functions requires that function is passed in r1.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<span class="keyword">function</span>.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>));</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="comment">// Get the function and setup the context.</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  ldr(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, JSFunction::kContextOffset));</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="comment">// We call indirectly through the code field in the function to</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="comment">// allow recompilation to take effect without changing any of the</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">// call sites.</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, JSFunction::kCodeEntryOffset));</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  InvokeCode(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, expected, actual, flag, call_wrapper);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;}</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InvokeFunction(Handle&lt;JSFunction&gt; <span class="keyword">function</span>,</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                                    <span class="keyword">const</span> ParameterCount&amp; expected,</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                                    <span class="keyword">const</span> ParameterCount&amp; actual,</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                                    <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76da">InvokeFlag</a> flag,</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                                    <span class="keyword">const</span> CallWrapper&amp; call_wrapper) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  Move(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, <span class="keyword">function</span>);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  InvokeFunction(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, expected, actual, flag, call_wrapper);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;}</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="keywordtype">void</span> MacroAssembler::IsObjectJSObjectType(Register heap_object,</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                                          Register <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a>,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                                          Register scratch,</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                                          Label* fail) {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  ldr(map, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(heap_object, HeapObject::kMapOffset));</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  IsInstanceJSObjectType(map, scratch, fail);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="keywordtype">void</span> MacroAssembler::IsInstanceJSObjectType(Register map,</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                                            Register scratch,</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                                            Label* fail) {</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  cmp(scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ae0fb0de14793fcfd1fb9a841436003e1">FIRST_NONCALLABLE_SPEC_OBJECT_TYPE</a>));</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64">lt</a>, fail);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  cmp(scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a27e7e0d72e031a1f8cf71a9a7fdefaa7">LAST_NONCALLABLE_SPEC_OBJECT_TYPE</a>));</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8c53e014c65b940b08a44cdc4437305c">gt</a>, fail);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;}</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="keywordtype">void</span> MacroAssembler::IsObjectJSStringType(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                                          Register scratch,</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                                          Label* fail) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab13cff482340ab78fa710bd979e42132">kNotStringTag</a> != 0);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">object</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  tst(scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">kIsNotStringMask</a>));</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, fail);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;}</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="keywordtype">void</span> MacroAssembler::IsObjectNameType(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                                      Register scratch,</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                                      Label* fail) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">object</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  cmp(scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a754905f80c48c8866b23aca49699104f">LAST_NAME_TYPE</a>));</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a>, fail);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;}</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="preprocessor">#ifdef ENABLE_DEBUGGER_SUPPORT</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="keywordtype">void</span> MacroAssembler::DebugBreak() {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand::Zero());</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Operand(ExternalReference(Runtime::kDebugBreak, isolate())));</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  CEntryStub ces(1);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(AllowThisStubCall(&amp;ces));</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  Call(ces.GetCode(isolate()), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a105546b82eb2e99e172dda630ee4fdc1a6c0c338932b450afc64a0224b4d47baa">RelocInfo::DEBUG_BREAK</a>);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;}</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PushTryHandler(StackHandler::Kind kind,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                    <span class="keywordtype">int</span> handler_index) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// Adjust this code if not the case.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kSize == 5 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kNextOffset == 0 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kCodeOffset == 1 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kStateOffset == 2 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kContextOffset == 3 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kFPOffset == 4 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="comment">// For the JSEntry handler, we must preserve r0-r4, r5-r6 are available.</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="comment">// We will build up the handler from the bottom by pushing on the stack.</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">// Set up the code object (r5) and the state (r6) for pushing.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordtype">unsigned</span> state =</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      StackHandler::IndexField::encode(handler_index) |</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      StackHandler::KindField::encode(kind);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>, Operand(CodeObject()));</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, Operand(state));</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="comment">// Push the frame pointer, context, state, and code object.</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="keywordflow">if</span> (kind == StackHandler::JS_ENTRY) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    mov(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, Operand(Smi::FromInt(0)));  <span class="comment">// Indicates no context.</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand::Zero());  <span class="comment">// NULL frame pointer.</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    stm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">db_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>.bit() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    stm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">db_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>.bit() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="comment">// Link the current handler as the next handler.</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, Operand(ExternalReference(Isolate::kHandlerAddress, isolate())));</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>));</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="comment">// Set this new handler as the current one.</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>));</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;}</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PopTryHandler() {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kNextOffset == 0);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  pop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(ExternalReference(Isolate::kHandlerAddress, isolate())));</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(StackHandlerConstants::kSize - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;}</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpToHandlerEntry() {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="comment">// Compute the handler entry address and jump to it.  The handler table is</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="comment">// a fixed array of (smi-tagged) code offsets.</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="comment">// r0 = exception, r1 = code object, r2 = state.</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  ConstantPoolUnavailableScope constant_pool_unavailable(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool) {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">pp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Code::kConstantPoolOffset));  <span class="comment">// Constant pool.</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Code::kHandlerTableOffset));  <span class="comment">// Handler table.</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand(FixedArray::kHeaderSize - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, StackHandler::kKindWidth));  <span class="comment">// Handler index.</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>));  <span class="comment">// Smi-tagged offset.</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Operand(Code::kHeaderSize - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));  <span class="comment">// Code start.</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Operand::SmiUntag(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>));  <span class="comment">// Jump</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;}</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Throw(Register value) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="comment">// Adjust this code if not the case.</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kSize == 5 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kNextOffset == 0);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kCodeOffset == 1 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kStateOffset == 2 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kContextOffset == 3 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kFPOffset == 4 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="comment">// The exception is expected in r0.</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="keywordflow">if</span> (!value.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>)) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, value);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">// Drop the stack pointer to the top of the top handler.</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand(ExternalReference(Isolate::kHandlerAddress, isolate())));</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>));</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">// Restore the next handler.</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  pop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>));</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="comment">// Get the code object (r1) and state (r2).  Restore the context and frame</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="comment">// pointer.</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>.bit() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="comment">// If the handler is a JS frame, restore the context to the frame.</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="comment">// (kind == ENTRY) == (fp == 0) == (cp == 0), so we could test either fp</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="comment">// or cp.</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  tst(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  str(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, StandardFrameConstants::kContextOffset), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  JumpToHandlerEntry();</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;}</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="keywordtype">void</span> MacroAssembler::ThrowUncatchable(Register value) {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="comment">// Adjust this code if not the case.</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kSize == 5 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kNextOffset == 0 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kCodeOffset == 1 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kStateOffset == 2 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kContextOffset == 3 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandlerConstants::kFPOffset == 4 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="comment">// The exception is expected in r0.</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keywordflow">if</span> (!value.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>)) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, value);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <span class="comment">// Drop the stack pointer to the top of the top stack handler.</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand(ExternalReference(Isolate::kHandlerAddress, isolate())));</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>));</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// Unwind the handlers until the ENTRY handler is found.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  Label fetch_next, check_kind;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  jmp(&amp;check_kind);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  bind(&amp;fetch_next);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, StackHandlerConstants::kNextOffset));</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  bind(&amp;check_kind);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(StackHandler::JS_ENTRY == 0);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, StackHandlerConstants::kStateOffset));</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  tst(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, Operand(StackHandler::KindField::kMask));</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;fetch_next);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="comment">// Set the top handler address to next handler past the top ENTRY handler.</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  pop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>));</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="comment">// Get the code object (r1) and state (r2).  Clear the context and frame</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="comment">// pointer (0 was saved in the handler).</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>() | <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>.bit() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  JumpToHandlerEntry();</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;}</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckAccessGlobalProxy(Register holder_reg,</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                                            Register scratch,</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                                            Label* miss) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  Label same_contexts;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!holder_reg.is(scratch));</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!holder_reg.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="comment">// Load current lexical context from the stack frame.</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">fp</a>, StandardFrameConstants::kContextOffset));</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="comment">// In debug mode, make sure the lexical context is set.</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  cmp(scratch, Operand::Zero());</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, kWeShouldNotHaveAnEmptyLexicalContext);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="comment">// Load the native context of the current context.</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keywordtype">int</span> offset =</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      Context::kHeaderSize + Context::GLOBAL_OBJECT_INDEX * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, offset));</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, GlobalObject::kNativeContextOffset));</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">// Check the context is a native context.</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="comment">// Cannot use ip as a temporary in this verification code. Due to the fact</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="comment">// that ip is clobbered as part of cmp with an object Operand.</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    push(holder_reg);  <span class="comment">// Temporarily save holder on the stack.</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">// Read the first word and compare to the native_context_map.</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    ldr(holder_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, HeapObject::kMapOffset));</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Heap::kNativeContextMapRootIndex);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    cmp(holder_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kJSGlobalObjectNativeContextShouldBeANativeContext);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    pop(holder_reg);  <span class="comment">// Restore holder.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// Check if both contexts are the same.</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(holder_reg, JSGlobalProxy::kNativeContextOffset));</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  cmp(scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;same_contexts);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// Check the context is a native context.</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="comment">// Cannot use ip as a temporary in this verification code. Due to the fact</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="comment">// that ip is clobbered as part of cmp with an object Operand.</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    push(holder_reg);  <span class="comment">// Temporarily save holder on the stack.</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    mov(holder_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);  <span class="comment">// Move ip to its holding place.</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Heap::kNullValueRootIndex);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    cmp(holder_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, kJSGlobalProxyContextShouldNotBeNull);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    ldr(holder_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(holder_reg, HeapObject::kMapOffset));</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Heap::kNativeContextMapRootIndex);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    cmp(holder_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kJSGlobalObjectNativeContextShouldBeANativeContext);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="comment">// Restore ip is not needed. ip is reloaded below.</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    pop(holder_reg);  <span class="comment">// Restore holder.</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="comment">// Restore ip to holder&#39;s context.</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(holder_reg, JSGlobalProxy::kNativeContextOffset));</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="comment">// Check that the security token in the calling global object is</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="comment">// compatible with the security token in the receiving global</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// object.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordtype">int</span> token_offset = Context::kHeaderSize +</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                     Context::SECURITY_TOKEN_INDEX * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, token_offset));</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, token_offset));</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  cmp(scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, miss);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  bind(&amp;same_contexts);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;}</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment">// Compute the hash code from the untagged key.  This must be kept in sync with</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">// ComputeIntegerHash in utils.h and KeyedLoadGenericElementStub in</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">// code-stub-hydrogen.cc</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="keywordtype">void</span> MacroAssembler::GetNumberHash(Register t0, Register scratch) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="comment">// First of all we assign the hash seed to scratch.</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  LoadRoot(scratch, Heap::kHashSeedRootIndex);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  SmiUntag(scratch);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="comment">// Xor original key with a seed.</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  eor(t0, t0, Operand(scratch));</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="comment">// Compute the hash code from the untagged key.  This must be kept in sync</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="comment">// with ComputeIntegerHash in utils.h.</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="comment">// hash = ~hash + (hash &lt;&lt; 15);</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  mvn(scratch, Operand(t0));</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  add(t0, scratch, Operand(t0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, 15));</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <span class="comment">// hash = hash ^ (hash &gt;&gt; 12);</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  eor(t0, t0, Operand(t0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, 12));</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="comment">// hash = hash + (hash &lt;&lt; 2);</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  add(t0, t0, Operand(t0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, 2));</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="comment">// hash = hash ^ (hash &gt;&gt; 4);</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  eor(t0, t0, Operand(t0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, 4));</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="comment">// hash = hash * 2057;</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  mov(scratch, Operand(t0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, 11));</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  add(t0, t0, Operand(t0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, 3));</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  add(t0, t0, scratch);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">// hash = hash ^ (hash &gt;&gt; 16);</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  eor(t0, t0, Operand(t0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, 16));</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;}</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadFromNumberDictionary(Label* miss,</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                                              Register elements,</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                                              Register key,</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                                              Register result,</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                                              Register t0,</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                                              Register t1,</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                                              Register t2) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="comment">// Register use:</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="comment">// elements - holds the slow-case elements of the receiver on entry.</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="comment">//            Unchanged unless &#39;result&#39; is the same register.</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="comment">// key      - holds the smi key on entry.</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="comment">//            Unchanged unless &#39;result&#39; is the same register.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="comment">// result   - holds the result on exit if the load succeeded.</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="comment">//            Allowed to be the same as &#39;key&#39; or &#39;result&#39;.</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">//            Unchanged on bailout so &#39;key&#39; or &#39;result&#39; can be used</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="comment">//            in further computation.</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="comment">// Scratch registers:</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="comment">// t0 - holds the untagged key on entry and holds the hash once computed.</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="comment">// t1 - used to hold the capacity mask of the dictionary</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// t2 - used for the index into the dictionary.</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  Label done;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  GetNumberHash(t0, t1);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="comment">// Compute the capacity mask.</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  ldr(t1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(elements, SeededNumberDictionary::kCapacityOffset));</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  SmiUntag(t1);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  sub(t1, t1, Operand(1));</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="comment">// Generate an unrolled loop that performs a few probes before giving up.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; kNumberDictionaryProbes; i++) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="comment">// Use t2 for index calculations and keep the hash intact in t0.</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    mov(t2, t0);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="comment">// Compute the masked index: (hash + i + i * i) &amp; mask.</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordflow">if</span> (i &gt; 0) {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      add(t2, t2, Operand(SeededNumberDictionary::GetProbeOffset(i)));</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    and_(t2, t2, Operand(t1));</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="comment">// Scale the index by multiplying by the element size.</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(SeededNumberDictionary::kEntrySize == 3);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    add(t2, t2, Operand(t2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, 1));  <span class="comment">// t2 = t2 * 3</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="comment">// Check if the key is identical to the name.</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    add(t2, elements, Operand(t2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>));</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(t2, SeededNumberDictionary::kElementsStartOffset));</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    cmp(key, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">if</span> (i != kNumberDictionaryProbes - 1) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;done);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, miss);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="comment">// Check that the value is a normal property.</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="comment">// t2: elements + (index * kPointerSize)</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kDetailsOffset =</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      SeededNumberDictionary::kElementsStartOffset + 2 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  ldr(t1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(t2, kDetailsOffset));</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  tst(t1, Operand(Smi::FromInt(PropertyDetails::TypeField::kMask)));</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, miss);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="comment">// Get the value at the masked, scaled index and return.</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kValueOffset =</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      SeededNumberDictionary::kElementsStartOffset + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  ldr(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(t2, kValueOffset));</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;}</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Allocate(<span class="keywordtype">int</span> object_size,</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                              Register result,</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                              Register scratch1,</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                              Register scratch2,</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                              Label* gc_required,</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                              <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fc">AllocationFlags</a> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a72ae4718167105f8e7d356f15d71182d">flags</a>) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(object_size &lt;= Page::kMaxRegularHeapObjectSize);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordflow">if</span> (!FLAG_inline_new) {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <span class="comment">// Trash the registers to simulate an allocation failure.</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      mov(result, Operand(0x7091));</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      mov(scratch1, Operand(0x7191));</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      mov(scratch2, Operand(0x7291));</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    }</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    jmp(gc_required);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(scratch1));</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(scratch2));</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch1.is(scratch2));</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch1.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch2.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="comment">// Make object size into bytes.</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca5a6f701354a49210425d61c970d294f7">SIZE_IN_WORDS</a>) != 0) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    object_size *= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(0, object_size &amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="comment">// Check relative positions of allocation top and limit addresses.</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="comment">// The values must be adjacent in memory to allow the use of LDM.</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="comment">// Also, assert that the registers are numbered such that the values</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <span class="comment">// are loaded in the correct order.</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  ExternalReference allocation_top =</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      AllocationUtils::GetAllocationTopReference(isolate(), flags);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  ExternalReference allocation_limit =</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      AllocationUtils::GetAllocationLimitReference(isolate(), flags);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  intptr_t top   =</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(allocation_top.address());</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  intptr_t limit =</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(allocation_limit.address());</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((limit - top) == kPointerSize);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result.code() &lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a9fbb542ce0dae274d40866ba432b411a">code</a>());</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="comment">// Set up allocation top address register.</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  Register topaddr = scratch1;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  mov(topaddr, Operand(allocation_top));</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="comment">// This code stores a temporary value in ip. This is OK, as the code below</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="comment">// does not need ip for implicit literal generation.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca162096ce362c9495a792c2cd1cbc4138">RESULT_CONTAINS_TOP</a>) == 0) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="comment">// Load allocation top into result and allocation limit into ip.</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2af1f6c8b770767d0984de7604de8708f9">ia</a>, topaddr, result.bit() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <span class="comment">// Assert that result actually contains top on entry. ip is used</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <span class="comment">// immediately below so this use of ip does not cause difference with</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <span class="comment">// respect to register content between debug and release mode.</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(topaddr));</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      cmp(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kUnexpectedAllocationTop);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="comment">// Load allocation limit into ip. Result already contains allocation top.</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(topaddr, limit - top));</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca36181690955e34f1445c12049fb2677c">DOUBLE_ALIGNMENT</a>) != 0) {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="comment">// Align the next allocation. Storing the filler map without checking top is</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="comment">// safe in new-space because the limit of the heap is aligned there.</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((flags &amp; <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca6486557d762ee4662ca1dde1e7ceebe2">PRETENURE_OLD_POINTER_SPACE</a>) == 0);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a474144638686b78d9fcad86e8cd92c64">kPointerAlignment</a> * 2 == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7b0f32eedd164ec9bd3138a129db9b8">kDoubleAlignment</a>);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    and_(scratch2, result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6fe51c108370f1948748482356be1ab2">kDoubleAlignmentMask</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    Label aligned;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;aligned);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fcac51c279872f869f3a0a37f213b95ea8c">PRETENURE_OLD_DATA_SPACE</a>) != 0) {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      cmp(result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae14d832f844ebf077fcccd668947dde3">hs</a>, gc_required);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    }</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    mov(scratch2, Operand(isolate()-&gt;factory()-&gt;one_pointer_filler_map()));</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    str(scratch2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a> / 2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    bind(&amp;aligned);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  }</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="comment">// Calculate new top and bail out if new space is exhausted. Use result</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <span class="comment">// to calculate the new top. We must preserve the ip register at this</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  <span class="comment">// point, so we cannot just use add().</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(object_size &gt; 0);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  Register source = result;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8e65f1fdd0e1d957735bb841b994a4a1">al</a>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a58a844ea91a6b0fd681a92930d913948">shift</a> = 0;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keywordflow">while</span> (object_size != 0) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">if</span> (((object_size &gt;&gt; shift) &amp; 0x03) == 0) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      shift += 2;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      <span class="keywordtype">int</span> bits = object_size &amp; (0xff &lt;&lt; <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a58a844ea91a6b0fd681a92930d913948">shift</a>);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      object_size -= bits;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      shift += 8;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      Operand bits_operand(bits);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(bits_operand.is_single_instruction(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      add(scratch2, source, bits_operand, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>, cond);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      source = scratch2;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      cond = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a0fb80d1e7fafc4b00df717805a1c83ea">cc</a>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519">cs</a>, gc_required);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  cmp(scratch2, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a>, gc_required);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  str(scratch2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(topaddr));</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">// Tag object if requested.</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fcab024a717bd5c91ace4ff286471bff954">TAG_OBJECT</a>) != 0) {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    add(result, result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;}</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Allocate(Register object_size,</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                              Register result,</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                              Register scratch1,</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                              Register scratch2,</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                              Label* gc_required,</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                              <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fc">AllocationFlags</a> flags) {</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">if</span> (!FLAG_inline_new) {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      <span class="comment">// Trash the registers to simulate an allocation failure.</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      mov(result, Operand(0x7091));</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      mov(scratch1, Operand(0x7191));</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      mov(scratch2, Operand(0x7291));</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    }</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    jmp(gc_required);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="comment">// Assert that the register arguments are different and that none of</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="comment">// them are ip. ip is used explicitly in the code generated below.</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(scratch1));</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(scratch2));</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch1.is(scratch2));</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!object_size.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch1.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch2.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="comment">// Check relative positions of allocation top and limit addresses.</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="comment">// The values must be adjacent in memory to allow the use of LDM.</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="comment">// Also, assert that the registers are numbered such that the values</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="comment">// are loaded in the correct order.</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  ExternalReference allocation_top =</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      AllocationUtils::GetAllocationTopReference(isolate(), flags);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  ExternalReference allocation_limit =</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      AllocationUtils::GetAllocationLimitReference(isolate(), flags);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  intptr_t top =</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(allocation_top.address());</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  intptr_t limit =</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(allocation_limit.address());</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((limit - top) == kPointerSize);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result.code() &lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a9fbb542ce0dae274d40866ba432b411a">code</a>());</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="comment">// Set up allocation top address.</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  Register topaddr = scratch1;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  mov(topaddr, Operand(allocation_top));</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="comment">// This code stores a temporary value in ip. This is OK, as the code below</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <span class="comment">// does not need ip for implicit literal generation.</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keywordflow">if</span> ((flags &amp; RESULT_CONTAINS_TOP) == 0) {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="comment">// Load allocation top into result and allocation limit into ip.</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2af1f6c8b770767d0984de7604de8708f9">ia</a>, topaddr, result.bit() | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>.<a class="code" href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">bit</a>());</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <span class="comment">// Assert that result actually contains top on entry. ip is used</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <span class="comment">// immediately below so this use of ip does not cause difference with</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <span class="comment">// respect to register content between debug and release mode.</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(topaddr));</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      cmp(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kUnexpectedAllocationTop);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    }</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="comment">// Load allocation limit into ip. Result already contains allocation top.</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(topaddr, limit - top));</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  }</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keywordflow">if</span> ((flags &amp; DOUBLE_ALIGNMENT) != 0) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="comment">// Align the next allocation. Storing the filler map without checking top is</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="comment">// safe in new-space because the limit of the heap is aligned there.</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((flags &amp; <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca6486557d762ee4662ca1dde1e7ceebe2">PRETENURE_OLD_POINTER_SPACE</a>) == 0);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a474144638686b78d9fcad86e8cd92c64">kPointerAlignment</a> * 2 == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7b0f32eedd164ec9bd3138a129db9b8">kDoubleAlignment</a>);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    and_(scratch2, result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6fe51c108370f1948748482356be1ab2">kDoubleAlignmentMask</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    Label aligned;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;aligned);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; PRETENURE_OLD_DATA_SPACE) != 0) {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      cmp(result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae14d832f844ebf077fcccd668947dde3">hs</a>, gc_required);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    }</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    mov(scratch2, Operand(isolate()-&gt;factory()-&gt;one_pointer_filler_map()));</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    str(scratch2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a> / 2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    bind(&amp;aligned);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  }</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="comment">// Calculate new top and bail out if new space is exhausted. Use result</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="comment">// to calculate the new top. Object size may be in words so a shift is</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="comment">// required to get the number of bytes.</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keywordflow">if</span> ((flags &amp; SIZE_IN_WORDS) != 0) {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    add(scratch2, result, Operand(object_size, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    add(scratch2, result, Operand(object_size), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  }</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519">cs</a>, gc_required);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  cmp(scratch2, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a>, gc_required);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="comment">// Update allocation top. result temporarily holds the new top.</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    tst(scratch2, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>));</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kUnalignedAllocationInNewSpace);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  str(scratch2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(topaddr));</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="comment">// Tag object if requested.</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="keywordflow">if</span> ((flags &amp; TAG_OBJECT) != 0) {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    add(result, result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  }</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;}</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="keywordtype">void</span> MacroAssembler::UndoAllocationInNewSpace(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                                              Register scratch) {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  ExternalReference new_space_allocation_top =</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      ExternalReference::new_space_allocation_top_address(isolate());</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="comment">// Make sure the object has no tag before resetting top.</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  and_(<span class="keywordtype">object</span>, <span class="keywordtype">object</span>, Operand(~<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a44ee97292914fbe042fc1b7b3236f7bc">kHeapObjectTagMask</a>));</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <span class="comment">// Check that the object un-allocated is below the current top.</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  mov(scratch, Operand(new_space_allocation_top));</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch));</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  cmp(<span class="keywordtype">object</span>, scratch);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64">lt</a>, kUndoAllocationOfNonAllocatedMemory);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <span class="comment">// Write the address of the object to un-allocate as the current top.</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  mov(scratch, Operand(new_space_allocation_top));</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  str(<span class="keywordtype">object</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch));</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;}</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AllocateTwoByteString(Register result,</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                                           Register length,</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                                           Register scratch1,</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                                           Register scratch2,</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                                           Register scratch3,</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                                           Label* gc_required) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="comment">// Calculate the number of bytes needed for the characters in the string while</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <span class="comment">// observing object alignment.</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((SeqTwoByteString::kHeaderSize &amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>) == 0);</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  mov(scratch1, Operand(length, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, 1));  <span class="comment">// Length in bytes, not chars.</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  add(scratch1, scratch1,</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a> + SeqTwoByteString::kHeaderSize));</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  and_(scratch1, scratch1, Operand(~<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>));</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="comment">// Allocate two-byte string in new space.</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  Allocate(scratch1,</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;           result,</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;           scratch2,</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;           scratch3,</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;           gc_required,</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;           TAG_OBJECT);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="comment">// Set the map, length and hash field.</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  InitializeNewString(result,</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                      length,</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                      Heap::kStringMapRootIndex,</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                      scratch1,</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                      scratch2);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;}</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AllocateAsciiString(Register result,</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                                         Register length,</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                                         Register scratch1,</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                                         Register scratch2,</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                                         Register scratch3,</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                                         Label* gc_required) {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <span class="comment">// Calculate the number of bytes needed for the characters in the string while</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="comment">// observing object alignment.</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((SeqOneByteString::kHeaderSize &amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>) == 0);</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab81d3518ce57dd364c1d60e0045d4a92">kCharSize</a> == 1);</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  add(scratch1, length,</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a> + SeqOneByteString::kHeaderSize));</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  and_(scratch1, scratch1, Operand(~<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>));</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="comment">// Allocate ASCII string in new space.</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  Allocate(scratch1,</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;           result,</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;           scratch2,</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;           scratch3,</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;           gc_required,</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;           TAG_OBJECT);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="comment">// Set the map, length and hash field.</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  InitializeNewString(result,</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                      length,</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                      Heap::kAsciiStringMapRootIndex,</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                      scratch1,</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                      scratch2);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;}</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AllocateTwoByteConsString(Register result,</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                                               Register length,</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                                               Register scratch1,</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                                               Register scratch2,</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;                                               Label* gc_required) {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  Allocate(ConsString::kSize, result, scratch1, scratch2, gc_required,</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;           TAG_OBJECT);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  InitializeNewString(result,</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                      length,</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                      Heap::kConsStringMapRootIndex,</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                      scratch1,</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                      scratch2);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;}</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AllocateAsciiConsString(Register result,</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                                             Register length,</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                                             Register scratch1,</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                                             Register scratch2,</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                                             Label* gc_required) {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  Label allocate_new_space, install_map;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fc">AllocationFlags</a> flags = <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fcab024a717bd5c91ace4ff286471bff954">TAG_OBJECT</a>;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  ExternalReference high_promotion_mode = ExternalReference::</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      new_space_high_promotion_mode_active_address(isolate());</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  mov(scratch1, Operand(high_promotion_mode));</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  ldr(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch1, 0));</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  cmp(scratch1, Operand::Zero());</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;allocate_new_space);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  Allocate(ConsString::kSize,</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;           result,</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;           scratch1,</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;           scratch2,</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;           gc_required,</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;           static_cast&lt;AllocationFlags&gt;(flags | <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca6486557d762ee4662ca1dde1e7ceebe2">PRETENURE_OLD_POINTER_SPACE</a>));</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  jmp(&amp;install_map);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  bind(&amp;allocate_new_space);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  Allocate(ConsString::kSize,</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;           result,</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;           scratch1,</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;           scratch2,</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;           gc_required,</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;           flags);</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  bind(&amp;install_map);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  InitializeNewString(result,</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                      length,</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                      Heap::kConsAsciiStringMapRootIndex,</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                      scratch1,</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                      scratch2);</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;}</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AllocateTwoByteSlicedString(Register result,</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                                                 Register length,</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                                                 Register scratch1,</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                                                 Register scratch2,</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                                                 Label* gc_required) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  Allocate(SlicedString::kSize, result, scratch1, scratch2, gc_required,</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;           TAG_OBJECT);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  InitializeNewString(result,</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                      length,</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                      Heap::kSlicedStringMapRootIndex,</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                      scratch1,</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                      scratch2);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;}</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AllocateAsciiSlicedString(Register result,</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                                               Register length,</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;                                               Register scratch1,</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                                               Register scratch2,</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                                               Label* gc_required) {</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  Allocate(SlicedString::kSize, result, scratch1, scratch2, gc_required,</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;           TAG_OBJECT);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  InitializeNewString(result,</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                      length,</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                      Heap::kSlicedAsciiStringMapRootIndex,</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                      scratch1,</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                      scratch2);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;}</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CompareObjectType(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                                       Register map,</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                                       Register type_reg,</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> type) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="keyword">const</span> Register temp = type_reg.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>) ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a> : type_reg;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  ldr(map, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">object</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  CompareInstanceType(map, temp, type);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;}</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckObjectTypeRange(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                                          Register map,</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> min_type,</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                                          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> max_type,</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                                          Label* false_label) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(Map::kInstanceTypeOffset &lt; 4096);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a> &lt; 256);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  ldr(map, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">object</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  ldrb(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(min_type));</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(max_type - min_type));</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a>, false_label);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;}</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CompareInstanceType(Register map,</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                                         Register type_reg,</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> type) {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="comment">// Registers map and type_reg can be ip. These two lines assert</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="comment">// that ip can be used with the two instructions (the constants</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="comment">// will never need ip).</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(Map::kInstanceTypeOffset &lt; 4096);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a> &lt; 256);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  ldrb(type_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  cmp(type_reg, Operand(type));</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;}</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CompareRoot(Register <a class="code" href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a>,</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                                 Heap::RootListIndex index) {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!obj.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, index);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  cmp(obj, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;}</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckFastElements(Register map,</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                                       Register scratch,</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                                       Label* fail) {</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5">FAST_SMI_ELEMENTS</a> == 0);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a58e8654e182fddc4db852328ca31beca">FAST_HOLEY_SMI_ELEMENTS</a> == 1);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a> == 2);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">FAST_HOLEY_ELEMENTS</a> == 3);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kBitField2Offset));</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  cmp(scratch, Operand(Map::kMaximumBitField2FastHoleyElementValue));</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a>, fail);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;}</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckFastObjectElements(Register map,</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                                             Register scratch,</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                                             Label* fail) {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5">FAST_SMI_ELEMENTS</a> == 0);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a58e8654e182fddc4db852328ca31beca">FAST_HOLEY_SMI_ELEMENTS</a> == 1);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">FAST_ELEMENTS</a> == 2);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">FAST_HOLEY_ELEMENTS</a> == 3);</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kBitField2Offset));</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  cmp(scratch, Operand(Map::kMaximumBitField2FastHoleySmiElementValue));</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aac1113e50f7f1460beeaeeba69f63701">ls</a>, fail);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  cmp(scratch, Operand(Map::kMaximumBitField2FastHoleyElementValue));</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a>, fail);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;}</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckFastSmiElements(Register map,</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                                          Register scratch,</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                                          Label* fail) {</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5">FAST_SMI_ELEMENTS</a> == 0);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a58e8654e182fddc4db852328ca31beca">FAST_HOLEY_SMI_ELEMENTS</a> == 1);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kBitField2Offset));</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  cmp(scratch, Operand(Map::kMaximumBitField2FastHoleySmiElementValue));</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">hi</a>, fail);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;}</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="keywordtype">void</span> MacroAssembler::StoreNumberToDoubleElements(</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                                      Register value_reg,</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                                      Register key_reg,</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                                      Register elements_reg,</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                                      Register scratch1,</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                                      LowDwVfpRegister double_scratch,</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                                      Label* fail,</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                                      <span class="keywordtype">int</span> elements_offset) {</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  Label smi_value, store;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="comment">// Handle smi values specially.</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  JumpIfSmi(value_reg, &amp;smi_value);</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="comment">// Ensure that the object is a heap number</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  CheckMap(value_reg,</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;           scratch1,</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;           isolate()-&gt;factory()-&gt;heap_number_map(),</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;           fail,</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;           <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251a68f546db1d78edd21e128b742d2403dc">DONT_DO_SMI_CHECK</a>);</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  vldr(double_scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(value_reg, HeapNumber::kValueOffset));</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="comment">// Force a canonical NaN.</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    vmrs(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    tst(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adc45819f141f29659f475e3fecd472f9">kVFPDefaultNaNModeControlBit</a>));</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    Assert(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, kDefaultNaNModeNotSet);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  VFPCanonicalizeNaN(double_scratch);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  b(&amp;store);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  bind(&amp;smi_value);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  SmiToDouble(double_scratch, value_reg);</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  bind(&amp;store);</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  add(scratch1, elements_reg, Operand::DoubleOffsetFromSmiKey(key_reg));</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  vstr(double_scratch,</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch1,</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                       FixedDoubleArray::kHeaderSize - elements_offset));</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;}</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CompareMap(Register obj,</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                                Register scratch,</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;                                Handle&lt;Map&gt; map,</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;                                Label* early_success) {</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(obj, HeapObject::kMapOffset));</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  CompareMap(scratch, map, early_success);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;}</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CompareMap(Register obj_map,</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;                                Handle&lt;Map&gt; map,</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                                Label* early_success) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  cmp(obj_map, Operand(map));</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;}</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckMap(Register obj,</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                              Register scratch,</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                              Handle&lt;Map&gt; map,</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                              Label* fail,</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251">SmiCheckType</a> smi_check_type) {</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  <span class="keywordflow">if</span> (smi_check_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251aed20cf16e899d22ce34093f1477746b1">DO_SMI_CHECK</a>) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    JumpIfSmi(obj, fail);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  }</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  Label success;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  CompareMap(obj, scratch, map, &amp;success);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, fail);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  bind(&amp;success);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;}</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckMap(Register obj,</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                              Register scratch,</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                              Heap::RootListIndex index,</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                              Label* fail,</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251">SmiCheckType</a> smi_check_type) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="keywordflow">if</span> (smi_check_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251aed20cf16e899d22ce34093f1477746b1">DO_SMI_CHECK</a>) {</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    JumpIfSmi(obj, fail);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(obj, HeapObject::kMapOffset));</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, index);</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  cmp(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, fail);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;}</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="keywordtype">void</span> MacroAssembler::DispatchMap(Register obj,</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                                 Register scratch,</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                                 Handle&lt;Map&gt; map,</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                                 Handle&lt;Code&gt; success,</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251">SmiCheckType</a> smi_check_type) {</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  Label fail;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">if</span> (smi_check_type == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251aed20cf16e899d22ce34093f1477746b1">DO_SMI_CHECK</a>) {</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    JumpIfSmi(obj, &amp;fail);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  }</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(obj, HeapObject::kMapOffset));</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(map));</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  cmp(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  Jump(success, RelocInfo::CODE_TARGET, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  bind(&amp;fail);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;}</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TryGetFunctionPrototype(Register <span class="keyword">function</span>,</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                                             Register result,</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                                             Register scratch,</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                                             Label* miss,</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                                             <span class="keywordtype">bool</span> miss_on_bound_function) {</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="comment">// Check that the receiver isn&#39;t a smi.</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  JumpIfSmi(<span class="keyword">function</span>, miss);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="comment">// Check that the function really is a function.  Load map into result reg.</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  CompareObjectType(<span class="keyword">function</span>, result, scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a02670a3c9633129c524842afc57c106d">JS_FUNCTION_TYPE</a>);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, miss);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">if</span> (miss_on_bound_function) {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    ldr(scratch,</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keyword">function</span>, JSFunction::kSharedFunctionInfoOffset));</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    ldr(scratch,</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, SharedFunctionInfo::kCompilerHintsOffset));</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    tst(scratch,</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        Operand(Smi::FromInt(1 &lt;&lt; SharedFunctionInfo::kBoundFunction)));</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, miss);</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="comment">// Make sure that the function has an instance prototype.</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  Label non_instance;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(result, Map::kBitFieldOffset));</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  tst(scratch, Operand(1 &lt;&lt; Map::kHasNonInstancePrototype));</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;non_instance);</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <span class="comment">// Get the prototype or initial map from the function.</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  ldr(result,</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keyword">function</span>, JSFunction::kPrototypeOrInitialMapOffset));</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <span class="comment">// If the prototype or initial map is the hole, don&#39;t return it and</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="comment">// simply miss the cache instead. This will allow us to allocate a</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="comment">// prototype object on-demand in the runtime system.</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Heap::kTheHoleValueRootIndex);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  cmp(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, miss);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="comment">// If the function does not have an initial map, we&#39;re done.</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  Label done;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  CompareObjectType(result, scratch, scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a77dd0d910751ab1628781fb29adc69d8">MAP_TYPE</a>);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;done);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="comment">// Get the prototype from the initial map.</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  ldr(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(result, Map::kPrototypeOffset));</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  jmp(&amp;done);</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="comment">// Non-instance prototype: Fetch prototype from constructor field</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="comment">// in initial map.</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  bind(&amp;non_instance);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  ldr(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(result, Map::kConstructorOffset));</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="comment">// All done.</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;}</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallStub(CodeStub* stub,</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;                              TypeFeedbackId ast_id,</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(AllowThisStubCall(stub));  <span class="comment">// Stub calls are not allowed in some stubs.</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  Call(stub-&gt;GetCode(isolate()), RelocInfo::CODE_TARGET, ast_id, cond);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;}</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TailCallStub(CodeStub* stub, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  Jump(stub-&gt;GetCode(isolate()), RelocInfo::CODE_TARGET, cond);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;}</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> AddressOffset(ExternalReference ref0, ExternalReference ref1) {</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="keywordflow">return</span> ref0.address() - ref1.address();</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;}</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallApiFunctionAndReturn(</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    Register function_address,</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    ExternalReference thunk_ref,</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="keywordtype">int</span> stack_space,</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a> return_value_operand,</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>* context_restore_operand) {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  ExternalReference next_address =</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      ExternalReference::handle_scope_next_address(isolate());</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kNextOffset = 0;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kLimitOffset = AddressOffset(</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      ExternalReference::handle_scope_limit_address(isolate()),</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      next_address);</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kLevelOffset = AddressOffset(</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      ExternalReference::handle_scope_level_address(isolate()),</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;      next_address);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(function_address.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>) || function_address.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>));</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  Label profiler_disabled;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  Label end_profiler_check;</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  <span class="keywordtype">bool</span>* is_profiling_flag =</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;      isolate()-&gt;cpu_profiler()-&gt;is_profiling_address();</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<span class="keyword">sizeof</span>(*is_profiling_flag) == 1);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, Operand(reinterpret_cast&lt;int32_t&gt;(is_profiling_flag)));</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  ldrb(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, 0));</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, Operand(0));</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;profiler_disabled);</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <span class="comment">// Additional parameter is the address of the actual callback.</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand(thunk_ref));</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  jmp(&amp;end_profiler_check);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  bind(&amp;profiler_disabled);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  Move(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, function_address);</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  bind(&amp;end_profiler_check);</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="comment">// Allocate HandleScope in callee-save registers.</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, Operand(next_address));</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">r4</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kNextOffset));</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kLimitOffset));</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kLevelOffset));</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, Operand(1));</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kLevelOffset));</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">if</span> (FLAG_log_timer_events) {</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    FrameScope frame(<span class="keyword">this</span>, StackFrame::MANUAL);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    PushSafepointRegisters();</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    PrepareCallCFunction(1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(ExternalReference::isolate_address(isolate())));</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    CallCFunction(ExternalReference::log_enter_external_function(isolate()), 1);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    PopSafepointRegisters();</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  }</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="comment">// Native call returns to the DirectCEntry stub which redirects to the</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="comment">// return address pushed on stack (could have moved after GC).</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <span class="comment">// DirectCEntry stub itself is generated early and never moves.</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  DirectCEntryStub stub;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  stub.GenerateCall(<span class="keyword">this</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>);</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">if</span> (FLAG_log_timer_events) {</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    FrameScope frame(<span class="keyword">this</span>, StackFrame::MANUAL);</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    PushSafepointRegisters();</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    PrepareCallCFunction(1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(ExternalReference::isolate_address(isolate())));</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    CallCFunction(ExternalReference::log_leave_external_function(isolate()), 1);</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    PopSafepointRegisters();</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  }</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  Label promote_scheduled_exception;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  Label exception_handled;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  Label delete_allocated_handles;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  Label leave_exit_frame;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  Label return_value_loaded;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="comment">// load value from ReturnValue</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, return_value_operand);</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  bind(&amp;return_value_loaded);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <span class="comment">// No more valid handles (the result handle was the last one). Restore</span></div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <span class="comment">// previous handle scope.</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">r4</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kNextOffset));</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kLevelOffset));</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>);</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kUnexpectedLevelAfterReturnFromApiCall);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  }</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, Operand(1));</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kLevelOffset));</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kLimitOffset));</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;delete_allocated_handles);</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <span class="comment">// Check if the function scheduled an exception.</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  bind(&amp;leave_exit_frame);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">r4</a>, Heap::kTheHoleValueRootIndex);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(ExternalReference::scheduled_exception_address(isolate())));</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">r4</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>);</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;promote_scheduled_exception);</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  bind(&amp;exception_handled);</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <span class="keywordtype">bool</span> restore_context = context_restore_operand != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>;</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="keywordflow">if</span> (restore_context) {</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    ldr(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, *context_restore_operand);</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  }</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <span class="comment">// LeaveExitFrame expects unwind space to be in a register.</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">r4</a>, Operand(stack_space));</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  LeaveExitFrame(<span class="keyword">false</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">r4</a>, !restore_context);</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">pc</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  bind(&amp;promote_scheduled_exception);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    FrameScope frame(<span class="keyword">this</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21adc7588f17692aa631f375290d50a2c8e">StackFrame::INTERNAL</a>);</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    CallExternalReference(</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;        ExternalReference(Runtime::kHiddenPromoteScheduledException, isolate()),</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;        0);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  }</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  jmp(&amp;exception_handled);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  <span class="comment">// HandleScope limit has changed. Delete allocated extensions.</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  bind(&amp;delete_allocated_handles);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">r9</a>, kLimitOffset));</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">r4</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  PrepareCallCFunction(1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">r5</a>);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(ExternalReference::isolate_address(isolate())));</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  CallCFunction(</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      ExternalReference::delete_handle_scope_extensions(isolate()), 1);</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">r4</a>);</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  jmp(&amp;leave_exit_frame);</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;}</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;<span class="keywordtype">bool</span> MacroAssembler::AllowThisStubCall(CodeStub* stub) {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <span class="keywordflow">return</span> has_frame_ || !stub-&gt;SometimesSetsUpAFrame();</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;}</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;<span class="keywordtype">void</span> MacroAssembler::IllegalOperation(<span class="keywordtype">int</span> num_arguments) {</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordflow">if</span> (num_arguments &gt; 0) {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(num_arguments * kPointerSize));</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Heap::kUndefinedValueRootIndex);</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;}</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="keywordtype">void</span> MacroAssembler::IndexFromHash(Register hash, Register index) {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="comment">// If the hash field contains an array index pick it out. The assert checks</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="comment">// that the constants for the maximum number of digits for an array index</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="comment">// cached in the hash field and the number of bits reserved for it does not</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <span class="comment">// conflict.</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aaa2b5552afaab806ac61a34b16e7a1c7">TenToThe</a>(String::kMaxCachedArrayIndexLength) &lt;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;         (1 &lt;&lt; String::kArrayIndexValueBits));</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="comment">// We want the smi-tagged index in key.  kArrayIndexValueMask has zeros in</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="comment">// the low kHashShift bits.</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  Ubfx(hash, hash, String::kHashShift, String::kArrayIndexValueBits);</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  SmiTag(index, hash);</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;}</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="keywordtype">void</span> MacroAssembler::SmiToDouble(LowDwVfpRegister value, Register smi) {</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="keywordflow">if</span> (CpuFeatures::IsSupported(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34a91da77e9814991c0a4c2ddc422c41cba">VFP3</a>)) {</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    vmov(value.low(), smi);</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    vcvt_f64_s32(value, 1);</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    SmiUntag(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, smi);</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    vmov(value.low(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    vcvt_f64_s32(value, value.low());</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  }</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;}</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TestDoubleIsInt32(DwVfpRegister double_input,</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;                                       LowDwVfpRegister double_scratch) {</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!double_input.is(double_scratch));</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  vcvt_s32_f64(double_scratch.low(), double_input);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  vcvt_f64_s32(double_scratch, double_scratch.low());</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  VFPCompareAndSetFlags(double_input, double_scratch);</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;}</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TryDoubleToInt32Exact(Register result,</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                                           DwVfpRegister double_input,</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                                           LowDwVfpRegister double_scratch) {</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!double_input.is(double_scratch));</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  vcvt_s32_f64(double_scratch.low(), double_input);</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  vmov(result, double_scratch.low());</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  vcvt_f64_s32(double_scratch, double_scratch.low());</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  VFPCompareAndSetFlags(double_input, double_scratch);</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;}</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TryInt32Floor(Register result,</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;                                   DwVfpRegister double_input,</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                                   Register input_high,</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                                   LowDwVfpRegister double_scratch,</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                                   Label* done,</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                                   Label* exact) {</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(input_high));</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!double_input.is(double_scratch));</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  Label <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a90286bd943f9eeda91de18b38aee2d37">negative</a>, exception;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  VmovHigh(input_high, double_input);</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <span class="comment">// Test for NaN and infinities.</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  Sbfx(result, input_high,</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;       HeapNumber::kExponentShift, HeapNumber::kExponentBits);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  cmp(result, Operand(-1));</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;exception);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="comment">// Test for values that can be exactly represented as a</span></div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  <span class="comment">// signed 32-bit integer.</span></div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;  TryDoubleToInt32Exact(result, double_input, double_scratch);</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <span class="comment">// If exact, return (result already fetched).</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, exact);</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  cmp(input_high, Operand::Zero());</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8adde6ecd6406700aa000b213c843a3091">mi</a>, &amp;negative);</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="comment">// Input is in ]+0, +inf[.</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="comment">// If result equals 0x7fffffff input was out of range or</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  <span class="comment">// in ]0x7fffffff, 0x80000000[. We ignore this last case which</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <span class="comment">// could fits into an int32, that means we always think input was</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <span class="comment">// out of range and always go to exception.</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <span class="comment">// If result &lt; 0x7fffffff, go to done, result fetched.</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  cmn(result, Operand(1));</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8adde6ecd6406700aa000b213c843a3091">mi</a>, &amp;exception);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  b(done);</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  <span class="comment">// Input is in ]-inf, -0[.</span></div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  <span class="comment">// If x is a non integer negative number,</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="comment">// floor(x) &lt;=&gt; round_to_zero(x) - 1.</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  bind(&amp;negative);</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  sub(result, result, Operand(1), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  <span class="comment">// If result is still negative, go to done, result fetched.</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="comment">// Else, we had an overflow and we fall through exception.</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8adde6ecd6406700aa000b213c843a3091">mi</a>, done);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  bind(&amp;exception);</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;}</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TryInlineTruncateDoubleToI(Register result,</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;                                                DwVfpRegister double_input,</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;                                                Label* done) {</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  LowDwVfpRegister double_scratch = <a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9dd0c0394c2c4403d04203fb3d9df209">kScratchDoubleReg</a>;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  vcvt_s32_f64(double_scratch.low(), double_input);</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  vmov(result, double_scratch.low());</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="comment">// If result is not saturated (0x7fffffff or 0x80000000), we are done.</span></div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, result, Operand(1));</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(0x7ffffffe));</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64">lt</a>, done);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;}</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TruncateDoubleToI(Register result,</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                                       DwVfpRegister double_input) {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  Label done;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  TryInlineTruncateDoubleToI(result, double_input, &amp;done);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <span class="comment">// If we fell through then inline version didn&#39;t succeed - call stub instead.</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a>));  <span class="comment">// Put input on stack.</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  vstr(double_input, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, 0));</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  DoubleToIStub stub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, result, 0, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  CallStub(&amp;stub);</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a>));</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  pop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;}</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TruncateHeapNumberToI(Register result,</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;                                           Register <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  Label done;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  LowDwVfpRegister double_scratch = <a class="code" href="../../dd/dcd/assembler-arm_8h.html#a9dd0c0394c2c4403d04203fb3d9df209">kScratchDoubleReg</a>;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  vldr(double_scratch,</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<span class="keywordtype">object</span>, HeapNumber::kValueOffset - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  TryInlineTruncateDoubleToI(result, double_scratch, &amp;done);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  <span class="comment">// If we fell through then inline version didn&#39;t succeed - call stub instead.</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  DoubleToIStub stub(<span class="keywordtype">object</span>,</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;                     result,</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;                     HeapNumber::kValueOffset - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>,</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;                     <span class="keyword">true</span>,</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;                     <span class="keyword">true</span>);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  CallStub(&amp;stub);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;  pop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">lr</a>);</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;}</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TruncateNumberToI(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;                                       Register result,</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;                                       Register heap_number_map,</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;                                       Register scratch1,</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                                       Label* not_number) {</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  Label done;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  UntagAndJumpIfSmi(result, <span class="keywordtype">object</span>, &amp;done);</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  JumpIfNotHeapNumber(<span class="keywordtype">object</span>, heap_number_map, scratch1, not_number);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  TruncateHeapNumberToI(result, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;}</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="keywordtype">void</span> MacroAssembler::GetLeastBitsFromSmi(Register dst,</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;                                         Register src,</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                                         <span class="keywordtype">int</span> num_least_bits) {</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  <span class="keywordflow">if</span> (CpuFeatures::IsSupported(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a>) &amp;&amp; !predictable_code_size()) {</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    ubfx(dst, src, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3c41c69a6b8cd1517fc62a145fb8f180">kSmiTagSize</a>, num_least_bits);</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    SmiUntag(dst, src);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    and_(dst, dst, Operand((1 &lt;&lt; num_least_bits) - 1));</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  }</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;}</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;<span class="keywordtype">void</span> MacroAssembler::GetLeastBitsFromInt32(Register dst,</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                                           Register src,</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;                                           <span class="keywordtype">int</span> num_least_bits) {</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  and_(dst, src, Operand((1 &lt;&lt; num_least_bits) - 1));</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;}</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallRuntime(<span class="keyword">const</span> Runtime::Function* f,</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;                                 <span class="keywordtype">int</span> num_arguments,</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7b4bcf1a2476785bc7f80eacbddf1822">SaveFPRegsMode</a> save_doubles) {</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="comment">// All parameters are on the stack.  r0 has the return value after call.</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="comment">// If the expected number of arguments of the runtime function is</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  <span class="comment">// constant, we check that the actual number of arguments match the</span></div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;  <span class="comment">// expectation.</span></div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <span class="keywordflow">if</span> (f-&gt;nargs &gt;= 0 &amp;&amp; f-&gt;nargs != num_arguments) {</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    IllegalOperation(num_arguments);</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  <span class="comment">// TODO(1236192): Most runtime routines don&#39;t need the number of</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <span class="comment">// arguments passed in because it is constant. At some point we</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  <span class="comment">// should remove this need and make the runtime routine entry code</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <span class="comment">// smarter.</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(num_arguments));</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Operand(ExternalReference(f, isolate())));</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  CEntryStub stub(1, save_doubles);</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  CallStub(&amp;stub);</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;}</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallExternalReference(<span class="keyword">const</span> ExternalReference&amp; ext,</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                                           <span class="keywordtype">int</span> num_arguments) {</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(num_arguments));</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Operand(ext));</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;  CEntryStub stub(1);</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  CallStub(&amp;stub);</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;}</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TailCallExternalReference(<span class="keyword">const</span> ExternalReference&amp; ext,</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;                                               <span class="keywordtype">int</span> num_arguments,</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                                               <span class="keywordtype">int</span> result_size) {</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  <span class="comment">// TODO(1236192): Most runtime routines don&#39;t need the number of</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <span class="comment">// arguments passed in because it is constant. At some point we</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="comment">// should remove this need and make the runtime routine entry code</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <span class="comment">// smarter.</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(num_arguments));</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  JumpToExternalReference(ext);</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TailCallRuntime(Runtime::FunctionId fid,</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                                     <span class="keywordtype">int</span> num_arguments,</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                                     <span class="keywordtype">int</span> result_size) {</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  TailCallExternalReference(ExternalReference(fid, isolate()),</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;                            num_arguments,</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;                            result_size);</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;}</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpToExternalReference(<span class="keyword">const</span> ExternalReference&amp; builtin) {</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;<span class="preprocessor">#if defined(__thumb__)</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="comment">// Thumb mode builtin.</span></div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((reinterpret_cast&lt;intptr_t&gt;(builtin.address()) &amp; 1) == 1);</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Operand(builtin));</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  CEntryStub stub(1);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  Jump(stub.GetCode(isolate()), RelocInfo::CODE_TARGET);</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;}</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InvokeBuiltin(Builtins::JavaScript <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;                                   <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76da">InvokeFlag</a> flag,</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;                                   <span class="keyword">const</span> CallWrapper&amp; call_wrapper) {</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <span class="comment">// You can&#39;t call a builtin without a valid frame.</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa4b42ca0575007ffd974842dfa51433a4">JUMP_FUNCTION</a> || has_frame());</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  GetBuiltinEntry(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  <span class="keywordflow">if</span> (flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa8a04ffb719cd6530da36a0330bb5e396">CALL_FUNCTION</a>) {</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    call_wrapper.BeforeCall(CallSize(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>));</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    Call(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>);</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    call_wrapper.AfterCall();</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(flag == <a class="code" href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa4b42ca0575007ffd974842dfa51433a4">JUMP_FUNCTION</a>);</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    Jump(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>);</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  }</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;}</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<span class="keywordtype">void</span> MacroAssembler::GetBuiltinFunction(Register target,</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;                                        Builtins::JavaScript <span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  <span class="comment">// Load the builtins object into target register.</span></div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  ldr(target,</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, Context::SlotOffset(Context::GLOBAL_OBJECT_INDEX)));</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  ldr(target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(target, GlobalObject::kBuiltinsOffset));</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="comment">// Load the JavaScript builtin function from the builtins object.</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  ldr(target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(target,</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;                          JSBuiltinsObject::OffsetOfFunctionWithId(<span class="keywordtype">id</span>)));</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;}</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;<span class="keywordtype">void</span> MacroAssembler::GetBuiltinEntry(Register target, Builtins::JavaScript <span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!target.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>));</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  GetBuiltinFunction(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="comment">// Load the code entry point from the builtins object.</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  ldr(target, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, JSFunction::kCodeEntryOffset));</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;}</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="keywordtype">void</span> MacroAssembler::SetCounter(StatsCounter* counter, <span class="keywordtype">int</span> value,</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;                                Register scratch1, Register scratch2) {</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keywordflow">if</span> (FLAG_native_code_counters &amp;&amp; counter-&gt;Enabled()) {</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    mov(scratch1, Operand(value));</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    mov(scratch2, Operand(ExternalReference(counter)));</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    str(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch2));</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  }</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;}</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;<span class="keywordtype">void</span> MacroAssembler::IncrementCounter(StatsCounter* counter, <span class="keywordtype">int</span> value,</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;                                      Register scratch1, Register scratch2) {</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(value &gt; 0);</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  <span class="keywordflow">if</span> (FLAG_native_code_counters &amp;&amp; counter-&gt;Enabled()) {</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    mov(scratch2, Operand(ExternalReference(counter)));</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    ldr(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch2));</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    add(scratch1, scratch1, Operand(value));</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    str(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch2));</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  }</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;}</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="keywordtype">void</span> MacroAssembler::DecrementCounter(StatsCounter* counter, <span class="keywordtype">int</span> value,</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;                                      Register scratch1, Register scratch2) {</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(value &gt; 0);</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="keywordflow">if</span> (FLAG_native_code_counters &amp;&amp; counter-&gt;Enabled()) {</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    mov(scratch2, Operand(ExternalReference(counter)));</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    ldr(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch2));</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    sub(scratch1, scratch1, Operand(value));</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    str(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch2));</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  }</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;}</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Assert(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">BailoutReason</a> reason) {</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code())</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    Check(cond, reason);</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;}</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AssertFastElements(Register elements) {</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!elements.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    Label ok;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    push(elements);</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    ldr(elements, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(elements, HeapObject::kMapOffset));</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Heap::kFixedArrayMapRootIndex);</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    cmp(elements, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;ok);</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Heap::kFixedDoubleArrayMapRootIndex);</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    cmp(elements, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;ok);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    LoadRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Heap::kFixedCOWArrayMapRootIndex);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    cmp(elements, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;ok);</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    Abort(kJSObjectWithFastElementsMapHasSlowElements);</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    bind(&amp;ok);</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    pop(elements);</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  }</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;}</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">BailoutReason</a> reason) {</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  Label <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a67824ecf84f5816f07b74fa956bdbcd2">L</a>;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  b(cond, &amp;L);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  Abort(reason);</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <span class="comment">// will not return here</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  bind(&amp;L);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;}</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Abort(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">BailoutReason</a> reason) {</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  Label abort_start;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;  bind(&amp;abort_start);</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* msg = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae3c559b497bf8e31b3c9e8b55dbb164b">GetBailoutReason</a>(reason);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  <span class="keywordflow">if</span> (msg != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    RecordComment(<span class="stringliteral">&quot;Abort message: &quot;</span>);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    RecordComment(msg);</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="keywordflow">if</span> (FLAG_trap_on_abort) {</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    stop(msg);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  }</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(Smi::FromInt(reason)));</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>);</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <span class="comment">// Disable stub call restrictions to always allow calls to abort.</span></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="keywordflow">if</span> (!has_frame_) {</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    <span class="comment">// We don&#39;t actually want to generate a pile of code for this, so just</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="comment">// claim there is a stack frame, without generating one.</span></div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    FrameScope scope(<span class="keyword">this</span>, <a class="code" href="../../d5/d43/property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3ac157bdf0b85a40d2619cbc8bc1ae5fe2">StackFrame::NONE</a>);</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    CallRuntime(Runtime::kAbort, 1);</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    CallRuntime(Runtime::kAbort, 1);</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  }</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <span class="comment">// will not return here</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <span class="keywordflow">if</span> (is_const_pool_blocked()) {</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="comment">// If the calling code cares about the exact number of</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <span class="comment">// instructions generated, we insert padding here to keep the size</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="comment">// of the Abort macro constant.</span></div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kExpectedAbortInstructions = 7;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <span class="keywordtype">int</span> abort_instructions = InstructionsGeneratedSince(&amp;abort_start);</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(abort_instructions &lt;= kExpectedAbortInstructions);</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="keywordflow">while</span> (abort_instructions++ &lt; kExpectedAbortInstructions) {</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;      nop();</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    }</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;  }</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;}</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadContext(Register dst, <span class="keywordtype">int</span> context_chain_length) {</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  <span class="keywordflow">if</span> (context_chain_length &gt; 0) {</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <span class="comment">// Move up the chain of contexts to the context containing the slot.</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    ldr(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, Context::SlotOffset(Context::PREVIOUS_INDEX)));</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; context_chain_length; i++) {</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;      ldr(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst, Context::SlotOffset(Context::PREVIOUS_INDEX)));</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    }</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="comment">// Slot is in the current function context.  Move it into the</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="comment">// destination register in case we store into it (the write barrier</span></div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <span class="comment">// cannot be allowed to destroy the context in esi).</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    mov(dst, <a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>);</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  }</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;}</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadTransitionedArrayMapConditional(</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> expected_kind,</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">ElementsKind</a> transitioned_kind,</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    Register map_in_out,</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    Register scratch,</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    Label* no_map_match) {</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="comment">// Load the global or builtins object from the current context.</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  ldr(scratch,</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, Context::SlotOffset(Context::GLOBAL_OBJECT_INDEX)));</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, GlobalObject::kNativeContextOffset));</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="comment">// Check that the function&#39;s map is the same as the expected cached map.</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  ldr(scratch,</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch,</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;                 Context::SlotOffset(Context::JS_ARRAY_MAPS_INDEX)));</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  <span class="keywordtype">size_t</span> offset = expected_kind * kPointerSize +</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;      FixedArrayBase::kHeaderSize;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, offset));</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  cmp(map_in_out, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, no_map_match);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="comment">// Use the transitioned cached map.</span></div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  offset = transitioned_kind * kPointerSize +</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      FixedArrayBase::kHeaderSize;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  ldr(map_in_out, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, offset));</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;}</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadGlobalFunction(<span class="keywordtype">int</span> index, Register <span class="keyword">function</span>) {</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <span class="comment">// Load the global or builtins object from the current context.</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  ldr(<span class="keyword">function</span>,</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a>, Context::SlotOffset(Context::GLOBAL_OBJECT_INDEX)));</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  <span class="comment">// Load the native context from the global or builtins object.</span></div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  ldr(<span class="keyword">function</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keyword">function</span>,</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;                                GlobalObject::kNativeContextOffset));</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <span class="comment">// Load the function from the native context.</span></div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  ldr(<span class="keyword">function</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<span class="keyword">function</span>, Context::SlotOffset(index)));</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;}</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadGlobalFunctionInitialMap(Register <span class="keyword">function</span>,</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                                                  Register map,</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;                                                  Register scratch) {</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="comment">// Load the initial map. The global functions all have initial maps.</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  ldr(map, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keyword">function</span>, JSFunction::kPrototypeOrInitialMapOffset));</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    Label ok, fail;</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    CheckMap(map, scratch, Heap::kMetaMapRootIndex, &amp;fail, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251aed20cf16e899d22ce34093f1477746b1">DO_SMI_CHECK</a>);</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    b(&amp;ok);</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    bind(&amp;fail);</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    Abort(kGlobalFunctionsMustHaveInitialMap);</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    bind(&amp;ok);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  }</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;}</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfNotPowerOfTwoOrZero(</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    Register reg,</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    Register scratch,</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    Label* not_power_of_two_or_zero) {</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  sub(scratch, reg, Operand(1), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8adde6ecd6406700aa000b213c843a3091">mi</a>, not_power_of_two_or_zero);</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  tst(scratch, reg);</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, not_power_of_two_or_zero);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;}</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfNotPowerOfTwoOrZeroAndNeg(</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    Register reg,</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    Register scratch,</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    Label* zero_and_neg,</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    Label* not_power_of_two) {</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  sub(scratch, reg, Operand(1), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8adde6ecd6406700aa000b213c843a3091">mi</a>, zero_and_neg);</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  tst(scratch, reg);</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, not_power_of_two);</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;}</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfNotBothSmi(Register reg1,</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                                      Register reg2,</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;                                      Label* on_not_both_smi) {</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  tst(reg1, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">kSmiTagMask</a>));</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  tst(reg2, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">kSmiTagMask</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, on_not_both_smi);</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;}</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="keywordtype">void</span> MacroAssembler::UntagAndJumpIfSmi(</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    Register dst, Register src, Label* smi_case) {</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;  SmiUntag(dst, src, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a0fb80d1e7fafc4b00df717805a1c83ea">cc</a>, smi_case);  <span class="comment">// Shifter carry is not set for a smi.</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;}</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="keywordtype">void</span> MacroAssembler::UntagAndJumpIfNotSmi(</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    Register dst, Register src, Label* non_smi_case) {</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0);</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  SmiUntag(dst, src, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519">cs</a>, non_smi_case);  <span class="comment">// Shifter carry is set for a non-smi.</span></div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;}</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfEitherSmi(Register reg1,</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                                     Register reg2,</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;                                     Label* on_either_smi) {</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0);</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  tst(reg1, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">kSmiTagMask</a>));</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  tst(reg2, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">kSmiTagMask</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, on_either_smi);</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;}</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AssertNotSmi(Register <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0);</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    tst(<span class="keywordtype">object</span>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">kSmiTagMask</a>));</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, kOperandIsASmi);</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  }</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;}</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AssertSmi(Register <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0);</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    tst(<span class="keywordtype">object</span>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">kSmiTagMask</a>));</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kOperandIsNotSmi);</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;  }</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;}</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AssertString(Register <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0);</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    tst(<span class="keywordtype">object</span>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">kSmiTagMask</a>));</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, kOperandIsASmiAndNotAString);</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    push(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    ldr(<span class="keywordtype">object</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">object</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    CompareInstanceType(<span class="keywordtype">object</span>, <span class="keywordtype">object</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf">FIRST_NONSTRING_TYPE</a>);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    pop(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ad6581d542c7eaf801284f084478b5fcc">lo</a>, kOperandIsNotAString);</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  }</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;}</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AssertName(Register <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    tst(<span class="keywordtype">object</span>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">kSmiTagMask</a>));</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, kOperandIsASmiAndNotAName);</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    push(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    ldr(<span class="keywordtype">object</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">object</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    CompareInstanceType(<span class="keywordtype">object</span>, <span class="keywordtype">object</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a754905f80c48c8866b23aca49699104f">LAST_NAME_TYPE</a>);</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    pop(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a69bfc4ef467b367e3515cdcf693e65db">le</a>, kOperandIsNotAName);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  }</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;}</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AssertUndefinedOrAllocationSite(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;                                                     Register scratch) {</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    Label done_checking;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    AssertNotSmi(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    CompareRoot(<span class="keywordtype">object</span>, Heap::kUndefinedValueRootIndex);</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;done_checking);</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">object</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    CompareRoot(scratch, Heap::kAllocationSiteMapRootIndex);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    Assert(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kExpectedUndefinedOrCell);</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    bind(&amp;done_checking);</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  }</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;}</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AssertIsRoot(Register reg, Heap::RootListIndex index) {</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    CompareRoot(reg, index);</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kHeapNumberMapRegisterClobbered);</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  }</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;}</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfNotHeapNumber(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;                                         Register heap_number_map,</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;                                         Register scratch,</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;                                         Label* on_not_heap_number) {</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">object</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  AssertIsRoot(heap_number_map, Heap::kHeapNumberMapRootIndex);</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  cmp(scratch, heap_number_map);</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, on_not_heap_number);</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;}</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LookupNumberStringCache(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;                                             Register result,</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;                                             Register scratch1,</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;                                             Register scratch2,</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;                                             Register scratch3,</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;                                             Label* not_found) {</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="comment">// Use of registers. Register result is used as a temporary.</span></div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  Register number_string_cache = result;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  Register mask = scratch3;</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;  <span class="comment">// Load the number string cache.</span></div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;  LoadRoot(number_string_cache, Heap::kNumberStringCacheRootIndex);</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;  <span class="comment">// Make the hash mask from the length of the number string cache. It</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  <span class="comment">// contains two elements (number and string) for each cache entry.</span></div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;  ldr(mask, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(number_string_cache, FixedArray::kLengthOffset));</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  <span class="comment">// Divide length by two (length is a smi).</span></div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  mov(mask, Operand(mask, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca6248dfabcf9a8cf93a2fa0b40c082936">ASR</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3c41c69a6b8cd1517fc62a145fb8f180">kSmiTagSize</a> + 1));</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  sub(mask, mask, Operand(1));  <span class="comment">// Make mask.</span></div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  <span class="comment">// Calculate the entry in the number string cache. The hash value in the</span></div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  <span class="comment">// number string cache for smis is just the smi value, and the hash for</span></div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;  <span class="comment">// doubles is the xor of the upper and lower words. See</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  <span class="comment">// Heap::GetNumberStringCache.</span></div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;  Label is_smi;</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  Label load_result_from_cache;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  JumpIfSmi(<span class="keywordtype">object</span>, &amp;is_smi);</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;  CheckMap(<span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;           scratch1,</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;           Heap::kHeapNumberMapRootIndex,</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;           not_found,</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;           <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251a68f546db1d78edd21e128b742d2403dc">DONT_DO_SMI_CHECK</a>);</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(8 == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a>);</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  add(scratch1,</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;      <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;      Operand(HeapNumber::kValueOffset - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  ldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2af1f6c8b770767d0984de7604de8708f9">ia</a>, scratch1, scratch1.bit() | scratch2.bit());</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;  eor(scratch1, scratch1, Operand(scratch2));</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;  and_(scratch1, scratch1, Operand(mask));</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;  <span class="comment">// Calculate address of entry in string cache: each entry consists</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;  <span class="comment">// of two pointer sized fields.</span></div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;  add(scratch1,</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;      number_string_cache,</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;      Operand(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a> + 1));</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  Register probe = mask;</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  ldr(probe, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch1, FixedArray::kHeaderSize));</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  JumpIfSmi(probe, not_found);</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  sub(scratch2, <span class="keywordtype">object</span>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;  vldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>, scratch2, HeapNumber::kValueOffset);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;  sub(probe, probe, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  vldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a53e49338f6caabf2bfbeb3720c50f6da">d1</a>, probe, HeapNumber::kValueOffset);</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  VFPCompareAndSetFlags(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a53e49338f6caabf2bfbeb3720c50f6da">d1</a>);</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, not_found);  <span class="comment">// The cache did not contain this value.</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  b(&amp;load_result_from_cache);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  bind(&amp;is_smi);</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  Register scratch = scratch1;</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  and_(scratch, mask, Operand(<span class="keywordtype">object</span>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca6248dfabcf9a8cf93a2fa0b40c082936">ASR</a>, 1));</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="comment">// Calculate address of entry in string cache: each entry consists</span></div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  <span class="comment">// of two pointer sized fields.</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  add(scratch,</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      number_string_cache,</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      Operand(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a> + 1));</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  <span class="comment">// Check if the entry is the smi we are looking for.</span></div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;  ldr(probe, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, FixedArray::kHeaderSize));</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;  cmp(<span class="keywordtype">object</span>, probe);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, not_found);</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <span class="comment">// Get the result from the cache.</span></div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;  bind(&amp;load_result_from_cache);</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  ldr(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, FixedArray::kHeaderSize + kPointerSize));</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  IncrementCounter(isolate()-&gt;counters()-&gt;number_to_string_native(),</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                   1,</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                   scratch1,</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                   scratch2);</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;}</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfNonSmisNotBothSequentialAsciiStrings(</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    Register first,</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    Register second,</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    Register scratch1,</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    Register scratch2,</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    Label* failure) {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;  <span class="comment">// Test that both first and second are sequential ASCII strings.</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <span class="comment">// Assume that they are non-smis.</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  ldr(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(first, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;  ldr(scratch2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(second, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;  ldrb(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch1, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  ldrb(scratch2, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch2, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;  JumpIfBothInstanceTypesAreNotSequentialAscii(scratch1,</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                                               scratch2,</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                                               scratch1,</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                                               scratch2,</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                                               failure);</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;}</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfNotBothSequentialAsciiStrings(Register first,</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                                                         Register second,</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                                                         Register scratch1,</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                                                         Register scratch2,</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                                                         Label* failure) {</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;  <span class="comment">// Check that neither is a smi.</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;  and_(scratch1, first, Operand(second));</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;  JumpIfSmi(scratch1, failure);</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;  JumpIfNonSmisNotBothSequentialAsciiStrings(first,</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                                             second,</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;                                             scratch1,</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                                             scratch2,</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;                                             failure);</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;}</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfNotUniqueName(Register reg,</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                                         Label* not_unique_name) {</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a90fd9990c35530ac962d10e8e0eefd98">kInternalizedTag</a> == 0 &amp;&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aff85f0a2c44538aab092f92d25039773">kStringTag</a> == 0);</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  Label succeed;</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  tst(reg, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">kIsNotStringMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7400184c709423dd1731ad4cbc8e69d4">kIsNotInternalizedMask</a>));</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;succeed);</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  cmp(reg, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a1e237bf5860e6e63ed67593dc6d03c65">SYMBOL_TYPE</a>));</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, not_unique_name);</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;  bind(&amp;succeed);</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;}</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;<span class="comment">// Allocates a heap number or jumps to the need_gc label if the young space</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;<span class="comment">// is full and a scavenge is needed.</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AllocateHeapNumber(Register result,</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                                        Register scratch1,</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                                        Register scratch2,</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;                                        Register heap_number_map,</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                                        Label* gc_required,</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;                                        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a99d9388a6eafa6e265aa8560a14d9d39">TaggingMode</a> tagging_mode) {</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;  <span class="comment">// Allocate an object in the heap for the heap number and tag it as a heap</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;  <span class="comment">// object.</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;  Allocate(HeapNumber::kSize, result, scratch1, scratch2, gc_required,</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;           tagging_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a99d9388a6eafa6e265aa8560a14d9d39ad307ce831e2c53c4a1cf52e803215021">TAG_RESULT</a> ? TAG_OBJECT : <a class="code" href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca6d5c0de610a2bd906aa183e1ac71b7da">NO_ALLOCATION_FLAGS</a>);</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;  <span class="comment">// Store heap number map in the allocated object.</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;  AssertIsRoot(heap_number_map, Heap::kHeapNumberMapRootIndex);</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;  <span class="keywordflow">if</span> (tagging_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a99d9388a6eafa6e265aa8560a14d9d39ad307ce831e2c53c4a1cf52e803215021">TAG_RESULT</a>) {</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    str(heap_number_map, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(result, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    str(heap_number_map, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(result, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;  }</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;}</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<span class="keywordtype">void</span> MacroAssembler::AllocateHeapNumberWithValue(Register result,</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;                                                 DwVfpRegister value,</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;                                                 Register scratch1,</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;                                                 Register scratch2,</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;                                                 Register heap_number_map,</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;                                                 Label* gc_required) {</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;  AllocateHeapNumber(result, scratch1, scratch2, heap_number_map, gc_required);</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;  sub(scratch1, result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  vstr(value, scratch1, HeapNumber::kValueOffset);</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;}</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;<span class="comment">// Copies a fixed number of fields of heap objects from src to dst.</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CopyFields(Register dst,</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;                                Register src,</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;                                LowDwVfpRegister double_scratch,</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;                                <span class="keywordtype">int</span> field_count) {</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;  <span class="keywordtype">int</span> double_count = field_count / (DwVfpRegister::kSizeInBytes / <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; double_count; i++) {</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    vldr(double_scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(src, i * DwVfpRegister::kSizeInBytes));</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    vstr(double_scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(dst, i * DwVfpRegister::kSizeInBytes));</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  }</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(SwVfpRegister::kSizeInBytes == kPointerSize);</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(2 * SwVfpRegister::kSizeInBytes == DwVfpRegister::kSizeInBytes);</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;  <span class="keywordtype">int</span> remain = field_count % (DwVfpRegister::kSizeInBytes / <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;  <span class="keywordflow">if</span> (remain != 0) {</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    vldr(double_scratch.low(),</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(src, (field_count - 1) * kPointerSize));</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    vstr(double_scratch.low(),</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(dst, (field_count - 1) * kPointerSize));</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  }</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;}</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aeea3d03558c87a206c7bb04771e951a6">MacroAssembler::CopyBytes</a>(Register src,</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                               Register dst,</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;                               Register length,</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;                               Register scratch) {</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;  Label align_loop_1, word_loop, byte_loop, byte_loop_1, done;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  <span class="comment">// Align src before copying in word size chunks.</span></div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  cmp(length, Operand(kPointerSize));</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a69bfc4ef467b367e3515cdcf693e65db">le</a>, &amp;byte_loop);</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;  bind(&amp;align_loop_1);</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;  tst(src, Operand(kPointerSize - 1));</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;word_loop);</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(src, 1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  strb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst, 1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;  sub(length, length, Operand(1), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;  b(&amp;align_loop_1);</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;  <span class="comment">// Copy bytes in word size chunks.</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;  bind(&amp;word_loop);</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    tst(src, Operand(kPointerSize - 1));</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    Assert(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kExpectingAlignmentForCopyBytes);</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;  }</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;  cmp(length, Operand(kPointerSize));</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64">lt</a>, &amp;byte_loop);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(src, kPointerSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;  <span class="keywordflow">if</span> (CpuFeatures::IsSupported(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34aa5dd5f66ef32407acb5ba62d7719f430">UNALIGNED_ACCESSES</a>)) {</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    str(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst, kPointerSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    strb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst, 1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    mov(scratch, Operand(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, 8));</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;    strb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst, 1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    mov(scratch, Operand(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, 8));</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    strb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst, 1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    mov(scratch, Operand(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, 8));</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    strb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst, 1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;  }</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;  sub(length, length, Operand(kPointerSize));</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;  b(&amp;word_loop);</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;  <span class="comment">// Copy the last bytes if any left.</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  bind(&amp;byte_loop);</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;  cmp(length, Operand::Zero());</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;done);</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;  bind(&amp;byte_loop_1);</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(src, 1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;  strb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(dst, 1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;  sub(length, length, Operand(1), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;byte_loop_1);</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;}</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;<span class="keywordtype">void</span> MacroAssembler::InitializeFieldsWithFiller(Register start_offset,</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                                                Register end_offset,</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                                                Register filler) {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  Label loop, entry;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;  b(&amp;entry);</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  bind(&amp;loop);</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;  str(filler, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(start_offset, kPointerSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">PostIndex</a>));</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  bind(&amp;entry);</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;  cmp(start_offset, end_offset);</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64">lt</a>, &amp;loop);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;}</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckFor32DRegs(Register scratch) {</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;  mov(scratch, Operand(ExternalReference::cpu_features()));</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch));</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;  tst(scratch, Operand(1u &lt;&lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34aecef16611572613b5d1267294a74b827">VFP32DREGS</a>));</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;}</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;<span class="keywordtype">void</span> MacroAssembler::SaveFPRegs(Register location, Register scratch) {</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  CheckFor32DRegs(scratch);</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  vstm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">db_w</a>, location, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad4f494bd5431b8eccc84229bac14d55e">d16</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a90198aa29c84cc5dab5e2da173599dda">d31</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  sub(location, location, Operand(16 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>);</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;  vstm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">db_w</a>, location, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a076a45ccce4775ff6116f6e95a57e55a">d15</a>);</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;}</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;<span class="keywordtype">void</span> MacroAssembler::RestoreFPRegs(Register location, Register scratch) {</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  CheckFor32DRegs(scratch);</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;  vldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, location, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a076a45ccce4775ff6116f6e95a57e55a">d15</a>);</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  vldm(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">ia_w</a>, location, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad4f494bd5431b8eccc84229bac14d55e">d16</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a90198aa29c84cc5dab5e2da173599dda">d31</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>);</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  add(location, location, Operand(16 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">kDoubleSize</a>), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>);</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;}</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfBothInstanceTypesAreNotSequentialAscii(</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    Register first,</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    Register second,</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    Register scratch1,</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    Register scratch2,</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    Label* failure) {</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kFlatAsciiStringMask =</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">kIsNotStringMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">kStringEncodingMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a42742b6df96d8400b0ff2cf776247a7c">kStringRepresentationMask</a>;</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kFlatAsciiStringTag =</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aff85f0a2c44538aab092f92d25039773">kStringTag</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031ae4cd2ed8d191fa90f635296dc4c4ffce">kSeqStringTag</a>;</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  and_(scratch1, first, Operand(kFlatAsciiStringMask));</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;  and_(scratch2, second, Operand(kFlatAsciiStringMask));</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;  cmp(scratch1, Operand(kFlatAsciiStringTag));</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;  <span class="comment">// Ignore second test if first test failed.</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  cmp(scratch2, Operand(kFlatAsciiStringTag), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>);</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, failure);</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;}</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfInstanceTypeIsNotSequentialAscii(Register type,</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                                                            Register scratch,</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                                                            Label* failure) {</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kFlatAsciiStringMask =</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">kIsNotStringMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">kStringEncodingMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a42742b6df96d8400b0ff2cf776247a7c">kStringRepresentationMask</a>;</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kFlatAsciiStringTag =</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aff85f0a2c44538aab092f92d25039773">kStringTag</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031ae4cd2ed8d191fa90f635296dc4c4ffce">kSeqStringTag</a>;</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;  and_(scratch, type, Operand(kFlatAsciiStringMask));</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  cmp(scratch, Operand(kFlatAsciiStringTag));</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, failure);</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;}</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kRegisterPassedArguments = 4;</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;<span class="keywordtype">int</span> MacroAssembler::CalculateStackPassedWords(<span class="keywordtype">int</span> num_reg_arguments,</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                                              <span class="keywordtype">int</span> num_double_arguments) {</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;  <span class="keywordtype">int</span> stack_passed_words = 0;</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;  <span class="keywordflow">if</span> (use_eabi_hardfloat()) {</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    <span class="comment">// In the hard floating point calling convention, we can use</span></div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    <span class="comment">// all double registers to pass doubles.</span></div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;    <span class="keywordflow">if</span> (num_double_arguments &gt; DoubleRegister::NumRegisters()) {</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;      stack_passed_words +=</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;          2 * (num_double_arguments - DoubleRegister::NumRegisters());</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    }</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    <span class="comment">// In the soft floating point calling convention, every double</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <span class="comment">// argument is passed using two registers.</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    num_reg_arguments += 2 * num_double_arguments;</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  }</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;  <span class="comment">// Up to four simple arguments are passed in registers r0..r3.</span></div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;  <span class="keywordflow">if</span> (num_reg_arguments &gt; kRegisterPassedArguments) {</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    stack_passed_words += num_reg_arguments - kRegisterPassedArguments;</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;  }</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  <span class="keywordflow">return</span> stack_passed_words;</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;}</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;<span class="keywordtype">void</span> MacroAssembler::EmitSeqStringSetCharCheck(Register <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;                                               Register index,</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;                                               Register value,</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;                                               uint32_t encoding_mask) {</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;  Label is_object;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  SmiTst(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;  Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, kNonObject);</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">string</span>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;  ldrb(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  and_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a42742b6df96d8400b0ff2cf776247a7c">kStringRepresentationMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">kStringEncodingMask</a>));</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(encoding_mask));</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kUnexpectedStringType);</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;  <span class="comment">// The index is assumed to be untagged coming in, tag it to compare with the</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;  <span class="comment">// string length without using a temp register, it is restored at the end of</span></div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;  <span class="comment">// this function.</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;  Label index_tag_ok, index_tag_bad;</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;  TrySmiTag(index, index, &amp;index_tag_bad);</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;  b(&amp;index_tag_ok);</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;  bind(&amp;index_tag_bad);</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;  Abort(kIndexIsTooLarge);</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  bind(&amp;index_tag_ok);</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<span class="keywordtype">string</span>, String::kLengthOffset));</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  cmp(index, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64">lt</a>, kIndexIsTooLarge);</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  cmp(index, Operand(Smi::FromInt(0)));</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a4fd8ed3f6d0d460e38fde11a12f45240">ge</a>, kIndexIsNegative);</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;  SmiUntag(index, index);</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;}</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PrepareCallCFunction(<span class="keywordtype">int</span> num_reg_arguments,</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;                                          <span class="keywordtype">int</span> num_double_arguments,</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;                                          Register scratch) {</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  <span class="keywordtype">int</span> frame_alignment = ActivationFrameAlignment();</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <span class="keywordtype">int</span> stack_passed_arguments = CalculateStackPassedWords(</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      num_reg_arguments, num_double_arguments);</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  <span class="keywordflow">if</span> (frame_alignment &gt; kPointerSize) {</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <span class="comment">// Make stack end at alignment and make room for num_arguments - 4 words</span></div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <span class="comment">// and the original value of sp.</span></div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    mov(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>);</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand((stack_passed_arguments + 1) * kPointerSize));</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46d6fb6aab3e552e9fb0ab7fe9212ba">IsPowerOf2</a>(frame_alignment));</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    and_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(-frame_alignment));</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    str(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, stack_passed_arguments * kPointerSize));</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    sub(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(stack_passed_arguments * kPointerSize));</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  }</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;}</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;<span class="keywordtype">void</span> MacroAssembler::PrepareCallCFunction(<span class="keywordtype">int</span> num_reg_arguments,</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;                                          Register scratch) {</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  PrepareCallCFunction(num_reg_arguments, 0, scratch);</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;}</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;<span class="keywordtype">void</span> MacroAssembler::MovToFloatParameter(DwVfpRegister src) {</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(src.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>));</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  <span class="keywordflow">if</span> (!use_eabi_hardfloat()) {</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    vmov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, src);</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  }</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;}</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;<span class="comment">// On ARM this is just a synonym to make the purpose clear.</span></div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;<span class="keywordtype">void</span> MacroAssembler::MovToFloatResult(DwVfpRegister src) {</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  MovToFloatParameter(src);</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;}</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;<span class="keywordtype">void</span> MacroAssembler::MovToFloatParameters(DwVfpRegister src1,</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;                                          DwVfpRegister src2) {</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(src1.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">d0</a>));</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(src2.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a53e49338f6caabf2bfbeb3720c50f6da">d1</a>));</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  <span class="keywordflow">if</span> (!use_eabi_hardfloat()) {</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    vmov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, src1);</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    vmov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, src2);</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;  }</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;}</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallCFunction(ExternalReference <span class="keyword">function</span>,</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;                                   <span class="keywordtype">int</span> num_reg_arguments,</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;                                   <span class="keywordtype">int</span> num_double_arguments) {</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(<span class="keyword">function</span>));</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  CallCFunctionHelper(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, num_reg_arguments, num_double_arguments);</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;}</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallCFunction(Register <span class="keyword">function</span>,</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;                                   <span class="keywordtype">int</span> num_reg_arguments,</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;                                   <span class="keywordtype">int</span> num_double_arguments) {</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;  CallCFunctionHelper(<span class="keyword">function</span>, num_reg_arguments, num_double_arguments);</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;}</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallCFunction(ExternalReference <span class="keyword">function</span>,</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;                                   <span class="keywordtype">int</span> num_arguments) {</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  CallCFunction(<span class="keyword">function</span>, num_arguments, 0);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;}</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallCFunction(Register <span class="keyword">function</span>,</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;                                   <span class="keywordtype">int</span> num_arguments) {</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  CallCFunction(<span class="keyword">function</span>, num_arguments, 0);</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;}</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CallCFunctionHelper(Register <span class="keyword">function</span>,</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;                                         <span class="keywordtype">int</span> num_reg_arguments,</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;                                         <span class="keywordtype">int</span> num_double_arguments) {</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(has_frame());</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  <span class="comment">// Make sure that the stack is aligned before calling a C function unless</span></div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <span class="comment">// running in the simulator. The simulator has its own alignment check which</span></div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;  <span class="comment">// provides more information.</span></div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;<span class="preprocessor">#if V8_HOST_ARCH_ARM</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <span class="keywordtype">int</span> frame_alignment = OS::ActivationFrameAlignment();</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <span class="keywordtype">int</span> frame_alignment_mask = frame_alignment - 1;</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <span class="keywordflow">if</span> (frame_alignment &gt; kPointerSize) {</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46d6fb6aab3e552e9fb0ab7fe9212ba">IsPowerOf2</a>(frame_alignment));</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;      Label alignment_as_expected;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;      tst(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(frame_alignment_mask));</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;      b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;alignment_as_expected);</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;      <span class="comment">// Don&#39;t use Check here, as it will call Runtime_Abort possibly</span></div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;      <span class="comment">// re-entering here.</span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;      stop(<span class="stringliteral">&quot;Unexpected alignment&quot;</span>);</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;      bind(&amp;alignment_as_expected);</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    }</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;  }</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;  <span class="comment">// Just call directly. The function called cannot cause a GC, or</span></div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;  <span class="comment">// allow preemption, so the return address in the link register</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  <span class="comment">// stays correct.</span></div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  Call(<span class="keyword">function</span>);</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  <span class="keywordtype">int</span> stack_passed_arguments = CalculateStackPassedWords(</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;      num_reg_arguments, num_double_arguments);</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <span class="keywordflow">if</span> (ActivationFrameAlignment() &gt; kPointerSize) {</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, stack_passed_arguments * kPointerSize));</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;    add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">sp</a>, Operand(stack_passed_arguments * <span class="keyword">sizeof</span>(kPointerSize)));</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  }</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;}</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;<span class="keywordtype">void</span> MacroAssembler::GetRelocatedValueLocation(Register ldr_location,</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;                                               Register result) {</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  <span class="keyword">const</span> uint32_t kLdrOffsetMask = (1 &lt;&lt; 12) - 1;</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;  ldr(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(ldr_location));</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <span class="comment">// Check that the instruction is a ldr reg, [&lt;pc or pp&gt; + offset] .</span></div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool) {</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;      and_(result, result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a720d469be2b7f347020495a7c05a7b3d">kLdrPpPattern</a>));</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;      cmp(result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a720d469be2b7f347020495a7c05a7b3d">kLdrPpPattern</a>));</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;      Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kTheInstructionToPatchShouldBeALoadFromPp);</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      and_(result, result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8a902f948299e24c7bb53dbe701419a3">kLdrPCPattern</a>));</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;      cmp(result, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8a902f948299e24c7bb53dbe701419a3">kLdrPCPattern</a>));</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;      Check(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, kTheInstructionToPatchShouldBeALoadFromPc);</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    }</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    <span class="comment">// Result was clobbered. Restore it.</span></div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    ldr(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(ldr_location));</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;  }</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  <span class="comment">// Get the address of the constant.</span></div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  and_(result, result, Operand(kLdrOffsetMask));</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  <span class="keywordflow">if</span> (FLAG_enable_ool_constant_pool) {</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    add(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">pp</a>, Operand(result));</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    add(result, ldr_location, Operand(result));</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    add(result, result, Operand(Instruction::kPCReadOffset));</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;  }</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;}</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckPageFlag(</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    Register scratch,</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;    <span class="keywordtype">int</span> mask,</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a0fb80d1e7fafc4b00df717805a1c83ea">cc</a>,</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;    Label* condition_met) {</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;  Bfc(scratch, <span class="keywordtype">object</span>, 0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae7773e084aaa4f7cea3199510ecd27ac">kPageSizeBits</a>);</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch, MemoryChunk::kFlagsOffset));</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  tst(scratch, Operand(mask));</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  b(cc, condition_met);</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;}</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckMapDeprecated(Handle&lt;Map&gt; map,</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;                                        Register scratch,</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;                                        Label* if_deprecated) {</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;  <span class="keywordflow">if</span> (map-&gt;CanBeDeprecated()) {</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;    mov(scratch, Operand(map));</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, Map::kBitField3Offset));</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    tst(scratch, Operand(Smi::FromInt(Map::Deprecated::kMask)));</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, if_deprecated);</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  }</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;}</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfBlack(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;                                 Register scratch0,</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;                                 Register scratch1,</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;                                 Label* on_black) {</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  HasColor(<span class="keywordtype">object</span>, scratch0, scratch1, on_black, 1, 0);  <span class="comment">// kBlackBitPattern.</span></div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(strcmp(Marking::kBlackBitPattern, <span class="stringliteral">&quot;10&quot;</span>) == 0);</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;}</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;<span class="keywordtype">void</span> MacroAssembler::HasColor(Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;                              Register bitmap_scratch,</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;                              Register mask_scratch,</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;                              Label* has_color,</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;                              <span class="keywordtype">int</span> first_bit,</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;                              <span class="keywordtype">int</span> second_bit) {</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2243fa97f60bc06fa9f2f150870fc2b3">AreAliased</a>(<span class="keywordtype">object</span>, bitmap_scratch, mask_scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>));</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;  GetMarkBits(<span class="keywordtype">object</span>, bitmap_scratch, mask_scratch);</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;  Label other_color, word_boundary;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(bitmap_scratch, MemoryChunk::kHeaderSize));</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  tst(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(mask_scratch));</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;  b(first_bit == 1 ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a> : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;other_color);</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  <span class="comment">// Shift left 1 by adding.</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  add(mask_scratch, mask_scratch, Operand(mask_scratch), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">SetCC</a>);</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;word_boundary);</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  tst(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(mask_scratch));</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  b(second_bit == 1 ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a> : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, has_color);</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  jmp(&amp;other_color);</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  bind(&amp;word_boundary);</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(bitmap_scratch, MemoryChunk::kHeaderSize + kPointerSize));</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  tst(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(1));</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  b(second_bit == 1 ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a> : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, has_color);</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  bind(&amp;other_color);</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;}</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;<span class="comment">// Detect some, but not all, common pointer-free objects.  This is used by the</span></div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;<span class="comment">// incremental write barrier which doesn&#39;t care about oddballs (they are always</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;<span class="comment">// marked black immediately so this code is not hit).</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfDataObject(Register value,</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;                                      Register scratch,</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;                                      Label* not_data_object) {</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  Label is_data_object;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  ldr(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(value, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;  CompareRoot(scratch, Heap::kHeapNumberMapRootIndex);</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;is_data_object);</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a913f4fdfcba05281542857d54a006e38">kIsIndirectStringTag</a> == 1 &amp;&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a18e6dc79dee8b661595469b94c8bdf56">kIsIndirectStringMask</a> == 1);</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab13cff482340ab78fa710bd979e42132">kNotStringTag</a> == 0x80 &amp;&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">kIsNotStringMask</a> == 0x80);</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;  <span class="comment">// If it&#39;s a string and it&#39;s not a cons string then it&#39;s an object containing</span></div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <span class="comment">// no GC pointers.</span></div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  ldrb(scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(scratch, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  tst(scratch, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a18e6dc79dee8b661595469b94c8bdf56">kIsIndirectStringMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">kIsNotStringMask</a>));</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, not_data_object);</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  bind(&amp;is_data_object);</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;}</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;<span class="keywordtype">void</span> MacroAssembler::GetMarkBits(Register addr_reg,</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;                                 Register bitmap_reg,</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;                                 Register mask_reg) {</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2243fa97f60bc06fa9f2f150870fc2b3">AreAliased</a>(addr_reg, bitmap_reg, mask_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>));</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;  and_(bitmap_reg, addr_reg, Operand(~Page::kPageAlignmentMask));</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;  Ubfx(mask_reg, addr_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>, Bitmap::kBitsPerCellLog2);</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kLowBits = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a> + Bitmap::kBitsPerCellLog2;</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  Ubfx(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, addr_reg, kLowBits, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae7773e084aaa4f7cea3199510ecd27ac">kPageSizeBits</a> - kLowBits);</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  add(bitmap_reg, bitmap_reg, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">kPointerSizeLog2</a>));</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(1));</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  mov(mask_reg, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, mask_reg));</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;}</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;<span class="keywordtype">void</span> MacroAssembler::EnsureNotWhite(</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    Register value,</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    Register bitmap_scratch,</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    Register mask_scratch,</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    Register load_scratch,</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    Label* value_is_white_and_not_data) {</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2243fa97f60bc06fa9f2f150870fc2b3">AreAliased</a>(value, bitmap_scratch, mask_scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  GetMarkBits(value, bitmap_scratch, mask_scratch);</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;  <span class="comment">// If the value is black or grey we don&#39;t need to do anything.</span></div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(strcmp(Marking::kWhiteBitPattern, <span class="stringliteral">&quot;00&quot;</span>) == 0);</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(strcmp(Marking::kBlackBitPattern, <span class="stringliteral">&quot;10&quot;</span>) == 0);</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(strcmp(Marking::kGreyBitPattern, <span class="stringliteral">&quot;11&quot;</span>) == 0);</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(strcmp(Marking::kImpossibleBitPattern, <span class="stringliteral">&quot;01&quot;</span>) == 0);</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;  Label done;</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;  <span class="comment">// Since both black and grey have a 1 in the first position and white does</span></div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;  <span class="comment">// not have a 1 there we only need to check one bit.</span></div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;  ldr(load_scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(bitmap_scratch, MemoryChunk::kHeaderSize));</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  tst(mask_scratch, load_scratch);</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;done);</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <span class="keywordflow">if</span> (emit_debug_code()) {</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;    <span class="comment">// Check for impossible bit pattern.</span></div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    Label ok;</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    <span class="comment">// LSL may overflow, making the check conservative.</span></div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    tst(load_scratch, Operand(mask_scratch, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">LSL</a>, 1));</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;    b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;ok);</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    stop(<span class="stringliteral">&quot;Impossible marking bit pattern&quot;</span>);</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    bind(&amp;ok);</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;  }</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;  <span class="comment">// Value is white.  We check whether it is data that doesn&#39;t need scanning.</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  <span class="comment">// Currently only checks for HeapNumber and non-cons strings.</span></div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  Register map = load_scratch;  <span class="comment">// Holds map while checking type.</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  Register length = load_scratch;  <span class="comment">// Holds length of object after testing type.</span></div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;  Label is_data_object;</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;  <span class="comment">// Check for heap-number</span></div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;  ldr(map, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(value, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  CompareRoot(map, Heap::kHeapNumberMapRootIndex);</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  mov(length, Operand(HeapNumber::kSize), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>);</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;is_data_object);</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  <span class="comment">// Check for strings.</span></div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a913f4fdfcba05281542857d54a006e38">kIsIndirectStringTag</a> == 1 &amp;&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a18e6dc79dee8b661595469b94c8bdf56">kIsIndirectStringMask</a> == 1);</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab13cff482340ab78fa710bd979e42132">kNotStringTag</a> == 0x80 &amp;&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">kIsNotStringMask</a> == 0x80);</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;  <span class="comment">// If it&#39;s a string and it&#39;s not a cons string then it&#39;s an object containing</span></div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;  <span class="comment">// no GC pointers.</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;  Register instance_type = load_scratch;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  ldrb(instance_type, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kInstanceTypeOffset));</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  tst(instance_type, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a18e6dc79dee8b661595469b94c8bdf56">kIsIndirectStringMask</a> | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">kIsNotStringMask</a>));</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, value_is_white_and_not_data);</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  <span class="comment">// It&#39;s a non-indirect (non-cons and non-slice) string.</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  <span class="comment">// If it&#39;s external, the length is just ExternalString::kSize.</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;  <span class="comment">// Otherwise it&#39;s String::kHeaderSize + string-&gt;length() * (1 or 2).</span></div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  <span class="comment">// External strings are the only ones with the kExternalStringTag bit</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  <span class="comment">// set.</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031ae4cd2ed8d191fa90f635296dc4c4ffce">kSeqStringTag</a> &amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031a1df74e17e4b4ef9e340770a2538026a7">kExternalStringTag</a>);</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031a9573c2763a4dc28701f9211693bfd103">kConsStringTag</a> &amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031a1df74e17e4b4ef9e340770a2538026a7">kExternalStringTag</a>);</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  tst(instance_type, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031a1df74e17e4b4ef9e340770a2538026a7">kExternalStringTag</a>));</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  mov(length, Operand(ExternalString::kSize), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>);</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;is_data_object);</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  <span class="comment">// Sequential string, either ASCII or UC16.</span></div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;  <span class="comment">// For ASCII (char-size of 1) we shift the smi tag away to get the length.</span></div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;  <span class="comment">// For UC16 (char-size of 2) we just leave the smi tag in place, thereby</span></div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;  <span class="comment">// getting the length multiplied by 2.</span></div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">kOneByteStringTag</a> == 4 &amp;&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">kStringEncodingMask</a> == 4);</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">kSmiTag</a> == 0 &amp;&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3c41c69a6b8cd1517fc62a145fb8f180">kSmiTagSize</a> == 1);</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(value, String::kLengthOffset));</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  tst(instance_type, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">kStringEncodingMask</a>));</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, 1), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">LeaveCC</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>);</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  add(length, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(SeqString::kHeaderSize + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>));</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  and_(length, length, Operand(~<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">kObjectAlignmentMask</a>));</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  bind(&amp;is_data_object);</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;  <span class="comment">// Value is a data object, and it is white.  Mark it black.  Since we know</span></div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  <span class="comment">// that the object is white we can make it black by flipping one bit.</span></div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(bitmap_scratch, MemoryChunk::kHeaderSize));</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  orr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(mask_scratch));</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(bitmap_scratch, MemoryChunk::kHeaderSize));</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  and_(bitmap_scratch, bitmap_scratch, Operand(~Page::kPageAlignmentMask));</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(bitmap_scratch, MemoryChunk::kLiveBytesOffset));</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  add(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(length));</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  str(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(bitmap_scratch, MemoryChunk::kLiveBytesOffset));</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;}</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;<span class="keywordtype">void</span> MacroAssembler::ClampUint8(Register output_reg, Register input_reg) {</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  Usat(output_reg, 8, Operand(input_reg));</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;}</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;<span class="keywordtype">void</span> MacroAssembler::ClampDoubleToUint8(Register result_reg,</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;                                        DwVfpRegister input_reg,</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;                                        LowDwVfpRegister double_scratch) {</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;  Label above_zero;</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  Label done;</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  Label in_bounds;</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  VFPCompareAndSetFlags(input_reg, 0.0);</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8c53e014c65b940b08a44cdc4437305c">gt</a>, &amp;above_zero);</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  <span class="comment">// Double value is less than zero, NaN or Inf, return 0.</span></div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  mov(result_reg, Operand::Zero());</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8e65f1fdd0e1d957735bb841b994a4a1">al</a>, &amp;done);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;  <span class="comment">// Double value is &gt;= 255, return 255.</span></div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  bind(&amp;above_zero);</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  Vmov(double_scratch, 255.0, result_reg);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  VFPCompareAndSetFlags(input_reg, double_scratch);</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a69bfc4ef467b367e3515cdcf693e65db">le</a>, &amp;in_bounds);</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  mov(result_reg, Operand(255));</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8e65f1fdd0e1d957735bb841b994a4a1">al</a>, &amp;done);</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;  <span class="comment">// In 0-255 range, round and truncate.</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;  bind(&amp;in_bounds);</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <span class="comment">// Save FPSCR.</span></div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  vmrs(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;  <span class="comment">// Set rounding mode to round to the nearest integer by clearing bits[23:22].</span></div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;  bic(result_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab2cdfbc643c41b5b1bcc9a2d88f8fc9f">kVFPRoundingModeMask</a>));</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;  vmsr(result_reg);</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  vcvt_s32_f64(double_scratch.low(), input_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a737b236c6625daef385b5e0cd092f0b1a04294ecdee6b57dc13191cb869c645e8">kFPSCRRounding</a>);</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  vmov(result_reg, double_scratch.low());</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="comment">// Restore FPSCR.</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  vmsr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  bind(&amp;done);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;}</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;<span class="keywordtype">void</span> MacroAssembler::Throw(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">BailoutReason</a> reason) {</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  Label throw_start;</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  bind(&amp;throw_start);</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* msg = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae3c559b497bf8e31b3c9e8b55dbb164b">GetBailoutReason</a>(reason);</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <span class="keywordflow">if</span> (msg != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>) {</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    RecordComment(<span class="stringliteral">&quot;Throw message: &quot;</span>);</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;    RecordComment(msg);</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  }</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>, Operand(Smi::FromInt(reason)));</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;  push(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>);</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <span class="comment">// Disable stub call restrictions to always allow calls to throw.</span></div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;  <span class="keywordflow">if</span> (!has_frame_) {</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    <span class="comment">// We don&#39;t actually want to generate a pile of code for this, so just</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <span class="comment">// claim there is a stack frame, without generating one.</span></div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    FrameScope scope(<span class="keyword">this</span>, <a class="code" href="../../d5/d43/property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3ac157bdf0b85a40d2619cbc8bc1ae5fe2">StackFrame::NONE</a>);</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;    CallRuntime(Runtime::kHiddenThrowMessage, 1);</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    CallRuntime(Runtime::kHiddenThrowMessage, 1);</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  }</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;  <span class="comment">// will not return here</span></div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="keywordflow">if</span> (is_const_pool_blocked()) {</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;    <span class="comment">// If the calling code cares throw the exact number of</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    <span class="comment">// instructions generated, we insert padding here to keep the size</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    <span class="comment">// of the ThrowMessage macro constant.</span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kExpectedThrowMessageInstructions = 10;</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    <span class="keywordtype">int</span> throw_instructions = InstructionsGeneratedSince(&amp;throw_start);</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(throw_instructions &lt;= kExpectedThrowMessageInstructions);</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    <span class="keywordflow">while</span> (throw_instructions++ &lt; kExpectedThrowMessageInstructions) {</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;      nop();</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    }</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;  }</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;}</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;<span class="keywordtype">void</span> MacroAssembler::ThrowIf(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cc, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">BailoutReason</a> reason) {</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;  Label <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a67824ecf84f5816f07b74fa956bdbcd2">L</a>;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0c3194971dfd6e181766eb2144fefbc3">NegateCondition</a>(cc), &amp;L);</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  Throw(reason);</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;  <span class="comment">// will not return here</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  bind(&amp;L);</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;}</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;<span class="keywordtype">void</span> MacroAssembler::LoadInstanceDescriptors(Register map,</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;                                             Register descriptors) {</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;  ldr(descriptors, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kDescriptorsOffset));</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;}</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;<span class="keywordtype">void</span> MacroAssembler::NumberOfOwnDescriptors(Register dst, Register map) {</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  ldr(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kBitField3Offset));</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  DecodeField&lt;Map::NumberOfOwnDescriptorsBits&gt;(dst);</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;}</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;<span class="keywordtype">void</span> MacroAssembler::EnumLength(Register dst, Register map) {</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a>(Map::EnumLengthBits::kShift == 0);</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;  ldr(dst, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(map, Map::kBitField3Offset));</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  and_(dst, dst, Operand(Smi::FromInt(Map::EnumLengthBits::kMask)));</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;}</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;<span class="keywordtype">void</span> MacroAssembler::CheckEnumCache(Register null_value, Label* call_runtime) {</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;  Register  empty_fixed_array_value = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">r6</a>;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  LoadRoot(empty_fixed_array_value, Heap::kEmptyFixedArrayRootIndex);</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;  Label next, start;</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">r0</a>);</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  <span class="comment">// Check if the enum length field is properly initialized, indicating that</span></div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  <span class="comment">// there is an enum cache.</span></div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  EnumLength(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>);</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand(Smi::FromInt(kInvalidEnumCacheSentinel)));</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, call_runtime);</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;  jmp(&amp;start);</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;  bind(&amp;next);</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, HeapObject::kMapOffset));</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;  <span class="comment">// For all objects but the receiver, check that the cache is empty.</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  EnumLength(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>);</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">r3</a>, Operand(Smi::FromInt(0)));</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, call_runtime);</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;  bind(&amp;start);</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;  <span class="comment">// Check that there are no elements. Register r2 contains the current JS</span></div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;  <span class="comment">// object we&#39;ve reached through the prototype chain.</span></div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;  Label no_elements;</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, JSObject::kElementsOffset));</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, empty_fixed_array_value);</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, &amp;no_elements);</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;  <span class="comment">// Second chance, the object may be using the empty slow element dictionary.</span></div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;  CompareRoot(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, Heap::kEmptySlowElementDictionaryRootIndex);</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, call_runtime);</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;  bind(&amp;no_elements);</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">r1</a>, Map::kPrototypeOffset));</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  cmp(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">r2</a>, null_value);</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;next);</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;}</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TestJSArrayForAllocationMemento(</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;    Register receiver_reg,</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;    Register scratch_reg,</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    Label* no_memento_found) {</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;  ExternalReference new_space_start =</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;      ExternalReference::new_space_start(isolate());</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;  ExternalReference new_space_allocation_top =</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      ExternalReference::new_space_allocation_top_address(isolate());</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;  add(scratch_reg, receiver_reg,</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;      Operand(JSArray::kSize + AllocationMemento::kSize - <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>));</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;  cmp(scratch_reg, Operand(new_space_start));</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64">lt</a>, no_memento_found);</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(new_space_allocation_top));</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;  ldr(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;  cmp(scratch_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8c53e014c65b940b08a44cdc4437305c">gt</a>, no_memento_found);</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  ldr(scratch_reg, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">MemOperand</a>(scratch_reg, -AllocationMemento::kSize));</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  cmp(scratch_reg,</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;      Operand(isolate()-&gt;factory()-&gt;allocation_memento_map()));</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;}</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;Register <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a88d9568e8cc5ebf58f91fce6c59a9eb3">GetRegisterThatIsNotOneOf</a>(Register reg1,</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;                                   Register reg2,</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;                                   Register reg3,</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;                                   Register reg4,</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;                                   Register reg5,</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;                                   Register reg6) {</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#add97b64d056798429ddf68a76bf990e1">RegList</a> regs = 0;</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;  <span class="keywordflow">if</span> (reg1.is_valid()) regs |= reg1.bit();</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;  <span class="keywordflow">if</span> (reg2.is_valid()) regs |= reg2.bit();</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  <span class="keywordflow">if</span> (reg3.is_valid()) regs |= reg3.bit();</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;  <span class="keywordflow">if</span> (reg4.is_valid()) regs |= reg4.bit();</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  <span class="keywordflow">if</span> (reg5.is_valid()) regs |= reg5.bit();</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;  <span class="keywordflow">if</span> (reg6.is_valid()) regs |= reg6.bit();</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Register::NumAllocatableRegisters(); i++) {</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    Register candidate = Register::FromAllocationIndex(i);</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    <span class="keywordflow">if</span> (regs &amp; candidate.bit()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    <span class="keywordflow">return</span> candidate;</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;  }</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">no_reg</a>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;}</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;<span class="keywordtype">void</span> MacroAssembler::JumpIfDictionaryInPrototypeChain(</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;    Register <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;    Register scratch0,</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;    Register scratch1,</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    Label* found) {</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!scratch1.is(scratch0));</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  Factory* factory = isolate()-&gt;factory();</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  Register current = scratch0;</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  Label loop_again;</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;  <span class="comment">// scratch contained elements pointer.</span></div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;  mov(current, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  <span class="comment">// Loop based on the map going up the prototype chain.</span></div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;  bind(&amp;loop_again);</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;  ldr(current, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(current, HeapObject::kMapOffset));</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;  ldr(scratch1, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(current, Map::kBitField2Offset));</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;  Ubfx(scratch1, scratch1, Map::kElementsKindShift, Map::kElementsKindBitCount);</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;  cmp(scratch1, Operand(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a7c6c4d3aa4658f29b80f0a5c8c40dbe4">DICTIONARY_ELEMENTS</a>));</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">eq</a>, found);</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;  ldr(current, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">FieldMemOperand</a>(current, Map::kPrototypeOffset));</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;  cmp(current, Operand(factory-&gt;null_value()));</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;  b(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">ne</a>, &amp;loop_again);</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;}</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2243fa97f60bc06fa9f2f150870fc2b3">AreAliased</a>(Register reg1,</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;                Register reg2,</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;                Register reg3,</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;                Register reg4,</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;                Register reg5,</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;                Register reg6) {</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;  <span class="keywordtype">int</span> n_of_valid_regs = reg1.is_valid() + reg2.is_valid() +</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    reg3.is_valid() + reg4.is_valid() + reg5.is_valid() + reg6.is_valid();</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#add97b64d056798429ddf68a76bf990e1">RegList</a> regs = 0;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;  <span class="keywordflow">if</span> (reg1.is_valid()) regs |= reg1.bit();</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;  <span class="keywordflow">if</span> (reg2.is_valid()) regs |= reg2.bit();</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;  <span class="keywordflow">if</span> (reg3.is_valid()) regs |= reg3.bit();</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;  <span class="keywordflow">if</span> (reg4.is_valid()) regs |= reg4.bit();</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;  <span class="keywordflow">if</span> (reg5.is_valid()) regs |= reg5.bit();</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  <span class="keywordflow">if</span> (reg6.is_valid()) regs |= reg6.bit();</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  <span class="keywordtype">int</span> n_of_non_aliasing_regs = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae3bdc67cac9b8010aa08b4608a682d8e">NumRegs</a>(regs);</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;  <span class="keywordflow">return</span> n_of_valid_regs != n_of_non_aliasing_regs;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;}</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;CodePatcher::CodePatcher(<a class="code" href="../../d9/da2/namespacedisasm.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* address,</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;                         <span class="keywordtype">int</span> instructions,</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;                         FlushICache flush_cache)</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    : address_(address),</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;      size_(instructions * Assembler::kInstrSize),</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;      masm_(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a>, address, size_ + Assembler::kGap),</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;      flush_cache_(flush_cache) {</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;  <span class="comment">// Create a new macro assembler pointing to the address of the code to patch.</span></div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;  <span class="comment">// The size is adjusted with kGap on order for the assembler to generate size</span></div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;  <span class="comment">// bytes of instructions without failing with buffer size constraints.</span></div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(masm_.reloc_info_writer.pos() == address_ + size_ + Assembler::kGap);</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;}</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;CodePatcher::~CodePatcher() {</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;  <span class="comment">// Indicate that code has changed.</span></div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;  <span class="keywordflow">if</span> (flush_cache_ == FLUSH) {</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    CPU::FlushICache(address_, size_);</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;  }</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;  <span class="comment">// Check that the code was patched as expected.</span></div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(masm_.pc_ == address_ + size_);</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(masm_.reloc_info_writer.pos() == address_ + size_ + Assembler::kGap);</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;}</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;<span class="keywordtype">void</span> CodePatcher::Emit(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac688647eb8d896312d63c312653e6bd4">Instr</a> instr) {</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;  masm()-&gt;emit(instr);</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;}</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;<span class="keywordtype">void</span> CodePatcher::Emit(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> addr) {</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;  masm()-&gt;emit(reinterpret_cast&lt;Instr&gt;(addr));</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;}</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;<span class="keywordtype">void</span> CodePatcher::EmitCondition(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">Condition</a> cond) {</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac688647eb8d896312d63c312653e6bd4">Instr</a> instr = Assembler::instr_at(masm_.pc_);</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;  instr = (instr &amp; ~<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a99fb83031ce9923c84392b4e92f956b5a9e52d7bbbc7d16fa3114c71bba0da9a8">kCondMask</a>) | cond;</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;  masm_.emit(instr);</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;}</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;<span class="keywordtype">void</span> MacroAssembler::TruncatingDiv(Register result,</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;                                   Register dividend,</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;                                   <a class="code" href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> divisor) {</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!dividend.is(result));</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!dividend.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!result.is(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>));</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;  MultiplierAndShift ms(divisor);</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;  mov(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, Operand(ms.multiplier()));</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;  smull(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>, result, dividend, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">ip</a>);</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;  <span class="keywordflow">if</span> (divisor &gt; 0 &amp;&amp; ms.multiplier() &lt; 0) {</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;    add(result, result, Operand(dividend));</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;  }</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  <span class="keywordflow">if</span> (divisor &lt; 0 &amp;&amp; ms.multiplier() &gt; 0) {</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    sub(result, result, Operand(dividend));</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;  }</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;  <span class="keywordflow">if</span> (ms.shift() &gt; 0) mov(result, Operand(result, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca6248dfabcf9a8cf93a2fa0b40c082936">ASR</a>, ms.shift()));</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;  add(result, result, Operand(dividend, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">LSR</a>, 31));</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;}</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;} }  <span class="comment">// namespace v8::internal</span></div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;<span class="preprocessor">#endif  // V8_TARGET_ARCH_ARM</span></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac7f0eb0e10bc8bbb03c793ea1256e329"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">v8::internal::Address</a></div><div class="ttdeci">byte * Address</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00186">globals.h:186</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8ad6581d542c7eaf801284f084478b5fcc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ad6581d542c7eaf801284f084478b5fcc">v8::internal::lo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00105">constants-arm.h:105</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_aa93c2c60a1492707ba7686a2d1579a32"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#aa93c2c60a1492707ba7686a2d1579a32">NULL</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00268">flag-definitions.h:268</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a20f5d86ee21c62c7695e77aacc44a9a4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a20f5d86ee21c62c7695e77aacc44a9a4">v8::internal::TargetAddressStorageMode</a></div><div class="ttdeci">TargetAddressStorageMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00084">macro-assembler-arm.h:84</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a97d86e98faf1fa957813fcad98fecf21adc7588f17692aa631f375290d50a2c8e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a97d86e98faf1fa957813fcad98fecf21adc7588f17692aa631f375290d50a2c8e">v8::internal::INTERNAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00478">v8globals.h:478</a></div></div>
<div class="ttc" id="namespacedisasm_html_a0c8186d9b9b7880309c27230bbb5e69d"><div class="ttname"><a href="../../d9/da2/namespacedisasm.html#a0c8186d9b9b7880309c27230bbb5e69d">disasm::byte</a></div><div class="ttdeci">unsigned char byte</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d84/disasm_8h_source.html#l00033">disasm.h:33</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af6b70770fe43654cad4231e96f96049a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af6b70770fe43654cad4231e96f96049a">v8::internal::kSmiTagMask</a></div><div class="ttdeci">const intptr_t kSmiTagMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l05480">v8.h:5480</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6fe51c108370f1948748482356be1ab2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6fe51c108370f1948748482356be1ab2">v8::internal::kDoubleAlignmentMask</a></div><div class="ttdeci">const intptr_t kDoubleAlignmentMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00053">v8globals.h:53</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aec94f7c51d675bb64581e4560ee0e251aed20cf16e899d22ce34093f1477746b1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251aed20cf16e899d22ce34093f1477746b1">v8::internal::DO_SMI_CHECK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00439">v8globals.h:439</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a2dd387018a07035386a0b646904f2ed2af10c5618e918efcb30e098993503f475"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a2dd387018a07035386a0b646904f2ed2af10c5618e918efcb30e098993503f475">v8::internal::BUILD_STUB_FRAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/db8/frames_8h_source.html#l00959">frames.h:959</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a5adf92f40f8705bd9fc042cd8ed3e2fcab024a717bd5c91ace4ff286471bff954"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fcab024a717bd5c91ace4ff286471bff954">TAG_OBJECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00044">macro-assembler.h:44</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_acf66346cbf0bfc09159ea8ecf1b2f479"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#acf66346cbf0bfc09159ea8ecf1b2f479">v8::internal::r3</a></div><div class="ttdeci">const Register r3</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00228">assembler-arm.h:228</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a8c53e014c65b940b08a44cdc4437305c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8c53e014c65b940b08a44cdc4437305c">v8::internal::gt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00096">constants-arm.h:96</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a8a902f948299e24c7bb53dbe701419a3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a8a902f948299e24c7bb53dbe701419a3">v8::internal::kLdrPCPattern</a></div><div class="ttdeci">const Instr kLdrPCPattern</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00452">constants-arm.h:452</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3884db38d654abf2e032bff0f4054d56"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3884db38d654abf2e032bff0f4054d56">v8::internal::RememberedSetAction</a></div><div class="ttdeci">RememberedSetAction</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00061">macro-assembler-arm.h:61</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a971cd8c986d48e0562fccd6a534b3802"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a971cd8c986d48e0562fccd6a534b3802">v8::internal::d0</a></div><div class="ttdeci">const LowDwVfpRegister d0</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00430">assembler-arm.h:430</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a1e237bf5860e6e63ed67593dc6d03c65"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a1e237bf5860e6e63ed67593dc6d03c65">v8::internal::SYMBOL_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00712">objects.h:712</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad0859fcb9037ff40c6603e0bb9273f34ad2f1491c2b8f33a337f2c8bf6fa1e7e8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34ad2f1491c2b8f33a337f2c8bf6fa1e7e8">v8::internal::MOVW_MOVT_IMMEDIATE_LOADS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00428">v8globals.h:428</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf132b4ad93f3557cd3956577592ba68a18afc6d16f473717903f2562858a66c4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a18afc6d16f473717903f2562858a66c4">v8::internal::NegPreIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00289">constants-arm.h:289</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a90198aa29c84cc5dab5e2da173599dda"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a90198aa29c84cc5dab5e2da173599dda">v8::internal::d31</a></div><div class="ttdeci">const DwVfpRegister d31</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00461">assembler-arm.h:461</a></div></div>
<div class="ttc" id="debug_8h_html"><div class="ttname"><a href="../../db/d16/debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a4fd8ed3f6d0d460e38fde11a12f45240"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a4fd8ed3f6d0d460e38fde11a12f45240">v8::internal::ge</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00094">constants-arm.h:94</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae3bdc67cac9b8010aa08b4608a682d8e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae3bdc67cac9b8010aa08b4608a682d8e">v8::internal::NumRegs</a></div><div class="ttdeci">int NumRegs(RegList reglist)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcf/frames_8cc_source.html#l01589">frames.cc:1589</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1e9da3f5876a63d127dcb5bfbb6e5a36a3847fc27b740af3b42b1c8b23e1e3290"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1e9da3f5876a63d127dcb5bfbb6e5a36a3847fc27b740af3b42b1c8b23e1e3290">v8::internal::kLRHasNotBeenSaved</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00063">macro-assembler-arm.h:63</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a5adf92f40f8705bd9fc042cd8ed3e2fca162096ce362c9495a792c2cd1cbc4138"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca162096ce362c9495a792c2cd1cbc4138">RESULT_CONTAINS_TOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00047">macro-assembler.h:47</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a105546b82eb2e99e172dda630ee4fdc1a6c0c338932b450afc64a0224b4d47baa"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a105546b82eb2e99e172dda630ee4fdc1a6c0c338932b450afc64a0224b4d47baa">v8::internal::DEBUG_BREAK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00274">objects.h:274</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad495a9f61af7fff07d7e97979d1ab854abf8228243e229b8ef4ab53f8317cd260"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad495a9f61af7fff07d7e97979d1ab854abf8228243e229b8ef4ab53f8317cd260">v8::internal::STUB</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/hydrogen_8h_source.html#l00560">hydrogen.h:560</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6d21e1e3147f011143b250a049b0cb66"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6d21e1e3147f011143b250a049b0cb66">v8::internal::r6</a></div><div class="ttdeci">const Register r6</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00231">assembler-arm.h:231</a></div></div>
<div class="ttc" id="runtime_8h_html"><div class="ttname"><a href="../../d3/d51/runtime_8h.html">runtime.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519">v8::internal::cs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00086">constants-arm.h:86</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a5d6600dff6b431c75f2447befc4aece7">v8::internal::ia_w</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00302">constants-arm.h:302</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27ae0fb0de14793fcfd1fb9a841436003e1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ae0fb0de14793fcfd1fb9a841436003e1">v8::internal::FIRST_NONCALLABLE_SPEC_OBJECT_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00847">objects.h:847</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a737b236c6625daef385b5e0cd092f0b1a04294ecdee6b57dc13191cb869c645e8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a737b236c6625daef385b5e0cd092f0b1a04294ecdee6b57dc13191cb869c645e8">v8::internal::kFPSCRRounding</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00378">constants-arm.h:378</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a974a07dae26fe984e240219909cb543e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a974a07dae26fe984e240219909cb543e">v8::internal::Type</a></div><div class="ttdeci">TypeImpl&lt; ZoneTypeConfig &gt; Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00062">property-details.h:62</a></div></div>
<div class="ttc" id="namespaceunibrow_html_a32f2e37ee053cf2ce8ca28d1f74630e5"><div class="ttname"><a href="../../d7/df6/namespaceunibrow.html#a32f2e37ee053cf2ce8ca28d1f74630e5">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dad/unicode_8cc_source.html#l00047">unicode.cc:47</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_add97b64d056798429ddf68a76bf990e1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#add97b64d056798429ddf68a76bf990e1">v8::internal::RegList</a></div><div class="ttdeci">uint32_t RegList</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db8/frames_8h_source.html#l00041">frames.h:41</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aabddd589ce7fd3d829e15265d92dbedca6248dfabcf9a8cf93a2fa0b40c082936"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca6248dfabcf9a8cf93a2fa0b40c082936">v8::internal::ASR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00254">constants-arm.h:254</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a7400184c709423dd1731ad4cbc8e69d4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a7400184c709423dd1731ad4cbc8e69d4">v8::internal::kIsNotInternalizedMask</a></div><div class="ttdeci">const uint32_t kIsNotInternalizedMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00603">objects.h:603</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a7b4bcf1a2476785bc7f80eacbddf1822"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a7b4bcf1a2476785bc7f80eacbddf1822">v8::internal::SaveFPRegsMode</a></div><div class="ttdeci">SaveFPRegsMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dec/assembler_8h_source.html#l00226">assembler.h:226</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a754905f80c48c8866b23aca49699104f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a754905f80c48c8866b23aca49699104f">v8::internal::LAST_NAME_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00818">objects.h:818</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a5adf92f40f8705bd9fc042cd8ed3e2fca6486557d762ee4662ca1dde1e7ceebe2"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca6486557d762ee4662ca1dde1e7ceebe2">PRETENURE_OLD_POINTER_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00054">macro-assembler.h:54</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4b8a2a8e1db04aae0a1cd99b014d787b">v8::internal::PostIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00287">constants-arm.h:287</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a076a45ccce4775ff6116f6e95a57e55a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a076a45ccce4775ff6116f6e95a57e55a">v8::internal::d15</a></div><div class="ttdeci">const LowDwVfpRegister d15</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00445">assembler-arm.h:445</a></div></div>
<div class="ttc" id="checks_8h_html_ac22830a985e1daed0c9eadba8c6f606e"><div class="ttname"><a href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a></div><div class="ttdeci">#define ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00329">checks.h:329</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8affa5b56586c4e21380c84bcb597cc217">v8::internal::eq</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00084">constants-arm.h:84</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aafe5e4a0b571d134a2e5096606bb055f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aafe5e4a0b571d134a2e5096606bb055f">v8::internal::kPointerSizeLog2</a></div><div class="ttdeci">const int kPointerSizeLog2</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00281">globals.h:281</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a42742b6df96d8400b0ff2cf776247a7c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a42742b6df96d8400b0ff2cf776247a7c">v8::internal::kStringRepresentationMask</a></div><div class="ttdeci">const uint32_t kStringRepresentationMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00615">objects.h:615</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6e83dd17c5de4dbc4a77cf6622fd385d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6e83dd17c5de4dbc4a77cf6622fd385d">v8::internal::r2</a></div><div class="ttdeci">const Register r2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00227">assembler-arm.h:227</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a82eb043d79d5c97b659ec88815158ca4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a82eb043d79d5c97b659ec88815158ca4">v8::internal::AllowDeferredHandleDereference</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; DEFERRED_HANDLE_DEREFERENCE_ASSERT, true &gt; AllowDeferredHandleDereference</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d64/assert-scope_8h_source.html#l00234">assert-scope.h:234</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0009b1dd5c4a57eef19c9fc57ef6b8dd"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0009b1dd5c4a57eef19c9fc57ef6b8dd">v8::internal::WhichPowerOf2</a></div><div class="ttdeci">int WhichPowerOf2(uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00057">utils.h:57</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf132b4ad93f3557cd3956577592ba68ae877526aa05f896867aa8b327dcab679"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68ae877526aa05f896867aa8b327dcab679">v8::internal::PreIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00286">constants-arm.h:286</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3489b43407280cc0752430ea0da4e767"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3489b43407280cc0752430ea0da4e767">v8::internal::kObjectAlignmentMask</a></div><div class="ttdeci">const intptr_t kObjectAlignmentMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00045">v8globals.h:45</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a32df3bb76b662e0f3613654187f72aa4a819e97a39906a4b5a6f6eeb9a82efaea"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a32df3bb76b662e0f3613654187f72aa4a819e97a39906a4b5a6f6eeb9a82efaea">v8::internal::OMIT_SMI_CHECK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00062">macro-assembler-arm.h:62</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a308b26597bb7aa3ca777d8527393e11c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a308b26597bb7aa3ca777d8527393e11c">v8::internal::pp</a></div><div class="ttdeci">const Register pp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00049">macro-assembler-arm.h:49</a></div></div>
<div class="ttc" id="bootstrapper_8h_html"><div class="ttname"><a href="../../d9/d41/bootstrapper_8h.html">bootstrapper.h</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_ae491df1d2c24e3751c368155c20fe5ef"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#ae491df1d2c24e3751c368155c20fe5ef">size</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00210">flag-definitions.h:210</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a44ee97292914fbe042fc1b7b3236f7bc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a44ee97292914fbe042fc1b7b3236f7bc">v8::internal::kHeapObjectTagMask</a></div><div class="ttdeci">const intptr_t kHeapObjectTagMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l05475">v8.h:5475</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a58e8654e182fddc4db852328ca31beca"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a58e8654e182fddc4db852328ca31beca">v8::internal::FAST_HOLEY_SMI_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00040">elements-kind.h:40</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_a72ae4718167105f8e7d356f15d71182d"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#a72ae4718167105f8e7d356f15d71182d">flags</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long expose natives in global object expose freeBuffer extension expose gc extension under the specified name expose externalize string extension number of stack frames to capture disable builtin natives files print name of functions for which code is generated use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations always try to OSR functions trace optimize function deoptimization minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions trace debugging JSON request response trace out of bounds accesses to external arrays trace_js_array_abuse automatically set the debug break flag when debugger commands are in the queue abort by crashing maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable always perform global GCs print one trace line following each garbage collection do not print trace line after scavenger collection print statistics of the maximum memory committed for the heap in only print modified registers Don t break for ASM_UNIMPLEMENTED_BREAK macros print stack trace when an illegal exception is thrown randomize hashes to avoid predictable hash Fixed seed to use to hash property Print the time it takes to deserialize the snapshot testing_bool_flag testing_int_flag string flag tmp file in which to serialize heap Print the time it takes to lazily compile hydrogen code stubs concurrent_recompilation concurrent_sweeping Print usage including flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00664">flag-definitions.h:664</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a7c6c4d3aa4658f29b80f0a5c8c40dbe4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a7c6c4d3aa4658f29b80f0a5c8c40dbe4">v8::internal::DICTIONARY_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00053">elements-kind.h:53</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae304077acd37bcdba752ea67584aee9c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae304077acd37bcdba752ea67584aee9c">v8::internal::VmovIndexHi</a></div><div class="ttdeci">const VmovIndex VmovIndexHi</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00769">assembler-arm.h:769</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_register_html_a9fbb542ce0dae274d40866ba432b411a"><div class="ttname"><a href="../../dc/d02/structv8_1_1internal_1_1_register.html#a9fbb542ce0dae274d40866ba432b411a">v8::internal::Register::code</a></div><div class="ttdeci">int code() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00205">assembler-arm.h:205</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a54ec24cd23f46645d647c42fc13b76daa8a04ffb719cd6530da36a0330bb5e396"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa8a04ffb719cd6530da36a0330bb5e396">CALL_FUNCTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00034">macro-assembler.h:34</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a5bc761f4d3f8b632b8920cc02760bf91">v8::internal::FAST_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00045">elements-kind.h:45</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_adfa873894470d6950e21cab8c6dadcd1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#adfa873894470d6950e21cab8c6dadcd1">v8::internal::flag</a></div><div class="ttdeci">kInstanceClassNameOffset flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l05115">objects-inl.h:5115</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aaca25d624cf863f786f67137c62aa11d">v8::internal::ne</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00085">constants-arm.h:85</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a0ad7769f602705d0703a3685f5768c7b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a0ad7769f602705d0703a3685f5768c7b">v8::internal::pl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00089">constants-arm.h:89</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_ac332010864c0766b119667235453438f"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#ac332010864c0766b119667235453438f">ARMv7</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for ARMv7(ARM only)&quot;) DEFINE_bool(enable_32dregs</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a99d9388a6eafa6e265aa8560a14d9d39"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a99d9388a6eafa6e265aa8560a14d9d39">v8::internal::TaggingMode</a></div><div class="ttdeci">TaggingMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00053">macro-assembler-arm.h:53</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad4f494bd5431b8eccc84229bac14d55e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad4f494bd5431b8eccc84229bac14d55e">v8::internal::d16</a></div><div class="ttdeci">const DwVfpRegister d16</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00446">assembler-arm.h:446</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab13cff482340ab78fa710bd979e42132"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab13cff482340ab78fa710bd979e42132">v8::internal::kNotStringTag</a></div><div class="ttdeci">const uint32_t kNotStringTag</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00599">objects.h:599</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_adb5160267e5d43b44aff76bf463b8cff"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#adb5160267e5d43b44aff76bf463b8cff">v8::internal::sp</a></div><div class="ttdeci">const Register sp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00242">assembler-arm.h:242</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_adc45819f141f29659f475e3fecd472f9"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#adc45819f141f29659f475e3fecd472f9">v8::internal::kVFPDefaultNaNModeControlBit</a></div><div class="ttdeci">const uint32_t kVFPDefaultNaNModeControlBit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00390">constants-arm.h:390</a></div></div>
<div class="ttc" id="checks_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00052">checks.h:52</a></div></div>
<div class="ttc" id="structv8_1_1internal_1_1_register_html_a7ae16703dfa13559556ef2ef0859d997"><div class="ttname"><a href="../../dc/d02/structv8_1_1internal_1_1_register.html#a7ae16703dfa13559556ef2ef0859d997">v8::internal::Register::bit</a></div><div class="ttdeci">int bit() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00209">assembler-arm.h:209</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae491df1d2c24e3751c368155c20fe5ef"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae491df1d2c24e3751c368155c20fe5ef">v8::internal::size</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object size</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00211">flags.cc:211</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dbabdd511fa43925dca5a641eda565261e7">v8::internal::SetCC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00238">constants-arm.h:238</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afe4710d7b38a85f65707a581af07abf5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afe4710d7b38a85f65707a581af07abf5">v8::internal::d14</a></div><div class="ttdeci">const LowDwVfpRegister d14</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00444">assembler-arm.h:444</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017">v8::internal::ElementsKind</a></div><div class="ttdeci">ElementsKind</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00036">elements-kind.h:36</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a605c1ec41394d49785f9b9c1d3319e5b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a605c1ec41394d49785f9b9c1d3319e5b">v8::internal::kDoubleSize</a></div><div class="ttdeci">const int kDoubleSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00266">globals.h:266</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0a71221094570a6a00adeb973c92190d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0a71221094570a6a00adeb973c92190d">v8::internal::BailoutReason</a></div><div class="ttdeci">BailoutReason</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l01424">objects.h:1424</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aef300d7cb2b98426cb6e75540252fe9a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aef300d7cb2b98426cb6e75540252fe9a">v8::internal::d13</a></div><div class="ttdeci">const LowDwVfpRegister d13</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00443">assembler-arm.h:443</a></div></div>
<div class="ttc" id="frames-arm64_8h_html_a5270da26d771451795798dce0d1e178c"><div class="ttname"><a href="../../de/de5/frames-arm64_8h.html#a5270da26d771451795798dce0d1e178c">kNumSafepointSavedRegisters</a></div><div class="ttdeci">#define kNumSafepointSavedRegisters</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de5/frames-arm64_8h_source.html#l00052">frames-arm64.h:52</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6a112b9cb4a4dfcf71bd6ea4b7f601dba598910367fe3e70496d1a0b77008ee3f">v8::internal::LeaveCC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00239">constants-arm.h:239</a></div></div>
<div class="ttc" id="property-details_8h_html_ad8c75160526c9af7c8fa09418542c4e3ac157bdf0b85a40d2619cbc8bc1ae5fe2"><div class="ttname"><a href="../../d5/d43/property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d43/property-details_8h_source.html#l00037">property-details.h:37</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a27e7e0d72e031a1f8cf71a9a7fdefaa7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a27e7e0d72e031a1f8cf71a9a7fdefaa7">v8::internal::LAST_NONCALLABLE_SPEC_OBJECT_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00848">objects.h:848</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a2dd387018a07035386a0b646904f2ed2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a2dd387018a07035386a0b646904f2ed2">v8::internal::PrologueFrameMode</a></div><div class="ttdeci">PrologueFrameMode</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db8/frames_8h_source.html#l00957">frames.h:957</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a18e6dc79dee8b661595469b94c8bdf56"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a18e6dc79dee8b661595469b94c8bdf56">v8::internal::kIsIndirectStringMask</a></div><div class="ttdeci">const uint32_t kIsIndirectStringMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00622">objects.h:622</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9f95d146ab891894f82321e43cd8005e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9f95d146ab891894f82321e43cd8005e">v8::internal::ip</a></div><div class="ttdeci">const Register ip</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00241">assembler-arm.h:241</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a113747f07e8621eed53e102993358774"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a113747f07e8621eed53e102993358774">v8::internal::r9</a></div><div class="ttdeci">const Register r9</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00237">assembler-arm.h:237</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ade2f76ca31816a0649d08bc8856fd56b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">v8::internal::kPointerSize</a></div><div class="ttdeci">const int kPointerSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00268">globals.h:268</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a77dd0d910751ab1628781fb29adc69d8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a77dd0d910751ab1628781fb29adc69d8">v8::internal::MAP_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00715">objects.h:715</a></div></div>
<div class="ttc" id="assembler-arm_8h_html_a9dd0c0394c2c4403d04203fb3d9df209"><div class="ttname"><a href="../../dd/dcd/assembler-arm_8h.html#a9dd0c0394c2c4403d04203fb3d9df209">kScratchDoubleReg</a></div><div class="ttdeci">#define kScratchDoubleReg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00487">assembler-arm.h:487</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad0859fcb9037ff40c6603e0bb9273f34aecef16611572613b5d1267294a74b827"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34aecef16611572613b5d1267294a74b827">v8::internal::VFP32DREGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00429">v8globals.h:429</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac688647eb8d896312d63c312653e6bd4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac688647eb8d896312d63c312653e6bd4">v8::internal::Instr</a></div><div class="ttdeci">int32_t Instr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00147">constants-arm.h:147</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8aac1113e50f7f1460beeaeeba69f63701"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8aac1113e50f7f1460beeaeeba69f63701">v8::internal::ls</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00093">constants-arm.h:93</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0a8fa6d618b69c17a399f61e9a4b56b3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0a8fa6d618b69c17a399f61e9a4b56b3">v8::internal::kZapValue</a></div><div class="ttdeci">const Address kZapValue</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00082">v8globals.h:82</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_a66b940b179a9a21572629d3d5c854cb4"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#a66b940b179a9a21572629d3d5c854cb4">map</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf map</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00349">flag-definitions.h:349</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a36d4343b9bd1bc95a5e5013dbb13f94c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">v8::internal::kHeapObjectTag</a></div><div class="ttdeci">const int kHeapObjectTag</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l05473">v8.h:5473</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ada66adab5e750853950daf4371db1392"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">v8::internal::IsAligned</a></div><div class="ttdeci">bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00211">utils.h:211</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a69bfc4ef467b367e3515cdcf693e65db"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a69bfc4ef467b367e3515cdcf693e65db">v8::internal::le</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00097">constants-arm.h:97</a></div></div>
<div class="ttc" id="assembler-mips_8h_html_a8e0fbe20f00d120156ea1d9a3d978d30"><div class="ttname"><a href="../../d2/d46/assembler-mips_8h.html#a8e0fbe20f00d120156ea1d9a3d978d30">cp</a></div><div class="ttdeci">#define cp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d46/assembler-mips_8h_source.html#l00316">assembler-mips.h:316</a></div></div>
<div class="ttc" id="codegen_8h_html"><div class="ttname"><a href="../../d1/d39/codegen_8h.html">codegen.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9e9f6458e65e4f27fba1d3fb66911f27"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9e9f6458e65e4f27fba1d3fb66911f27">v8::internal::pc</a></div><div class="ttdeci">const Register pc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00244">assembler-arm.h:244</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a20f5d86ee21c62c7695e77aacc44a9a4a9b3e3e45e3d0ea6ee19b1adb970d557f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a20f5d86ee21c62c7695e77aacc44a9a4a9b3e3e45e3d0ea6ee19b1adb970d557f">v8::internal::NEVER_INLINE_TARGET_ADDRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00086">macro-assembler-arm.h:86</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a5adf92f40f8705bd9fc042cd8ed3e2fca36181690955e34f1445c12049fb2677c"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca36181690955e34f1445c12049fb2677c">DOUBLE_ALIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00052">macro-assembler.h:52</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf132b4ad93f3557cd3956577592ba68a58f89ea394575eb2e0940a890ad02928"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a58f89ea394575eb2e0940a890ad02928">v8::internal::Offset</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00285">constants-arm.h:285</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca681b15a8761fbce187b9449681fdb700">v8::internal::LSL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00252">constants-arm.h:252</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af06c0d22ef5e5ddc1fec3c9af83547e2af1f6c8b770767d0984de7604de8708f9"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2af1f6c8b770767d0984de7604de8708f9">v8::internal::ia</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00298">constants-arm.h:298</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a73c5ad80dd8c4842fdfe80fcfab50484"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a73c5ad80dd8c4842fdfe80fcfab50484">v8::internal::r0</a></div><div class="ttdeci">const Register r0</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00225">assembler-arm.h:225</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00659">objects.h:659</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab46d6fb6aab3e552e9fb0ab7fe9212ba"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab46d6fb6aab3e552e9fb0ab7fe9212ba">v8::internal::IsPowerOf2</a></div><div class="ttdeci">bool IsPowerOf2(T x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00051">utils.h:51</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aaa2b5552afaab806ac61a34b16e7a1c7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aaa2b5552afaab806ac61a34b16e7a1c7">v8::internal::TenToThe</a></div><div class="ttdeci">int TenToThe(int exponent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00880">utils.h:880</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_macro_assembler_html_adf95c7bdba7635e6435320dabd72edc2"><div class="ttname"><a href="../../d8/db1/classv8_1_1internal_1_1_macro_assembler.html#adf95c7bdba7635e6435320dabd72edc2">v8::internal::MacroAssembler::MacroAssembler</a></div><div class="ttdeci">MacroAssembler(Isolate *isolate, void *buffer, int size)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a90286bd943f9eeda91de18b38aee2d37"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a90286bd943f9eeda91de18b38aee2d37">v8::internal::negative</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0a/assembler-ia32_8h_source.html#l00285">assembler-ia32.h:285</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aff85f0a2c44538aab092f92d25039773"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aff85f0a2c44538aab092f92d25039773">v8::internal::kStringTag</a></div><div class="ttdeci">const uint32_t kStringTag</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00598">objects.h:598</a></div></div>
<div class="ttc" id="assembler-mips_8h_html_ac635718ef11c22ad46f5c0ea7f3391d9"><div class="ttname"><a href="../../d2/d46/assembler-mips_8h.html#ac635718ef11c22ad46f5c0ea7f3391d9">kRootRegister</a></div><div class="ttdeci">#define kRootRegister</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d46/assembler-mips_8h_source.html#l00315">assembler-mips.h:315</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a90fd9990c35530ac962d10e8e0eefd98"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a90fd9990c35530ac962d10e8e0eefd98">v8::internal::kInternalizedTag</a></div><div class="ttdeci">const uint32_t kInternalizedTag</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00605">objects.h:605</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af06c0d22ef5e5ddc1fec3c9af83547e2a652c665f663c7c1acd0046db6683c647">v8::internal::db_w</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00303">constants-arm.h:303</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0e008753fb0a146213a1b3822fae9031a9573c2763a4dc28701f9211693bfd103"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031a9573c2763a4dc28701f9211693bfd103">v8::internal::kConsStringTag</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00618">objects.h:618</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a0fb80d1e7fafc4b00df717805a1c83ea"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a0fb80d1e7fafc4b00df717805a1c83ea">v8::internal::cc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00087">constants-arm.h:87</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">v8::internal::LAST_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00816">objects.h:816</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a54ec24cd23f46645d647c42fc13b76da"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76da">InvokeFlag</a></div><div class="ttdeci">InvokeFlag</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00033">macro-assembler.h:33</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a54ec24cd23f46645d647c42fc13b76daa4b42ca0575007ffd974842dfa51433a4"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a54ec24cd23f46645d647c42fc13b76daa4b42ca0575007ffd974842dfa51433a4">JUMP_FUNCTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00035">macro-assembler.h:35</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a5adf92f40f8705bd9fc042cd8ed3e2fc"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fc">AllocationFlags</a></div><div class="ttdeci">AllocationFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00040">macro-assembler.h:40</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf132b4ad93f3557cd3956577592ba68ae4c2c115f305321156b13c2e08e9e949"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68ae4c2c115f305321156b13c2e08e9e949">v8::internal::NegOffset</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00288">constants-arm.h:288</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a04e9f183f36ca901c4fbd71948c6651a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a04e9f183f36ca901c4fbd71948c6651a">v8::internal::lr</a></div><div class="ttdeci">const Register lr</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00243">assembler-arm.h:243</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_a58a844ea91a6b0fd681a92930d913948"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#a58a844ea91a6b0fd681a92930d913948">shift</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array shift</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00210">flag-definitions.h:210</a></div></div>
<div class="ttc" id="shell_8cc_html_a3d8d27d72275827406db2004cefa1a07"><div class="ttname"><a href="../../dd/d51/shell_8cc.html#a3d8d27d72275827406db2004cefa1a07">Load</a></div><div class="ttdeci">void Load(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;args)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d51/shell_8cc_source.html#l00171">shell.cc:171</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae77d2fa4643ef916a7813c2ef8e8ef81a67824ecf84f5816f07b74fa956bdbcd2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae77d2fa4643ef916a7813c2ef8e8ef81a67824ecf84f5816f07b74fa956bdbcd2">v8::internal::L</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00189">constants-arm.h:189</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a478a56a8b5b2d4402ab1d181a309afaf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a478a56a8b5b2d4402ab1d181a309afaf">v8::internal::kIsNotStringMask</a></div><div class="ttdeci">const uint32_t kIsNotStringMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00597">objects.h:597</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a88d9568e8cc5ebf58f91fce6c59a9eb3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a88d9568e8cc5ebf58f91fce6c59a9eb3">v8::internal::GetRegisterThatIsNotOneOf</a></div><div class="ttdeci">Register GetRegisterThatIsNotOneOf(Register reg1, Register reg2=no_reg, Register reg3=no_reg, Register reg4=no_reg, Register reg5=no_reg, Register reg6=no_reg)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5e325b47be17d36b12096ad1d73067b1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5e325b47be17d36b12096ad1d73067b1">v8::internal::r1</a></div><div class="ttdeci">const Register r1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00226">assembler-arm.h:226</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae3c559b497bf8e31b3c9e8b55dbb164b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae3c559b497bf8e31b3c9e8b55dbb164b">v8::internal::GetBailoutReason</a></div><div class="ttdeci">const char * GetBailoutReason(BailoutReason reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7c/objects_8cc_source.html#l16437">objects.cc:16437</a></div></div>
<div class="ttc" id="assembler-arm_8h_html_a9d32ad7886e92c083fac96736bc7b951"><div class="ttname"><a href="../../dd/dcd/assembler-arm_8h.html#a9d32ad7886e92c083fac96736bc7b951">kDoubleRegZero</a></div><div class="ttdeci">#define kDoubleRegZero</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00486">assembler-arm.h:486</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad0859fcb9037ff40c6603e0bb9273f34aa5dd5f66ef32407acb5ba62d7719f430"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34aa5dd5f66ef32407acb5ba62d7719f430">v8::internal::UNALIGNED_ACCESSES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00427">v8globals.h:427</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a66002f6ad3e136f3c4f139f9c775ae29"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a66002f6ad3e136f3c4f139f9c775ae29">v8::internal::handle</a></div><div class="ttdeci">Handle&lt; T &gt; handle(T *t, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d23/handles_8h_source.html#l00103">handles.h:103</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a720d469be2b7f347020495a7c05a7b3d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a720d469be2b7f347020495a7c05a7b3d">v8::internal::kLdrPpPattern</a></div><div class="ttdeci">const Instr kLdrPpPattern</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afd5d2609f1401f3e4750cb6ede199d43"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afd5d2609f1401f3e4750cb6ede199d43">v8::internal::FieldMemOperand</a></div><div class="ttdeci">MemOperand FieldMemOperand(Register object, int offset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00042">macro-assembler-arm.h:42</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a5adf92f40f8705bd9fc042cd8ed3e2fca5a6f701354a49210425d61c970d294f7"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca5a6f701354a49210425d61c970d294f7">SIZE_IN_WORDS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00050">macro-assembler.h:50</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0e008753fb0a146213a1b3822fae9031a1df74e17e4b4ef9e340770a2538026a7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031a1df74e17e4b4ef9e340770a2538026a7">v8::internal::kExternalStringTag</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00619">objects.h:619</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a120129960270720fe1e85f660c6157ac"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a120129960270720fe1e85f660c6157ac">v8::internal::kNumSafepointRegisters</a></div><div class="ttdeci">const int kNumSafepointRegisters</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d1e/frames-arm_8h_source.html#l00092">frames-arm.h:92</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_ab91e71e972251cbfe502d5f3856e5762"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#ab91e71e972251cbfe502d5f3856e5762">code</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra code(assertions) for debugging&quot;) DEFINE_bool(code_comments</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a2112dbdb049f53df83b3ba6fcbf13dc7aa1535ce8fd6caf08009dcae925741d9b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a2112dbdb049f53df83b3ba6fcbf13dc7aa1535ce8fd6caf08009dcae925741d9b">v8::internal::MOV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00166">constants-arm.h:166</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aabddd589ce7fd3d829e15265d92dbedca720892e3268709522c2d8e165c2617f5">v8::internal::LSR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00253">constants-arm.h:253</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afc5cf46a5da53929e9dc1e4fb4025685"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afc5cf46a5da53929e9dc1e4fb4025685">v8::internal::VmovIndexLo</a></div><div class="ttdeci">const VmovIndex VmovIndexLo</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00768">assembler-arm.h:768</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a8e65f1fdd0e1d957735bb841b994a4a1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a8e65f1fdd0e1d957735bb841b994a4a1">v8::internal::al</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00098">constants-arm.h:98</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a474144638686b78d9fcad86e8cd92c64"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a474144638686b78d9fcad86e8cd92c64">v8::internal::kPointerAlignment</a></div><div class="ttdeci">const intptr_t kPointerAlignment</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00048">v8globals.h:48</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a02670a3c9633129c524842afc57c106d"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a02670a3c9633129c524842afc57c106d">v8::internal::JS_FUNCTION_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00812">objects.h:812</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae8fdd39bffcc13b291c4fa04a9e185cb"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae8fdd39bffcc13b291c4fa04a9e185cb">v8::internal::MemOperand</a></div><div class="ttdeci">Operand MemOperand</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d46/macro-assembler-ia32_8h_source.html#l00040">macro-assembler-ia32.h:40</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3c41c69a6b8cd1517fc62a145fb8f180"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3c41c69a6b8cd1517fc62a145fb8f180">v8::internal::kSmiTagSize</a></div><div class="ttdeci">const int kSmiTagSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l05479">v8.h:5479</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aeea3d03558c87a206c7bb04771e951a6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aeea3d03558c87a206c7bb04771e951a6">v8::internal::CopyBytes</a></div><div class="ttdeci">void CopyBytes(uint8_t *target, uint8_t *source)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de1/runtime_8cc_source.html#l01309">runtime.cc:1309</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8">v8::internal::Condition</a></div><div class="ttdeci">Condition</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00081">constants-arm.h:81</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a99d9388a6eafa6e265aa8560a14d9d39ad307ce831e2c53c4a1cf52e803215021"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a99d9388a6eafa6e265aa8560a14d9d39ad307ce831e2c53c4a1cf52e803215021">v8::internal::TAG_RESULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00055">macro-assembler-arm.h:55</a></div></div>
<div class="ttc" id="isolate-inl_8h_html"><div class="ttname"><a href="../../d3/d36/isolate-inl_8h.html">isolate-inl.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0c3194971dfd6e181766eb2144fefbc3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0c3194971dfd6e181766eb2144fefbc3">v8::internal::NegateCondition</a></div><div class="ttdeci">Condition NegateCondition(Condition cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00109">constants-arm.h:109</a></div></div>
<div class="ttc" id="checks_8h_html_a9f578a62e6cedf3f56577f294abe2713"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a></div><div class="ttdeci">#define ASSERT_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00330">checks.h:330</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a5adf92f40f8705bd9fc042cd8ed3e2fca6d5c0de610a2bd906aa183e1ac71b7da"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fca6d5c0de610a2bd906aa183e1ac71b7da">NO_ALLOCATION_FLAGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00042">macro-assembler.h:42</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae9f5713dec55d727bb35392cec6190ce">v8::internal::hi</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00092">constants-arm.h:92</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af695344577b6def40287224263a9d3aa"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af695344577b6def40287224263a9d3aa">v8::internal::kOneByteStringTag</a></div><div class="ttdeci">const uint32_t kOneByteStringTag</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00611">objects.h:611</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a484fd1d5b717caae6eec9a21968d3b12"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a484fd1d5b717caae6eec9a21968d3b12">v8::internal::kSmiTag</a></div><div class="ttdeci">const int kSmiTag</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l05478">v8.h:5478</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a876993158b491f4626155b468ffb6edc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a876993158b491f4626155b468ffb6edc">v8::internal::zero</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0a/assembler-ia32_8h_source.html#l00297">assembler-ia32.h:297</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8adde6ecd6406700aa000b213c843a3091"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8adde6ecd6406700aa000b213c843a3091">v8::internal::mi</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00088">constants-arm.h:88</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aec94f7c51d675bb64581e4560ee0e251"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251">v8::internal::SmiCheckType</a></div><div class="ttdeci">SmiCheckType</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00437">v8globals.h:437</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a913f4fdfcba05281542857d54a006e38"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a913f4fdfcba05281542857d54a006e38">v8::internal::kIsIndirectStringTag</a></div><div class="ttdeci">const uint32_t kIsIndirectStringTag</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00623">objects.h:623</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a32df3bb76b662e0f3613654187f72aa4a9633f2089827507b40a10935839ed134"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a32df3bb76b662e0f3613654187f72aa4a9633f2089827507b40a10935839ed134">v8::internal::INLINE_SMI_CHECK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00062">macro-assembler-arm.h:62</a></div></div>
<div class="ttc" id="heap-snapshot-generator_8cc_html_aab49963775d0eef29ecab5e60bdd31e6"><div class="ttname"><a href="../../d4/d7d/heap-snapshot-generator_8cc.html#aab49963775d0eef29ecab5e60bdd31e6">obj</a></div><div class="ttdeci">HeapObject * obj</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7d/heap-snapshot-generator_8cc_source.html#l00533">heap-snapshot-generator.cc:533</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a99fb83031ce9923c84392b4e92f956b5a9e52d7bbbc7d16fa3114c71bba0da9a8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a99fb83031ce9923c84392b4e92f956b5a9e52d7bbbc7d16fa3114c71bba0da9a8">v8::internal::kCondMask</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00220">constants-arm.h:220</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac667b904858a97154268e29dec306a21"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac667b904858a97154268e29dec306a21">v8::internal::false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00171">flags.cc:171</a></div></div>
<div class="ttc" id="macro-assembler_8h_html_a5adf92f40f8705bd9fc042cd8ed3e2fcac51c279872f869f3a0a37f213b95ea8c"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html#a5adf92f40f8705bd9fc042cd8ed3e2fcac51c279872f869f3a0a37f213b95ea8c">PRETENURE_OLD_DATA_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/macro-assembler_8h_source.html#l00056">macro-assembler.h:56</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae7773e084aaa4f7cea3199510ecd27ac"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae7773e084aaa4f7cea3199510ecd27ac">v8::internal::kPageSizeBits</a></div><div class="ttdeci">const int kPageSizeBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00095">v8globals.h:95</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_a5adc5ec2f1a2af41381abab75250b1c8"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#a5adc5ec2f1a2af41381abab75250b1c8">mode</a></div><div class="ttdeci">enable upcoming ES6 features enable harmony block scoping enable harmony enable harmony proxies enable harmony generators enable harmony numeric enable harmony string enable harmony math functions harmony_scoping harmony_symbols harmony_collections harmony_iteration harmony_strings harmony_scoping harmony_maths tracks arrays with only smi values Optimize object Array DOM strings and string pretenure call new trace pretenuring decisions of HAllocate instructions track fields with only smi values track fields with heap values track_fields track_fields Enables optimizations which favor memory size over execution speed use string slices optimization filter maximum number of GVN fix point iterations use function inlining use allocation folding eliminate write barriers targeting allocations in optimized code maximum source size in bytes considered for a single inlining maximum cumulative number of AST nodes considered for inlining crankshaft harvests type feedback from stub cache trace check elimination phase hydrogen tracing filter trace hydrogen to given file name trace inlining decisions trace store elimination trace all use positions trace global value numbering trace hydrogen escape analysis trace the tracking of allocation sites trace map generalization environment for every instruction deoptimize every n garbage collections put a break point before deoptimizing deoptimize uncommon cases use on stack replacement trace array bounds check elimination perform array index dehoisting use load elimination use store elimination use constant folding eliminate unreachable code number of stress runs when picking a function to watch for shared function not JSFunction itself flushes the cache of optimized code for closures on every GC functions with arguments object maximum number of escape analysis fix point iterations allow uint32 values on optimize frames if they are used only in safe operations track concurrent recompilation artificial compilation delay in ms concurrent on stack replacement do not emit check maps for constant values that have a leaf deoptimize the optimized code if the layout of the maps changes number of stack frames inspected by the profiler percentage of ICs that must have type info to allow optimization extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of VFP3 instructions if available enable use of NEON instructions if enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of d16 d31 registers on ARM this requires VFP3 force all emitted branches to be in long mode(MIPS only)&quot;)  DEFINE_string(expose_natives_as</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab2cdfbc643c41b5b1bcc9a2d88f8fc9f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab2cdfbc643c41b5b1bcc9a2d88f8fc9f">v8::internal::kVFPRoundingModeMask</a></div><div class="ttdeci">const uint32_t kVFPRoundingModeMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00412">constants-arm.h:412</a></div></div>
<div class="ttc" id="cpu-profiler_8h_html"><div class="ttname"><a href="../../d7/d16/cpu-profiler_8h.html">cpu-profiler.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a433bbae437dfea4f24022a44f95ed5bf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a433bbae437dfea4f24022a44f95ed5bf">v8::internal::no_reg</a></div><div class="ttdeci">const Register no_reg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00223">assembler-arm.h:223</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a53e49338f6caabf2bfbeb3720c50f6da"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a53e49338f6caabf2bfbeb3720c50f6da">v8::internal::d1</a></div><div class="ttdeci">const LowDwVfpRegister d1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00431">assembler-arm.h:431</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017aedc6877512bc380ec585c711582b57c5">v8::internal::FAST_SMI_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00039">elements-kind.h:39</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae943a5add2fba4b841ff0cb6788d7df3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae943a5add2fba4b841ff0cb6788d7df3">v8::internal::fp</a></div><div class="ttdeci">const Register fp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00240">assembler-arm.h:240</a></div></div>
<div class="ttc" id="checks_8h_html_a5842480f337ef2ee4c17fc82cc4b57cd"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a5842480f337ef2ee4c17fc82cc4b57cd">STATIC_ASSERT</a></div><div class="ttdeci">#define STATIC_ASSERT(test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00341">checks.h:341</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab03f862a07af30b4e1f1a3552f3a9017a6c3451be7265aec5faee370c7d0acbf6">v8::internal::FAST_HOLEY_ELEMENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/elements-kind_8h_source.html#l00046">elements-kind.h:46</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8ae14d832f844ebf077fcccd668947dde3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8ae14d832f844ebf077fcccd668947dde3">v8::internal::hs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00104">constants-arm.h:104</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a1cf458ec3dae42e4691c2205e51b9d64">v8::internal::lt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00095">constants-arm.h:95</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0e008753fb0a146213a1b3822fae9031ae4cd2ed8d191fa90f635296dc4c4ffce"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0e008753fb0a146213a1b3822fae9031ae4cd2ed8d191fa90f635296dc4c4ffce">v8::internal::kSeqStringTag</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00617">objects.h:617</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a32df3bb76b662e0f3613654187f72aa4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a32df3bb76b662e0f3613654187f72aa4">v8::internal::SmiCheck</a></div><div class="ttdeci">SmiCheck</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00062">macro-assembler-arm.h:62</a></div></div>
<div class="ttc" id="frames-arm64_8h_html_abad8a9f61695ae29fb2d0dc3384e0daf"><div class="ttname"><a href="../../de/de5/frames-arm64_8h.html#abad8a9f61695ae29fb2d0dc3384e0daf">kSafepointSavedRegisters</a></div><div class="ttdeci">#define kSafepointSavedRegisters</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de5/frames-arm64_8h_source.html#l00051">frames-arm64.h:51</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1e9da3f5876a63d127dcb5bfbb6e5a36"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1e9da3f5876a63d127dcb5bfbb6e5a36">v8::internal::LinkRegisterStatus</a></div><div class="ttdeci">LinkRegisterStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/macro-assembler-arm_8h_source.html#l00063">macro-assembler-arm.h:63</a></div></div>
<div class="ttc" id="heap-snapshot-generator_8cc_html_aac8e41bb723dcce98ff44836e43b76d0"><div class="ttname"><a href="../../d4/d7d/heap-snapshot-generator_8cc.html#aac8e41bb723dcce98ff44836e43b76d0">expected_size</a></div><div class="ttdeci">int expected_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7d/heap-snapshot-generator_8cc_source.html#l00534">heap-snapshot-generator.cc:534</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aec94f7c51d675bb64581e4560ee0e251a68f546db1d78edd21e128b742d2403dc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aec94f7c51d675bb64581e4560ee0e251a68f546db1d78edd21e128b742d2403dc">v8::internal::DONT_DO_SMI_CHECK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00438">v8globals.h:438</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac7b0f32eedd164ec9bd3138a129db9b8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac7b0f32eedd164ec9bd3138a129db9b8">v8::internal::kDoubleAlignment</a></div><div class="ttdeci">const intptr_t kDoubleAlignment</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00052">v8globals.h:52</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab81d3518ce57dd364c1d60e0045d4a92"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab81d3518ce57dd364c1d60e0045d4a92">v8::internal::kCharSize</a></div><div class="ttdeci">const int kCharSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00261">globals.h:261</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf">v8::internal::FIRST_NONSTRING_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00821">objects.h:821</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a648580a9b912c1250ea172efd81ec3c7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a648580a9b912c1250ea172efd81ec3c7">v8::internal::r5</a></div><div class="ttdeci">const Register r5</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00230">assembler-arm.h:230</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad0859fcb9037ff40c6603e0bb9273f34a91da77e9814991c0a4c2ddc422c41cba"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad0859fcb9037ff40c6603e0bb9273f34a91da77e9814991c0a4c2ddc422c41cba">v8::internal::VFP3</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00424">v8globals.h:424</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac5ad29149b1cedc93909ab1642e66a84"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac5ad29149b1cedc93909ab1642e66a84">v8::internal::kStringEncodingMask</a></div><div class="ttdeci">const uint32_t kStringEncodingMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00609">objects.h:609</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_abf132b4ad93f3557cd3956577592ba68a4e15368c9094ed58852d1a5c0ebffaa2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#abf132b4ad93f3557cd3956577592ba68a4e15368c9094ed58852d1a5c0ebffaa2">v8::internal::NegPostIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00290">constants-arm.h:290</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a2243fa97f60bc06fa9f2f150870fc2b3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a2243fa97f60bc06fa9f2f150870fc2b3">v8::internal::AreAliased</a></div><div class="ttdeci">bool AreAliased(const CPURegister &amp;reg1, const CPURegister &amp;reg2, const CPURegister &amp;reg3=NoReg, const CPURegister &amp;reg4=NoReg, const CPURegister &amp;reg5=NoReg, const CPURegister &amp;reg6=NoReg, const CPURegister &amp;reg7=NoReg, const CPURegister &amp;reg8=NoReg)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a754b1f214379cc086e644b1d002b0ea1"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a754b1f214379cc086e644b1d002b0ea1">v8::internal::r4</a></div><div class="ttdeci">const Register r4</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00229">assembler-arm.h:229</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5452db0fb9a1a5e8be1bd0d1e0fad052.html">arm</a></li><li class="navelem"><a class="el" href="../../d3/d09/macro-assembler-arm_8cc.html">macro-assembler-arm.cc</a></li>
    <li class="footer">Generated on Sat Jun 7 2014 23:54:01 for v8 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
