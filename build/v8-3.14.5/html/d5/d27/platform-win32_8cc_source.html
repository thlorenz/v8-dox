<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>v8: src/platform-win32.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../v8-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">v8
   &#160;<span id="projectnumber">3.14.5(node0.10.28)</span>
   </div>
   <div id="projectbrief">V8 is Google&#39;s open source JavaScript engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d27/platform-win32_8cc_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">platform-win32.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d5/d27/platform-win32_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// modification, are permitted provided that the following conditions are</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// met:</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//     * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//       copyright notice, this list of conditions and the following</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//       disclaimer in the documentation and/or other materials provided</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//       with the distribution.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//     * Neither the name of Google Inc. nor the names of its</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//       from this software without specific prior written permission.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// Platform specific code for Win32.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a6067f08feb2b8d9f263f5d66a665d2f8">   30</a></span>&#160;<span class="preprocessor">#define V8_WIN32_HEADERS_FULL</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db0/win32-headers_8h.html">win32-headers.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d6a/src_2v8_8h.html">v8.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d39/codegen_8h.html">codegen.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d03/platform_8h.html">platform.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dd6/vm-state-inl_8h.html">vm-state-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// Case-insensitive bounded string comparisons. Use stricmp() on Win32. Usually</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// defined in strings.h.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keywordtype">int</span> strncasecmp(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a00b253ab5971676c7634e1eba361c47a">s1</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1eb1a8d3d782d6567661dc32158c735c">s2</a>, <span class="keywordtype">int</span> n) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">return</span> _strnicmp(s1, s2, n);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#endif  // _MSC_VER</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// Extra functions for MinGW. Most of these are the _s functions which are in</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">// the Microsoft Visual Studio C++ CRT.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#ifdef __MINGW32__</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#ifndef __MINGW64_VERSION_MAJOR</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#define _TRUNCATE 0</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#define STRUNCATE 80</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8227003ebda7d9b733c44e106e7ab607">MemoryBarrier</a>() {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordtype">int</span> barrier = 0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  __asm__ __volatile__(<span class="stringliteral">&quot;xchgl %%eax,%0 &quot;</span>:<span class="stringliteral">&quot;=r&quot;</span> (barrier));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#endif  // __MINGW64_VERSION_MAJOR</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#ifndef MINGW_HAS_SECURE_API</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keywordtype">int</span> localtime_s(tm* out_tm, <span class="keyword">const</span> time_t* time) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  tm* posix_local_time_struct = localtime(time);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">if</span> (posix_local_time_struct == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  *out_tm = *posix_local_time_struct;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keywordtype">int</span> fopen_s(FILE** pFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* filename, <span class="keyword">const</span> <span class="keywordtype">char</span>* mode) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  *pFile = fopen(filename, mode);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> *pFile != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a> ? 0 : 1;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keywordtype">int</span> _vsnprintf_s(<span class="keywordtype">char</span>* buffer, <span class="keywordtype">size_t</span> sizeOfBuffer, <span class="keywordtype">size_t</span> count,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                 <span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list argptr) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(count == _TRUNCATE);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">return</span> _vsnprintf(buffer, sizeOfBuffer, format, argptr);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keywordtype">int</span> strncpy_s(<span class="keywordtype">char</span>* dest, <span class="keywordtype">size_t</span> dest_size, <span class="keyword">const</span> <span class="keywordtype">char</span>* source, <span class="keywordtype">size_t</span> count) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(source != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(dest != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ad5a1a3bc35696ef5a1070bca3a419c99">CHECK_GT</a>(dest_size, 0);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (count == _TRUNCATE) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">while</span> (dest_size &gt; 0 &amp;&amp; *source != 0) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      *(dest++) = *(source++);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      --dest_size;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (dest_size == 0) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      *(dest - 1) = 0;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">return</span> STRUNCATE;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">while</span> (dest_size &gt; 0 &amp;&amp; count &gt; 0 &amp;&amp; *source != 0) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      *(dest++) = *(source++);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      --dest_size;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      --count;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ad5a1a3bc35696ef5a1070bca3a419c99">CHECK_GT</a>(dest_size, 0);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  *dest = 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#endif  // MINGW_HAS_SECURE_API</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#endif  // __MINGW32__</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">// Generate a pseudo-random number in the range 0-2^31-1. Usually</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">// defined in stdlib.h. Missing in both Microsoft Visual Studio C++ and MinGW.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a84e4437f43bda4dd8f4cabda651f8eb7">  122</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d27/platform-win32_8cc.html#a84e4437f43bda4dd8f4cabda651f8eb7">random</a>() {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">return</span> rand();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">namespace </span>v8 {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">namespace </span>internal {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;intptr_t <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad3e0a75292d588a6496d229d85d36745">OS::MaxVirtualMemory</a>() {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4888dc6b78982eb18867921319429cb6">ceiling</a>(<span class="keywordtype">double</span> x) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">return</span> ceil(x);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keyword">static</span> Mutex* limit_mutex = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#if defined(V8_TARGET_ARCH_IA32)</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keyword">static</span> OS::MemCopyFunction memcopy_function = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// Defined in codegen-ia32.cc.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;OS::MemCopyFunction CreateMemCopyFunction();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// Copy memory area to disjoint memory area.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a26ae97c946e709188bcfbadcbadda2c3">OS::MemCopy</a>(<span class="keywordtype">void</span>* dest, <span class="keyword">const</span> <span class="keywordtype">void</span>* src, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// Note: here we rely on dependent reads being ordered. This is true</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// on all architectures we currently support.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  (*memcopy_function)(dest, src, size);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0ea8f66bf4733597f9a514fda2151ff9">CHECK_EQ</a>(0, memcmp(dest, src, size));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#endif  // V8_TARGET_ARCH_IA32</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">typedef</span> double (*ModuloFunction)(double, double);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">static</span> ModuloFunction modulo_function = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">// Defined in codegen-x64.cc.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;ModuloFunction CreateModuloFunction();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keywordtype">void</span> init_modulo_function() {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  modulo_function = CreateModuloFunction();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ed88e41f6e2cfe2e355874acab98c85">modulo</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// Note: here we rely on dependent reads being ordered. This is true</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// on all architectures we currently support.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">return</span> (*modulo_function)(x, y);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#else  // Win32</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9ed88e41f6e2cfe2e355874acab98c85">modulo</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">// Workaround MS fmod bugs. ECMA-262 says:</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// dividend is finite and divisor is an infinity =&gt; result equals dividend</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// dividend is a zero and divisor is nonzero finite =&gt; result equals dividend</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../d2/dc3/namespacev8.html#a2fa4b13c46cfb14a888e581c6712d752">isfinite</a>(x) &amp;&amp; (!<a class="code" href="../../d2/dc3/namespacev8.html#a2fa4b13c46cfb14a888e581c6712d752">isfinite</a>(y) &amp;&amp; !<a class="code" href="../../d7/d6a/win32-math_8h.html#afdf433fdb158cbe82ce818a3a2de736b">isnan</a>(y))) &amp;&amp;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      !(x == 0 &amp;&amp; (y != 0 &amp;&amp; <a class="code" href="../../d2/dc3/namespacev8.html#a2fa4b13c46cfb14a888e581c6712d752">isfinite</a>(y)))) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    x = fmod(x, y);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">return</span> x;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">#endif  // _WIN64</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">  189</a></span>&#160;<span class="preprocessor">#define UNARY_MATH_FUNCTION(name, generator)             \</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">static UnaryMathFunction fast_##name##_function = NULL;  \</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">void init_fast_##name##_function() {                     \</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">  fast_##name##_function = generator;                    \</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">}                                                        \</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">double fast_##name(double x) {                           \</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">  return (*fast_##name##_function)(x);                   \</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">}</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a>(sin, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aeea1e51ab3947b8b9ef84ff8535b40bb">CreateTranscendentalFunction</a>(<a class="code" href="../../d2/d24/classv8_1_1internal_1_1_transcendental_cache.html#a1d1cfd8ffb84e947f82999c682b666a7a55720cf0d1ebf3d6f0eac12f2dffbfa2">TranscendentalCache::SIN</a>))</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a>(cos, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aeea1e51ab3947b8b9ef84ff8535b40bb">CreateTranscendentalFunction</a>(TranscendentalCache::COS))</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a>(tan, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aeea1e51ab3947b8b9ef84ff8535b40bb">CreateTranscendentalFunction</a>(TranscendentalCache::TAN))</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a>(log, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aeea1e51ab3947b8b9ef84ff8535b40bb">CreateTranscendentalFunction</a>(TranscendentalCache::<a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>))</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a>(sqrt, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f72bb5596bb46d7153f7ded163cc9b">CreateSqrtFunction</a>())</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">#undef MATH_FUNCTION</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#acc8b207eab70546b09e686d500c96198">  207</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acc8b207eab70546b09e686d500c96198">MathSetup</a>() {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  init_modulo_function();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  init_fast_sin_function();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  init_fast_cos_function();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  init_fast_tan_function();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  init_fast_log_function();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  init_fast_sqrt_function();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">// The Time class represents time on win32. A timestamp is represented as</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">// a 64-bit integer in 100 nanoseconds since January 1, 1601 (UTC). JavaScript</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">// timestamps are represented as a doubles in milliseconds since 00:00:00 UTC,</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">// January 1, 1970.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html">  225</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html">Time</a> {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// Constructors.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a38b0285424ae98cbe324c635b300c750">Time</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a38b0285424ae98cbe324c635b300c750">Time</a>(<span class="keywordtype">double</span> jstime);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a38b0285424ae98cbe324c635b300c750">Time</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> mon, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> min, <span class="keywordtype">int</span> sec);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// Convert timestamp to JavaScript representation.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#aa732a55d5b69a54a02a721975cbb18bb">ToJSTime</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// Set timestamp to current time.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#ae8768031439fbb5e0b37aa8b802bf983">SetToCurrentTime</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">// Returns the local timezone offset in milliseconds east of UTC. This is</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// the number of milliseconds you must add to UTC to get local time, i.e.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// LocalOffset(CET) = 3600000 and LocalOffset(PST) = -28800000. This</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// routine also takes into account whether daylight saving is effect</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// at the time.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  int64_t <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#addec6cd804ca57df0645e489ea7b64cc">LocalOffset</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// Returns the daylight savings time offset for the time in milliseconds.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  int64_t <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a24dec20a4d00dd5db2329e361c61710d">DaylightSavingsOffset</a>();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// Returns a string identifying the current timezone for the</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// timestamp taking into account daylight saving.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordtype">char</span>* <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a1bc689e7e60a066ad5cc0224348b998c">LocalTimezone</a>();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// Constants for time conversion.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kTimeEpoc = 116444736000000000LL;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kTimeScaler = 10000;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kMsPerMinute = 60000;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">// Constants for timezone information.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTzNameSize = 128;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> kShortTzNames = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// Timezone information. We need to have static buffers for the</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// timezone names because we return pointers to these in</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// LocalTimezone().</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> tz_initialized_;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keyword">static</span> TIME_ZONE_INFORMATION tzinfo_;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> std_tz_name_[kTzNameSize];</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> dst_tz_name_[kTzNameSize];</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// Initialize the timezone information (if not already done).</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> TzSet();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// Guess the name of the timezone from the bias.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* GuessTimezoneNameFromBias(<span class="keywordtype">int</span> bias);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">// Return whether or not daylight savings time is in effect at this time.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordtype">bool</span> InDST();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// Return the difference (in milliseconds) between this timestamp and</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// another timestamp.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  int64_t Diff(<a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html">Time</a>* other);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">// Accessor for FILETIME representation.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  FILETIME&amp; ft() { <span class="keywordflow">return</span> time_.ft_; }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// Accessor for integer representation.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  int64_t&amp; t() { <span class="keywordflow">return</span> time_.t_; }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// Although win32 uses 64-bit integers for representing timestamps,</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// these are packed into a FILETIME structure. The FILETIME structure</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// is just a struct representing a 64-bit integer. The TimeStamp union</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// allows access to both a FILETIME and an integer representation of</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// the timestamp.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keyword">union </span>TimeStamp {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    FILETIME ft_;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    int64_t t_;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  };</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  TimeStamp time_;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;};</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">// Static variables.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="keywordtype">bool</span> Time::tz_initialized_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;TIME_ZONE_INFORMATION Time::tzinfo_;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="keywordtype">char</span> Time::std_tz_name_[kTzNameSize];</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="keywordtype">char</span> Time::dst_tz_name_[kTzNameSize];</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">// Initialize timestamp to start of epoc.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a38b0285424ae98cbe324c635b300c750">  310</a></span>&#160;<a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a38b0285424ae98cbe324c635b300c750">Time::Time</a>() {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  t() = 0;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">// Initialize timestamp from a JavaScript timestamp.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a9c3a21920af6c1ba15f63a5c9e87b15d">  316</a></span>&#160;<a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a38b0285424ae98cbe324c635b300c750">Time::Time</a>(<span class="keywordtype">double</span> jstime) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  t() = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(jstime) * kTimeScaler + kTimeEpoc;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">// Initialize timestamp from date/time components.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a230b859083e2d2279261ade1d4a7c929">  322</a></span>&#160;<a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a38b0285424ae98cbe324c635b300c750">Time::Time</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> mon, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> min, <span class="keywordtype">int</span> sec) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  SYSTEMTIME st;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  st.wYear = year;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  st.wMonth = mon;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  st.wDay = day;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  st.wHour = hour;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  st.wMinute = min;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  st.wSecond = sec;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  st.wMilliseconds = 0;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  SystemTimeToFileTime(&amp;st, &amp;ft());</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">// Convert timestamp to JavaScript timestamp.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html#aa732a55d5b69a54a02a721975cbb18bb">  336</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#aa732a55d5b69a54a02a721975cbb18bb">Time::ToJSTime</a>() {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>((t() - kTimeEpoc) / kTimeScaler);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">// Guess the name of the timezone from the bias.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">// The guess is very biased towards the northern hemisphere.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* Time::GuessTimezoneNameFromBias(<span class="keywordtype">int</span> bias) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHour = 60;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">switch</span> (-bias) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">case</span> -9*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Alaska&quot;</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">case</span> -8*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Pacific&quot;</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">case</span> -7*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Mountain&quot;</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">case</span> -6*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Central&quot;</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">case</span> -5*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Eastern&quot;</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">case</span> -4*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Atlantic&quot;</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">case</span>  0*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;GMT&quot;</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">case</span> +1*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Central Europe&quot;</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">case</span> +2*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Eastern Europe&quot;</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">case</span> +3*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Russia&quot;</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">case</span> +5*kHour + 30: <span class="keywordflow">return</span> <span class="stringliteral">&quot;India&quot;</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">case</span> +8*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;China&quot;</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">case</span> +9*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Japan&quot;</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">case</span> +12*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;New Zealand&quot;</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Local&quot;</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">// Initialize timezone information. The timezone information is obtained from</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">// windows. If we cannot get the timezone information we fall back to CET.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">// Please notice that this code is not thread-safe.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="keywordtype">void</span> Time::TzSet() {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// Just return if timezone information has already been initialized.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (tz_initialized_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">// Initialize POSIX time zone data.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  _tzset();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">// Obtain timezone information from operating system.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  memset(&amp;tzinfo_, 0, <span class="keyword">sizeof</span>(tzinfo_));</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">if</span> (GetTimeZoneInformation(&amp;tzinfo_) == TIME_ZONE_ID_INVALID) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// If we cannot get timezone information we fall back to CET.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    tzinfo_.Bias = -60;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    tzinfo_.StandardDate.wMonth = 10;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    tzinfo_.StandardDate.wDay = 5;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    tzinfo_.StandardDate.wHour = 3;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    tzinfo_.StandardBias = 0;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    tzinfo_.DaylightDate.wMonth = 3;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    tzinfo_.DaylightDate.wDay = 5;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    tzinfo_.DaylightDate.wHour = 2;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    tzinfo_.DaylightBias = -60;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// Make standard and DST timezone names.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  WideCharToMultiByte(CP_UTF8, 0, tzinfo_.StandardName, -1,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                      std_tz_name_, kTzNameSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  std_tz_name_[kTzNameSize - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  WideCharToMultiByte(CP_UTF8, 0, tzinfo_.DaylightName, -1,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                      dst_tz_name_, kTzNameSize, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  dst_tz_name_[kTzNameSize - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// If OS returned empty string or resource id (like &quot;@tzres.dll,-211&quot;)</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// simply guess the name from the UTC bias of the timezone.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// To properly resolve the resource identifier requires a library load,</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// which is not possible in a sandbox.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">if</span> (std_tz_name_[0] == <span class="charliteral">&#39;\0&#39;</span> || std_tz_name_[0] == <span class="charliteral">&#39;@&#39;</span>) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">OS::SNPrintF</a>(Vector&lt;char&gt;(std_tz_name_, kTzNameSize - 1),</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                 <span class="stringliteral">&quot;%s Standard Time&quot;</span>,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                 GuessTimezoneNameFromBias(tzinfo_.Bias));</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (dst_tz_name_[0] == <span class="charliteral">&#39;\0&#39;</span> || dst_tz_name_[0] == <span class="charliteral">&#39;@&#39;</span>) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">OS::SNPrintF</a>(Vector&lt;char&gt;(dst_tz_name_, kTzNameSize - 1),</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                 <span class="stringliteral">&quot;%s Daylight Time&quot;</span>,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                 GuessTimezoneNameFromBias(tzinfo_.Bias));</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// Timezone information initialized.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  tz_initialized_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">// Return the difference in milliseconds between this and another timestamp.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;int64_t Time::Diff(Time* other) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">return</span> (t() - other-&gt;t()) / kTimeScaler;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">// Set timestamp to current time.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html#ae8768031439fbb5e0b37aa8b802bf983">  424</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#ae8768031439fbb5e0b37aa8b802bf983">Time::SetToCurrentTime</a>() {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// The default GetSystemTimeAsFileTime has a ~15.5ms resolution.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// Because we&#39;re fast, we like fast timers which have at least a</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">// 1ms resolution.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="comment">// timeGetTime() provides 1ms granularity when combined with</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">// timeBeginPeriod().  If the host application for v8 wants fast</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// timers, it can use timeBeginPeriod to increase the resolution.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// Using timeGetTime() has a drawback because it is a 32bit value</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">// and hence rolls-over every ~49days.</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// To use the clock, we use GetSystemTimeAsFileTime as our base;</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// and then use timeGetTime to extrapolate current time from the</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// start time.  To deal with rollovers, we resync the clock</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// any time when more than kMaxClockElapsedTime has passed or</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// whenever timeGetTime creates a rollover.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keyword">static</span> TimeStamp init_time;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">static</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> init_ticks;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kHundredNanosecondsPerSecond = 10000000;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kMaxClockElapsedTime =</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      60*kHundredNanosecondsPerSecond;  <span class="comment">// 1 minute</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// If we are uninitialized, we need to resync the clock.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordtype">bool</span> needs_resync = !initialized;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// Get the current time.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  TimeStamp time_now;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  GetSystemTimeAsFileTime(&amp;time_now.ft_);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> ticks_now = timeGetTime();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// Check if we need to resync due to clock rollover.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  needs_resync |= ticks_now &lt; init_ticks;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="comment">// Check if we need to resync due to elapsed time.</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  needs_resync |= (time_now.t_ - init_time.t_) &gt; kMaxClockElapsedTime;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// Check if we need to resync due to backwards time change.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  needs_resync |= time_now.t_ &lt; init_time.t_;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">// Resync the clock if necessary.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (needs_resync) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    GetSystemTimeAsFileTime(&amp;init_time.ft_);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    init_ticks = ticks_now = timeGetTime();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    initialized = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// Finally, compute the actual time.  Why is this so hard.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> elapsed = ticks_now - init_ticks;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  this-&gt;time_.t_ = init_time.t_ + (<span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(elapsed) * 10000);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">// Return the local timezone offset in milliseconds east of UTC. This</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">// takes into account whether daylight saving is in effect at the time.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">// Only times in the 32-bit Unix range may be passed to this function.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">// Also, adding the time-zone offset to the input must not overflow.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">// The function EquivalentTime() in date.js guarantees this.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html#addec6cd804ca57df0645e489ea7b64cc">  484</a></span>&#160;int64_t <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#addec6cd804ca57df0645e489ea7b64cc">Time::LocalOffset</a>() {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// Initialize timezone information, if needed.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  TzSet();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html">Time</a> rounded_to_second(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  rounded_to_second.t() = rounded_to_second.t() / 1000 / kTimeScaler *</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      1000 * kTimeScaler;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">// Convert to local time using POSIX localtime function.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">// Windows XP Service Pack 3 made SystemTimeToTzSpecificLocalTime()</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// very slow.  Other browsers use localtime().</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="comment">// Convert from JavaScript milliseconds past 1/1/1970 0:00:00 to</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">// POSIX seconds past 1/1/1970 0:00:00.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordtype">double</span> unchecked_posix_time = rounded_to_second.<a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#aa732a55d5b69a54a02a721975cbb18bb">ToJSTime</a>() / 1000;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">if</span> (unchecked_posix_time &gt; INT_MAX || unchecked_posix_time &lt; 0) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">// Because _USE_32BIT_TIME_T is defined, time_t is a 32-bit int.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  time_t posix_time = <span class="keyword">static_cast&lt;</span>time_t<span class="keyword">&gt;</span>(unchecked_posix_time);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// Convert to local time, as struct with fields for day, hour, year, etc.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  tm posix_local_time_struct;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">if</span> (localtime_s(&amp;posix_local_time_struct, &amp;posix_time)) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (posix_local_time_struct.tm_isdst &gt; 0) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> (tzinfo_.Bias + tzinfo_.DaylightBias) * -kMsPerMinute;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (posix_local_time_struct.tm_isdst == 0) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> (tzinfo_.Bias + tzinfo_.StandardBias) * -kMsPerMinute;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">return</span> tzinfo_.Bias * -kMsPerMinute;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">// Return whether or not daylight savings time is in effect at this time.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="keywordtype">bool</span> Time::InDST() {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// Initialize timezone information, if needed.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  TzSet();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// Determine if DST is in effect at the specified time.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordtype">bool</span> in_dst = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">if</span> (tzinfo_.StandardDate.wMonth != 0 || tzinfo_.DaylightDate.wMonth != 0) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="comment">// Get the local timezone offset for the timestamp in milliseconds.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    int64_t offset = <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#addec6cd804ca57df0645e489ea7b64cc">LocalOffset</a>();</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// Compute the offset for DST. The bias parameters in the timezone info</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// are specified in minutes. These must be converted to milliseconds.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    int64_t dstofs = -(tzinfo_.Bias + tzinfo_.DaylightBias) * kMsPerMinute;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// If the local time offset equals the timezone bias plus the daylight</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">// bias then DST is in effect.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    in_dst = offset == dstofs;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">return</span> in_dst;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">// Return the daylight savings time offset for this time.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a24dec20a4d00dd5db2329e361c61710d">  543</a></span>&#160;int64_t <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a24dec20a4d00dd5db2329e361c61710d">Time::DaylightSavingsOffset</a>() {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">return</span> InDST() ? 60 * kMsPerMinute : 0;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">// Returns a string identifying the current timezone for the</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">// timestamp taking into account daylight saving.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a1bc689e7e60a066ad5cc0224348b998c">  550</a></span>&#160;<span class="keywordtype">char</span>* <a class="code" href="../../da/d9b/classv8_1_1internal_1_1_time.html#a1bc689e7e60a066ad5cc0224348b998c">Time::LocalTimezone</a>() {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">// Return the standard or DST time zone name based on whether daylight</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// saving is in effect at the given time.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">return</span> InDST() ? dst_tz_name_ : std_tz_name_;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;}</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adb9ac83c359db3e1a9fd194dc267906f">OS::PostSetUp</a>() {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">// Math functions depend on CPU features therefore they are initialized after</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// CPU.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acc8b207eab70546b09e686d500c96198">MathSetup</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="preprocessor">#if defined(V8_TARGET_ARCH_IA32)</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  memcopy_function = CreateMemCopyFunction();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">// Returns the accumulated user time for thread.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75b0ff73dd1b5db44ad916f4206b92be">OS::GetUserTime</a>(uint32_t* secs,  uint32_t* usecs) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  FILETIME dummy;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  uint64_t usertime;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="comment">// Get the amount of time that the thread has executed in user mode.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (!GetThreadTimes(GetCurrentThread(), &amp;dummy, &amp;dummy, &amp;dummy,</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                      reinterpret_cast&lt;FILETIME*&gt;(&amp;usertime))) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// Adjust the resolution to micro-seconds.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  usertime /= 10;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="comment">// Convert to seconds and microseconds</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  *secs = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(usertime / 1000000);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  *usecs = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(usertime % 1000000);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">// Returns current time as the number of milliseconds since</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">// 00:00:00 UTC, January 1, 1970.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac66145f5794e9999422ed814b46c7604">OS::TimeCurrentMillis</a>() {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  Time t;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  t.SetToCurrentTime();</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">return</span> t.ToJSTime();</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">// Returns the tickcounter based on timeGetTime.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;int64_t <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#addf5520787f0602f393ddfcd877cea8b">OS::Ticks</a>() {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordflow">return</span> timeGetTime() * 1000;  <span class="comment">// Convert to microseconds.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">// Returns a string identifying the current timezone taking into</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">// account daylight saving.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af01b4f2629bb7d4590f5567450592d74">OS::LocalTimezone</a>(<span class="keywordtype">double</span> time) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">return</span> Time(time).LocalTimezone();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">// Returns the local time offset in milliseconds east of UTC without</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">// taking daylight savings time into account.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a42b60489db32fdfea5c33e6dd623d601">OS::LocalTimeOffset</a>() {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="comment">// Use current time, rounded to the millisecond.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  Time t(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac66145f5794e9999422ed814b46c7604">TimeCurrentMillis</a>());</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="comment">// Time::LocalOffset inlcudes any daylight savings offset, so subtract it.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(t.LocalOffset() - t.DaylightSavingsOffset());</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">// Returns the daylight savings offset in milliseconds for the given</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">// time.</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a78a2b414f1126d3845182f24b6f8f5e5">OS::DaylightSavingsOffset</a>(<span class="keywordtype">double</span> time) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  int64_t offset = Time(time).DaylightSavingsOffset();</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(offset);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">OS::GetLastError</a>() {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  return ::GetLastError();</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a376499501cbfeea6909ce63b06a21cb8">OS::GetCurrentProcessId</a>() {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a376499501cbfeea6909ce63b06a21cb8">::GetCurrentProcessId</a>());</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">// Win32 console output.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">// If a Win32 application is linked as a console application it has a normal</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">// standard output and standard error. In this case normal printf works fine</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">// for output. However, if the application is linked as a GUI application,</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">// the process doesn&#39;t have a console, and therefore (debugging) output is lost.</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">// This is the case if we are embedded in a windows program (like a browser).</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">// In order to be able to get debug output in this case the the debugging</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">// facility using OutputDebugString. This output goes to the active debugger</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">// for the process (if any). Else the output can be monitored using DBMON.EXE.</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33c">  647</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33c">OutputMode</a> {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765">UNKNOWN</a>,  <span class="comment">// Output method has not yet been determined.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">  649</a></span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">CONSOLE</a>,  <span class="comment">// Output is written to stdout.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363">  650</a></span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363">ODS</a>       <span class="comment">// Output is written to debug facility.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;};</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33c">OutputMode</a> output_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765">UNKNOWN</a>;  <span class="comment">// Current output mode.</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">// Determine if the process has a console for output.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> HasConsole() {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// Only check the first time. Eventual race conditions are not a problem,</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">// because all threads will eventually determine the same mode.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span> (output_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765">UNKNOWN</a>) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">// We cannot just check that the standard output is attached to a console</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// because this would fail if output is redirected to a file. Therefore we</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// say that a process does not have an output console if either the</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">// standard output handle is invalid or its file type is unknown.</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">if</span> (GetStdHandle(STD_OUTPUT_HANDLE) != INVALID_HANDLE_VALUE &amp;&amp;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        GetFileType(GetStdHandle(STD_OUTPUT_HANDLE)) != FILE_TYPE_UNKNOWN)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      output_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">CONSOLE</a>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      output_mode = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363">ODS</a>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">return</span> output_mode == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">CONSOLE</a>;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> VPrintHelper(FILE* stream, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">if</span> (HasConsole()) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    vfprintf(stream, format, args);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">// It is important to use safe print here in order to avoid</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// overflowing the buffer. We might truncate the output, but this</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">// does not crash.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    EmbeddedVector&lt;char, 4096&gt; buffer;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aeedfd61901ac741799b8bcba0efc0693">OS::VSNPrintF</a>(buffer, format, args);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    OutputDebugStringA(buffer.start());</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;FILE* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a71d8d763c7a5feba8bbb9a65fdc4cc87">OS::FOpen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keyword">const</span> <span class="keywordtype">char</span>* mode) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  FILE* result;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (fopen_s(&amp;result, path, mode) == 0) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7d64caad10c705910e723dd8920a9dba">OS::Remove</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordflow">return</span> (DeleteFileA(path) != 0);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;FILE* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a0d1aca00c4d58a1f284b449268055c46">OS::OpenTemporaryFile</a>() {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="comment">// tmpfile_s tries to use the root dir, don&#39;t use it.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordtype">char</span> tempPathBuffer[MAX_PATH];</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> path_result = 0;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  path_result = GetTempPathA(MAX_PATH, tempPathBuffer);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">if</span> (path_result &gt; MAX_PATH || path_result == 0) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  UINT name_result = 0;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordtype">char</span> tempNameBuffer[MAX_PATH];</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  name_result = GetTempFileNameA(tempPathBuffer, <span class="stringliteral">&quot;&quot;</span>, 0, tempNameBuffer);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">if</span> (name_result == 0) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  FILE* result = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a71d8d763c7a5feba8bbb9a65fdc4cc87">FOpen</a>(tempNameBuffer, <span class="stringliteral">&quot;w+&quot;</span>);  <span class="comment">// Same mode as tmpfile uses.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">if</span> (result != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7d64caad10c705910e723dd8920a9dba">Remove</a>(tempNameBuffer);  <span class="comment">// Delete on close.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">// Open log file in binary mode to avoid /n -&gt; /r/n conversion.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a58ff3fd2f1bbb80989a84c432cb19b34">OS::LogFileOpenMode</a> = <span class="stringliteral">&quot;wb&quot;</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">// Print (debug) message to console.</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a9032cdcad230f3cde4b521a6750884ff">OS::Print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  va_list args;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a146ff176f27b3c2827a100e3a3b1c242">VPrint</a>(format, args);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a146ff176f27b3c2827a100e3a3b1c242">OS::VPrint</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  VPrintHelper(stdout, format, args);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;}</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a59b2a275f956b31d65d4472524c76c7f">OS::FPrint</a>(FILE* out, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  va_list args;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aa205d860b2308c1bec75312683a4fbfd">VFPrint</a>(out, format, args);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;}</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aa205d860b2308c1bec75312683a4fbfd">OS::VFPrint</a>(FILE* out, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  VPrintHelper(out, format, args);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">// Print error message to console.</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75f2330504a416d8b572870b9cfade17">OS::PrintError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  va_list args;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adc6afb6446e814fcbdea4f7d0168955b">VPrintError</a>(format, args);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adc6afb6446e814fcbdea4f7d0168955b">OS::VPrintError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  VPrintHelper(stderr, format, args);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">OS::SNPrintF</a>(Vector&lt;char&gt; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  va_list args;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordtype">int</span> result = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aeedfd61901ac741799b8bcba0efc0693">VSNPrintF</a>(str, format, args);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aeedfd61901ac741799b8bcba0efc0693">OS::VSNPrintF</a>(Vector&lt;char&gt; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, va_list args) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordtype">int</span> n = _vsnprintf_s(str.start(), str.length(), _TRUNCATE, format, args);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="comment">// Make sure to zero-terminate the string if the output was</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="comment">// truncated or if there was an error.</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordflow">if</span> (n &lt; 0 || n &gt;= str.length()) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (str.length() &gt; 0)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      str[str.length() - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="keywordtype">char</span>* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a1140b1c7ad3d3e068359ee56e891f1ec">OS::StrChr</a>(<span class="keywordtype">char</span>* str, <span class="keywordtype">int</span> c) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(strchr(str, c));</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aaca8567ae014abed35c19d23b44e73cb">OS::StrNCpy</a>(Vector&lt;char&gt; dest, <span class="keyword">const</span> <span class="keywordtype">char</span>* src, <span class="keywordtype">size_t</span> n) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="comment">// Use _TRUNCATE or strncpy_s crashes (by design) if buffer is too small.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordtype">size_t</span> buffer_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(dest.length());</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordflow">if</span> (n + 1 &gt; buffer_size)  <span class="comment">// count for trailing &#39;\0&#39;</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    n = _TRUNCATE;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordtype">int</span> result = strncpy_s(dest.start(), dest.length(), src, n);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result == 0 || (n == _TRUNCATE &amp;&amp; result == STRUNCATE));</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">// We keep the lowest and highest addresses mapped as a quick way of</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">// determining that pointers are outside the heap (used mostly in assertions</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">// and verification).  The estimate is conservative, i.e., not all addresses in</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">// &#39;allocated&#39; space are actually allocated to our heap.  The range is</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">// [lowest, highest), inclusive on the low and and exclusive on the high end.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* lowest_ever_allocated = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(-1);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* highest_ever_allocated = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(0);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> UpdateAllocatedSpaceLimits(<span class="keywordtype">void</span>* address, <span class="keywordtype">int</span> size) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(limit_mutex != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  ScopedLock lock(limit_mutex);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  lowest_ever_allocated = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(lowest_ever_allocated, address);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  highest_ever_allocated =</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">Max</a>(highest_ever_allocated,</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          reinterpret_cast&lt;void*&gt;(reinterpret_cast&lt;char*&gt;(address) + size));</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aebcaed76e359b8c934b9f8298e292e8a">OS::IsOutsideAllocatedSpace</a>(<span class="keywordtype">void</span>* pointer) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">if</span> (pointer &lt; lowest_ever_allocated || pointer &gt;= highest_ever_allocated)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// Ask the Windows API</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">if</span> (IsBadWritePtr(pointer, 1))</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">// Get the system&#39;s page size used by VirtualAlloc() or the next power</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">// of two. The reason for always returning a power of two is that the</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">// rounding up in OS::Allocate expects that.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span> GetPageSize() {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> page_size = 0;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (page_size == 0) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    SYSTEM_INFO info;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    GetSystemInfo(&amp;info);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    page_size = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a531ab2599d4f9b07d5129b797ad3b222">RoundUpToPowerOf2</a>(info.dwPageSize);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">return</span> page_size;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">// The allocation alignment is the guaranteed alignment for</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">// VirtualAlloc&#39;ed blocks of memory.</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">OS::AllocateAlignment</a>() {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> allocate_alignment = 0;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">if</span> (allocate_alignment == 0) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    SYSTEM_INFO info;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    GetSystemInfo(&amp;info);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    allocate_alignment = info.dwAllocationGranularity;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordflow">return</span> allocate_alignment;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* GetRandomAddr() {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  Isolate* isolate = Isolate::UncheckedCurrent();</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="comment">// Note that the current isolate isn&#39;t set up in a call path via</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="comment">// CpuFeatures::Probe. We don&#39;t care about randomization in this case because</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="comment">// the code page is immediately freed.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordflow">if</span> (isolate != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="comment">// The address range used to randomize RWX allocations in OS::Allocate</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">// Try not to map pages into the default range that windows loads DLLs</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// Use a multiple of 64k to prevent committing unused memory.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// Note: This does not guarantee RWX regions will be within the</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// range kAllocationRandomAddressMin to kAllocationRandomAddressMax</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="preprocessor">#ifdef V8_HOST_ARCH_64_BIT</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> intptr_t kAllocationRandomAddressMin = 0x0000000080000000;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> intptr_t kAllocationRandomAddressMax = 0x000003FFFFFF0000;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> intptr_t kAllocationRandomAddressMin = 0x04000000;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> intptr_t kAllocationRandomAddressMax = 0x3FFF0000;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    uintptr_t address = (<a class="code" href="../../d8/d0e/classv8_1_1internal_1_1_v8.html#a1f0fa631352af9fb27010c42edd432e9">V8::RandomPrivate</a>(isolate) &lt;&lt; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae7773e084aaa4f7cea3199510ecd27ac">kPageSizeBits</a>)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        | kAllocationRandomAddressMin;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    address &amp;= kAllocationRandomAddressMax;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(address);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;}</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* RandomizedVirtualAlloc(<span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> action, <span class="keywordtype">int</span> protection) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  LPVOID base = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">if</span> (protection == PAGE_EXECUTE_READWRITE || protection == PAGE_NOACCESS) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="comment">// For exectutable pages try and randomize the allocation address</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> attempts = 0; base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a> &amp;&amp; attempts &lt; 3; ++attempts) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      base = VirtualAlloc(GetRandomAddr(), size, action, protection);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// After three attempts give up and let the OS find an address to use.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">if</span> (base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) base = VirtualAlloc(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>, size, action, protection);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="keywordflow">return</span> base;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;}</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae4d8ebc38f56768d3a8c9e2686bb4223">OS::Allocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> requested,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                   <span class="keywordtype">size_t</span>* allocated,</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                   <span class="keywordtype">bool</span> is_executable) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// VirtualAlloc rounds allocated size to page size automatically.</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordtype">size_t</span> msize = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(requested, static_cast&lt;int&gt;(GetPageSize()));</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">// Windows XP SP2 allows Data Excution Prevention (DEP).</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordtype">int</span> prot = is_executable ? PAGE_EXECUTE_READWRITE : PAGE_READWRITE;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  LPVOID mbase = RandomizedVirtualAlloc(msize,</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                                        MEM_COMMIT | MEM_RESERVE,</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                        prot);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordflow">if</span> (mbase == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(<a class="code" href="../../d8/d1e/isolate_8h.html#afbd09b56c7cdf48ff457909e030f1f74">ISOLATE</a>, StringEvent(<span class="stringliteral">&quot;OS::Allocate&quot;</span>, <span class="stringliteral">&quot;VirtualAlloc failed&quot;</span>));</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(reinterpret_cast&lt;size_t&gt;(mbase), <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">OS::AllocateAlignment</a>()));</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  *allocated = msize;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  UpdateAllocatedSpaceLimits(mbase, static_cast&lt;int&gt;(msize));</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">return</span> mbase;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a5162f44ada41163be4daf296cf77127f">OS::Free</a>(<span class="keywordtype">void</span>* address, <span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">// TODO(1240712): VirtualFree has a return value which is ignored here.</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  VirtualFree(address, 0, MEM_RELEASE);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(size);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;intptr_t <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">OS::CommitPageSize</a>() {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordflow">return</span> 4096;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a856ab6f6a6eb33c76bebaa49caaa1d39">OS::ProtectCode</a>(<span class="keywordtype">void</span>* address, <span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> old_protect;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  VirtualProtect(address, size, PAGE_EXECUTE_READ, &amp;old_protect);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;}</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a3e417fdc67271cfae54cdd8d3fc91525">OS::Guard</a>(<span class="keywordtype">void</span>* address, <span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> oldprotect;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  VirtualProtect(address, size, PAGE_READONLY | PAGE_GUARD, &amp;oldprotect);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a93167fd3ca0557191f8854f4236e29e4">OS::Sleep</a>(<span class="keywordtype">int</span> milliseconds) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a93167fd3ca0557191f8854f4236e29e4">::Sleep</a>(milliseconds);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;}</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a12b9283f52eaf7610afe4b04fbca2ff0">OS::Abort</a>() {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">if</span> (IsDebuggerPresent() || FLAG_break_on_abort) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aedac882e1f21e19ef4a15ef77cd22a3a">DebugBreak</a>();</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="comment">// Make the MSVCRT do a silent abort.</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keyword">raise</span>(SIGABRT);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aedac882e1f21e19ef4a15ef77cd22a3a">OS::DebugBreak</a>() {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  __debugbreak();</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aedac882e1f21e19ef4a15ef77cd22a3a">::DebugBreak</a>();</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html">  981</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html">Win32MemoryMappedFile</a> : <span class="keyword">public</span> <a class="code" href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html">OS::MemoryMappedFile</a> {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a1f130addb4ad83524de7f1e8b90085d0">  983</a></span>&#160;  <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a1f130addb4ad83524de7f1e8b90085d0">Win32MemoryMappedFile</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file,</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_mapping,</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                        <span class="keywordtype">void</span>* <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a63fd3e7b0d22ddeaba0f3265034d7acb">memory</a>,</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                        <span class="keywordtype">int</span> size)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      : file_(file),</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        file_mapping_(file_mapping),</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        memory_(memory),</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        size_(size) { }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a10e1f6966c5274c8807317c1bca83db6">~Win32MemoryMappedFile</a>();</div>
<div class="line"><a name="l00992"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a63fd3e7b0d22ddeaba0f3265034d7acb">  992</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a63fd3e7b0d22ddeaba0f3265034d7acb">memory</a>() { <span class="keywordflow">return</span> memory_; }</div>
<div class="line"><a name="l00993"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a7edc9fae01093617967fd7c9df18a2a2">  993</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a7edc9fae01093617967fd7c9df18a2a2">size</a>() { <span class="keywordflow">return</span> size_; }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_mapping_;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordtype">void</span>* memory_;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordtype">int</span> size_;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;};</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;OS::MemoryMappedFile* <a class="code" href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a0ddf8516907fa14688fa7611750c688c">OS::MemoryMappedFile::open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">// Open a physical file</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file = CreateFileA(name, GENERIC_READ | GENERIC_WRITE,</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      FILE_SHARE_READ | FILE_SHARE_WRITE, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>, OPEN_EXISTING, 0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">if</span> (file == INVALID_HANDLE_VALUE) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordtype">int</span> size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(GetFileSize(file, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>));</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="comment">// Create a file mapping for the physical file</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_mapping = CreateFileMapping(file, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>,</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      PAGE_READWRITE, 0, static_cast&lt;DWORD&gt;(size), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (file_mapping == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="comment">// Map a view of the file into memory</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a335b025a91c959a0b993dc6cfc3ec093">memory</a> = MapViewOfFile(file_mapping, FILE_MAP_ALL_ACCESS, 0, 0, size);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32MemoryMappedFile(file, file_mapping, memory, size);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;OS::MemoryMappedFile* <a class="code" href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a795f4ccc4c09dc9052a3ea5afe7ba792">OS::MemoryMappedFile::create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">int</span> size,</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordtype">void</span>* initial) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">// Open a physical file</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file = CreateFileA(name, GENERIC_READ | GENERIC_WRITE,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      FILE_SHARE_READ | FILE_SHARE_WRITE, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>, OPEN_ALWAYS, 0, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="keywordflow">if</span> (file == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// Create a file mapping for the physical file</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> file_mapping = CreateFileMapping(file, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>,</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      PAGE_READWRITE, 0, static_cast&lt;DWORD&gt;(size), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordflow">if</span> (file_mapping == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="comment">// Map a view of the file into memory</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab4ec8386fc63a51e23b02ae2bb6da9c9">memory</a> = MapViewOfFile(file_mapping, FILE_MAP_ALL_ACCESS, 0, 0, size);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">if</span> (memory) memmove(memory, initial, size);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32MemoryMappedFile(file, file_mapping, memory, size);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div>
<div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a10e1f6966c5274c8807317c1bca83db6"> 1038</a></span>&#160;<a class="code" href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a10e1f6966c5274c8807317c1bca83db6">Win32MemoryMappedFile::~Win32MemoryMappedFile</a>() {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> (memory_ != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    UnmapViewOfFile(memory_);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  CloseHandle(file_mapping_);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  CloseHandle(file_);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;}</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">// The following code loads functions defined in DbhHelp.h and TlHelp32.h</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">// dynamically. This is to avoid being depending on dbghelp.dll and</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment">// tlhelp32.dll when running (the functions in tlhelp32.dll have been moved to</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">// kernel32.dll at some point so loading functions defines in TlHelp32.h</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">// dynamically might not be necessary any more - for some versions of Windows?).</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">// Function pointers to functions dynamically loaded from dbghelp.dll.</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818"> 1053</a></span>&#160;<span class="preprocessor">#define DBGHELP_FUNCTION_LIST(V)  \</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="preprocessor">  V(SymInitialize)                \</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="preprocessor">  V(SymGetOptions)                \</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">  V(SymSetOptions)                \</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="preprocessor">  V(SymGetSearchPath)             \</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="preprocessor">  V(SymLoadModule64)              \</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="preprocessor">  V(StackWalk64)                  \</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="preprocessor">  V(SymGetSymFromAddr64)          \</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="preprocessor">  V(SymGetLineFromAddr64)         \</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="preprocessor">  V(SymFunctionTableAccess64)     \</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="preprocessor">  V(SymGetModuleBase64)</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">// Function pointers to functions dynamically loaded from dbghelp.dll.</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4"> 1066</a></span>&#160;<span class="preprocessor">#define TLHELP32_FUNCTION_LIST(V)  \</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="preprocessor">  V(CreateToolhelp32Snapshot)      \</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="preprocessor">  V(Module32FirstW)                \</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="preprocessor">  V(Module32NextW)</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">// Define the decoration to use for the type and variable name used for</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">// dynamically loaded DLL function..</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77"> 1073</a></span>&#160;<span class="preprocessor">#define DLL_FUNC_TYPE(name) _##name##_</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a43223e71833ca2a79d67807e2ea44e38"> 1074</a></span>&#160;<span class="preprocessor">#define DLL_FUNC_VAR(name) _##name</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">// Define the type for each dynamically loaded DLL function. The function</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">// definitions are copied from DbgHelp.h and TlHelp32.h. The IN and VOID macros</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">// from the Windows include files are redefined here to have the function</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment">// definitions to be as close to the ones in the original .h files as possible.</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="preprocessor">#ifndef IN</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928"> 1081</a></span>&#160;<span class="preprocessor">#define IN</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="preprocessor">#ifndef VOID</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf"> 1084</a></span>&#160;<span class="preprocessor">#define VOID void</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">// DbgHelp isn&#39;t supported on MinGW yet</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="preprocessor">#ifndef __MINGW32__</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment">// DbgHelp.h functions.</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymInitialize))(<a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01091"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a252a3fdfbf10a2a0d67709024e437923"> 1091</a></span>&#160;                                                       <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a252a3fdfbf10a2a0d67709024e437923">UserSearchPath</a>,</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                                                       <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0cee649003fae72f307bafa3fa3ac9cf">fInvadeProcess</a>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetOptions))(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymSetOptions))(<a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> SymOptions);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetSearchPath))(</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#acbe942506e38bc285ce5d26eac08c847"> 1097</a></span>&#160;    OUT PSTR <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac63c1c56e8ea6fb4a5ab90f721f099d8">SearchPath</a>,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#acbe942506e38bc285ce5d26eac08c847">SearchPathLength</a>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymLoadModule64))(</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01101"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#ae04ffbfbcc4147f59c253f40ddf80e44"> 1101</a></span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1a112006d088ef858eebbe868e966a57">hFile</a>,</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a61a3c741e45fec1dec99ad16e31ca3e4">ImageName</a>,</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a62b8e5ceab550c2581b1697aada221c3">ModuleName</a>,</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3a5743f917579cd6073a241efc0cb6ae">BaseOfDll</a>,</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae04ffbfbcc4147f59c253f40ddf80e44">SizeOfDll</a>);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(StackWalk64))(</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> MachineType,</div>
<div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#aa482a54a167d1909947c5ac6855a460f"> 1108</a></span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#afb83aa5f45767ca9b22ea563cb6e6306">hThread</a>,</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    LPSTACKFRAME64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a9f30ccf59233403783321902193ac283">StackFrame</a>,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a83c3cdb803c638b79c180b4352bedae3">PVOID</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ad3bc02ff3f2df4c8663dad4b7e809b">ContextRecord</a>,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    PREAD_PROCESS_MEMORY_ROUTINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aaf13d4f9ed169ce08f966011c4d69c4a">ReadMemoryRoutine</a>,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    PFUNCTION_TABLE_ACCESS_ROUTINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae62128e9bec528b19035466146279d8e">FunctionTableAccessRoutine</a>,</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    PGET_MODULE_BASE_ROUTINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a138defefcd058df315adb42c4b1dc863">GetModuleBaseRoutine</a>,</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    PTRANSLATE_ADDRESS_ROUTINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa482a54a167d1909947c5ac6855a460f">TranslateAddress</a>);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetSymFromAddr64))(</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01118"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#ad2b71fb1bdba33d1f58fcbdb0dc9d4d2"> 1118</a></span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa9bf695d8a22ce48df8b3c216fcd3191">qwAddr</a>,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    OUT PDWORD64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa68aed3722a9ed5004de28b80be6b738">pdwDisplacement</a>,</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    OUT PIMAGEHLP_SYMBOL64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad2b71fb1bdba33d1f58fcbdb0dc9d4d2">Symbol</a>);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetLineFromAddr64))(</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a403065d0871ec99ec58aa4cd19f8aabf"> 1123</a></span>&#160;    <a class="code" href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa9bf695d8a22ce48df8b3c216fcd3191">qwAddr</a>,</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    OUT PDWORD <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aa68aed3722a9ed5004de28b80be6b738">pdwDisplacement</a>,</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    OUT PIMAGEHLP_LINE64 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a403065d0871ec99ec58aa4cd19f8aabf">Line64</a>);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">// DbgHelp.h typedefs. Implementation found in dbghelp.dll.</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a83c3cdb803c638b79c180b4352bedae3">PVOID</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymFunctionTableAccess64))(</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a1d9badc4d7e641eb49c90a9518fbf137"> 1129</a></span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1d9badc4d7e641eb49c90a9518fbf137">AddrBase</a>);  <span class="comment">// DbgHelp.h typedef PFUNCTION_TABLE_ACCESS_ROUTINE64</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(SymGetModuleBase64))(</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">hProcess</a>,</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a1d9badc4d7e641eb49c90a9518fbf137">AddrBase</a>);  <span class="comment">// DbgHelp.h typedef PGET_MODULE_BASE_ROUTINE64</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment">// TlHelp32.h functions.</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(CreateToolhelp32Snapshot))(</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> dwFlags,</div>
<div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a13252007b9bb2e4fe2ef49cefd946220"> 1137</a></span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a13252007b9bb2e4fe2ef49cefd946220">th32ProcessID</a>);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(Module32FirstW))(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> hSnapshot,</div>
<div class="line"><a name="l01139"></a><span class="lineno"><a class="line" href="../../d4/d32/namespacev8_1_1internal.html#a86faa2c9474e9636a79e2430d41490fa"> 1139</a></span>&#160;                                                        LPMODULEENTRY32W <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a86faa2c9474e9636a79e2430d41490fa">lpme</a>);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> (__stdcall *<a class="code" href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(Module32NextW))(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> hSnapshot,</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                                                       LPMODULEENTRY32W <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a86faa2c9474e9636a79e2430d41490fa">lpme</a>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="preprocessor">#undef IN</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="preprocessor">#undef VOID</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">// Declare a variable for each dynamically loaded DLL function.</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="../../d5/d27/platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302"> 1147</a></span>&#160;<span class="preprocessor">#define DEF_DLL_FUNCTION(name) DLL_FUNC_TYPE(name) DLL_FUNC_VAR(name) = NULL;</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a>)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a>)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="preprocessor">#undef DEF_DLL_FUNCTION</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">// Load the functions. This function has a lot of &quot;ugly&quot; macros in order to</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">// keep down code duplication.</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> LoadDbgHelpAndTlHelp32() {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> dbghelp_loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keywordflow">if</span> (dbghelp_loaded) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  HMODULE module;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">// Load functions from the dbghelp.dll module.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  module = LoadLibrary(TEXT(<span class="stringliteral">&quot;dbghelp.dll&quot;</span>));</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">if</span> (module == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="preprocessor">#define LOAD_DLL_FUNC(name)                                                 \</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="preprocessor">  DLL_FUNC_VAR(name) =                                                      \</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="preprocessor">      reinterpret_cast&lt;DLL_FUNC_TYPE(name)&gt;(GetProcAddress(module, #name));</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a>)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="preprocessor">#undef LOAD_DLL_FUNC</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">// Load functions from the kernel32.dll module (the TlHelp32.h function used</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// to be in tlhelp32.dll but are now moved to kernel32.dll).</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  module = LoadLibrary(TEXT(<span class="stringliteral">&quot;kernel32.dll&quot;</span>));</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">if</span> (module == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="preprocessor">#define LOAD_DLL_FUNC(name)                                                 \</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="preprocessor">  DLL_FUNC_VAR(name) =                                                      \</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="preprocessor">      reinterpret_cast&lt;DLL_FUNC_TYPE(name)&gt;(GetProcAddress(module, #name));</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a>)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="preprocessor">#undef LOAD_DLL_FUNC</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="comment">// Check that all functions where loaded.</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keywordtype">bool</span> result =</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="preprocessor">#define DLL_FUNC_LOADED(name) (DLL_FUNC_VAR(name) != NULL) &amp;&amp;</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a>)</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<a class="code" href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="../../d5/d27/platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a>)</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="preprocessor">#undef DLL_FUNC_LOADED</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keyword">true</span>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  dbghelp_loaded = result;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="comment">// NOTE: The modules are never unloaded and will stay around until the</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="comment">// application is closed.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">// Load the symbols for generating stack traces.</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> LoadSymbols(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> process_handle) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> symbols_loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">if</span> (symbols_loaded) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> ok;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="comment">// Initialize the symbol engine.</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  ok = _SymInitialize(process_handle,  <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>,            <span class="comment">// UserSearchPath</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                      <span class="keyword">false</span>);          <span class="comment">// fInvadeProcess</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">if</span> (!ok) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> options = _SymGetOptions();</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  options |= SYMOPT_LOAD_LINES;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  options |= SYMOPT_FAIL_CRITICAL_ERRORS;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  options = _SymSetOptions(options);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keywordtype">char</span> buf[<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">OS::kStackWalkMaxNameLen</a>] = {0};</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  ok = _SymGetSearchPath(process_handle, buf, <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">OS::kStackWalkMaxNameLen</a>);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">GetLastError</a>();</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;%d\n&quot;</span>, err);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72355688bbbca9cefa4b7df6d203724f">snapshot</a> = _CreateToolhelp32Snapshot(</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      TH32CS_SNAPMODULE,       <span class="comment">// dwFlags</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a376499501cbfeea6909ce63b06a21cb8">GetCurrentProcessId</a>());  <span class="comment">// th32ProcessId</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="keywordflow">if</span> (snapshot == INVALID_HANDLE_VALUE) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  MODULEENTRY32W module_entry;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  module_entry.dwSize = <span class="keyword">sizeof</span>(module_entry);  <span class="comment">// Set the size of the structure.</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> cont = _Module32FirstW(snapshot, &amp;module_entry);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="keywordflow">while</span> (cont) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> base;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="comment">// NOTE the SymLoadModule64 function has the peculiarity of accepting a</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="comment">// both unicode and ASCII strings even though the parameter is PSTR.</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    base = _SymLoadModule64(</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        process_handle,                                       <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        0,                                                    <span class="comment">// hFile</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        reinterpret_cast&lt;PSTR&gt;(module_entry.szExePath),       <span class="comment">// ImageName</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        reinterpret_cast&lt;PSTR&gt;(module_entry.szModule),        <span class="comment">// ModuleName</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        reinterpret_cast&lt;DWORD64&gt;(module_entry.modBaseAddr),  <span class="comment">// BaseOfDll</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        module_entry.modBaseSize);                            <span class="comment">// SizeOfDll</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">if</span> (base == 0) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordtype">int</span> err = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">GetLastError</a>();</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <span class="keywordflow">if</span> (err != ERROR_MOD_NOT_FOUND &amp;&amp;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          err != ERROR_INVALID_HANDLE) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(i::Isolate::Current(),</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        SharedLibraryEvent(</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            module_entry.szExePath,</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            reinterpret_cast&lt;unsigned int&gt;(module_entry.modBaseAddr),</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            reinterpret_cast&lt;unsigned int&gt;(module_entry.modBaseAddr +</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                                           module_entry.modBaseSize)));</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    cont = _Module32NextW(snapshot, &amp;module_entry);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  CloseHandle(snapshot);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  symbols_loaded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;}</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a8d2c80733bc7ac4742471d997b7ab3aa">OS::LogSharedLibraryAddresses</a>() {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="comment">// SharedLibraryEvents are logged when loading symbol information.</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="comment">// Only the shared libraries loaded at the time of the call to</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">// LogSharedLibraryAddresses are logged.  DLLs loaded after</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="comment">// initialization are not accounted for.</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordflow">if</span> (!LoadDbgHelpAndTlHelp32()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> process_handle = GetCurrentProcess();</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  LoadSymbols(process_handle);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;}</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a14c69262fa5c517defdc171416914060">OS::SignalCodeMovingGC</a>() {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;}</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">// Walk the stack using the facilities in dbghelp.dll and tlhelp32.dll</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">// Switch off warning 4748 (/GS can not protect parameters and local variables</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">// from local buffer overrun because optimizations are disabled in function) as</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">// it is triggered by the use of inline assembler.</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="preprocessor">#pragma warning(push)</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="preprocessor">#pragma warning(disable : 4748)</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a9f43c654690d8405b8745173fb27ff5f">OS::StackWalk</a>(Vector&lt;OS::StackFrame&gt; frames) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> ok;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// Load the required functions from DLL&#39;s.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">if</span> (!LoadDbgHelpAndTlHelp32()) <span class="keywordflow">return</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae3967bccb3f265846fdfec5a5d88743a">kStackWalkError</a>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="comment">// Get the process and thread handles.</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> process_handle = GetCurrentProcess();</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> thread_handle = GetCurrentThread();</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="comment">// Read the symbols.</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keywordflow">if</span> (!LoadSymbols(process_handle)) <span class="keywordflow">return</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae3967bccb3f265846fdfec5a5d88743a">kStackWalkError</a>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="comment">// Capture current context.</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  CONTEXT context;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  RtlCaptureContext(&amp;context);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="comment">// Initialize the stack walking</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  STACKFRAME64 stack_frame;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  memset(&amp;stack_frame, 0, <span class="keyword">sizeof</span>(stack_frame));</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="preprocessor">#ifdef  _WIN64</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  stack_frame.AddrPC.Offset = context.Rip;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  stack_frame.AddrFrame.Offset = context.Rbp;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  stack_frame.AddrStack.Offset = context.Rsp;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  stack_frame.AddrPC.Offset = context.Eip;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  stack_frame.AddrFrame.Offset = context.Ebp;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  stack_frame.AddrStack.Offset = context.Esp;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  stack_frame.AddrPC.Mode = AddrModeFlat;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  stack_frame.AddrFrame.Mode = AddrModeFlat;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  stack_frame.AddrStack.Mode = AddrModeFlat;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordtype">int</span> frames_count = 0;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="comment">// Collect stack frames.</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keywordtype">int</span> frames_size = frames.length();</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">while</span> (frames_count &lt; frames_size) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    ok = _StackWalk64(</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        IMAGE_FILE_MACHINE_I386,    <span class="comment">// MachineType</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        process_handle,             <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        thread_handle,              <span class="comment">// hThread</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        &amp;stack_frame,               <span class="comment">// StackFrame</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        &amp;context,                   <span class="comment">// ContextRecord</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>,                       <span class="comment">// ReadMemoryRoutine</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        _SymFunctionTableAccess64,  <span class="comment">// FunctionTableAccessRoutine</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        _SymGetModuleBase64,        <span class="comment">// GetModuleBaseRoutine</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);                      <span class="comment">// TranslateAddress</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">if</span> (!ok) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// Store the address.</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((stack_frame.AddrPC.Offset &gt;&gt; 32) == 0);  <span class="comment">// 32-bit address.</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    frames[frames_count].address =</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(stack_frame.AddrPC.Offset);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="comment">// Try to locate a symbol for this frame.</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">DWORD64</a> symbol_displacement;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    SmartArrayPointer&lt;IMAGEHLP_SYMBOL64&gt; symbol(</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        NewArray&lt;IMAGEHLP_SYMBOL64&gt;(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">kStackWalkMaxNameLen</a>));</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (symbol.is_empty()) <span class="keywordflow">return</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae3967bccb3f265846fdfec5a5d88743a">kStackWalkError</a>;  <span class="comment">// Out of memory.</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    memset(*symbol, 0, <span class="keyword">sizeof</span>(IMAGEHLP_SYMBOL64) + <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">kStackWalkMaxNameLen</a>);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    (*symbol)-&gt;SizeOfStruct = <span class="keyword">sizeof</span>(IMAGEHLP_SYMBOL64);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    (*symbol)-&gt;MaxNameLength = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">kStackWalkMaxNameLen</a>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    ok = _SymGetSymFromAddr64(process_handle,             <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                              stack_frame.AddrPC.Offset,  <span class="comment">// Address</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                              &amp;symbol_displacement,       <span class="comment">// Displacement</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                              *symbol);                   <span class="comment">// Symbol</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">if</span> (ok) {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <span class="comment">// Try to locate more source information for the symbol.</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      IMAGEHLP_LINE64 Line;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      memset(&amp;Line, 0, <span class="keyword">sizeof</span>(Line));</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      Line.SizeOfStruct = <span class="keyword">sizeof</span>(Line);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> line_displacement;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      ok = _SymGetLineFromAddr64(</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;          process_handle,             <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;          stack_frame.AddrPC.Offset,  <span class="comment">// dwAddr</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;          &amp;line_displacement,         <span class="comment">// pdwDisplacement</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;          &amp;Line);                     <span class="comment">// Line</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <span class="comment">// Format a text representation of the frame based on the information</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="comment">// available.</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <span class="keywordflow">if</span> (ok) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">SNPrintF</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a792c50be358ffde5ff895de3a84952ca">MutableCStrVector</a>(frames[frames_count].text,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                                   <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a01d6773a748fe18f73492ab2dc8829ec">kStackWalkMaxTextLen</a>),</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                 <span class="stringliteral">&quot;%s %s:%d:%d&quot;</span>,</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                 (*symbol)-&gt;Name, Line.FileName, Line.LineNumber,</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                 line_displacement);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">SNPrintF</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a792c50be358ffde5ff895de3a84952ca">MutableCStrVector</a>(frames[frames_count].text,</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                   <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a01d6773a748fe18f73492ab2dc8829ec">kStackWalkMaxTextLen</a>),</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                 <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                 (*symbol)-&gt;Name);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="comment">// Make sure line termination is in place.</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      frames[frames_count].text[<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a01d6773a748fe18f73492ab2dc8829ec">kStackWalkMaxTextLen</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="comment">// No text representation of this frame</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      frames[frames_count].text[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="comment">// Continue if we are just missing a module (for non C/C++ frames a</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="comment">// module will never be found).</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="keywordtype">int</span> err = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">GetLastError</a>();</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keywordflow">if</span> (err != ERROR_MOD_NOT_FOUND) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    }</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    frames_count++;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="comment">// Return the number of frames filled in.</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="keywordflow">return</span> frames_count;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;}</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">// Restore warnings to previous settings.</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="preprocessor">#pragma warning(pop)</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="preprocessor">#else  // __MINGW32__</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a8d2c80733bc7ac4742471d997b7ab3aa">OS::LogSharedLibraryAddresses</a>() { }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a14c69262fa5c517defdc171416914060">OS::SignalCodeMovingGC</a>() { }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a9f43c654690d8405b8745173fb27ff5f">OS::StackWalk</a>(Vector&lt;OS::StackFrame&gt; frames) { <span class="keywordflow">return</span> 0; }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="preprocessor">#endif  // __MINGW32__</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;uint64_t <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae40525a0648a33d8a7a53036beb8fe59">OS::CpuFeaturesImpliedByPlatform</a>() {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">return</span> 0;  <span class="comment">// Windows runs on anything.</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;}</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a2ad80cdfa895b81968050fa753ecda20">OS::nan_value</a>() {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="comment">// Positive Quiet NaN with no payload (aka. Indeterminate) has all bits</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="comment">// in mask set, so value equals mask.</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> __int64 nanval = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a2ef62fc89c8fba3da5e2e2f1343e196e">kQuietNaNMask</a>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span>(&amp;nanval);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="preprocessor">#else  // _MSC_VER</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">return</span> NAN;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="preprocessor">#endif  // _MSC_VER</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;}</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a38b9d155c95f9e591479d49caab2a4a6">OS::ActivationFrameAlignment</a>() {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="keywordflow">return</span> 16;  <span class="comment">// Windows 64-bit ABI requires the stack to be 16-byte aligned.</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="keywordflow">return</span> 8;  <span class="comment">// Floating-point math runs faster with 8-byte alignment.</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;}</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae8687c3de8ef33da42bafe0284ff9f97">OS::ReleaseStore</a>(<span class="keyword">volatile</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae5c6c8ee8720723c5370ed15f33cc531">AtomicWord</a>* ptr, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ae5c6c8ee8720723c5370ed15f33cc531">AtomicWord</a> value) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8227003ebda7d9b733c44e106e7ab607">MemoryBarrier</a>();</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  *ptr = value;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;}</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a7f1301ae3674e8cb6336b9206ab81e76">VirtualMemory::VirtualMemory</a>() : address_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>), size_(0) { }</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;VirtualMemory::VirtualMemory(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    : address_(ReserveRegion(size)), size_(size) { }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;VirtualMemory::VirtualMemory(<span class="keywordtype">size_t</span> size, <span class="keywordtype">size_t</span> alignment)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    : address_(<a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>), size_(0) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(alignment, static_cast&lt;intptr_t&gt;(OS::AllocateAlignment())));</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="keywordtype">size_t</span> request_size = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(size + alignment,</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                                static_cast&lt;intptr_t&gt;(OS::AllocateAlignment()));</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keywordtype">void</span>* address = ReserveRegion(request_size);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordflow">if</span> (address == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(static_cast&lt;Address&gt;(address), alignment);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="comment">// Try reducing the size by freeing and then reallocating a specific area.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordtype">bool</span> result = ReleaseRegion(address, request_size);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  address = VirtualAlloc(base, size, MEM_RESERVE, PAGE_NOACCESS);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">if</span> (address != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    request_size = size;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(base == static_cast&lt;Address&gt;(address));</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="comment">// Resizing failed, just go with a bigger area.</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    address = ReserveRegion(request_size);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">if</span> (address == <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  }</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  address_ = address;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  size_ = request_size;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;VirtualMemory::~VirtualMemory() {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keywordflow">if</span> (IsReserved()) {</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordtype">bool</span> result = ReleaseRegion(address_, size_);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;}</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::IsReserved() {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keywordflow">return</span> address_ != <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="keywordtype">void</span> VirtualMemory::Reset() {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  address_ = <a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  size_ = 0;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::Commit(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> size, <span class="keywordtype">bool</span> is_executable) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">if</span> (CommitRegion(address, size, is_executable)) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    UpdateAllocatedSpaceLimits(address, static_cast&lt;int&gt;(size));</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;}</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::Uncommit(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsReserved());</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keywordflow">return</span> UncommitRegion(address, size);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;}</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="keywordtype">void</span>* VirtualMemory::ReserveRegion(<span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">return</span> RandomizedVirtualAlloc(size, MEM_RESERVE, PAGE_NOACCESS);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;}</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::CommitRegion(<span class="keywordtype">void</span>* base, <span class="keywordtype">size_t</span> size, <span class="keywordtype">bool</span> is_executable) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordtype">int</span> prot = is_executable ? PAGE_EXECUTE_READWRITE : PAGE_READWRITE;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a> == VirtualAlloc(base, size, MEM_COMMIT, prot)) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  UpdateAllocatedSpaceLimits(base, static_cast&lt;int&gt;(size));</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;}</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::Guard(<span class="keywordtype">void</span>* address) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a> == VirtualAlloc(address,</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                           OS::CommitPageSize(),</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                           MEM_COMMIT,</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                           PAGE_READONLY | PAGE_GUARD)) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;}</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::UncommitRegion(<span class="keywordtype">void</span>* base, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">return</span> VirtualFree(base, size, MEM_DECOMMIT) != 0;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;}</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="keywordtype">bool</span> VirtualMemory::ReleaseRegion(<span class="keywordtype">void</span>* base, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="keywordflow">return</span> VirtualFree(base, 0, MEM_RELEASE) != 0;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;}</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment">// Win32 thread support.</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment">// Definition of invalid thread handle and id.</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> kNoThread = INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment">// Entry point for threads. The supplied argument is a pointer to the thread</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment">// object. The entry function dispatches to the run method in the thread</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="comment">// object. It is important that this function has __stdcall calling</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="comment">// convention.</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> __stdcall ThreadEntry(<span class="keywordtype">void</span>* arg) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  Thread* thread = <span class="keyword">reinterpret_cast&lt;</span>Thread*<span class="keyword">&gt;</span>(arg);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  thread-&gt;Run();</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;}</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="keyword">class </span>Thread::PlatformData : <span class="keyword">public</span> Malloced {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01573"></a><span class="lineno"><a class="line" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a4c52f320409a6aa9b7101a21ed27d62e"> 1573</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a4c52f320409a6aa9b7101a21ed27d62e">PlatformData</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> thread) : thread_(thread) {}</div>
<div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7695a6d41ec7f92a34c878a0c42981e6"> 1574</a></span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7695a6d41ec7f92a34c878a0c42981e6">thread_</a>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"><a class="line" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922"> 1575</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922">thread_id_</a>;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;};</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment">// Initialize a Win32 thread object. The thread has an invalid thread</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="comment">// handle until it is started.</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;Thread::Thread(<span class="keyword">const</span> <a class="code" href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html">Options</a>&amp; options)</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    : stack_size_(options.stack_size()) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  data_ = <span class="keyword">new</span> <a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#ade22e811680aaf01cfc02494c1790943">PlatformData</a>(kNoThread);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  set_name(options.<a class="code" href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html#a862958aa3c2b9bf36903f1f0f2e81c54">name</a>());</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;}</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="keywordtype">void</span> Thread::set_name(<span class="keyword">const</span> <span class="keywordtype">char</span>* name) {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aaca8567ae014abed35c19d23b44e73cb">OS::StrNCpy</a>(<a class="code" href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">Vector&lt;char&gt;</a>(name_, <span class="keyword">sizeof</span>(name_)), name, strlen(name));</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  name_[<span class="keyword">sizeof</span>(name_) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;}</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="comment">// Close our own handle for the thread.</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a87a9c69a69ee4b13cb1ec5772f6d32ad">Thread::~Thread</a>() {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordflow">if</span> (data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">thread_</a> != kNoThread) CloseHandle(data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">thread_</a>);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="keyword">delete</span> data_;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;}</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">// Create a new thread. It is important to use _beginthreadex() instead of</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment">// the Win32 function CreateThread(), because the CreateThread() does not</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment">// initialize thread specific structures in the C runtime library.</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a07aaf1227e4d645f15e0a964f54ef291">Thread::Start</a>() {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">thread_</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      _beginthreadex(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>,</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                     static_cast&lt;unsigned&gt;(stack_size_),</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                     ThreadEntry,</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                     <span class="keyword">this</span>,</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                     0,</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                     &amp;data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922">thread_id_</a>));</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">// Wait for thread to terminate.</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#ac24a06ec0749cb482b60f621833bddd7">Thread::Join</a>() {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">if</span> (data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922">thread_id_</a> != GetCurrentThreadId()) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    WaitForSingleObject(data_-&gt;<a class="code" href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">thread_</a>, INFINITE);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;}</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">Thread::LocalStorageKey</a> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#ad0ed7a1fdf1fd5a83d2611a636438036">Thread::CreateThreadLocalKey</a>() {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> result = TlsAlloc();</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result != TLS_OUT_OF_INDEXES);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">LocalStorageKey</a><span class="keyword">&gt;</span>(result);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;}</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a88a95695fff06aad8428dbbe33a89c17">Thread::DeleteThreadLocalKey</a>(<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">LocalStorageKey</a> key) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> result = TlsFree(static_cast&lt;DWORD&gt;(key));</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;}</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a5d1a7f515d19714a96084288efe72368">Thread::GetThreadLocal</a>(<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">LocalStorageKey</a> key) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">return</span> TlsGetValue(static_cast&lt;DWORD&gt;(key));</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a9b1fb6604c6982bf0111e2c1b3110728">Thread::SetThreadLocal</a>(<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">LocalStorageKey</a> key, <span class="keywordtype">void</span>* value) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> result = TlsSetValue(static_cast&lt;DWORD&gt;(key), value);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;}</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#adf71998ede43577319275683ac798cb7">Thread::YieldCPU</a>() {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  Sleep(0);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;}</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">// Win32 mutex support.</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">// On Win32 mutexes are implemented using CRITICAL_SECTION objects. These are</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">// faster than Win32 Mutex objects because they are implemented using user mode</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">// atomic instructions. Therefore we only do ring transitions if there is lock</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment">// contention.</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div>
<div class="line"><a name="l01664"></a><span class="lineno"><a class="line" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html"> 1664</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html">Win32Mutex</a> : <span class="keyword">public</span> <a class="code" href="../../de/dfb/classv8_1_1internal_1_1_mutex.html">Mutex</a> {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01666"></a><span class="lineno"><a class="line" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#ab01267f333ce5443d16c9b34c58b895a"> 1666</a></span>&#160;  <a class="code" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#ab01267f333ce5443d16c9b34c58b895a">Win32Mutex</a>() { InitializeCriticalSection(&amp;cs_); }</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div>
<div class="line"><a name="l01668"></a><span class="lineno"><a class="line" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#af51a8dec94b299b3c581274ccd64202c"> 1668</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#af51a8dec94b299b3c581274ccd64202c">~Win32Mutex</a>() { DeleteCriticalSection(&amp;cs_); }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div>
<div class="line"><a name="l01670"></a><span class="lineno"><a class="line" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#a75b95eb9701b9d478bdf9c7a8c13f19c"> 1670</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#a75b95eb9701b9d478bdf9c7a8c13f19c">Lock</a>() {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    EnterCriticalSection(&amp;cs_);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  }</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div>
<div class="line"><a name="l01675"></a><span class="lineno"><a class="line" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#aa8ed2510e9b95c623394aaf9e30acb1b"> 1675</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#aa8ed2510e9b95c623394aaf9e30acb1b">Unlock</a>() {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    LeaveCriticalSection(&amp;cs_);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div>
<div class="line"><a name="l01681"></a><span class="lineno"><a class="line" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#a8a61c22ca9d6cff5bbf1739a7a512056"> 1681</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#a8a61c22ca9d6cff5bbf1739a7a512056">TryLock</a>() {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="comment">// Returns non-zero if critical section is entered successfully entered.</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">return</span> TryEnterCriticalSection(&amp;cs_);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  CRITICAL_SECTION cs_;  <span class="comment">// Critical section used for mutex</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;};</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;Mutex* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a96831c13c554e310dd733fcfad796d8a">OS::CreateMutex</a>() {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32Mutex();</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;}</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="comment">// Win32 semaphore support.</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="comment">// On Win32 semaphores are implemented using Win32 Semaphore objects. The</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="comment">// semaphores are anonymous. Also, the semaphores are initialized to have</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="comment">// no upper limit on count.</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div>
<div class="line"><a name="l01704"></a><span class="lineno"><a class="line" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html"> 1704</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html">Win32Semaphore</a> : <span class="keyword">public</span> <a class="code" href="../../dd/d6f/classv8_1_1internal_1_1_semaphore.html">Semaphore</a> {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01706"></a><span class="lineno"><a class="line" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#a22820fb84887e8c51652e2e698401704"> 1706</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#a22820fb84887e8c51652e2e698401704">Win32Semaphore</a>(<span class="keywordtype">int</span> count) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    sem = ::CreateSemaphoreA(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>, count, 0x7fffffff, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div>
<div class="line"><a name="l01710"></a><span class="lineno"><a class="line" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#a961fbe07bcbbd40e1172f3d400be0840"> 1710</a></span>&#160;  <a class="code" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#a961fbe07bcbbd40e1172f3d400be0840">~Win32Semaphore</a>() {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    CloseHandle(sem);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div>
<div class="line"><a name="l01714"></a><span class="lineno"><a class="line" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#ade7c17fb79686f6fe6865d28e80d5a92"> 1714</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#ade7c17fb79686f6fe6865d28e80d5a92">Wait</a>() {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    WaitForSingleObject(sem, INFINITE);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div>
<div class="line"><a name="l01718"></a><span class="lineno"><a class="line" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#abd043f2111d1c2f03c4727b5e00a7421"> 1718</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#abd043f2111d1c2f03c4727b5e00a7421">Wait</a>(<span class="keywordtype">int</span> timeout) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="comment">// Timeout in Windows API is in milliseconds.</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> millis_timeout = timeout / 1000;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <span class="keywordflow">return</span> WaitForSingleObject(sem, millis_timeout) != WAIT_TIMEOUT;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  }</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div>
<div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#adf531976162ff22f9b4d86ea0c4e1a87"> 1724</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#adf531976162ff22f9b4d86ea0c4e1a87">Signal</a>() {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    LONG dummy;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    ReleaseSemaphore(sem, 1, &amp;dummy);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> sem;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;};</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;Semaphore* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#afa44df2a14037562568d7f965d50833c">OS::CreateSemaphore</a>(<span class="keywordtype">int</span> count) {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32Semaphore(count);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;}</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment">// Win32 socket support.</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div>
<div class="line"><a name="l01743"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html"> 1743</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html">Win32Socket</a> : <span class="keyword">public</span> <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html">Socket</a> {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01745"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a5a508c30674e499f2bb4b636bc73871b"> 1745</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a5a508c30674e499f2bb4b636bc73871b">Win32Socket</a>() {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="comment">// Create the socket.</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    socket_ = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  }</div>
<div class="line"><a name="l01749"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#afb2a33fbb1cdd65945f342340948d93f"> 1749</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#afb2a33fbb1cdd65945f342340948d93f">Win32Socket</a>(SOCKET socket): socket_(socket) { }</div>
<div class="line"><a name="l01750"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#ae6c18c46c43b1d9b0baf92b0b2576743"> 1750</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#ae6c18c46c43b1d9b0baf92b0b2576743">~Win32Socket</a>() { Shutdown(); }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="comment">// Server initialization.</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="keywordtype">bool</span> Bind(<span class="keyword">const</span> <span class="keywordtype">int</span> port);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordtype">bool</span> Listen(<span class="keywordtype">int</span> backlog) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html">Socket</a>* Accept() <span class="keyword">const</span>;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <span class="comment">// Client initialization.</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="keywordtype">bool</span> Connect(<span class="keyword">const</span> <span class="keywordtype">char</span>* host, <span class="keyword">const</span> <span class="keywordtype">char</span>* port);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <span class="comment">// Shutdown socket for both read and write.</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="keywordtype">bool</span> Shutdown();</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="comment">// Data Transimission</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="keywordtype">int</span> Send(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#aa5eef89bb424dbefc717f67fc396db16">data</a>, <span class="keywordtype">int</span> len) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keywordtype">int</span> Receive(<span class="keywordtype">char</span>* <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#aa5eef89bb424dbefc717f67fc396db16">data</a>, <span class="keywordtype">int</span> len) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="keywordtype">bool</span> SetReuseAddress(<span class="keywordtype">bool</span> reuse_address);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div>
<div class="line"><a name="l01769"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#afa8720abaf6972d6dac22a8cd1a67225"> 1769</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#afa8720abaf6972d6dac22a8cd1a67225">IsValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> socket_ != INVALID_SOCKET; }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  SOCKET socket_;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;};</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div>
<div class="line"><a name="l01776"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#acb618a8b49694aea3f20bd7946d43e65"> 1776</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#acb618a8b49694aea3f20bd7946d43e65">Win32Socket::Bind</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> port) {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="keywordflow">if</span> (!IsValid())  {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  sockaddr_in addr;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  memset(&amp;addr, 0, <span class="keyword">sizeof</span>(addr));</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  addr.sin_family = AF_INET;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  addr.sin_addr.s_addr = htonl(INADDR_LOOPBACK);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  addr.sin_port = htons(port);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="keywordtype">int</span> status = bind(socket_,</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                    reinterpret_cast&lt;struct sockaddr *&gt;(&amp;addr),</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                    <span class="keyword">sizeof</span>(addr));</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="keywordflow">return</span> status == 0;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;}</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div>
<div class="line"><a name="l01793"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a59e9861df58e6ee99d37d480b6653537"> 1793</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a59e9861df58e6ee99d37d480b6653537">Win32Socket::Listen</a>(<span class="keywordtype">int</span> backlog)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordflow">if</span> (!IsValid()) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="keywordtype">int</span> status = listen(socket_, backlog);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="keywordflow">return</span> status == 0;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;}</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#abd2002e9dcc5f90e2f5ebf6877044503"> 1803</a></span>&#160;<a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html">Socket</a>* <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#abd2002e9dcc5f90e2f5ebf6877044503">Win32Socket::Accept</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="keywordflow">if</span> (!IsValid()) {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  SOCKET socket = accept(socket_, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="keywordflow">if</span> (socket == INVALID_SOCKET) {</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html">Win32Socket</a>(socket);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  }</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;</div>
<div class="line"><a name="l01817"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#af53293c434463ff17dcad713dae39951"> 1817</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#af53293c434463ff17dcad713dae39951">Win32Socket::Connect</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* host, <span class="keyword">const</span> <span class="keywordtype">char</span>* port) {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="keywordflow">if</span> (!IsValid()) {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="comment">// Lookup host and port.</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <span class="keyword">struct </span>addrinfo *result = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keyword">struct </span>addrinfo hints;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  memset(&amp;hints, 0, <span class="keyword">sizeof</span>(addrinfo));</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  hints.ai_family = AF_INET;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  hints.ai_socktype = SOCK_STREAM;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  hints.ai_protocol = IPPROTO_TCP;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="keywordtype">int</span> status = getaddrinfo(host, port, &amp;hints, &amp;result);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordflow">if</span> (status != 0) {</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  }</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="comment">// Connect.</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  status = connect(socket_,</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                   result-&gt;ai_addr,</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                   static_cast&lt;int&gt;(result-&gt;ai_addrlen));</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  freeaddrinfo(result);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="keywordflow">return</span> status == 0;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;}</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div>
<div class="line"><a name="l01843"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a248d78a3d6c943375cd2c91e1240b884"> 1843</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a248d78a3d6c943375cd2c91e1240b884">Win32Socket::Shutdown</a>() {</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="keywordflow">if</span> (IsValid()) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="comment">// Shutdown socket for both read and write.</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordtype">int</span> status = shutdown(socket_, SD_BOTH);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    closesocket(socket_);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    socket_ = INVALID_SOCKET;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">return</span> status == SOCKET_ERROR;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  }</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;}</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div>
<div class="line"><a name="l01855"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a46aee6b35bc7ee0cd1fd3c257a720b33"> 1855</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a46aee6b35bc7ee0cd1fd3c257a720b33">Win32Socket::Send</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#aa5eef89bb424dbefc717f67fc396db16">data</a>, <span class="keywordtype">int</span> len)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="keywordflow">if</span> (len &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="keywordtype">int</span> written = 0;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="keywordflow">while</span> (written &lt; len) {</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="keywordtype">int</span> status = send(socket_, data + written, len - written, 0);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordflow">if</span> (status == 0) {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status &gt; 0) {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      written += status;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    }</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  }</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">return</span> written;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;}</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div>
<div class="line"><a name="l01872"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a5b5c8edddab00eccab78fb42b053e639"> 1872</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a5b5c8edddab00eccab78fb42b053e639">Win32Socket::Receive</a>(<span class="keywordtype">char</span>* <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#aa5eef89bb424dbefc717f67fc396db16">data</a>, <span class="keywordtype">int</span> len)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">if</span> (len &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordtype">int</span> status = recv(socket_, data, len, 0);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="keywordflow">return</span> (status == SOCKET_ERROR) ? 0 : status;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;}</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;</div>
<div class="line"><a name="l01879"></a><span class="lineno"><a class="line" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#ad8cb171d9a03505361a29e94f7d4c14c"> 1879</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#ad8cb171d9a03505361a29e94f7d4c14c">Win32Socket::SetReuseAddress</a>(<span class="keywordtype">bool</span> reuse_address) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">BOOL</a> on = reuse_address ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordtype">int</span> status = setsockopt(socket_, SOL_SOCKET, SO_REUSEADDR,</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                          reinterpret_cast&lt;char*&gt;(&amp;on), <span class="keyword">sizeof</span>(on));</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="keywordflow">return</span> status == SOCKET_ERROR;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;}</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html#a88ccb24206b05493e679a2746d6e3557">Socket::SetUp</a>() {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="comment">// Initialize Winsock32</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  WSADATA winsock_data;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  WORD version_requested = MAKEWORD(1, 0);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  err = WSAStartup(version_requested, &amp;winsock_data);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="keywordflow">if</span> (err != 0) {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Unable to initialize Winsock, err = %d\n&quot;</span>, <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html#adf59a4d72a257be3c5633affbb4a58bf">Socket::LastError</a>());</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  }</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <span class="keywordflow">return</span> err == 0;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;}</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html#adf59a4d72a257be3c5633affbb4a58bf">Socket::LastError</a>() {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keywordflow">return</span> WSAGetLastError();</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;}</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<a class="code" href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html#ad9bd6bff4242e1ba1819540681d16f4c">Socket::HToN</a>(<a class="code" href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> value) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordflow">return</span> htons(value);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;}</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<a class="code" href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html#a59b83e0ab445113e9aa95323def3a8ff">Socket::NToH</a>(<a class="code" href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> value) {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="keywordflow">return</span> ntohs(value);</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;}</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;uint32_t <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html#ad9bd6bff4242e1ba1819540681d16f4c">Socket::HToN</a>(uint32_t value) {</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="keywordflow">return</span> htonl(value);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;}</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;uint32_t <a class="code" href="../../d9/d18/classv8_1_1internal_1_1_socket.html#a59b83e0ab445113e9aa95323def3a8ff">Socket::NToH</a>(uint32_t value) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">return</span> ntohl(value);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;}</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;Socket* <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ab8d98b5da29bb3d29c7bdb6f90f551a5">OS::CreateSocket</a>() {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32Socket();</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;}</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment">// Win32 profiler support.</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="keyword">class </span>Sampler::PlatformData : <span class="keyword">public</span> Malloced {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <span class="comment">// Get a handle to the calling thread. This is the thread that we are</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="comment">// going to profile. We need to make a copy of the handle because we are</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="comment">// going to use it in the sampler thread. Using GetThreadHandle() will</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="comment">// not work in this case. We&#39;re using OpenThread because DuplicateHandle</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <span class="comment">// for some reason doesn&#39;t work in Chrome&#39;s sandbox.</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"><a class="line" href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#ade22e811680aaf01cfc02494c1790943"> 1941</a></span>&#160;  <a class="code" href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#ade22e811680aaf01cfc02494c1790943">PlatformData</a>() : profiled_thread_(OpenThread(THREAD_GET_CONTEXT |</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                                               THREAD_SUSPEND_RESUME |</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                                               THREAD_QUERY_INFORMATION,</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                                               <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6f892599390671c9a72cccc59b240507">false</a>,</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                                               GetCurrentThreadId())) {}</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div>
<div class="line"><a name="l01947"></a><span class="lineno"><a class="line" href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#a6ba52f94a3617b15f49294465439e602"> 1947</a></span>&#160;  <a class="code" href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#a6ba52f94a3617b15f49294465439e602">~PlatformData</a>() {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">if</span> (profiled_thread_ != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      CloseHandle(profiled_thread_);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;      profiled_thread_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  }</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;</div>
<div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#a8634999b3cc714414571e931abe872a6"> 1954</a></span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> <a class="code" href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#a8634999b3cc714414571e931abe872a6">profiled_thread</a>() { <span class="keywordflow">return</span> profiled_thread_; }</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> profiled_thread_;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;};</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="keyword">class </span><a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html">SamplerThread</a> : <span class="keyword">public</span> <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html">Thread</a> {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSamplerThreadStackSize = 64 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a58d287461654266e7f85284ed93e5ede">KB</a>;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;</div>
<div class="line"><a name="l01965"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a049d286f7020aa7eb9ca859dc26e2ed5"> 1965</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a049d286f7020aa7eb9ca859dc26e2ed5">SamplerThread</a>(<span class="keywordtype">int</span> interval)</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      : <a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html">Thread</a>(<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html">Thread</a>::<a class="code" href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html">Options</a>(<span class="stringliteral">&quot;SamplerThread&quot;</span>, kSamplerThreadStackSize)),</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        interval_(interval) {}</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div>
<div class="line"><a name="l01969"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ab91e09ed8a53ff9b143abee5ea67b57a"> 1969</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ab91e09ed8a53ff9b143abee5ea67b57a">SetUp</a>() { <span class="keywordflow">if</span> (!mutex_) mutex_ = <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a96831c13c554e310dd733fcfad796d8a">OS::CreateMutex</a>(); }</div>
<div class="line"><a name="l01970"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a4f7f0ac0948fff3a5200f2bdcaae3ed9"> 1970</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a4f7f0ac0948fff3a5200f2bdcaae3ed9">TearDown</a>() { <span class="keyword">delete</span> mutex_; }</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div>
<div class="line"><a name="l01972"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ad348c4365d877d04cdcae222f4ba0ca4"> 1972</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ad348c4365d877d04cdcae222f4ba0ca4">AddActiveSampler</a>(<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html">Sampler</a>* sampler) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <a class="code" href="../../de/d62/classv8_1_1internal_1_1_scoped_lock.html">ScopedLock</a> lock(mutex_);</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5933d90a2fc736455105466c94fb68e4">SamplerRegistry::AddActiveSampler</a>(sampler);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">if</span> (instance_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;      instance_ = <span class="keyword">new</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html">SamplerThread</a>(sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#afe5b7de87b935531edcd3d15fbd92166">interval</a>());</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      instance_-&gt;<a class="code" href="../../db/d61/classv8_1_1internal_1_1_thread.html#a07aaf1227e4d645f15e0a964f54ef291">Start</a>();</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(instance_-&gt;interval_ == sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#afe5b7de87b935531edcd3d15fbd92166">interval</a>());</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div>
<div class="line"><a name="l01983"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a6930aa475e91b8931c846eaaf26719f9"> 1983</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a6930aa475e91b8931c846eaaf26719f9">RemoveActiveSampler</a>(<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html">Sampler</a>* sampler) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <a class="code" href="../../de/d62/classv8_1_1internal_1_1_scoped_lock.html">ScopedLock</a> lock(mutex_);</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#afe66c84e6560e7ade0b4e9e480a43f3c">SamplerRegistry::RemoveActiveSampler</a>(sampler);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#aff86a1fc17c1491cb622ab1018830971">SamplerRegistry::GetState</a>() == <a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5d74787dedbc4e11c1ab15bf487e61f8a42851d338ab44d3f4925520dcc7723b1">SamplerRegistry::HAS_NO_SAMPLERS</a>) {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <a class="code" href="../../db/d76/classv8_1_1internal_1_1_runtime_profiler.html#a54269f6ccb3ecac6c56eacc359988e36">RuntimeProfiler::StopRuntimeProfilerThreadBeforeShutdown</a>(instance_);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="keyword">delete</span> instance_;</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;      instance_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <span class="comment">// Implement Thread::Run().</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ae468c1feb28eb3650062bd36b81a4dc4"> 1994</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ae468c1feb28eb3650062bd36b81a4dc4">Run</a>() {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5d74787dedbc4e11c1ab15bf487e61f8">SamplerRegistry::State</a> state;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">while</span> ((state = <a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#aff86a1fc17c1491cb622ab1018830971">SamplerRegistry::GetState</a>()) !=</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;           <a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5d74787dedbc4e11c1ab15bf487e61f8a42851d338ab44d3f4925520dcc7723b1">SamplerRegistry::HAS_NO_SAMPLERS</a>) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <span class="keywordtype">bool</span> cpu_profiling_enabled =</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;          (state == <a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5d74787dedbc4e11c1ab15bf487e61f8aa1ac2fa48daeb849e7fbe4b51c991d17">SamplerRegistry::HAS_CPU_PROFILING_SAMPLERS</a>);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <span class="keywordtype">bool</span> runtime_profiler_enabled = <a class="code" href="../../db/d76/classv8_1_1internal_1_1_runtime_profiler.html#a8a49d253d7a89ed87906e2ac33c48eaa">RuntimeProfiler::IsEnabled</a>();</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <span class="comment">// When CPU profiling is enabled both JavaScript and C++ code is</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="comment">// profiled. We must not suspend.</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      <span class="keywordflow">if</span> (!cpu_profiling_enabled) {</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        <span class="keywordflow">if</span> (rate_limiter_.SuspendIfNecessary()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      }</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      <span class="keywordflow">if</span> (cpu_profiling_enabled) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a2fcd2eb8a90b90dbf7f272831d71343d">SamplerRegistry::IterateActiveSamplers</a>(&amp;DoCpuProfile, <span class="keyword">this</span>)) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;      }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      <span class="keywordflow">if</span> (runtime_profiler_enabled) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a2fcd2eb8a90b90dbf7f272831d71343d">SamplerRegistry::IterateActiveSamplers</a>(&amp;DoRuntimeProfile, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>)) {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        }</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      }</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a93167fd3ca0557191f8854f4236e29e4">OS::Sleep</a>(interval_);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    }</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  }</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div>
<div class="line"><a name="l02020"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#abd95b2df668a9046c5ac52993eed9753"> 2020</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#abd95b2df668a9046c5ac52993eed9753">DoCpuProfile</a>(<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html">Sampler</a>* sampler, <span class="keywordtype">void</span>* raw_sampler_thread) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">if</span> (!sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a5d722e33d5e4075d4f0fc88c7cb54bd2">IsInitialized</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="keywordflow">if</span> (!sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a59890ba37a32870a3f64ea5354b77092">IsProfiling</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html">SamplerThread</a>* sampler_thread =</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html">SamplerThread</a>*<span class="keyword">&gt;</span>(raw_sampler_thread);</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    sampler_thread-&gt;<a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ac0ab034063e37f938b3c347473d859e2">SampleContext</a>(sampler);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  }</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div>
<div class="line"><a name="l02028"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a0c1d0f023d08c30fb7a2b00f807697de"> 2028</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a0c1d0f023d08c30fb7a2b00f807697de">DoRuntimeProfile</a>(<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html">Sampler</a>* sampler, <span class="keywordtype">void</span>* ignored) {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="keywordflow">if</span> (!sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a5d722e33d5e4075d4f0fc88c7cb54bd2">IsInitialized</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a47577d29815fa495695a1108eed5b981">runtime_profiler</a>()-&gt;<a class="code" href="../../db/d76/classv8_1_1internal_1_1_runtime_profiler.html#ac2877b2139024ffa066d3f3122a81c47">NotifyTick</a>();</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div>
<div class="line"><a name="l02033"></a><span class="lineno"><a class="line" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ac0ab034063e37f938b3c347473d859e2"> 2033</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ac0ab034063e37f938b3c347473d859e2">SampleContext</a>(<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html">Sampler</a>* sampler) {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">HANDLE</a> profiled_thread = sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a0c9326c1a3531ab24655b714cc973f2a">platform_data</a>()-&gt;<a class="code" href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#a8634999b3cc714414571e931abe872a6">profiled_thread</a>();</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <span class="keywordflow">if</span> (profiled_thread == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="comment">// Context used for sampling the register state of the profiled thread.</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    CONTEXT context;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    memset(&amp;context, 0, <span class="keyword">sizeof</span>(context));</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html">TickSample</a> sample_obj;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html">TickSample</a>* <a class="code" href="../../d6/d1b/test-log-stack-tracer_8cc.html#a39f7231eef589ea82f0b77319ef65e81">sample</a> = <a class="code" href="../../d2/dc2/classv8_1_1internal_1_1_cpu_profiler.html#a69b0a47157697ea394bbca7d5b3182fa">CpuProfiler::TickSampleEvent</a>(sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>());</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">if</span> (sample == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>) sample = &amp;sample_obj;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a> kSuspendFailed = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">DWORD</a><span class="keyword">&gt;</span>(-1);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">if</span> (SuspendThread(profiled_thread) == kSuspendFailed) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    sample-&gt;<a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#ae366fc01b7f26a31d569cfd95e1e7d20">state</a> = sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a48eb2e583ddfeb6444567cdf2c6ffbec">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#ae916f74a98991e76b13b73288a333978">current_vm_state</a>();</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    context.ContextFlags = CONTEXT_FULL;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keywordflow">if</span> (GetThreadContext(profiled_thread, &amp;context) != 0) {</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<span class="preprocessor">#if V8_HOST_ARCH_X64</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      sample-&gt;<a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#a06ba64700f2df484b3e5cde84c04a2bd">pc</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(context.Rip);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      sample-&gt;<a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#abbae68dd18690f093f381e54c959298f">sp</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(context.Rsp);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      sample-&gt;<a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#a793cb761bf2264e38f5760c182397802">fp</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(context.Rbp);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;      sample-&gt;<a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#a06ba64700f2df484b3e5cde84c04a2bd">pc</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(context.Eip);</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      sample-&gt;<a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#abbae68dd18690f093f381e54c959298f">sp</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(context.Esp);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      sample-&gt;<a class="code" href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#a793cb761bf2264e38f5760c182397802">fp</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(context.Ebp);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#af0b3d56479788625404998304acbe111">SampleStack</a>(sample);</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      sampler-&gt;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#aa481856630fd0b2605bf5336a9bbb197">Tick</a>(sample);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    }</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    ResumeThread(profiled_thread);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  }</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> interval_;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  RuntimeProfilerRateLimiter rate_limiter_;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="comment">// Protects the process wide state below.</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <span class="keyword">static</span> <a class="code" href="../../de/dfb/classv8_1_1internal_1_1_mutex.html">Mutex</a>* mutex_;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="keyword">static</span> <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html">SamplerThread</a>* instance_;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <a class="code" href="../../d5/d87/globals_8h.html#af8df3547bfde53a5acb93e2607b0034a">DISALLOW_COPY_AND_ASSIGN</a>(<a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html">SamplerThread</a>);</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;};</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;Mutex* <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a4d1527ae711339532db1864bd8ada952">SamplerThread::mutex_</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;SamplerThread* <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ad39846db740b8d66eec77c73ecb30a36">SamplerThread::instance_</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">NULL</a>;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a1b06560e0e01a806b92c2386220d0b57">OS::SetUp</a>() {</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <span class="comment">// Seed the random number generator.</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="comment">// Convert the current time to a 64-bit integer first, before converting it</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="comment">// to an unsigned. Going directly can cause an overflow and the seed to be</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="comment">// set to all ones. The seed will be identical for different instances that</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="comment">// call this setup code within the same millisecond.</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  uint64_t <a class="code" href="../../d6/dc1/test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a> = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(TimeCurrentMillis());</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  srand(static_cast&lt;unsigned int&gt;(seed));</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  limit_mutex = CreateMutex();</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ab91e09ed8a53ff9b143abee5ea67b57a">SamplerThread::SetUp</a>();</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;}</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a931587596081ef8178c2b128facb0411">OS::TearDown</a>() {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a4f7f0ac0948fff3a5200f2bdcaae3ed9">SamplerThread::TearDown</a>();</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="keyword">delete</span> limit_mutex;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;}</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#ab00557eae45c673e1608e07d3cfe0669">Sampler::Sampler</a>(Isolate* isolate, <span class="keywordtype">int</span> interval)</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    : isolate_(isolate),</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;      interval_(interval),</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      profiling_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6f892599390671c9a72cccc59b240507">false</a>),</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      active_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6f892599390671c9a72cccc59b240507">false</a>),</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      samples_taken_(0) {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  data_ = <span class="keyword">new</span> PlatformData;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;}</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a6bbac6daca224b85dd45062db84d8187">Sampler::~Sampler</a>() {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a6c108d4f82d3ae358c706cd3fab5a546">IsActive</a>());</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="keyword">delete</span> data_;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;}</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a07aaf1227e4d645f15e0a964f54ef291">Sampler::Start</a>() {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a6c108d4f82d3ae358c706cd3fab5a546">IsActive</a>());</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  SetActive(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ad348c4365d877d04cdcae222f4ba0ca4">SamplerThread::AddActiveSampler</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;}</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a17a237457e57625296e6b24feb19c60a">Sampler::Stop</a>() {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a6c108d4f82d3ae358c706cd3fab5a546">IsActive</a>());</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <a class="code" href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a6930aa475e91b8931c846eaaf26719f9">SamplerThread::RemoveActiveSampler</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  SetActive(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;}</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;} }  <span class="comment">// namespace v8::internal</span></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac7f0eb0e10bc8bbb03c793ea1256e329"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">v8::internal::Address</a></div><div class="ttdeci">byte * Address</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00157">globals.h:157</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file_html"><div class="ttname"><a href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html">v8::internal::OS::MemoryMappedFile</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00267">platform.h:267</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa482a54a167d1909947c5ac6855a460f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa482a54a167d1909947c5ac6855a460f">v8::internal::TranslateAddress</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID PREAD_PROCESS_MEMORY_ROUTINE64 PFUNCTION_TABLE_ACCESS_ROUTINE64 PGET_MODULE_BASE_ROUTINE64 PTRANSLATE_ADDRESS_ROUTINE64 TranslateAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01108">platform-win32.cc:1108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_semaphore_html_adf531976162ff22f9b4d86ea0c4e1a87"><div class="ttname"><a href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#adf531976162ff22f9b4d86ea0c4e1a87">v8::internal::Win32Semaphore::Signal</a></div><div class="ttdeci">void Signal()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01724">platform-win32.cc:1724</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1eb1a8d3d782d6567661dc32158c735c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1eb1a8d3d782d6567661dc32158c735c">v8::internal::s2</a></div><div class="ttdeci">const SwVfpRegister s2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00277">assembler-arm.h:277</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab4ec8386fc63a51e23b02ae2bb6da9c9"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab4ec8386fc63a51e23b02ae2bb6da9c9">v8::internal::memory</a></div><div class="ttdeci">activate correct semantics for inheriting readonliness enable harmony semantics for typeof enable harmony enable harmony proxies enable all harmony harmony_scoping harmony_proxies harmony_scoping tracks arrays with only smi values automatically unbox arrays of doubles use crankshaft use hydrogen range analysis use hydrogen global value numbering use function inlining maximum number of AST nodes considered for a single inlining loop invariant code motion print statistics for hydrogen trace generated IR for specified phases trace register allocator trace range analysis trace representation types environment for every instruction put a break point before deoptimizing polymorphic inlining perform array bounds checks elimination use dead code elimination trace on stack replacement optimize closures cache optimized code for closures functions with arguments object loop weight for representation inference allow uint32 values on optimize frames if they are used only in safe operations track parallel recompilation enable all profiler experiments number of stack frames inspected by the profiler call recompile stub directly when self optimizing trigger profiler ticks based on counting instead of timing weight back edges by jump distance for interrupt triggering percentage of ICs that must have type info to allow optimization watch_ic_patching retry_self_opt interrupt_at_exit extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of SAHF instruction if enable use of VFP3 instructions if available this implies enabling ARMv7 and VFP2 enable use of VFP2 instructions if available enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of MIPS FPU instructions if expose natives in global object expose gc extension number of stack frames to capture disable builtin natives files print a stack trace if an assertion failure occurs use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations prepare for turning on always opt minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions automatically set the debug break flag when debugger commands are in the queue always cause a debug break before aborting maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable memory(in Mbytes)&quot;) DEFINE_bool(gc_global</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a5d1a7f515d19714a96084288efe72368"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a5d1a7f515d19714a96084288efe72368">v8::internal::Thread::GetThreadLocal</a></div><div class="ttdeci">static void * GetThreadLocal(LocalStorageKey key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00455">platform-cygwin.cc:455</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_a6930aa475e91b8931c846eaaf26719f9"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a6930aa475e91b8931c846eaaf26719f9">v8::internal::SamplerThread::RemoveActiveSampler</a></div><div class="ttdeci">static void RemoveActiveSampler(Sampler *sampler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01983">platform-win32.cc:1983</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_semaphore_html"><div class="ttname"><a href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html">v8::internal::Win32Semaphore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01704">platform-win32.cc:1704</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a84e4437f43bda4dd8f4cabda651f8eb7"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a84e4437f43bda4dd8f4cabda651f8eb7">random</a></div><div class="ttdeci">int random()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00122">platform-win32.cc:122</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_time_html_a1bc689e7e60a066ad5cc0224348b998c"><div class="ttname"><a href="../../da/d9b/classv8_1_1internal_1_1_time.html#a1bc689e7e60a066ad5cc0224348b998c">v8::internal::Time::LocalTimezone</a></div><div class="ttdeci">char * LocalTimezone()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00550">platform-win32.cc:550</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a0f965c047f07659ca0e9af4ff9df1ffb"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a></div><div class="ttdeci">#define DLL_FUNC_LOADED(name)</div></div>
<div class="ttc" id="checks_8h_html_a0ea8f66bf4733597f9a514fda2151ff9"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a0ea8f66bf4733597f9a514fda2151ff9">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(expected, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00219">checks.h:219</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa68aed3722a9ed5004de28b80be6b738"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa68aed3722a9ed5004de28b80be6b738">v8::internal::pdwDisplacement</a></div><div class="ttdeci">IN DWORD64 OUT PDWORD64 pdwDisplacement</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01118">platform-win32.cc:1118</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a5162f44ada41163be4daf296cf77127f"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a5162f44ada41163be4daf296cf77127f">v8::internal::OS::Free</a></div><div class="ttdeci">static void Free(void *address, const size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00154">platform-cygwin.cc:154</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aa9bf695d8a22ce48df8b3c216fcd3191"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aa9bf695d8a22ce48df8b3c216fcd3191">v8::internal::qwAddr</a></div><div class="ttdeci">IN DWORD64 qwAddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01118">platform-win32.cc:1118</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a7f1301ae3674e8cb6336b9206ab81e76"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a7f1301ae3674e8cb6336b9206ab81e76">v8::internal::VirtualMemory::VirtualMemory</a></div><div class="ttdeci">VirtualMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/platform-freebsd_8cc_source.html#l00330">platform-freebsd.cc:330</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5da70e56552dee3c4945a0a410895567"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8a/v8utils_8cc_source.html#l00040">v8utils.cc:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_vector_html"><div class="ttname"><a href="../../d5/d7d/classv8_1_1internal_1_1_vector.html">v8::internal::Vector&lt; char &gt;</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_a0c9326c1a3531ab24655b714cc973f2a"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a0c9326c1a3531ab24655b714cc973f2a">v8::internal::Sampler::platform_data</a></div><div class="ttdeci">PlatformData * platform_data()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00772">platform.h:772</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_tick_sample_html"><div class="ttname"><a href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html">v8::internal::TickSample</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00709">platform.h:709</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aeedfd61901ac741799b8bcba0efc0693"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aeedfd61901ac741799b8bcba0efc0693">v8::internal::OS::VSNPrintF</a></div><div class="ttdeci">static int VSNPrintF(Vector&lt; char &gt; str, const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00201">platform-nullos.cc:201</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_ae916f74a98991e76b13b73288a333978"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#ae916f74a98991e76b13b73288a333978">v8::internal::Isolate::current_vm_state</a></div><div class="ttdeci">StateTag current_vm_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l01003">isolate.h:1003</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_addf5520787f0602f393ddfcd877cea8b"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#addf5520787f0602f393ddfcd877cea8b">v8::internal::OS::Ticks</a></div><div class="ttdeci">static int64_t Ticks()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00117">platform-nullos.cc:117</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_acc8b207eab70546b09e686d500c96198"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#acc8b207eab70546b09e686d500c96198">v8::internal::MathSetup</a></div><div class="ttdeci">void MathSetup()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00207">platform-win32.cc:207</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a403065d0871ec99ec58aa4cd19f8aabf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a403065d0871ec99ec58aa4cd19f8aabf">v8::internal::Line64</a></div><div class="ttdeci">IN DWORD64 OUT PDWORD OUT PIMAGEHLP_LINE64 Line64</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01123">platform-win32.cc:1123</a></div></div>
<div class="ttc" id="log_8h_html_a146099bfe6b228d314fa3c784c56feec"><div class="ttname"><a href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a></div><div class="ttdeci">#define LOG(isolate, Call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/log_8h_source.html#l00081">log.h:81</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a83c3cdb803c638b79c180b4352bedae3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a83c3cdb803c638b79c180b4352bedae3">v8::internal::PVOID</a></div><div class="ttdeci">typedef PVOID(__stdcall *DLL_FUNC_TYPE(SymFunctionTableAccess64))(HANDLE hProcess</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a58d287461654266e7f85284ed93e5ede"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a58d287461654266e7f85284ed93e5ede">v8::internal::KB</a></div><div class="ttdeci">const int KB</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00207">globals.h:207</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a0d1aca00c4d58a1f284b449268055c46"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a0d1aca00c4d58a1f284b449268055c46">v8::internal::OS::OpenTemporaryFile</a></div><div class="ttdeci">static FILE * OpenTemporaryFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00227">platform-posix.cc:227</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a72355688bbbca9cefa4b7df6d203724f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a72355688bbbca9cefa4b7df6d203724f">v8::internal::snapshot</a></div><div class="ttdeci">activate correct semantics for inheriting readonliness enable harmony semantics for typeof enable harmony enable harmony proxies enable all harmony harmony_scoping harmony_proxies harmony_scoping tracks arrays with only smi values automatically unbox arrays of doubles use crankshaft use hydrogen range analysis use hydrogen global value numbering use function inlining maximum number of AST nodes considered for a single inlining loop invariant code motion print statistics for hydrogen trace generated IR for specified phases trace register allocator trace range analysis trace representation types environment for every instruction put a break point before deoptimizing polymorphic inlining perform array bounds checks elimination use dead code elimination trace on stack replacement optimize closures cache optimized code for closures functions with arguments object loop weight for representation inference allow uint32 values on optimize frames if they are used only in safe operations track parallel recompilation enable all profiler experiments number of stack frames inspected by the profiler call recompile stub directly when self optimizing trigger profiler ticks based on counting instead of timing weight back edges by jump distance for interrupt triggering percentage of ICs that must have type info to allow optimization watch_ic_patching retry_self_opt interrupt_at_exit extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of SAHF instruction if enable use of VFP3 instructions if available this implies enabling ARMv7 and VFP2 enable use of VFP2 instructions if available enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of MIPS FPU instructions if expose natives in global object expose gc extension number of stack frames to capture disable builtin natives files print a stack trace if an assertion failure occurs use random jit cookie to mask large constants trace lazy optimization use adaptive optimizations prepare for turning on always opt minimum length for automatic enable preparsing maximum number of optimization attempts before giving up cache prototype transitions automatically set the debug break flag when debugger commands are in the queue always cause a debug break before aborting maximum length of function source code printed in a stack trace max size of the new max size of the old max size of executable always perform global GCs print one trace line following each garbage collection do not print trace line after scavenger collection print more details following each garbage collection print amount of external allocated memory after each time it is adjusted flush code that we expect not to use again before full gc do incremental marking steps track object counts and memory usage use caching Perform compaction on every full GC Never perform compaction on full GC testing only Compact code space on full incremental collections Default seed for initializing random allows verbose printing trace parsing and preparsing Check icache flushes in ARM and MIPS simulator Stack alingment in bytes in print stack trace when throwing exceptions randomize hashes to avoid predictable hash Fixed seed to use to hash property activate a timer that switches between V8 threads testing_bool_flag float flag Seed used for threading test randomness A filename with extra code to be included in the snapshot(mksnapshot only)&quot;)    DEFINE_bool(help</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_ac24a06ec0749cb482b60f621833bddd7"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#ac24a06ec0749cb482b60f621833bddd7">v8::internal::Thread::Join</a></div><div class="ttdeci">void Join()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00414">platform-cygwin.cc:414</a></div></div>
<div class="ttc" id="checks_8h_html_ad5a1a3bc35696ef5a1070bca3a419c99"><div class="ttname"><a href="../../d5/d16/checks_8h.html#ad5a1a3bc35696ef5a1070bca3a419c99">CHECK_GT</a></div><div class="ttdeci">#define CHECK_GT(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00227">checks.h:227</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_a6c108d4f82d3ae358c706cd3fab5a546"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a6c108d4f82d3ae358c706cd3fab5a546">v8::internal::Sampler::IsActive</a></div><div class="ttdeci">bool IsActive() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00761">platform.h:761</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_afb2a33fbb1cdd65945f342340948d93f"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#afb2a33fbb1cdd65945f342340948d93f">v8::internal::Win32Socket::Win32Socket</a></div><div class="ttdeci">Win32Socket(SOCKET socket)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01749">platform-win32.cc:1749</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html">v8::internal::SamplerThread</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00615">platform-cygwin.cc:615</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_a48eb2e583ddfeb6444567cdf2c6ffbec"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a48eb2e583ddfeb6444567cdf2c6ffbec">v8::internal::Sampler::isolate</a></div><div class="ttdeci">Isolate * isolate()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00763">platform.h:763</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a14c69262fa5c517defdc171416914060"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a14c69262fa5c517defdc171416914060">v8::internal::OS::SignalCodeMovingGC</a></div><div class="ttdeci">static void SignalCodeMovingGC()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00299">platform-cygwin.cc:299</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac63c1c56e8ea6fb4a5ab90f721f099d8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac63c1c56e8ea6fb4a5ab90f721f099d8">v8::internal::SearchPath</a></div><div class="ttdeci">OUT PSTR SearchPath</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01097">platform-win32.cc:1097</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a62b8e5ceab550c2581b1697aada221c3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a62b8e5ceab550c2581b1697aada221c3">v8::internal::ModuleName</a></div><div class="ttdeci">IN HANDLE IN PSTR IN PSTR ModuleName</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01101">platform-win32.cc:1101</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_a049d286f7020aa7eb9ca859dc26e2ed5"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a049d286f7020aa7eb9ca859dc26e2ed5">v8::internal::SamplerThread::SamplerThread</a></div><div class="ttdeci">SamplerThread(int interval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01965">platform-win32.cc:1965</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_mutex_html_ab01267f333ce5443d16c9b34c58b895a"><div class="ttname"><a href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#ab01267f333ce5443d16c9b34c58b895a">v8::internal::Win32Mutex::Win32Mutex</a></div><div class="ttdeci">Win32Mutex()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01666">platform-win32.cc:1666</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4888dc6b78982eb18867921319429cb6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4888dc6b78982eb18867921319429cb6">v8::internal::ceiling</a></div><div class="ttdeci">double ceiling(double x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00057">platform-cygwin.cc:57</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac1ca15b56c9c6bbf29ee4aa156dbc05a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">v8::internal::Max</a></div><div class="ttdeci">T Max(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00222">utils.h:222</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html">v8::internal::Win32Socket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01743">platform-win32.cc:1743</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a2ef62fc89c8fba3da5e2e2f1343e196e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a2ef62fc89c8fba3da5e2e2f1343e196e">v8::internal::kQuietNaNMask</a></div><div class="ttdeci">const uint64_t kQuietNaNMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00254">globals.h:254</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aebcaed76e359b8c934b9f8298e292e8a"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aebcaed76e359b8c934b9f8298e292e8a">v8::internal::OS::IsOutsideAllocatedSpace</a></div><div class="ttdeci">static bool IsOutsideAllocatedSpace(void *pointer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00128">platform-cygwin.cc:128</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_af01b4f2629bb7d4590f5567450592d74"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af01b4f2629bb7d4590f5567450592d74">v8::internal::OS::LocalTimezone</a></div><div class="ttdeci">static const char * LocalTimezone(double time)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00087">platform-cygwin.cc:87</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a792c50be358ffde5ff895de3a84952ca"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a792c50be358ffde5ff895de3a84952ca">v8::internal::MutableCStrVector</a></div><div class="ttdeci">Vector&lt; char &gt; MutableCStrVector(char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00530">utils.h:530</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_mutex_html_a75b95eb9701b9d478bdf9c7a8c13f19c"><div class="ttname"><a href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#a75b95eb9701b9d478bdf9c7a8c13f19c">v8::internal::Win32Mutex::Lock</a></div><div class="ttdeci">virtual int Lock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01670">platform-win32.cc:1670</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_semaphore_html_a22820fb84887e8c51652e2e698401704"><div class="ttname"><a href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#a22820fb84887e8c51652e2e698401704">v8::internal::Win32Semaphore::Win32Semaphore</a></div><div class="ttdeci">Win32Semaphore(int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01706">platform-win32.cc:1706</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ae3967bccb3f265846fdfec5a5d88743a"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae3967bccb3f265846fdfec5a5d88743a">v8::internal::OS::kStackWalkError</a></div><div class="ttdeci">static const int kStackWalkError</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00245">platform.h:245</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_ad39846db740b8d66eec77c73ecb30a36"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ad39846db740b8d66eec77c73ecb30a36">v8::internal::SamplerThread::instance_</a></div><div class="ttdeci">static SamplerThread * instance_</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00725">platform-cygwin.cc:725</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a75b0ff73dd1b5db44ad916f4206b92be"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75b0ff73dd1b5db44ad916f4206b92be">v8::internal::OS::GetUserTime</a></div><div class="ttdeci">static int GetUserTime(uint32_t *secs, uint32_t *usecs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00100">platform-nullos.cc:100</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a01d6773a748fe18f73492ab2dc8829ec"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a01d6773a748fe18f73492ab2dc8829ec">v8::internal::OS::kStackWalkMaxTextLen</a></div><div class="ttdeci">static const int kStackWalkMaxTextLen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00247">platform.h:247</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_abd2002e9dcc5f90e2f5ebf6877044503"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#abd2002e9dcc5f90e2f5ebf6877044503">v8::internal::Win32Socket::Accept</a></div><div class="ttdeci">Socket * Accept() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01803">platform-win32.cc:1803</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_scoped_lock_html"><div class="ttname"><a href="../../de/d62/classv8_1_1internal_1_1_scoped_lock.html">v8::internal::ScopedLock</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00592">platform.h:592</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a87a9c69a69ee4b13cb1ec5772f6d32ad"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a87a9c69a69ee4b13cb1ec5772f6d32ad">v8::internal::Thread::~Thread</a></div><div class="ttdeci">virtual ~Thread()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00378">platform-cygwin.cc:378</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1a112006d088ef858eebbe868e966a57"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1a112006d088ef858eebbe868e966a57">v8::internal::hFile</a></div><div class="ttdeci">IN HANDLE hFile</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01101">platform-win32.cc:1101</a></div></div>
<div class="ttc" id="test-log-stack-tracer_8cc_html_a39f7231eef589ea82f0b77319ef65e81"><div class="ttname"><a href="../../d6/d1b/test-log-stack-tracer_8cc.html#a39f7231eef589ea82f0b77319ef65e81">sample</a></div><div class="ttdeci">TickSample * sample</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/test-log-stack-tracer_8cc_source.html#l00062">test-log-stack-tracer.cc:62</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33ca1f7a5574b76195a27b04152509632efc">v8::internal::CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00649">platform-win32.cc:649</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_a59e9861df58e6ee99d37d480b6653537"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a59e9861df58e6ee99d37d480b6653537">v8::internal::Win32Socket::Listen</a></div><div class="ttdeci">bool Listen(int backlog) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01793">platform-win32.cc:1793</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_ad348c4365d877d04cdcae222f4ba0ca4"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ad348c4365d877d04cdcae222f4ba0ca4">v8::internal::SamplerThread::AddActiveSampler</a></div><div class="ttdeci">static void AddActiveSampler(Sampler *sampler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01972">platform-win32.cc:1972</a></div></div>
<div class="ttc" id="checks_8h_html_ac22830a985e1daed0c9eadba8c6f606e"><div class="ttname"><a href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a></div><div class="ttdeci">#define ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00270">checks.h:270</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_add09f6a0b989fa16f6586b67b6747818"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a></div><div class="ttdeci">#define DBGHELP_FUNCTION_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01053">platform-win32.cc:1053</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4929dcf4129df9f2538146f09b1b52f6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4929dcf4129df9f2538146f09b1b52f6">v8::internal::HANDLE</a></div><div class="ttdeci">typedef HANDLE(__stdcall *DLL_FUNC_TYPE(CreateToolhelp32Snapshot))(DWORD dwFlags</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aa205d860b2308c1bec75312683a4fbfd"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aa205d860b2308c1bec75312683a4fbfd">v8::internal::OS::VFPrint</a></div><div class="ttdeci">static void VFPrint(FILE *out, const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00173">platform-nullos.cc:173</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_afe5b7de87b935531edcd3d15fbd92166"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#afe5b7de87b935531edcd3d15fbd92166">v8::internal::Sampler::interval</a></div><div class="ttdeci">int interval() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00739">platform.h:739</a></div></div>
<div class="ttc" id="namespaceunibrow_html_a273cf69d639a59973b6019625df33e30"><div class="ttname"><a href="../../d7/df6/namespaceunibrow.html#a273cf69d639a59973b6019625df33e30">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dad/unicode_8cc_source.html#l00046">unicode.cc:46</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_time_html_ae8768031439fbb5e0b37aa8b802bf983"><div class="ttname"><a href="../../da/d9b/classv8_1_1internal_1_1_time.html#ae8768031439fbb5e0b37aa8b802bf983">v8::internal::Time::SetToCurrentTime</a></div><div class="ttdeci">void SetToCurrentTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00424">platform-win32.cc:424</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_a5a508c30674e499f2bb4b636bc73871b"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a5a508c30674e499f2bb4b636bc73871b">v8::internal::Win32Socket::Win32Socket</a></div><div class="ttdeci">Win32Socket()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01745">platform-win32.cc:1745</a></div></div>
<div class="ttc" id="platform_8h_html"><div class="ttname"><a href="../../de/d03/platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae04ffbfbcc4147f59c253f40ddf80e44"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae04ffbfbcc4147f59c253f40ddf80e44">v8::internal::SizeOfDll</a></div><div class="ttdeci">IN HANDLE IN PSTR IN PSTR IN DWORD64 IN DWORD SizeOfDll</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01101">platform-win32.cc:1101</a></div></div>
<div class="ttc" id="checks_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00056">checks.h:56</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_mutex_html"><div class="ttname"><a href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html">v8::internal::Win32Mutex</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01664">platform-win32.cc:1664</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_mutex_html_aa8ed2510e9b95c623394aaf9e30acb1b"><div class="ttname"><a href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#aa8ed2510e9b95c623394aaf9e30acb1b">v8::internal::Win32Mutex::Unlock</a></div><div class="ttdeci">virtual int Unlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01675">platform-win32.cc:1675</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a4d8735ab2ecf1720799bc1685cad6d86"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a4d8735ab2ecf1720799bc1685cad6d86">UNARY_MATH_FUNCTION</a></div><div class="ttdeci">#define UNARY_MATH_FUNCTION(name, generator)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00189">platform-win32.cc:189</a></div></div>
<div class="ttc" id="win32-math_8h_html_afdf433fdb158cbe82ce818a3a2de736b"><div class="ttname"><a href="../../d7/d6a/win32-math_8h.html#afdf433fdb158cbe82ce818a3a2de736b">isnan</a></div><div class="ttdeci">int isnan(double x)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_tick_sample_html_a06ba64700f2df484b3e5cde84c04a2bd"><div class="ttname"><a href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#a06ba64700f2df484b3e5cde84c04a2bd">v8::internal::TickSample::pc</a></div><div class="ttdeci">Address pc</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00720">platform.h:720</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file_html_a0ddf8516907fa14688fa7611750c688c"><div class="ttname"><a href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a0ddf8516907fa14688fa7611750c688c">v8::internal::OS::MemoryMappedFile::open</a></div><div class="ttdeci">static MemoryMappedFile * open(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00205">platform-cygwin.cc:205</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_a15ceca1222a290ef55ef094efc0a2922"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a15ceca1222a290ef55ef094efc0a2922">v8::internal::Thread::PlatformData::thread_id_</a></div><div class="ttdeci">unsigned thread_id_</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01575">platform-win32.cc:1575</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_registry_html_afe66c84e6560e7ade0b4e9e480a43f3c"><div class="ttname"><a href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#afe66c84e6560e7ade0b4e9e480a43f3c">v8::internal::SamplerRegistry::RemoveActiveSampler</a></div><div class="ttdeci">static void RemoveActiveSampler(Sampler *sampler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc1/log_8cc_source.html#l01868">log.cc:1868</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_ade22e811680aaf01cfc02494c1790943"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#ade22e811680aaf01cfc02494c1790943">v8::internal::Thread::PlatformData::PlatformData</a></div><div class="ttdeci">PlatformData()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00364">platform-cygwin.cc:364</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_1_1_platform_data_html_a6ba52f94a3617b15f49294465439e602"><div class="ttname"><a href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#a6ba52f94a3617b15f49294465439e602">v8::internal::Sampler::PlatformData::~PlatformData</a></div><div class="ttdeci">~PlatformData()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01947">platform-win32.cc:1947</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_socket_html"><div class="ttname"><a href="../../d9/d18/classv8_1_1internal_1_1_socket.html">v8::internal::Socket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00665">platform.h:665</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_ae6c18c46c43b1d9b0baf92b0b2576743"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#ae6c18c46c43b1d9b0baf92b0b2576743">v8::internal::Win32Socket::~Win32Socket</a></div><div class="ttdeci">virtual ~Win32Socket()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01750">platform-win32.cc:1750</a></div></div>
<div class="ttc" id="test-strings_8cc_html_ae21f357c223957d36046a0d71cc6aed7"><div class="ttname"><a href="../../d6/dc1/test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a></div><div class="ttdeci">unsigned int seed</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc1/test-strings_8cc_source.html#l00018">test-strings.cc:18</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_acb618a8b49694aea3f20bd7946d43e65"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#acb618a8b49694aea3f20bd7946d43e65">v8::internal::Win32Socket::Bind</a></div><div class="ttdeci">bool Bind(const int port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01776">platform-win32.cc:1776</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_time_html"><div class="ttname"><a href="../../da/d9b/classv8_1_1internal_1_1_time.html">v8::internal::Time</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00225">platform-win32.cc:225</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a7153ed9aa37ce52059db777f98aa7b01"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a7153ed9aa37ce52059db777f98aa7b01">v8::internal::DWORD</a></div><div class="ttdeci">typedef DWORD(__stdcall *DLL_FUNC_TYPE(SymGetOptions))(VOID)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_a46aee6b35bc7ee0cd1fd3c257a720b33"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a46aee6b35bc7ee0cd1fd3c257a720b33">v8::internal::Win32Socket::Send</a></div><div class="ttdeci">int Send(const char *data, int len) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01855">platform-win32.cc:1855</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_ab91e09ed8a53ff9b143abee5ea67b57a"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ab91e09ed8a53ff9b143abee5ea67b57a">v8::internal::SamplerThread::SetUp</a></div><div class="ttdeci">static void SetUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01969">platform-win32.cc:1969</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_time_html_aa732a55d5b69a54a02a721975cbb18bb"><div class="ttname"><a href="../../da/d9b/classv8_1_1internal_1_1_time.html#aa732a55d5b69a54a02a721975cbb18bb">v8::internal::Time::ToJSTime</a></div><div class="ttdeci">double ToJSTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00336">platform-win32.cc:336</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_ac2bbd6d630a06a980d9a92ddb9a49928"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a></div><div class="ttdeci">#define IN</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01081">platform-win32.cc:1081</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a61a3c741e45fec1dec99ad16e31ca3e4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a61a3c741e45fec1dec99ad16e31ca3e4">v8::internal::ImageName</a></div><div class="ttdeci">IN HANDLE IN PSTR ImageName</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01101">platform-win32.cc:1101</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9f30ccf59233403783321902193ac283"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9f30ccf59233403783321902193ac283">v8::internal::StackFrame</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 StackFrame</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01108">platform-win32.cc:1108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file_html_a335b025a91c959a0b993dc6cfc3ec093"><div class="ttname"><a href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a335b025a91c959a0b993dc6cfc3ec093">v8::internal::OS::MemoryMappedFile::memory</a></div><div class="ttdeci">virtual void * memory()=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_a5b5c8edddab00eccab78fb42b053e639"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a5b5c8edddab00eccab78fb42b053e639">v8::internal::Win32Socket::Receive</a></div><div class="ttdeci">int Receive(char *data, int len) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01872">platform-win32.cc:1872</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_a07aaf1227e4d645f15e0a964f54ef291"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a07aaf1227e4d645f15e0a964f54ef291">v8::internal::Sampler::Start</a></div><div class="ttdeci">void Start()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00771">platform-cygwin.cc:771</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_adf71998ede43577319275683ac798cb7"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#adf71998ede43577319275683ac798cb7">v8::internal::Thread::YieldCPU</a></div><div class="ttdeci">static void YieldCPU()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00467">platform-cygwin.cc:467</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a12b9283f52eaf7610afe4b04fbca2ff0"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a12b9283f52eaf7610afe4b04fbca2ff0">v8::internal::OS::Abort</a></div><div class="ttdeci">static void Abort()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00180">platform-cygwin.cc:180</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a7d9e118177a6f2184128edabecad9302"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a></div><div class="ttdeci">#define DEF_DLL_FUNCTION(name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01147">platform-win32.cc:1147</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_profiler_html_a54269f6ccb3ecac6c56eacc359988e36"><div class="ttname"><a href="../../db/d76/classv8_1_1internal_1_1_runtime_profiler.html#a54269f6ccb3ecac6c56eacc359988e36">v8::internal::RuntimeProfiler::StopRuntimeProfilerThreadBeforeShutdown</a></div><div class="ttdeci">static void StopRuntimeProfilerThreadBeforeShutdown(Thread *thread)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df8/runtime-profiler_8cc_source.html#l00457">runtime-profiler.cc:457</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a72446b1664e0afdbe3a0b0d425384970"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a72446b1664e0afdbe3a0b0d425384970">v8::internal::BOOL</a></div><div class="ttdeci">typedef BOOL(__stdcall *DLL_FUNC_TYPE(SymInitialize))(IN HANDLE hProcess</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aad411e079c86d50fd77c1b865426c860"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aad411e079c86d50fd77c1b865426c860">v8::internal::DWORD64</a></div><div class="ttdeci">typedef DWORD64(__stdcall *DLL_FUNC_TYPE(SymLoadModule64))(IN HANDLE hProcess</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_ad8cb171d9a03505361a29e94f7d4c14c"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#ad8cb171d9a03505361a29e94f7d4c14c">v8::internal::Win32Socket::SetReuseAddress</a></div><div class="ttdeci">bool SetReuseAddress(bool reuse_address)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01879">platform-win32.cc:1879</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3a5743f917579cd6073a241efc0cb6ae"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3a5743f917579cd6073a241efc0cb6ae">v8::internal::BaseOfDll</a></div><div class="ttdeci">IN HANDLE IN PSTR IN PSTR IN DWORD64 BaseOfDll</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01101">platform-win32.cc:1101</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html">v8::internal::Thread</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00449">platform.h:449</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_afa8720abaf6972d6dac22a8cd1a67225"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#afa8720abaf6972d6dac22a8cd1a67225">v8::internal::Win32Socket::IsValid</a></div><div class="ttdeci">bool IsValid() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01769">platform-win32.cc:1769</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_a6bbac6daca224b85dd45062db84d8187"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a6bbac6daca224b85dd45062db84d8187">v8::internal::Sampler::~Sampler</a></div><div class="ttdeci">virtual ~Sampler()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00765">platform-cygwin.cc:765</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3ade81327a560533c755661340652a2f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3ade81327a560533c755661340652a2f">v8::internal::hProcess</a></div><div class="ttdeci">HANDLE hProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01108">platform-win32.cc:1108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_tick_sample_html_a793cb761bf2264e38f5760c182397802"><div class="ttname"><a href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#a793cb761bf2264e38f5760c182397802">v8::internal::TickSample::fp</a></div><div class="ttdeci">Address fp</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00722">platform.h:722</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ae8687c3de8ef33da42bafe0284ff9f97"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae8687c3de8ef33da42bafe0284ff9f97">v8::internal::OS::ReleaseStore</a></div><div class="ttdeci">static void ReleaseStore(volatile AtomicWord *ptr, AtomicWord value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00081">platform-cygwin.cc:81</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html_a1f130addb4ad83524de7f1e8b90085d0"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a1f130addb4ad83524de7f1e8b90085d0">v8::internal::Win32MemoryMappedFile::Win32MemoryMappedFile</a></div><div class="ttdeci">Win32MemoryMappedFile(HANDLE file, HANDLE file_mapping, void *memory, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00983">platform-win32.cc:983</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a26ae97c946e709188bcfbadcbadda2c3"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a26ae97c946e709188bcfbadcbadda2c3">v8::internal::OS::MemCopy</a></div><div class="ttdeci">static void MemCopy(void *dest, const void *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00339">platform.h:339</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a47577d29815fa495695a1108eed5b981"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a47577d29815fa495695a1108eed5b981">v8::internal::Isolate::runtime_profiler</a></div><div class="ttdeci">RuntimeProfiler * runtime_profiler()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00826">isolate.h:826</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_cpu_profiler_html_a69b0a47157697ea394bbca7d5b3182fa"><div class="ttname"><a href="../../d2/dc2/classv8_1_1internal_1_1_cpu_profiler.html#a69b0a47157697ea394bbca7d5b3182fa">v8::internal::CpuProfiler::TickSampleEvent</a></div><div class="ttdeci">static TickSample * TickSampleEvent(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de3/cpu-profiler_8cc_source.html#l00313">cpu-profiler.cc:313</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a252a3fdfbf10a2a0d67709024e437923"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a252a3fdfbf10a2a0d67709024e437923">v8::internal::UserSearchPath</a></div><div class="ttdeci">IN PSTR UserSearchPath</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01091">platform-win32.cc:1091</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_ae468c1feb28eb3650062bd36b81a4dc4"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ae468c1feb28eb3650062bd36b81a4dc4">v8::internal::SamplerThread::Run</a></div><div class="ttdeci">virtual void Run()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01994">platform-win32.cc:1994</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3ad3bc02ff3f2df4c8663dad4b7e809b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3ad3bc02ff3f2df4c8663dad4b7e809b">v8::internal::ContextRecord</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID ContextRecord</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01108">platform-win32.cc:1108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_a4c52f320409a6aa9b7101a21ed27d62e"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a4c52f320409a6aa9b7101a21ed27d62e">v8::internal::Thread::PlatformData::PlatformData</a></div><div class="ttdeci">PlatformData(HANDLE thread)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01573">platform-win32.cc:1573</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_a59890ba37a32870a3f64ea5354b77092"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a59890ba37a32870a3f64ea5354b77092">v8::internal::Sampler::IsProfiling</a></div><div class="ttdeci">bool IsProfiling() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00756">platform.h:756</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a856ab6f6a6eb33c76bebaa49caaa1d39"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a856ab6f6a6eb33c76bebaa49caaa1d39">v8::internal::OS::ProtectCode</a></div><div class="ttdeci">static void ProtectCode(void *address, const size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00162">platform-cygwin.cc:162</a></div></div>
<div class="ttc" id="src_2v8_8h_html"><div class="ttname"><a href="../../df/d6a/src_2v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html_a10e1f6966c5274c8807317c1bca83db6"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a10e1f6966c5274c8807317c1bca83db6">v8::internal::Win32MemoryMappedFile::~Win32MemoryMappedFile</a></div><div class="ttdeci">virtual ~Win32MemoryMappedFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01038">platform-win32.cc:1038</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aaf13d4f9ed169ce08f966011c4d69c4a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aaf13d4f9ed169ce08f966011c4d69c4a">v8::internal::ReadMemoryRoutine</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID PREAD_PROCESS_MEMORY_ROUTINE64 ReadMemoryRoutine</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01108">platform-win32.cc:1108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_registry_html_a5d74787dedbc4e11c1ab15bf487e61f8"><div class="ttname"><a href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5d74787dedbc4e11c1ab15bf487e61f8">v8::internal::SamplerRegistry::State</a></div><div class="ttdeci">State</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/log_8h_source.html#l00459">log.h:459</a></div></div>
<div class="ttc" id="win32-headers_8h_html"><div class="ttname"><a href="../../db/db0/win32-headers_8h.html">win32-headers.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_ad0ed7a1fdf1fd5a83d2611a636438036"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#ad0ed7a1fdf1fd5a83d2611a636438036">v8::internal::Thread::CreateThreadLocalKey</a></div><div class="ttdeci">static LocalStorageKey CreateThreadLocalKey()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00438">platform-cygwin.cc:438</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a71d8d763c7a5feba8bbb9a65fdc4cc87"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a71d8d763c7a5feba8bbb9a65fdc4cc87">v8::internal::OS::FOpen</a></div><div class="ttdeci">static FILE * FOpen(const char *path, const char *mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00210">platform-posix.cc:210</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_registry_html_a5d74787dedbc4e11c1ab15bf487e61f8a42851d338ab44d3f4925520dcc7723b1"><div class="ttname"><a href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5d74787dedbc4e11c1ab15bf487e61f8a42851d338ab44d3f4925520dcc7723b1">v8::internal::SamplerRegistry::HAS_NO_SAMPLERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/log_8h_source.html#l00460">log.h:460</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ada66adab5e750853950daf4371db1392"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">v8::internal::IsAligned</a></div><div class="ttdeci">bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00206">utils.h:206</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file_html_a795f4ccc4c09dc9052a3ea5afe7ba792"><div class="ttname"><a href="../../de/d00/classv8_1_1internal_1_1_o_s_1_1_memory_mapped_file.html#a795f4ccc4c09dc9052a3ea5afe7ba792">v8::internal::OS::MemoryMappedFile::create</a></div><div class="ttdeci">static MemoryMappedFile * create(const char *name, int size, void *initial)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00218">platform-cygwin.cc:218</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_a4d1527ae711339532db1864bd8ada952"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a4d1527ae711339532db1864bd8ada952">v8::internal::SamplerThread::mutex_</a></div><div class="ttdeci">static Mutex * mutex_</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00724">platform-cygwin.cc:724</a></div></div>
<div class="ttc" id="codegen_8h_html"><div class="ttname"><a href="../../d1/d39/codegen_8h.html">codegen.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a146ff176f27b3c2827a100e3a3b1c242"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a146ff176f27b3c2827a100e3a3b1c242">v8::internal::OS::VPrint</a></div><div class="ttdeci">static void VPrint(const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00159">platform-nullos.cc:159</a></div></div>
<div class="ttc" id="globals_8h_html_af8df3547bfde53a5acb93e2607b0034a"><div class="ttname"><a href="../../d5/d87/globals_8h.html#af8df3547bfde53a5acb93e2607b0034a">DISALLOW_COPY_AND_ASSIGN</a></div><div class="ttdeci">#define DISALLOW_COPY_AND_ASSIGN(TypeName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00307">globals.h:307</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_mutex_html"><div class="ttname"><a href="../../de/dfb/classv8_1_1internal_1_1_mutex.html">v8::internal::Mutex</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00548">platform.h:548</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae5c6c8ee8720723c5370ed15f33cc531"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae5c6c8ee8720723c5370ed15f33cc531">v8::internal::AtomicWord</a></div><div class="ttdeci">intptr_t AtomicWord</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/atomicops_8h_source.html#l00075">atomicops.h:75</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac7f72bb5596bb46d7153f7ded163cc9b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac7f72bb5596bb46d7153f7ded163cc9b">v8::internal::CreateSqrtFunction</a></div><div class="ttdeci">UnaryMathFunction CreateSqrtFunction()</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a3e417fdc67271cfae54cdd8d3fc91525"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a3e417fdc67271cfae54cdd8d3fc91525">v8::internal::OS::Guard</a></div><div class="ttdeci">static void Guard(void *address, const size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00168">platform-cygwin.cc:168</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_adc6afb6446e814fcbdea4f7d0168955b"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adc6afb6446e814fcbdea4f7d0168955b">v8::internal::OS::VPrintError</a></div><div class="ttdeci">static void VPrintError(const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00189">platform-nullos.cc:189</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a9ed88e41f6e2cfe2e355874acab98c85"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a9ed88e41f6e2cfe2e355874acab98c85">v8::internal::modulo</a></div><div class="ttdeci">double modulo(double x, double y)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00052">platform-nullos.cc:52</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a376499501cbfeea6909ce63b06a21cb8"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a376499501cbfeea6909ce63b06a21cb8">v8::internal::OS::GetCurrentProcessId</a></div><div class="ttdeci">static int GetCurrentProcessId()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00156">platform-posix.cc:156</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_socket_html_a59b83e0ab445113e9aa95323def3a8ff"><div class="ttname"><a href="../../d9/d18/classv8_1_1internal_1_1_socket.html#a59b83e0ab445113e9aa95323def3a8ff">v8::internal::Socket::NToH</a></div><div class="ttdeci">static uint16_t NToH(uint16_t value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00530">platform-posix.cc:530</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4718d33a2325528d5e80c19da5199e20"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">v8::internal::RoundUp</a></div><div class="ttdeci">T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00150">utils.h:150</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a96831c13c554e310dd733fcfad796d8a"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a96831c13c554e310dd733fcfad796d8a">v8::internal::OS::CreateMutex</a></div><div class="ttdeci">static Mutex * CreateMutex()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00513">platform-cygwin.cc:513</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ac66145f5794e9999422ed814b46c7604"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac66145f5794e9999422ed814b46c7604">v8::internal::OS::TimeCurrentMillis</a></div><div class="ttdeci">static double TimeCurrentMillis()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00110">platform-nullos.cc:110</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_1_1_platform_data_html_a8634999b3cc714414571e931abe872a6"><div class="ttname"><a href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#a8634999b3cc714414571e931abe872a6">v8::internal::Sampler::PlatformData::profiled_thread</a></div><div class="ttdeci">HANDLE profiled_thread()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01954">platform-win32.cc:1954</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a96408c20703a2c69e5c2e52a893d618a"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a></div><div class="ttdeci">#define LOAD_DLL_FUNC(name)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_tick_sample_html_ae366fc01b7f26a31d569cfd95e1e7d20"><div class="ttname"><a href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#ae366fc01b7f26a31d569cfd95e1e7d20">v8::internal::TickSample::state</a></div><div class="ttdeci">StateTag state</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00719">platform.h:719</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_abd95b2df668a9046c5ac52993eed9753"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#abd95b2df668a9046c5ac52993eed9753">v8::internal::SamplerThread::DoCpuProfile</a></div><div class="ttdeci">static void DoCpuProfile(Sampler *sampler, void *raw_sampler_thread)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l02020">platform-win32.cc:2020</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_socket_html_ad9bd6bff4242e1ba1819540681d16f4c"><div class="ttname"><a href="../../d9/d18/classv8_1_1internal_1_1_socket.html#ad9bd6bff4242e1ba1819540681d16f4c">v8::internal::Socket::HToN</a></div><div class="ttdeci">static uint16_t HToN(uint16_t value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00525">platform-posix.cc:525</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aedac882e1f21e19ef4a15ef77cd22a3a"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aedac882e1f21e19ef4a15ef77cd22a3a">v8::internal::OS::DebugBreak</a></div><div class="ttdeci">static void DebugBreak()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00186">platform-cygwin.cc:186</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a07aaf1227e4d645f15e0a964f54ef291"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a07aaf1227e4d645f15e0a964f54ef291">v8::internal::Thread::Start</a></div><div class="ttdeci">void Start()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00401">platform-cygwin.cc:401</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6f892599390671c9a72cccc59b240507"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6f892599390671c9a72cccc59b240507">v8::internal::false</a></div><div class="ttdeci">activate correct semantics for inheriting readonliness false</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00141">flags.cc:141</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a88a95695fff06aad8428dbbe33a89c17"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a88a95695fff06aad8428dbbe33a89c17">v8::internal::Thread::DeleteThreadLocalKey</a></div><div class="ttdeci">static void DeleteThreadLocalKey(LocalStorageKey key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00447">platform-cygwin.cc:447</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_semaphore_html_ade7c17fb79686f6fe6865d28e80d5a92"><div class="ttname"><a href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#ade7c17fb79686f6fe6865d28e80d5a92">v8::internal::Win32Semaphore::Wait</a></div><div class="ttdeci">void Wait()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01714">platform-win32.cc:1714</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a93167fd3ca0557191f8854f4236e29e4"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a93167fd3ca0557191f8854f4236e29e4">v8::internal::OS::Sleep</a></div><div class="ttdeci">static void Sleep(const int milliseconds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00174">platform-cygwin.cc:174</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a9032cdcad230f3cde4b521a6750884ff"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a9032cdcad230f3cde4b521a6750884ff">v8::internal::OS::Print</a></div><div class="ttdeci">static void Print(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00153">platform-nullos.cc:153</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_a7c4ef401b32b066aa5ef0d6738923777"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7c4ef401b32b066aa5ef0d6738923777">v8::internal::Thread::PlatformData::thread_</a></div><div class="ttdeci">pthread_t thread_</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00365">platform-cygwin.cc:365</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_afb83aa5f45767ca9b22ea563cb6e6306"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#afb83aa5f45767ca9b22ea563cb6e6306">v8::internal::hThread</a></div><div class="ttdeci">HANDLE HANDLE hThread</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01108">platform-win32.cc:1108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a931587596081ef8178c2b128facb0411"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a931587596081ef8178c2b128facb0411">v8::internal::OS::TearDown</a></div><div class="ttdeci">static void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00749">platform-cygwin.cc:749</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semaphore_html"><div class="ttname"><a href="../../dd/d6f/classv8_1_1internal_1_1_semaphore.html">v8::internal::Semaphore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00617">platform.h:617</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a00b253ab5971676c7634e1eba361c47a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a00b253ab5971676c7634e1eba361c47a">v8::internal::s1</a></div><div class="ttdeci">const SwVfpRegister s1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dcd/assembler-arm_8h_source.html#l00276">assembler-arm.h:276</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a138defefcd058df315adb42c4b1dc863"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a138defefcd058df315adb42c4b1dc863">v8::internal::GetModuleBaseRoutine</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID PREAD_PROCESS_MEMORY_ROUTINE64 PFUNCTION_TABLE_ACCESS_ROUTINE64 PGET_MODULE_BASE_ROUTINE64 GetModuleBaseRoutine</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01108">platform-win32.cc:1108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ac0bfad7b49b63e797573151f79007de5"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ac0bfad7b49b63e797573151f79007de5">v8::internal::OS::SNPrintF</a></div><div class="ttdeci">static int SNPrintF(Vector&lt; char &gt; str, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00195">platform-nullos.cc:195</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_aa5eef89bb424dbefc717f67fc396db16"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#aa5eef89bb424dbefc717f67fc396db16">v8::internal::Thread::data</a></div><div class="ttdeci">PlatformData * data()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00528">platform.h:528</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_afa44df2a14037562568d7f965d50833c"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#afa44df2a14037562568d7f965d50833c">v8::internal::OS::CreateSemaphore</a></div><div class="ttdeci">static Semaphore * CreateSemaphore(int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00578">platform-cygwin.cc:578</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_registry_html_a5d74787dedbc4e11c1ab15bf487e61f8aa1ac2fa48daeb849e7fbe4b51c991d17"><div class="ttname"><a href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5d74787dedbc4e11c1ab15bf487e61f8aa1ac2fa48daeb849e7fbe4b51c991d17">v8::internal::SamplerRegistry::HAS_CPU_PROFILING_SAMPLERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/log_8h_source.html#l00462">log.h:462</a></div></div>
<div class="ttc" id="isolate_8h_html_afbd09b56c7cdf48ff457909e030f1f74"><div class="ttname"><a href="../../d8/d1e/isolate_8h.html#afbd09b56c7cdf48ff457909e030f1f74">ISOLATE</a></div><div class="ttdeci">#define ISOLATE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l01435">isolate.h:1435</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ad40309f94a3d0c651592fac6cd1de398"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad40309f94a3d0c651592fac6cd1de398">v8::internal::OS::kStackWalkMaxNameLen</a></div><div class="ttdeci">static const int kStackWalkMaxNameLen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00246">platform.h:246</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a66d575bd069a059c1d65a87a74900fb4"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a></div><div class="ttdeci">#define TLHELP32_FUNCTION_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01066">platform-win32.cc:1066</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_af53293c434463ff17dcad713dae39951"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#af53293c434463ff17dcad713dae39951">v8::internal::Win32Socket::Connect</a></div><div class="ttdeci">bool Connect(const char *host, const char *port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01817">platform-win32.cc:1817</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_ac0ab034063e37f938b3c347473d859e2"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#ac0ab034063e37f938b3c347473d859e2">v8::internal::SamplerThread::SampleContext</a></div><div class="ttdeci">void SampleContext(Sampler *sampler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00687">platform-cygwin.cc:687</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_time_html_addec6cd804ca57df0645e489ea7b64cc"><div class="ttname"><a href="../../da/d9b/classv8_1_1internal_1_1_time.html#addec6cd804ca57df0645e489ea7b64cc">v8::internal::Time::LocalOffset</a></div><div class="ttdeci">int64_t LocalOffset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00484">platform-win32.cc:484</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a2ad80cdfa895b81968050fa753ecda20"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a2ad80cdfa895b81968050fa753ecda20">v8::internal::OS::nan_value</a></div><div class="ttdeci">static double nan_value()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00212">platform-nullos.cc:212</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_options_html"><div class="ttname"><a href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html">v8::internal::Thread::Options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00460">platform.h:460</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_1_1_platform_data_html_ade22e811680aaf01cfc02494c1790943"><div class="ttname"><a href="../../d6/ddb/classv8_1_1internal_1_1_sampler_1_1_platform_data.html#ade22e811680aaf01cfc02494c1790943">v8::internal::Sampler::PlatformData::PlatformData</a></div><div class="ttdeci">PlatformData()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01941">platform-win32.cc:1941</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_a4f7f0ac0948fff3a5200f2bdcaae3ed9"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a4f7f0ac0948fff3a5200f2bdcaae3ed9">v8::internal::SamplerThread::TearDown</a></div><div class="ttdeci">static void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01970">platform-win32.cc:1970</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_v8_html_a1f0fa631352af9fb27010c42edd432e9"><div class="ttname"><a href="../../d8/d0e/classv8_1_1internal_1_1_v8.html#a1f0fa631352af9fb27010c42edd432e9">v8::internal::V8::RandomPrivate</a></div><div class="ttdeci">static uint32_t RandomPrivate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dff/v8_8cc_source.html#l00181">v8.cc:181</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a9b1fb6604c6982bf0111e2c1b3110728"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a9b1fb6604c6982bf0111e2c1b3110728">v8::internal::Thread::SetThreadLocal</a></div><div class="ttdeci">static void SetThreadLocal(LocalStorageKey key, void *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00461">platform-cygwin.cc:461</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ae4d8ebc38f56768d3a8c9e2686bb4223"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae4d8ebc38f56768d3a8c9e2686bb4223">v8::internal::OS::Allocate</a></div><div class="ttdeci">static void * Allocate(const size_t requested, size_t *allocated, bool is_executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00138">platform-cygwin.cc:138</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a9f43c654690d8405b8745173fb27ff5f"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a9f43c654690d8405b8745173fb27ff5f">v8::internal::OS::StackWalk</a></div><div class="ttdeci">static int StackWalk(Vector&lt; StackFrame &gt; frames)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00304">platform-cygwin.cc:304</a></div></div>
<div class="ttc" id="vm-state-inl_8h_html"><div class="ttname"><a href="../../dd/dd6/vm-state-inl_8h.html">vm-state-inl.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_adb9ac83c359db3e1a9fd194dc267906f"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#adb9ac83c359db3e1a9fd194dc267906f">v8::internal::OS::PostSetUp</a></div><div class="ttdeci">static void PostSetUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00065">platform-cygwin.cc:65</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_registry_html_aff86a1fc17c1491cb622ab1018830971"><div class="ttname"><a href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#aff86a1fc17c1491cb622ab1018830971">v8::internal::SamplerRegistry::GetState</a></div><div class="ttdeci">static State GetState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc1/log_8cc_source.html#l01847">log.cc:1847</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a479782c1ca16b739d6a4d4ea5bfea33c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33c">v8::internal::OutputMode</a></div><div class="ttdeci">OutputMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00647">platform-win32.cc:647</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_platform_data_html_a7695a6d41ec7f92a34c878a0c42981e6"><div class="ttname"><a href="../../dd/dec/classv8_1_1internal_1_1_thread_1_1_platform_data.html#a7695a6d41ec7f92a34c878a0c42981e6">v8::internal::Thread::PlatformData::thread_</a></div><div class="ttdeci">HANDLE thread_</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01574">platform-win32.cc:1574</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_ad1bdeb16c3a6c7cf3da83c219ec4da77"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a></div><div class="ttdeci">#define DLL_FUNC_TYPE(name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01073">platform-win32.cc:1073</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a75f2330504a416d8b572870b9cfade17"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a75f2330504a416d8b572870b9cfade17">v8::internal::OS::PrintError</a></div><div class="ttdeci">static void PrintError(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00179">platform-nullos.cc:179</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_af0b3d56479788625404998304acbe111"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#af0b3d56479788625404998304acbe111">v8::internal::Sampler::SampleStack</a></div><div class="ttdeci">void SampleStack(TickSample *sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00742">platform.h:742</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a8d2c80733bc7ac4742471d997b7ab3aa"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a8d2c80733bc7ac4742471d997b7ab3aa">v8::internal::OS::LogSharedLibraryAddresses</a></div><div class="ttdeci">static void LogSharedLibraryAddresses()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00239">platform-cygwin.cc:239</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a13252007b9bb2e4fe2ef49cefd946220"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a13252007b9bb2e4fe2ef49cefd946220">v8::internal::th32ProcessID</a></div><div class="ttdeci">DWORD th32ProcessID</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01137">platform-win32.cc:1137</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_acbe942506e38bc285ce5d26eac08c847"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#acbe942506e38bc285ce5d26eac08c847">v8::internal::SearchPathLength</a></div><div class="ttdeci">OUT PSTR IN DWORD SearchPathLength</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01097">platform-win32.cc:1097</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_html_a8575650d2c0f26010b06a5a09d5d6d7a"><div class="ttname"><a href="../../db/d61/classv8_1_1internal_1_1_thread.html#a8575650d2c0f26010b06a5a09d5d6d7a">v8::internal::Thread::LocalStorageKey</a></div><div class="ttdeci">LocalStorageKey</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00455">platform.h:455</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_semaphore_html_a961fbe07bcbbd40e1172f3d400be0840"><div class="ttname"><a href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#a961fbe07bcbbd40e1172f3d400be0840">v8::internal::Win32Semaphore::~Win32Semaphore</a></div><div class="ttdeci">~Win32Semaphore()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01710">platform-win32.cc:1710</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a1b06560e0e01a806b92c2386220d0b57"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a1b06560e0e01a806b92c2386220d0b57">v8::internal::OS::SetUp</a></div><div class="ttdeci">static void SetUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00736">platform-cygwin.cc:736</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab46a6342f518ffe356dd4b116eabc1e0"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">v8::internal::USE</a></div><div class="ttdeci">void USE(T)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00289">globals.h:289</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_socket_html_a248d78a3d6c943375cd2c91e1240b884"><div class="ttname"><a href="../../db/dd9/classv8_1_1internal_1_1_win32_socket.html#a248d78a3d6c943375cd2c91e1240b884">v8::internal::Win32Socket::Shutdown</a></div><div class="ttdeci">bool Shutdown()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01843">platform-win32.cc:1843</a></div></div>
<div class="ttc" id="flag-definitions_8h_html_a49435ced13267a613e1d5ba777466b64"><div class="ttname"><a href="../../d1/d2e/flag-definitions_8h.html#a49435ced13267a613e1d5ba777466b64">NULL</a></div><div class="ttdeci">activate correct semantics for inheriting readonliness enable harmony semantics for typeof enable harmony enable harmony proxies enable all harmony harmony_scoping harmony_proxies harmony_scoping tracks arrays with only smi values automatically unbox arrays of doubles use crankshaft use hydrogen range analysis use hydrogen global value numbering use function inlining maximum number of AST nodes considered for a single inlining loop invariant code motion print statistics for hydrogen trace generated IR for specified phases trace register allocator trace range analysis trace representation types environment for every instruction put a break point before deoptimizing polymorphic inlining perform array bounds checks elimination use dead code elimination trace on stack replacement optimize closures cache optimized code for closures functions with arguments object loop weight for representation inference allow uint32 values on optimize frames if they are used only in safe operations track parallel recompilation enable all profiler experiments number of stack frames inspected by the profiler call recompile stub directly when self optimizing trigger profiler ticks based on counting instead of timing weight back edges by jump distance for interrupt triggering percentage of ICs that must have type info to allow optimization watch_ic_patching retry_self_opt interrupt_at_exit extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of SAHF instruction if enable use of VFP3 instructions if available this implies enabling ARMv7 and VFP2 enable use of VFP2 instructions if available enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of MIPS FPU instructions if NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/flag-definitions_8h_source.html#l00300">flag-definitions.h:300</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_aaca8567ae014abed35c19d23b44e73cb"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#aaca8567ae014abed35c19d23b44e73cb">v8::internal::OS::StrNCpy</a></div><div class="ttdeci">static void StrNCpy(Vector&lt; char &gt; dest, const char *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00347">platform-posix.cc:347</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cafb4a1f875f324f43595a6ed276009363">v8::internal::ODS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00650">platform-win32.cc:650</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a38b9d155c95f9e591479d49caab2a4a6"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a38b9d155c95f9e591479d49caab2a4a6">v8::internal::OS::ActivationFrameAlignment</a></div><div class="ttdeci">static int ActivationFrameAlignment()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00074">platform-cygwin.cc:74</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_thread_1_1_options_html_a862958aa3c2b9bf36903f1f0f2e81c54"><div class="ttname"><a href="../../da/d4a/classv8_1_1internal_1_1_thread_1_1_options.html#a862958aa3c2b9bf36903f1f0f2e81c54">v8::internal::Thread::Options::name</a></div><div class="ttdeci">const char * name() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00466">platform.h:466</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad2b71fb1bdba33d1f58fcbdb0dc9d4d2"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad2b71fb1bdba33d1f58fcbdb0dc9d4d2">v8::internal::Symbol</a></div><div class="ttdeci">IN DWORD64 OUT PDWORD64 OUT PIMAGEHLP_SYMBOL64 Symbol</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01118">platform-win32.cc:1118</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html">v8::internal::Sampler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00733">platform.h:733</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html_a7edc9fae01093617967fd7c9df18a2a2"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a7edc9fae01093617967fd7c9df18a2a2">v8::internal::Win32MemoryMappedFile::size</a></div><div class="ttdeci">virtual int size()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00993">platform-win32.cc:993</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a5d722e33d5e4075d4f0fc88c7cb54bd2"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a5d722e33d5e4075d4f0fc88c7cb54bd2">v8::internal::Isolate::IsInitialized</a></div><div class="ttdeci">bool IsInitialized()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00459">isolate.h:459</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_tick_sample_html_abbae68dd18690f093f381e54c959298f"><div class="ttname"><a href="../../d6/d4d/classv8_1_1internal_1_1_tick_sample.html#abbae68dd18690f093f381e54c959298f">v8::internal::TickSample::sp</a></div><div class="ttdeci">Address sp</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00721">platform.h:721</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a78a2b414f1126d3845182f24b6f8f5e5"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a78a2b414f1126d3845182f24b6f8f5e5">v8::internal::OS::DaylightSavingsOffset</a></div><div class="ttdeci">static double DaylightSavingsOffset(double time)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00132">platform-nullos.cc:132</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a7722bc8d47e6547dea4f1beddb449c10"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">v8::internal::OS::AllocateAlignment</a></div><div class="ttdeci">static size_t AllocateAlignment()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00133">platform-cygwin.cc:133</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_socket_html_adf59a4d72a257be3c5633affbb4a58bf"><div class="ttname"><a href="../../d9/d18/classv8_1_1internal_1_1_socket.html#adf59a4d72a257be3c5633affbb4a58bf">v8::internal::Socket::LastError</a></div><div class="ttdeci">static int LastError()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00520">platform-posix.cc:520</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a49435ced13267a613e1d5ba777466b64"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a49435ced13267a613e1d5ba777466b64">v8::internal::NULL</a></div><div class="ttdeci">activate correct semantics for inheriting readonliness enable harmony semantics for typeof enable harmony enable harmony proxies enable all harmony harmony_scoping harmony_proxies harmony_scoping tracks arrays with only smi values automatically unbox arrays of doubles use crankshaft use hydrogen range analysis use hydrogen global value numbering use function inlining maximum number of AST nodes considered for a single inlining loop invariant code motion print statistics for hydrogen trace generated IR for specified phases trace register allocator trace range analysis trace representation types environment for every instruction put a break point before deoptimizing polymorphic inlining perform array bounds checks elimination use dead code elimination trace on stack replacement optimize closures cache optimized code for closures functions with arguments object loop weight for representation inference allow uint32 values on optimize frames if they are used only in safe operations track parallel recompilation enable all profiler experiments number of stack frames inspected by the profiler call recompile stub directly when self optimizing trigger profiler ticks based on counting instead of timing weight back edges by jump distance for interrupt triggering percentage of ICs that must have type info to allow optimization watch_ic_patching retry_self_opt interrupt_at_exit extra verbose compilation tracing generate extra emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of SAHF instruction if enable use of VFP3 instructions if available this implies enabling ARMv7 and VFP2 enable use of VFP2 instructions if available enable use of SDIV and UDIV instructions if enable loading bit constant by means of movw movt instruction enable unaligned accesses for enable use of MIPS FPU instructions if NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00301">flags.cc:301</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_mutex_html_af51a8dec94b299b3c581274ccd64202c"><div class="ttname"><a href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#af51a8dec94b299b3c581274ccd64202c">v8::internal::Win32Mutex::~Win32Mutex</a></div><div class="ttdeci">virtual ~Win32Mutex()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01668">platform-win32.cc:1668</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_registry_html_a5933d90a2fc736455105466c94fb68e4"><div class="ttname"><a href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a5933d90a2fc736455105466c94fb68e4">v8::internal::SamplerRegistry::AddActiveSampler</a></div><div class="ttdeci">static void AddActiveSampler(Sampler *sampler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc1/log_8cc_source.html#l01856">log.cc:1856</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_ab00557eae45c673e1608e07d3cfe0669"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#ab00557eae45c673e1608e07d3cfe0669">v8::internal::Sampler::Sampler</a></div><div class="ttdeci">Sampler(Isolate *isolate, int interval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00755">platform-cygwin.cc:755</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ae40525a0648a33d8a7a53036beb8fe59"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ae40525a0648a33d8a7a53036beb8fe59">v8::internal::OS::CpuFeaturesImpliedByPlatform</a></div><div class="ttdeci">static uint64_t CpuFeaturesImpliedByPlatform()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00069">platform-cygwin.cc:69</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_aa481856630fd0b2605bf5336a9bbb197"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#aa481856630fd0b2605bf5336a9bbb197">v8::internal::Sampler::Tick</a></div><div class="ttdeci">virtual void Tick(TickSample *sample)=0</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a7d64caad10c705910e723dd8920a9dba"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7d64caad10c705910e723dd8920a9dba">v8::internal::OS::Remove</a></div><div class="ttdeci">static bool Remove(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00222">platform-posix.cc:222</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a10b9a284527af83a44533867b0aff0fc"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a10b9a284527af83a44533867b0aff0fc">v8::internal::OS::GetLastError</a></div><div class="ttdeci">static int GetLastError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00138">platform-nullos.cc:138</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae7773e084aaa4f7cea3199510ecd27ac"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae7773e084aaa4f7cea3199510ecd27ac">v8::internal::kPageSizeBits</a></div><div class="ttdeci">const int kPageSizeBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00092">v8globals.h:92</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html">v8::internal::Win32MemoryMappedFile</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00981">platform-win32.cc:981</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a8227003ebda7d9b733c44e106e7ab607"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a8227003ebda7d9b733c44e106e7ab607">v8::internal::MemoryBarrier</a></div><div class="ttdeci">void MemoryBarrier()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d60/atomicops__internals__arm__gcc_8h_source.html#l00114">atomicops_internals_arm_gcc.h:114</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ad3e0a75292d588a6496d229d85d36745"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ad3e0a75292d588a6496d229d85d36745">v8::internal::OS::MaxVirtualMemory</a></div><div class="ttdeci">static intptr_t MaxVirtualMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00068">platform-posix.cc:68</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_registry_html_a2fcd2eb8a90b90dbf7f272831d71343d"><div class="ttname"><a href="../../db/d14/classv8_1_1internal_1_1_sampler_registry.html#a2fcd2eb8a90b90dbf7f272831d71343d">v8::internal::SamplerRegistry::IterateActiveSamplers</a></div><div class="ttdeci">static bool IterateActiveSamplers(VisitSampler func, void *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc1/log_8cc_source.html#l01830">log.cc:1830</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a59b2a275f956b31d65d4472524c76c7f"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a59b2a275f956b31d65d4472524c76c7f">v8::internal::OS::FPrint</a></div><div class="ttdeci">static void FPrint(FILE *out, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/platform-nullos_8cc_source.html#l00165">platform-nullos.cc:165</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a1d9badc4d7e641eb49c90a9518fbf137"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a1d9badc4d7e641eb49c90a9518fbf137">v8::internal::AddrBase</a></div><div class="ttdeci">DWORD64 AddrBase</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01129">platform-win32.cc:1129</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_mutex_html_a8a61c22ca9d6cff5bbf1739a7a512056"><div class="ttname"><a href="../../df/d7d/classv8_1_1internal_1_1_win32_mutex.html#a8a61c22ca9d6cff5bbf1739a7a512056">v8::internal::Win32Mutex::TryLock</a></div><div class="ttdeci">virtual bool TryLock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01681">platform-win32.cc:1681</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a42b60489db32fdfea5c33e6dd623d601"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a42b60489db32fdfea5c33e6dd623d601">v8::internal::OS::LocalTimeOffset</a></div><div class="ttdeci">static double LocalTimeOffset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00096">platform-cygwin.cc:96</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_profiler_html_ac2877b2139024ffa066d3f3122a81c47"><div class="ttname"><a href="../../db/d76/classv8_1_1internal_1_1_runtime_profiler.html#ac2877b2139024ffa066d3f3122a81c47">v8::internal::RuntimeProfiler::NotifyTick</a></div><div class="ttdeci">void NotifyTick()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df8/runtime-profiler_8cc_source.html#l00379">runtime-profiler.cc:379</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a479782c1ca16b739d6a4d4ea5bfea33cab6aedfcb4a10d1a01e272f492e2c2765">v8::internal::UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/isolate_8cc_source.html#l00799">isolate.cc:799</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4789b60113833ac293f9d1aa9a6372e8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">v8::internal::Min</a></div><div class="ttdeci">T Min(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00229">utils.h:229</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0cee649003fae72f307bafa3fa3ac9cf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0cee649003fae72f307bafa3fa3ac9cf">v8::internal::fInvadeProcess</a></div><div class="ttdeci">IN PSTR IN BOOL fInvadeProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01091">platform-win32.cc:1091</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ae62128e9bec528b19035466146279d8e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ae62128e9bec528b19035466146279d8e">v8::internal::FunctionTableAccessRoutine</a></div><div class="ttdeci">HANDLE HANDLE LPSTACKFRAME64 PVOID PREAD_PROCESS_MEMORY_ROUTINE64 PFUNCTION_TABLE_ACCESS_ROUTINE64 FunctionTableAccessRoutine</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01108">platform-win32.cc:1108</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_socket_html_a88ccb24206b05493e679a2746d6e3557"><div class="ttname"><a href="../../d9/d18/classv8_1_1internal_1_1_socket.html#a88ccb24206b05493e679a2746d6e3557">v8::internal::Socket::SetUp</a></div><div class="ttdeci">static bool SetUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00514">platform-posix.cc:514</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_time_html_a38b0285424ae98cbe324c635b300c750"><div class="ttname"><a href="../../da/d9b/classv8_1_1internal_1_1_time.html#a38b0285424ae98cbe324c635b300c750">v8::internal::Time::Time</a></div><div class="ttdeci">Time()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00310">platform-win32.cc:310</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_time_html_a24dec20a4d00dd5db2329e361c61710d"><div class="ttname"><a href="../../da/d9b/classv8_1_1internal_1_1_time.html#a24dec20a4d00dd5db2329e361c61710d">v8::internal::Time::DaylightSavingsOffset</a></div><div class="ttdeci">int64_t DaylightSavingsOffset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00543">platform-win32.cc:543</a></div></div>
<div class="ttc" id="platform-win32_8cc_html_a7f319bfc2492a2136964194204e7a8cf"><div class="ttname"><a href="../../d5/d27/platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div><div class="ttdeci">#define VOID</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01084">platform-win32.cc:1084</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_af00c86fbba1628b33c07eebe858c4046"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">v8::internal::OS::CommitPageSize</a></div><div class="ttdeci">static intptr_t CommitPageSize()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00076">platform-posix.cc:76</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_html_a17a237457e57625296e6b24feb19c60a"><div class="ttname"><a href="../../db/d4d/classv8_1_1internal_1_1_sampler.html#a17a237457e57625296e6b24feb19c60a">v8::internal::Sampler::Stop</a></div><div class="ttdeci">void Stop()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00778">platform-cygwin.cc:778</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a58ff3fd2f1bbb80989a84c432cb19b34"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a58ff3fd2f1bbb80989a84c432cb19b34">v8::internal::OS::LogFileOpenMode</a></div><div class="ttdeci">static const char *const LogFileOpenMode</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00186">platform.h:186</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aeea1e51ab3947b8b9ef84ff8535b40bb"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aeea1e51ab3947b8b9ef84ff8535b40bb">v8::internal::CreateTranscendentalFunction</a></div><div class="ttdeci">UnaryMathFunction CreateTranscendentalFunction(TranscendentalCache::Type type)</div></div>
<div class="ttc" id="namespacev8_html_a2fa4b13c46cfb14a888e581c6712d752"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#a2fa4b13c46cfb14a888e581c6712d752">v8::isfinite</a></div><div class="ttdeci">int isfinite(double x)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a531ab2599d4f9b07d5129b797ad3b222"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a531ab2599d4f9b07d5129b797ad3b222">v8::internal::RoundUpToPowerOf2</a></div><div class="ttdeci">uint32_t RoundUpToPowerOf2(uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00186">utils.h:186</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_transcendental_cache_html_a1d1cfd8ffb84e947f82999c682b666a7a55720cf0d1ebf3d6f0eac12f2dffbfa2"><div class="ttname"><a href="../../d2/d24/classv8_1_1internal_1_1_transcendental_cache.html#a1d1cfd8ffb84e947f82999c682b666a7a55720cf0d1ebf3d6f0eac12f2dffbfa2">v8::internal::TranscendentalCache::SIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l02639">heap.h:2639</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_memory_mapped_file_html_a63fd3e7b0d22ddeaba0f3265034d7acb"><div class="ttname"><a href="../../de/db0/classv8_1_1internal_1_1_win32_memory_mapped_file.html#a63fd3e7b0d22ddeaba0f3265034d7acb">v8::internal::Win32MemoryMappedFile::memory</a></div><div class="ttdeci">virtual void * memory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l00992">platform-win32.cc:992</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_win32_semaphore_html_abd043f2111d1c2f03c4727b5e00a7421"><div class="ttname"><a href="../../d1/da4/classv8_1_1internal_1_1_win32_semaphore.html#abd043f2111d1c2f03c4727b5e00a7421">v8::internal::Win32Semaphore::Wait</a></div><div class="ttdeci">bool Wait(int timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01718">platform-win32.cc:1718</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a1140b1c7ad3d3e068359ee56e891f1ec"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a1140b1c7ad3d3e068359ee56e891f1ec">v8::internal::OS::StrChr</a></div><div class="ttdeci">static char * StrChr(char *str, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00342">platform-posix.cc:342</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_ab8d98b5da29bb3d29c7bdb6f90f551a5"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#ab8d98b5da29bb3d29c7bdb6f90f551a5">v8::internal::OS::CreateSocket</a></div><div class="ttdeci">static Socket * CreateSocket()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00545">platform-posix.cc:545</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_sampler_thread_html_a0c1d0f023d08c30fb7a2b00f807697de"><div class="ttname"><a href="../../d6/d55/classv8_1_1internal_1_1_sampler_thread.html#a0c1d0f023d08c30fb7a2b00f807697de">v8::internal::SamplerThread::DoRuntimeProfile</a></div><div class="ttdeci">static void DoRuntimeProfile(Sampler *sampler, void *ignored)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l02028">platform-win32.cc:2028</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_runtime_profiler_html_a8a49d253d7a89ed87906e2ac33c48eaa"><div class="ttname"><a href="../../db/d76/classv8_1_1internal_1_1_runtime_profiler.html#a8a49d253d7a89ed87906e2ac33c48eaa">v8::internal::RuntimeProfiler::IsEnabled</a></div><div class="ttdeci">static bool IsEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dac/runtime-profiler_8h_source.html#l00048">runtime-profiler.h:48</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a86faa2c9474e9636a79e2430d41490fa"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a86faa2c9474e9636a79e2430d41490fa">v8::internal::lpme</a></div><div class="ttdeci">LPMODULEENTRY32W lpme</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/platform-win32_8cc_source.html#l01139">platform-win32.cc:1139</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../d5/d27/platform-win32_8cc.html">platform-win32.cc</a></li>
    <li class="footer">Generated on Sat Jun 7 2014 23:29:57 for v8 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
