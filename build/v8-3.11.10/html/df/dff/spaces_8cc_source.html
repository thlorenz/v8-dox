<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>v8: src/spaces.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../v8-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">v8
   &#160;<span id="projectnumber">3.11.10(node0.8.26)</span>
   </div>
   <div id="projectbrief">V8 is Google&#39;s open source JavaScript engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/dff/spaces_8cc_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">spaces.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/dff/spaces_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2011 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// modification, are permitted provided that the following conditions are</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// met:</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//     * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//       copyright notice, this list of conditions and the following</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//       disclaimer in the documentation and/or other materials provided</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//       with the distribution.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//     * Neither the name of Google Inc. nor the names of its</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//       from this software without specific prior written permission.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d6a/src_2v8_8h.html">v8.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d44/liveobjectlist-inl_8h.html">liveobjectlist-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d04/macro-assembler_8h.html">macro-assembler.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dd7/mark-compact_8h.html">mark-compact.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d03/platform_8h.html">platform.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">namespace </span>v8 {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span>internal {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// HeapObjectIterator</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#a9af4b13ae1c65411e28edb478736877a">   42</a></span>&#160;<a class="code" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#a9af4b13ae1c65411e28edb478736877a">HeapObjectIterator::HeapObjectIterator</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html">PagedSpace</a>* space) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">// You can&#39;t actually iterate over the anchor page.  It is not a real page,</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// just an anchor for the double linked page list.  Initialize as if we have</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// reached the end of the anchor page, then the first iteration will move on</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// to the first page.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  Initialize(space,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;             kAllPagesInSpace,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#a6245b5d7e841eb2a1b37cf45f27861f1">   55</a></span>&#160;<a class="code" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#a9af4b13ae1c65411e28edb478736877a">HeapObjectIterator::HeapObjectIterator</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html">PagedSpace</a>* space,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad86ea0c69f8188478238e46a3897a217">HeapObjectCallback</a> size_func) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">// You can&#39;t actually iterate over the anchor page.  It is not a real page,</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// just an anchor for the double linked page list.  Initialize the current</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// address and end as NULL, then the first iteration will move on</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// to the first page.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  Initialize(space,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;             <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;             kAllPagesInSpace,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;             size_func);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#ab19d39fa87e2375ee63a67be35052443">   69</a></span>&#160;<a class="code" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#a9af4b13ae1c65411e28edb478736877a">HeapObjectIterator::HeapObjectIterator</a>(<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* page,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad86ea0c69f8188478238e46a3897a217">HeapObjectCallback</a> size_func) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html">Space</a>* owner = page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae44530e3201f6897d66a149f04d7bdc">owner</a>();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(owner == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;old_pointer_space() ||</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;         owner == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;old_data_space() ||</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;         owner == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;map_space() ||</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;         owner == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;cell_space() ||</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;         owner == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;code_space());</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  Initialize(reinterpret_cast&lt;PagedSpace*&gt;(owner),</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;             page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a89d4525844f4dcadc45cecde6e295ec3">area_start</a>(),</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;             page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a0dd8cbe6c00f22aa536bd55353014679">area_end</a>(),</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;             kOnePageOnly,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;             size_func);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(page-&gt;<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a8a6a9e42c30a9fa3a06b7370a21083c6">WasSweptPrecisely</a>());</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keywordtype">void</span> HeapObjectIterator::Initialize(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html">PagedSpace</a>* space,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> cur, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> end,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                    HeapObjectIterator::PageMode mode,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad86ea0c69f8188478238e46a3897a217">HeapObjectCallback</a> size_f) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// Check that we actually can iterate this space.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!space-&gt;<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a629ca8ae403c2fd6f01be6a714bb33ac">was_swept_conservatively</a>());</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  space_ = space;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  cur_addr_ = cur;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  cur_end_ = end;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  page_mode_ = mode;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  size_func_ = size_f;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">// We have hit the end of the page and should advance to the next block of</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">// objects.  This happens at the end of the page.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keywordtype">bool</span> HeapObjectIterator::AdvanceToNextPage() {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(cur_addr_ == cur_end_);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">if</span> (page_mode_ == kOnePageOnly) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  Page* cur_page;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">if</span> (cur_addr_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    cur_page = space_-&gt;<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a66e64bdcc31731ea50f41d34e2648414">anchor</a>();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    cur_page = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(cur_addr_ - 1);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(cur_addr_ == cur_page-&gt;area_end());</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  cur_page = cur_page-&gt;next_page();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (cur_page == space_-&gt;<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a66e64bdcc31731ea50f41d34e2648414">anchor</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  cur_addr_ = cur_page-&gt;area_start();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  cur_end_ = cur_page-&gt;area_end();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(cur_page-&gt;WasSweptPrecisely());</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">// CodeRange</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../df/def/classv8_1_1internal_1_1_code_range.html#a0fe4f5a0077f48fb693feb34fa147841">  126</a></span>&#160;<a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#a0fe4f5a0077f48fb693feb34fa147841">CodeRange::CodeRange</a>(<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    : isolate_(isolate),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      code_range_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>),</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      free_list_(0),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      allocation_list_(0),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      current_allocation_block_index_(0) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../df/def/classv8_1_1internal_1_1_code_range.html#ab6429e9ab211f5a95e2497ed6f1fe8a6">  135</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#ab6429e9ab211f5a95e2497ed6f1fe8a6">CodeRange::SetUp</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> requested) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(code_range_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  code_range_ = <span class="keyword">new</span> <a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a>(requested);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(code_range_ != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span> (!code_range_-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ab4d499c403e0464f9fba9f37909de172">IsReserved</a>()) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">delete</span> code_range_;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    code_range_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// We are sure that we have mapped a block of requested addresses.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(code_range_-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a0b6b70701c46e22849f0f363861351cd">size</a>() == requested);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate_, NewEvent(<span class="stringliteral">&quot;CodeRange&quot;</span>, code_range_-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a6dd3d138560b246169cc8103ff62a0d0">address</a>(), requested));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(code_range_-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a6dd3d138560b246169cc8103ff62a0d0">address</a>());</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> aligned_base =</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(reinterpret_cast&lt;Address&gt;(code_range_-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a6dd3d138560b246169cc8103ff62a0d0">address</a>()),</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;              <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">size_t</span> size = code_range_-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a0b6b70701c46e22849f0f363861351cd">size</a>() - (aligned_base - base);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  allocation_list_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(FreeBlock(aligned_base, size));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  current_allocation_block_index_ = 0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keywordtype">int</span> CodeRange::CompareFreeBlockAddress(<span class="keyword">const</span> FreeBlock* left,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                       <span class="keyword">const</span> FreeBlock* right) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// The entire point of CodeRange is that the difference between two</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// addresses in the range can be represented as a signed 32-bit int,</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// so the cast is semantically correct.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(left-&gt;start - right-&gt;start);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keywordtype">void</span> CodeRange::GetNextAllocationBlock(<span class="keywordtype">size_t</span> requested) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">for</span> (current_allocation_block_index_++;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;       current_allocation_block_index_ &lt; allocation_list_.length();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;       current_allocation_block_index_++) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (requested &lt;= allocation_list_[current_allocation_block_index_].size) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span>;  <span class="comment">// Found a large enough allocation block.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// Sort and merge the free blocks on the free list and the allocation list.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  free_list_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a926a1f29a098592d1c277eeb7c030a48">AddAll</a>(allocation_list_);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  allocation_list_.Clear();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  free_list_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a87643b418e695b99a84dbc670e8ecccd">Sort</a>(&amp;CompareFreeBlockAddress);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; free_list_.length();) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    FreeBlock merged = free_list_[i];</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    i++;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// Add adjacent free blocks to the current merged block.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">while</span> (i &lt; free_list_.length() &amp;&amp;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;           free_list_[i].start == merged.start + merged.size) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      merged.size += free_list_[i].size;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      i++;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (merged.size &gt; 0) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      allocation_list_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(merged);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  free_list_.Clear();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">for</span> (current_allocation_block_index_ = 0;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;       current_allocation_block_index_ &lt; allocation_list_.length();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;       current_allocation_block_index_++) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (requested &lt;= allocation_list_[current_allocation_block_index_].size) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">return</span>;  <span class="comment">// Found a large enough allocation block.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// Code range is full or too fragmented.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="../../d8/d0e/classv8_1_1internal_1_1_v8.html#a3c89270ab4ac2bd43e9a12d2b93f1a00">V8::FatalProcessOutOfMemory</a>(<span class="stringliteral">&quot;CodeRange::GetNextAllocationBlock&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="../../df/def/classv8_1_1internal_1_1_code_range.html#af17cef8437813557397a4d76dee0b660">  211</a></span>&#160;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> <a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#af17cef8437813557397a4d76dee0b660">CodeRange::AllocateRawMemory</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> requested,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                     <span class="keywordtype">size_t</span>* allocated) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(current_allocation_block_index_ &lt; allocation_list_.length());</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (requested &gt; allocation_list_[current_allocation_block_index_].size) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// Find an allocation block large enough.  This function call may</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// call V8::FatalProcessOutOfMemory if it cannot find a large enough block.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    GetNextAllocationBlock(requested);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// Commit the requested memory at the start of the current allocation block.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordtype">size_t</span> aligned_requested = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(requested, <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  FreeBlock current = allocation_list_[current_allocation_block_index_];</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">if</span> (aligned_requested &gt;= (current.size - <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>)) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// Don&#39;t leave a small free block, useless for a large object or chunk.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    *allocated = current.size;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    *allocated = aligned_requested;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(*allocated &lt;= current.size);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a13af70b3a41d097462e50ee0102fd7">IsAddressAligned</a>(current.start, <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>));</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a0080b329fdc2f5cb57e2db8671b31361">MemoryAllocator::CommitCodePage</a>(code_range_,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                       current.start,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                       *allocated)) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    *allocated = 0;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  allocation_list_[current_allocation_block_index_].start += *allocated;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  allocation_list_[current_allocation_block_index_].size -= *allocated;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (*allocated == current.size) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    GetNextAllocationBlock(0);  <span class="comment">// This block is used up, get the next one.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">return</span> current.start;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="../../df/def/classv8_1_1internal_1_1_code_range.html#aa1e8dcf25ae89fb61066dcf68bdb130e">  245</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#aa1e8dcf25ae89fb61066dcf68bdb130e">CodeRange::FreeRawMemory</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> address, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a13af70b3a41d097462e50ee0102fd7">IsAddressAligned</a>(address, <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  free_list_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(FreeBlock(address, length));</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  code_range_-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a503964da0dcd2d71cd6411ef6143746c">Uncommit</a>(address, length);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="../../df/def/classv8_1_1internal_1_1_code_range.html#a931587596081ef8178c2b128facb0411">  252</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#a931587596081ef8178c2b128facb0411">CodeRange::TearDown</a>() {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">delete</span> code_range_;  <span class="comment">// Frees all memory in the virtual memory range.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    code_range_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    free_list_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a8e96de373101f7325f2e1bb97acf91b1">Free</a>();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    allocation_list_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a8e96de373101f7325f2e1bb97acf91b1">Free</a>();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">// MemoryAllocator</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a66907b322cf9e7964ba19b82cadfce6a">  264</a></span>&#160;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a66907b322cf9e7964ba19b82cadfce6a">MemoryAllocator::MemoryAllocator</a>(<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    : isolate_(isolate),</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      capacity_(0),</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      capacity_executable_(0),</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      size_(0),</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      size_executable_(0) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a4c0f5dc3cd33195e80ee5eec20356372">  273</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a4c0f5dc3cd33195e80ee5eec20356372">MemoryAllocator::SetUp</a>(intptr_t capacity, intptr_t capacity_executable) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  capacity_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(capacity, <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  capacity_executable_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(capacity_executable, <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a8534ecd5e280a77dd885c1aae46a1c22">ASSERT_GE</a>(capacity_, capacity_executable_);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  size_ = 0;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  size_executable_ = 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a931587596081ef8178c2b128facb0411">  285</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a931587596081ef8178c2b128facb0411">MemoryAllocator::TearDown</a>() {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// Check that spaces were torn down before MemoryAllocator.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_ == 0);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// TODO(gc) this will be true again when we fix FreeMemory.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// ASSERT(size_executable_ == 0);</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  capacity_ = 0;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  capacity_executable_ = 0;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a3f472fe1ac6d7456fb9d8a2a7acf0488">  295</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a3f472fe1ac6d7456fb9d8a2a7acf0488">MemoryAllocator::FreeMemory</a>(<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a>* reservation,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// TODO(gc) make code_range part of memory allocator?</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(reservation-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ab4d499c403e0464f9fba9f37909de172">IsReserved</a>());</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordtype">size_t</span> size = reservation-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a0b6b70701c46e22849f0f363861351cd">size</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_ &gt;= size);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  size_ -= size;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a4485d41849bdd07fb7dd9eca364731a8">counters</a>()-&gt;memory_allocated()-&gt;Decrement(static_cast&lt;int&gt;(size));</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">if</span> (executable == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535a10fddea7080aef4a937da963aec2dd89">EXECUTABLE</a>) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_executable_ &gt;= size);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    size_executable_ -= size;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// Code which is part of the code-range does not have its own VirtualMemory.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3253f2563ada2a1ad7d462bf3355f4d1">code_range</a>()-&gt;<a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#a28fd228cfab899b22c6f6afe2494f5b2">contains</a>(</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      static_cast&lt;Address&gt;(reservation-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a6dd3d138560b246169cc8103ff62a0d0">address</a>())));</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(executable == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535ac1f2a19b49d9c6fd779611084f7947f7">NOT_EXECUTABLE</a> || !isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3253f2563ada2a1ad7d462bf3355f4d1">code_range</a>()-&gt;<a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#aa9100e4c626877b706ca9fc67a35c562">exists</a>());</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  reservation-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a94c93747c8daa99d65c2a04c6be0748c">Release</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a179c248ea9388edd6141902c6297ff41">  317</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a3f472fe1ac6d7456fb9d8a2a7acf0488">MemoryAllocator::FreeMemory</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                 <span class="keywordtype">size_t</span> size,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                 <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// TODO(gc) make code_range part of memory allocator?</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_ &gt;= size);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  size_ -= size;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a4485d41849bdd07fb7dd9eca364731a8">counters</a>()-&gt;memory_allocated()-&gt;Decrement(static_cast&lt;int&gt;(size));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (executable == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535a10fddea7080aef4a937da963aec2dd89">EXECUTABLE</a>) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_executable_ &gt;= size);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    size_executable_ -= size;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span> (isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3253f2563ada2a1ad7d462bf3355f4d1">code_range</a>()-&gt;<a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#a28fd228cfab899b22c6f6afe2494f5b2">contains</a>(static_cast&lt;Address&gt;(base))) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(executable == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535a10fddea7080aef4a937da963aec2dd89">EXECUTABLE</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3253f2563ada2a1ad7d462bf3355f4d1">code_range</a>()-&gt;<a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#aa1e8dcf25ae89fb61066dcf68bdb130e">FreeRawMemory</a>(base, size);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(executable == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535ac1f2a19b49d9c6fd779611084f7947f7">NOT_EXECUTABLE</a> || !isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3253f2563ada2a1ad7d462bf3355f4d1">code_range</a>()-&gt;<a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#aa9100e4c626877b706ca9fc67a35c562">exists</a>());</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">bool</span> result = <a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a3e1a44464d046f6317145ef6f16bad46">VirtualMemory::ReleaseRegion</a>(base, size);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">USE</a>(result);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(result);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaf3c535819609b34192383ded2089d29">  342</a></span>&#160;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaf3c535819609b34192383ded2089d29">MemoryAllocator::ReserveAlignedMemory</a>(<span class="keywordtype">size_t</span> size,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                              <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                              <a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a>* controller) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a> reservation(size, alignment);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">if</span> (!reservation.<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ab4d499c403e0464f9fba9f37909de172">IsReserved</a>()) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  size_ += reservation.<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a0b6b70701c46e22849f0f363861351cd">size</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(static_cast&lt;Address&gt;(reservation.<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a6dd3d138560b246169cc8103ff62a0d0">address</a>()),</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                         alignment);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  controller-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ac1e0af532df4b16eb24c60f6e2a1f90c">TakeControl</a>(&amp;reservation);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">return</span> base;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a62334d9b2e6dfd8aabca98c556a8b0e8">  356</a></span>&#160;<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a62334d9b2e6dfd8aabca98c556a8b0e8">MemoryAllocator::AllocateAlignedMemory</a>(<span class="keywordtype">size_t</span> size,</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                               <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                               <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable,</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                               <a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a>* controller) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a> reservation;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base = <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaf3c535819609b34192383ded2089d29">ReserveAlignedMemory</a>(size, alignment, &amp;reservation);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">if</span> (base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">if</span> (executable == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535a10fddea7080aef4a937da963aec2dd89">EXECUTABLE</a>) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a0080b329fdc2f5cb57e2db8671b31361">CommitCodePage</a>(&amp;reservation, base, size)) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      base = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (!reservation.<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a8ddf82073289f1a8152ed584c46db043">Commit</a>(base, size, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      base = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">if</span> (base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// Failed to commit the body. Release the mapping and any partially</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// commited regions inside it.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    reservation.<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a94c93747c8daa99d65c2a04c6be0748c">Release</a>();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  controller-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ac1e0af532df4b16eb24c60f6e2a1f90c">TakeControl</a>(&amp;reservation);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">return</span> base;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="../../db/d62/classv8_1_1internal_1_1_page.html#abe4cb122f262cd32c55e202c0f68bf29">  386</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#abe4cb122f262cd32c55e202c0f68bf29">Page::InitializeAsAnchor</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html">PagedSpace</a>* owner) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae19eff0ba5ae188a3bfcd0472b8c80b">set_owner</a>(owner);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#abba33d1c9d6a7bdd730791a20cd0cfc6">set_prev_page</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a6dcc4d084edd3d9a407de1fb1f7547d8">set_next_page</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>* NewSpacePage::Initialize(<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html">Heap</a>* heap,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                       <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html">SemiSpace</a>* semi_space) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a89d4525844f4dcadc45cecde6e295ec3">area_start</a> = start + <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa317a55a9904e8753506c3b9f7355e2a">NewSpacePage::kObjectStartOffset</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a0dd8cbe6c00f22aa536bd55353014679">area_end</a> = start + <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* chunk = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa644695964d551dd2c8257041a5e95a3">MemoryChunk::Initialize</a>(heap,</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                               start,</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                               Page::kPageSize,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                               area_start,</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                               area_end,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                               <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535ac1f2a19b49d9c6fd779611084f7947f7">NOT_EXECUTABLE</a>,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                               semi_space);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a80b5d9db0a4ec171e4cc66afdc9d02e7">set_next_chunk</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a72ae4ceb1799ed75aace01c440c428fd">set_prev_chunk</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a179f3592728c0a17eee4219bf91819f3">initialize_scan_on_scavenge</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordtype">bool</span> in_to_space = (semi_space-&gt;<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a0ac7f2f9a8a70d71ebeaccc4492b2838">id</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473a94e00bb84998524ba77d3d3408f5251f">kFromSpace</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#adcdab8f96dc4fdc2940749e527087245">SetFlag</a>(in_to_space ? <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a3e869d237f0e8283ae916f95ac793743">MemoryChunk::IN_TO_SPACE</a></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                             : <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784ad521391e509486bbf2e81c0a72c3903c">MemoryChunk::IN_FROM_SPACE</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#afab81ec90adcf51e6889b076b9b7f8b2">IsFlagSet</a>(in_to_space ? MemoryChunk::IN_FROM_SPACE</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                       : <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a3e869d237f0e8283ae916f95ac793743">MemoryChunk::IN_TO_SPACE</a>));</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>* page = <span class="keyword">static_cast&lt;</span><a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>*<span class="keyword">&gt;</span>(chunk);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  heap-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a3a0c6c020051409883d2ca1d68ce4af1">incremental_marking</a>()-&gt;<a class="code" href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#a23d36ef8c2129414a9558aeb730a5f46">SetNewSpacePageFlags</a>(page);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">return</span> page;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="keywordtype">void</span> NewSpacePage::InitializeAsAnchor(SemiSpace* semi_space) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae19eff0ba5ae188a3bfcd0472b8c80b">set_owner</a>(semi_space);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a80b5d9db0a4ec171e4cc66afdc9d02e7">set_next_chunk</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a72ae4ceb1799ed75aace01c440c428fd">set_prev_chunk</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// Flags marks this invalid page as not being in new-space.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// All real new-space pages will be in new-space.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1eb7cc3b88cf84d85e88f2b644a21a4e">SetFlags</a>(0, ~0);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa644695964d551dd2c8257041a5e95a3">  430</a></span>&#160;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa644695964d551dd2c8257041a5e95a3">MemoryChunk::Initialize</a>(<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html">Heap</a>* heap,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                     <span class="keywordtype">size_t</span> size,</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> area_start,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> area_end,</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                     <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html">Space</a>* owner) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* chunk = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">FromAddress</a>(base);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(base == chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a90aab407e6be30346a51abc7b42c877a">address</a>());</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a82000ecdfb999657bfad878920a5318c">heap_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f30223603d2117a773a749b8736de9a">heap</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a5f31775800bbb46b35b5791def1f3acc">size_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad452bfb960cbc6800f5cc075d5f286a9">area_start_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a89d4525844f4dcadc45cecde6e295ec3">area_start</a>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac394d291366869deca31da1b312af92a">area_end_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a0dd8cbe6c00f22aa536bd55353014679">area_end</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a26ccfad0a5c7ef1a1345bb59358f3d5e">flags_</a> = 0;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae19eff0ba5ae188a3bfcd0472b8c80b">set_owner</a>(owner);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae621ccf87beb425225063e7e20ef5f3a">InitializeReservedMemory</a>();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af7a813580c923f38bc20a0151fe40573">slots_buffer_</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad9bb20bd90102eec119929e0eb8cd349">skip_list_</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a2a2515a6f207c59b34fd7dac8ad39bf3">ResetLiveBytes</a>();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="../../d7/dae/classv8_1_1internal_1_1_bitmap.html#af2d8b5b8ba2cddaba95ee9ad69ee7ac7">Bitmap::Clear</a>(chunk);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a179f3592728c0a17eee4219bf91819f3">initialize_scan_on_scavenge</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#adcdab8f96dc4fdc2940749e527087245">SetFlag</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a793d886571b3c23ed36466a4d1bcf68d">WAS_SWEPT_PRECISELY</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d5/d87/globals_8h.html#ab2bccdfdccc67d9e76421f12925e1452">OFFSET_OF</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>, <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a26ccfad0a5c7ef1a1345bb59358f3d5e">flags_</a>) == <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a23b5711da63ab9af3b6adca3c83f7b10">kFlagsOffset</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d5/d87/globals_8h.html#ab2bccdfdccc67d9e76421f12925e1452">OFFSET_OF</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>, <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a3fc1bb7c4ac6ef6bbcc2acdd27a14d4d">live_byte_count_</a>) == <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a581fae2fa76da1a4b4b92e6da68aed76">kLiveBytesOffset</a>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">if</span> (executable == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535a10fddea7080aef4a937da963aec2dd89">EXECUTABLE</a>) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#adcdab8f96dc4fdc2940749e527087245">SetFlag</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a8b975a24857018611f2d2cd268f601c5">IS_EXECUTABLE</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">if</span> (owner == heap-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aaadadf0f14ee5815c6b743d0fe63244e">old_data_space</a>()) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#adcdab8f96dc4fdc2940749e527087245">SetFlag</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a422787934c6620b87fa4eb9faa0e85c6">CONTAINS_ONLY_DATA</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">return</span> chunk;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a346dca65c7ecb9c458b3db3cbcca6e71">  470</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a346dca65c7ecb9c458b3db3cbcca6e71">MemoryChunk::InsertAfter</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* other) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">next_chunk_</a> = other-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">next_chunk_</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae6832656c5461a1c0e0940c773eb24ad">prev_chunk_</a> = other;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  other-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">next_chunk_</a>-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae6832656c5461a1c0e0940c773eb24ad">prev_chunk_</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  other-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">next_chunk_</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a7bad4bf078cdbe5a5921a60db4219dc2">  478</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a7bad4bf078cdbe5a5921a60db4219dc2">MemoryChunk::Unlink</a>() {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a2674c32eda2cfcf8717f5cadf01f5cb7">InNewSpace</a>() &amp;&amp; <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#afab81ec90adcf51e6889b076b9b7f8b2">IsFlagSet</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a06352108e9736fc4125dffa6dfc6f8b8">SCAN_ON_SCAVENGE</a>)) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a82000ecdfb999657bfad878920a5318c">heap_</a>-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#ad8a20ff29513bf41ef3ee9145432c42e">decrement_scan_on_scavenge_pages</a>();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af8818cdc8321dbcb7784dc643f334bdd">ClearFlag</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a06352108e9736fc4125dffa6dfc6f8b8">SCAN_ON_SCAVENGE</a>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">next_chunk_</a>-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae6832656c5461a1c0e0940c773eb24ad">prev_chunk_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae6832656c5461a1c0e0940c773eb24ad">prev_chunk_</a>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae6832656c5461a1c0e0940c773eb24ad">prev_chunk_</a>-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">next_chunk_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">next_chunk_</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae6832656c5461a1c0e0940c773eb24ad">prev_chunk_</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">next_chunk_</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a6dde39c3e2696198557ff1504671a51f">  490</a></span>&#160;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a6dde39c3e2696198557ff1504671a51f">MemoryAllocator::AllocateChunk</a>(intptr_t body_size,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                            <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                            <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html">Space</a>* owner) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordtype">size_t</span> chunk_size;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html">Heap</a>* heap = isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a> reservation;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> area_start = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> area_end = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (executable == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535a10fddea7080aef4a937da963aec2dd89">EXECUTABLE</a>) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    chunk_size = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">CodePageAreaStartOffset</a>() + body_size,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                         <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">OS::CommitPageSize</a>()) + <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a96aa6e0387d4d5a0b311520469b2f39f">CodePageGuardSize</a>();</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// Check executable memory limit.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span> (size_executable_ + chunk_size &gt; capacity_executable_) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate_,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;          StringEvent(<span class="stringliteral">&quot;MemoryAllocator::AllocateRawMemory&quot;</span>,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                      <span class="stringliteral">&quot;V8 Executable Allocation capacity exceeded&quot;</span>));</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// Allocate executable memory either from code range or from the</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// OS.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span> (isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3253f2563ada2a1ad7d462bf3355f4d1">code_range</a>()-&gt;<a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#aa9100e4c626877b706ca9fc67a35c562">exists</a>()) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      base = isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3253f2563ada2a1ad7d462bf3355f4d1">code_range</a>()-&gt;<a class="code" href="../../df/def/classv8_1_1internal_1_1_code_range.html#af17cef8437813557397a4d76dee0b660">AllocateRawMemory</a>(chunk_size, &amp;chunk_size);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(reinterpret_cast&lt;intptr_t&gt;(base),</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                       <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>));</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">if</span> (base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      size_ += chunk_size;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="comment">// Update executable memory size.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      size_executable_ += chunk_size;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      base = <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a62334d9b2e6dfd8aabca98c556a8b0e8">AllocateAlignedMemory</a>(chunk_size,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                   <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                   executable,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                   &amp;reservation);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">if</span> (base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="comment">// Update executable memory size.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      size_executable_ += reservation.<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a0b6b70701c46e22849f0f363861351cd">size</a>();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ad209a59d5808c30dab731ac7c987f729">ZapBlock</a>(base, <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaa791a0eaef9f237c46a512759a94c0a">CodePageGuardStartOffset</a>());</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ad209a59d5808c30dab731ac7c987f729">ZapBlock</a>(base + <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">CodePageAreaStartOffset</a>(), body_size);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    area_start = base + <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">CodePageAreaStartOffset</a>();</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    area_end = area_start + body_size;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    chunk_size = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa317a55a9904e8753506c3b9f7355e2a">MemoryChunk::kObjectStartOffset</a> + body_size;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    base = <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a62334d9b2e6dfd8aabca98c556a8b0e8">AllocateAlignedMemory</a>(chunk_size,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                                 <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>,</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                 executable,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                 &amp;reservation);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">if</span> (base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ad209a59d5808c30dab731ac7c987f729">ZapBlock</a>(base, chunk_size);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    area_start = base + <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa317a55a9904e8753506c3b9f7355e2a">Page::kObjectStartOffset</a>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    area_end = base + chunk_size;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a4485d41849bdd07fb7dd9eca364731a8">counters</a>()-&gt;memory_allocated()-&gt;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      Increment(static_cast&lt;int&gt;(chunk_size));</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate_, NewEvent(<span class="stringliteral">&quot;MemoryChunk&quot;</span>, base, chunk_size));</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (owner != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">ObjectSpace</a> space = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">ObjectSpace</a><span class="keyword">&gt;</span>(1 &lt;&lt; owner-&gt;<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#ad5adc7a0cd668f7a101dda44f8f8335e">identity</a>());</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a39eccf469f48a20838bd601b7dccc14b">PerformAllocationCallback</a>(space, <a class="code" href="../../d2/dc3/namespacev8.html#a444cad09c6a4e000861761cbbfeb9547adcda41e779d7b77b8ea23a0c8232ec6e">kAllocationActionAllocate</a>, chunk_size);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* result = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa644695964d551dd2c8257041a5e95a3">MemoryChunk::Initialize</a>(heap,</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                                base,</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                                chunk_size,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                                                area_start,</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                                area_end,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                                executable,</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                                owner);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  result-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a073af4596346c3e5c21de22db997156b">set_reserved_memory</a>(&amp;reservation);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a27a7cf9071aee6088ce09b6a22994a6a">  575</a></span>&#160;<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a27a7cf9071aee6088ce09b6a22994a6a">MemoryAllocator::AllocatePage</a>(intptr_t size,</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html">PagedSpace</a>* owner,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                                    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* chunk = <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a6dde39c3e2696198557ff1504671a51f">AllocateChunk</a>(size, executable, owner);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">if</span> (chunk == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a30665f8a7122d82f6f704158e0d883ad">Page::Initialize</a>(isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>(), chunk, executable, owner);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a1c8a04f31d7fc372b051f83788d44f02">  586</a></span>&#160;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a1c8a04f31d7fc372b051f83788d44f02">MemoryAllocator::AllocateLargePage</a>(intptr_t object_size,</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                              <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html">Space</a>* owner,</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                                              <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* chunk = <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a6dde39c3e2696198557ff1504671a51f">AllocateChunk</a>(object_size, executable, owner);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">if</span> (chunk == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">return</span> LargePage::Initialize(isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>(), chunk);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aca120cd7c32e0f25eb9ebe70e087707e">  595</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aca120cd7c32e0f25eb9ebe70e087707e">MemoryAllocator::Free</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* chunk) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate_, DeleteEvent(<span class="stringliteral">&quot;MemoryChunk&quot;</span>, chunk));</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae44530e3201f6897d66a149f04d7bdc">owner</a>() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">ObjectSpace</a> space =</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">ObjectSpace</a><span class="keyword">&gt;</span>(1 &lt;&lt; chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae44530e3201f6897d66a149f04d7bdc">owner</a>()-&gt;<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#ad5adc7a0cd668f7a101dda44f8f8335e">identity</a>());</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a39eccf469f48a20838bd601b7dccc14b">PerformAllocationCallback</a>(space, <a class="code" href="../../d2/dc3/namespacev8.html#a444cad09c6a4e000861761cbbfeb9547a74b893894f9023864c27f7cd4044b20c">kAllocationActionFree</a>, chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a>());</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a5d32bbbe2ffe70373b9d4ff83ba97b83">RememberUnmappedPage</a>(</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      reinterpret_cast&lt;Address&gt;(chunk), chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a3a5379fe753aa8a2b0e12d569818c7a9">IsEvacuationCandidate</a>());</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keyword">delete</span> chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a9c18c6954934a2cc2f51160df24b1946">slots_buffer</a>();</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keyword">delete</span> chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a738b6c7823800938d3d3f580c75b9109">skip_list</a>();</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a>* reservation = chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a4113e901c86a8eb3732353017b5c9788">reserved_memory</a>();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">if</span> (reservation-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ab4d499c403e0464f9fba9f37909de172">IsReserved</a>()) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a3f472fe1ac6d7456fb9d8a2a7acf0488">FreeMemory</a>(reservation, chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af48bb7e4a1b5b3e64baa3e623cb61e5c">executable</a>());</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a3f472fe1ac6d7456fb9d8a2a7acf0488">FreeMemory</a>(chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a90aab407e6be30346a51abc7b42c877a">address</a>(),</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;               chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a>(),</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;               chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af48bb7e4a1b5b3e64baa3e623cb61e5c">executable</a>());</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a76503f408d04075dc38763158610ad52">  620</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a76503f408d04075dc38763158610ad52">MemoryAllocator::CommitBlock</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start,</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                  <span class="keywordtype">size_t</span> size,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                                  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a4ee8599f15155e14c80905f58cfdcefa">VirtualMemory::CommitRegion</a>(start, size, executable)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ad209a59d5808c30dab731ac7c987f729">ZapBlock</a>(start, size);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a4485d41849bdd07fb7dd9eca364731a8">counters</a>()-&gt;memory_allocated()-&gt;Increment(static_cast&lt;int&gt;(size));</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a67360446e72ba16b2170c027f036d335">  632</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a67360446e72ba16b2170c027f036d335">MemoryAllocator::UncommitBlock</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#aae5b48803d07b3bbafe700ff171a3714">VirtualMemory::UncommitRegion</a>(start, size)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  isolate_-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a4485d41849bdd07fb7dd9eca364731a8">counters</a>()-&gt;memory_allocated()-&gt;Decrement(static_cast&lt;int&gt;(size));</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ad209a59d5808c30dab731ac7c987f729">  639</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ad209a59d5808c30dab731ac7c987f729">MemoryAllocator::ZapBlock</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start, <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> s = 0; s + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a> &lt;= size; s += <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="../../d6/dee/classv8_1_1internal_1_1_memory.html#a31bcfb05aed43ee9fa6ac524cc37032e">Memory::Address_at</a>(start + s) = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a8fa6d618b69c17a399f61e9a4b56b3">kZapValue</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a39eccf469f48a20838bd601b7dccc14b">  646</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a39eccf469f48a20838bd601b7dccc14b">MemoryAllocator::PerformAllocationCallback</a>(<a class="code" href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">ObjectSpace</a> space,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                                                <a class="code" href="../../d2/dc3/namespacev8.html#a444cad09c6a4e000861761cbbfeb9547">AllocationAction</a> action,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                                                <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; memory_allocation_callbacks_.length(); ++i) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    MemoryAllocationCallbackRegistration registration =</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      memory_allocation_callbacks_[i];</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> ((registration.space &amp; space) == space &amp;&amp;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        (registration.action &amp; action) == action)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      registration.callback(space, action, static_cast&lt;int&gt;(size));</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;}</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ab7ce99152ca2ca8edfaf1d2413b0836f">  659</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ab7ce99152ca2ca8edfaf1d2413b0836f">MemoryAllocator::MemoryAllocationCallbackRegistered</a>(</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#ae3e9b602c5d27e3a18f30f459cf3d0e3">MemoryAllocationCallback</a> callback) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; memory_allocation_callbacks_.length(); ++i) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span> (memory_allocation_callbacks_[i].callback == callback) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;}</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a251b5975de460f02a741c614050f2ac8">  668</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a251b5975de460f02a741c614050f2ac8">MemoryAllocator::AddMemoryAllocationCallback</a>(</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#ae3e9b602c5d27e3a18f30f459cf3d0e3">MemoryAllocationCallback</a> callback,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">ObjectSpace</a> space,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#a444cad09c6a4e000861761cbbfeb9547">AllocationAction</a> action) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(callback != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  MemoryAllocationCallbackRegistration registration(callback, space, action);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ab7ce99152ca2ca8edfaf1d2413b0836f">MemoryAllocator::MemoryAllocationCallbackRegistered</a>(callback));</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">return</span> memory_allocation_callbacks_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">Add</a>(registration);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a9cad06dda7eabb135ef3861a6eb203cc">  679</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a9cad06dda7eabb135ef3861a6eb203cc">MemoryAllocator::RemoveMemoryAllocationCallback</a>(</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;     <a class="code" href="../../d2/dc3/namespacev8.html#ae3e9b602c5d27e3a18f30f459cf3d0e3">MemoryAllocationCallback</a> callback) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(callback != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; memory_allocation_callbacks_.length(); ++i) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">if</span> (memory_allocation_callbacks_[i].callback == callback) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      memory_allocation_callbacks_.<a class="code" href="../../da/df1/classv8_1_1internal_1_1_list.html#a9e39289d8164f8fc0c5b430d6abc3134">Remove</a>(i);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="keywordtype">void</span> MemoryAllocator::ReportStatistics() {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordtype">float</span> pct = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(capacity_ - size_) / capacity_;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;  capacity: %&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#a195c21618843b007adaa40be5ae0e0a7">V8_PTR_PREFIX</a> <span class="stringliteral">&quot;d&quot;</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;             <span class="stringliteral">&quot;, used: %&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#a195c21618843b007adaa40be5ae0e0a7">V8_PTR_PREFIX</a> <span class="stringliteral">&quot;d&quot;</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;             <span class="stringliteral">&quot;, available: %%%d\n\n&quot;</span>,</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;         capacity_, size_, static_cast&lt;int&gt;(pct*100));</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaa791a0eaef9f237c46a512759a94c0a">  703</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaa791a0eaef9f237c46a512759a94c0a">MemoryAllocator::CodePageGuardStartOffset</a>() {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="comment">// We are guarding code pages: the first OS page after the header</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="comment">// will be protected as non-writable.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa317a55a9904e8753506c3b9f7355e2a">Page::kObjectStartOffset</a>, <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">OS::CommitPageSize</a>());</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a96aa6e0387d4d5a0b311520469b2f39f">  710</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a96aa6e0387d4d5a0b311520469b2f39f">MemoryAllocator::CodePageGuardSize</a>() {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">OS::CommitPageSize</a>());</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">  715</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">MemoryAllocator::CodePageAreaStartOffset</a>() {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// We are guarding code pages: the first OS page after the header</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// will be protected as non-writable.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaa791a0eaef9f237c46a512759a94c0a">CodePageGuardStartOffset</a>() + <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a96aa6e0387d4d5a0b311520469b2f39f">CodePageGuardSize</a>();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a454507d773bef3dd59b322c554a8d884">  722</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a454507d773bef3dd59b322c554a8d884">MemoryAllocator::CodePageAreaEndOffset</a>() {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// We are guarding code pages: the last OS page will be protected as</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">// non-writable.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">return</span> Page::kPageSize - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">OS::CommitPageSize</a>());</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a0080b329fdc2f5cb57e2db8671b31361">  729</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a0080b329fdc2f5cb57e2db8671b31361">MemoryAllocator::CommitCodePage</a>(<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">VirtualMemory</a>* vm,</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start,</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                                     <span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="comment">// Commit page header (not executable).</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keywordflow">if</span> (!vm-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a8ddf82073289f1a8152ed584c46db043">Commit</a>(start,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                  <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaa791a0eaef9f237c46a512759a94c0a">CodePageGuardStartOffset</a>(),</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                  <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">// Create guard page after the header.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">if</span> (!vm-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a49623f4bdc74ecd046b1568525c4c81f">Guard</a>(start + <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaa791a0eaef9f237c46a512759a94c0a">CodePageGuardStartOffset</a>())) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">// Commit page body (executable).</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordtype">size_t</span> area_size = size - <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">CodePageAreaStartOffset</a>() - <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a96aa6e0387d4d5a0b311520469b2f39f">CodePageGuardSize</a>();</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">if</span> (!vm-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a8ddf82073289f1a8152ed584c46db043">Commit</a>(start + <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">CodePageAreaStartOffset</a>(),</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                  area_size,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                  <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">// Create guard page after the allocatable area.</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">if</span> (!vm-&gt;<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a49623f4bdc74ecd046b1568525c4c81f">Guard</a>(start + <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">CodePageAreaStartOffset</a>() + area_size)) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">// MemoryChunk implementation</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae5af1d644eed7f24dfc3daca00a04d94">  764</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae5af1d644eed7f24dfc3daca00a04d94">MemoryChunk::IncrementLiveBytesFromMutator</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> address, <span class="keywordtype">int</span> by) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* chunk = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">MemoryChunk::FromAddress</a>(address);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a2674c32eda2cfcf8717f5cadf01f5cb7">InNewSpace</a>() &amp;&amp; !<span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>*<span class="keyword">&gt;</span>(chunk)-&gt;WasSwept()) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html">PagedSpace</a>*<span class="keyword">&gt;</span>(chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae44530e3201f6897d66a149f04d7bdc">owner</a>())-&gt;IncrementUnsweptFreeBytes(-by);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a2655b8e2472cc68ed7d0ee078c14dfed">IncrementLiveBytes</a>(by);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">// PagedSpace implementation</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a440edd02ea2306893c73d60a0611b422">  775</a></span>&#160;<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a440edd02ea2306893c73d60a0611b422">PagedSpace::PagedSpace</a>(<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html">Heap</a>* heap,</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                       intptr_t max_capacity,</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7">AllocationSpace</a> <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                       <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    : <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html">Space</a>(heap, id, executable),</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      free_list_(this),</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      was_swept_conservatively_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a877da585f7669eb7d4ba888938317230">false</a>),</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      first_unswept_page_(<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>::FromAddress(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>)),</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      unswept_free_bytes_(0) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a71eae99f94708f14a222464c516ee645">CODE_SPACE</a>) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a8125c0e0b6449a59bbc2a2f48880caf6">area_size_</a> = heap-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        CodePageAreaSize();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a8125c0e0b6449a59bbc2a2f48880caf6">area_size_</a> = Page::kPageSize - <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa317a55a9904e8753506c3b9f7355e2a">Page::kObjectStartOffset</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af9384f5b75bcdf15382399152529b4af">max_capacity_</a> = (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a62ab6b040688d278b36c6e932b7820a7">RoundDown</a>(max_capacity, Page::kPageSize) / <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      * <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>();</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a5ef893584c2f44fbfb149695b1baef3f">accounting_stats_</a>.Clear();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">anchor_</a>.<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#abe4cb122f262cd32c55e202c0f68bf29">InitializeAsAnchor</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div>
<div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a88ccb24206b05493e679a2746d6e3557">  801</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a88ccb24206b05493e679a2746d6e3557">PagedSpace::SetUp</a>() {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a00698fce7fed9462ee159e295680164b">  806</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a00698fce7fed9462ee159e295680164b">PagedSpace::HasBeenSetUp</a>() {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a931587596081ef8178c2b128facb0411">  811</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a931587596081ef8178c2b128facb0411">PagedSpace::TearDown</a>() {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae93be65f49fbfeb5716a90719b8c4cb7">PageIterator</a> iterator(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">while</span> (iterator.has_next()) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aca120cd7c32e0f25eb9ebe70e087707e">Free</a>(iterator.next());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">anchor_</a>.<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a6dcc4d084edd3d9a407de1fb1f7547d8">set_next_page</a>(&amp;<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">anchor_</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">anchor_</a>.<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#abba33d1c9d6a7bdd730791a20cd0cfc6">set_prev_page</a>(&amp;<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">anchor_</a>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a5ef893584c2f44fbfb149695b1baef3f">accounting_stats_</a>.Clear();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#aa4181c6e68818a2c8164c77997ec5590">  822</a></span>&#160;MaybeObject* <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#aa4181c6e68818a2c8164c77997ec5590">PagedSpace::FindObject</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> addr) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// Note: this function can only be called on precisely swept spaces.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;mark_compact_collector()-&gt;in_use());</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a535dc47adbb0606acce523eba72ce787">Contains</a>(addr)) <span class="keywordflow">return</span> <a class="code" href="../../d7/d85/classv8_1_1internal_1_1_failure.html#a26cf87c8578198e52b6bd29e5c1bc78a">Failure::Exception</a>();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* p = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(addr);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <a class="code" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html">HeapObjectIterator</a> it(p, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj = it.<a class="code" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#acfb50b7d0fd8c183fc5791601005c217">Next</a>(); obj != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>; obj = it.<a class="code" href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#acfb50b7d0fd8c183fc5791601005c217">Next</a>()) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> cur = obj-&gt;address();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> next = cur + obj-&gt;Size();</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">if</span> ((cur &lt;= addr) &amp;&amp; (addr &lt; next)) <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/d85/classv8_1_1internal_1_1_failure.html#a26cf87c8578198e52b6bd29e5c1bc78a">Failure::Exception</a>();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a78dcdb5500833f3313aa7028e5ab830e">  840</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a78dcdb5500833f3313aa7028e5ab830e">PagedSpace::CanExpand</a>() {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af9384f5b75bcdf15382399152529b4af">max_capacity_</a> % <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>() == 0);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>() == <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af9384f5b75bcdf15382399152529b4af">max_capacity_</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>() &lt; <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af9384f5b75bcdf15382399152529b4af">max_capacity_</a>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="comment">// Are we going to exceed capacity for this space?</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>() + Page::kPageSize) &gt; <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af9384f5b75bcdf15382399152529b4af">max_capacity_</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;}</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div>
<div class="line"><a name="l00853"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a1ac5ebb959102c90af9b852ad2b1d15a">  853</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a1ac5ebb959102c90af9b852ad2b1d15a">PagedSpace::Expand</a>() {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a78dcdb5500833f3313aa7028e5ab830e">CanExpand</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  intptr_t size = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>();</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">anchor_</a>.<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#af1742d0de9d64ce5a6dd83f22d4edaed">next_page</a>() == &amp;<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">anchor_</a>) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    size = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ad0704cc969933f071f5620f114ad52d8">SizeOfFirstPage</a>();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* p = <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a27a7cf9071aee6088ce09b6a22994a6a">AllocatePage</a>(</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      size, <span class="keyword">this</span>, <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#af48bb7e4a1b5b3e64baa3e623cb61e5c">executable</a>());</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordflow">if</span> (p == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>() &lt;= <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af9384f5b75bcdf15382399152529b4af">max_capacity_</a>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  p-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a346dca65c7ecb9c458b3db3cbcca6e71">InsertAfter</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">anchor_</a>.<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a49c90aeb1280f2ee6f407edbe33a10a8">prev_page</a>());</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div>
<div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ad0704cc969933f071f5620f114ad52d8">  874</a></span>&#160;intptr_t <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ad0704cc969933f071f5620f114ad52d8">PagedSpace::SizeOfFirstPage</a>() {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordtype">int</span> size = 0;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#ad5adc7a0cd668f7a101dda44f8f8335e">identity</a>()) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a77b688dbcc901242e5a4169c2580d836">OLD_POINTER_SPACE</a>:</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      size = 64 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a> * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a58d287461654266e7f85284ed93e5ede">KB</a>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a801401fbd4894dd3bf8163a4403b9fe7">OLD_DATA_SPACE</a>:</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      size = 192 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a58d287461654266e7f85284ed93e5ede">KB</a>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a7662099826d64f2e3a55f97e48a147df">MAP_SPACE</a>:</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      size = 128 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a58d287461654266e7f85284ed93e5ede">KB</a>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a1ce18484faed5e760ebd7f68a97cee08">CELL_SPACE</a>:</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      size = 96 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a58d287461654266e7f85284ed93e5ede">KB</a>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a71eae99f94708f14a222464c516ee645">CODE_SPACE</a>:</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a> == 8) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="comment">// On x64 we allocate code pages in a special way (from the reserved</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="comment">// 2Byte area). That part of the code is not yet upgraded to handle</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="comment">// small pages.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        size = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>();</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        size = 384 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a58d287461654266e7f85284ed93e5ede">KB</a>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(size, <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;}</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0d707219686b664288ef2b182c50ed4b">  906</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0d707219686b664288ef2b182c50ed4b">PagedSpace::CountTotalPages</a>() {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae93be65f49fbfeb5716a90719b8c4cb7">PageIterator</a> it(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">while</span> (it.has_next()) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    it.next();</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    count++;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordflow">return</span> count;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;}</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6706f37420d5f16eddc8dfe4d5109778">  917</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6706f37420d5f16eddc8dfe4d5109778">PagedSpace::ReleasePage</a>(<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* page) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a098df7f69a8fbead4f984c2b3abdd3f6">LiveBytes</a>() == 0);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>() == page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac86f40d93fbcb575cb940513b8393f05">area_size</a>());</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// Adjust list of unswept pages if the page is the head of the list.</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a> == page) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a> = page-&gt;<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#af1742d0de9d64ce5a6dd83f22d4edaed">next_page</a>();</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a> == <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a66e64bdcc31731ea50f41d34e2648414">anchor</a>()) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">if</span> (page-&gt;<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a7e5709565195ec7c3ef0f9756147ee5c">WasSwept</a>()) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    intptr_t size = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.EvictFreeListItems(page);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a5ef893584c2f44fbfb149695b1baef3f">accounting_stats_</a>.AllocateBytes(size);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>(), static_cast&lt;int&gt;(size));</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a05e91818b78075005718f0ab21ebdc08">DecreaseUnsweptFreeBytes</a>(page);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keywordflow">if</span> (Page::FromAllocationTop(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>) == page) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a7bad4bf078cdbe5a5921a60db4219dc2">Unlink</a>();</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#afab81ec90adcf51e6889b076b9b7f8b2">IsFlagSet</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a422787934c6620b87fa4eb9faa0e85c6">MemoryChunk::CONTAINS_ONLY_DATA</a>)) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aca120cd7c32e0f25eb9ebe70e087707e">Free</a>(page);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#ac366716f81e49004b7dbc91cb8548751">QueueMemoryChunkForFree</a>(page);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>() &gt; 0);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a5ef893584c2f44fbfb149695b1baef3f">accounting_stats_</a>.ShrinkSpace(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>());</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a55c814340c8f2d48c76e6d8b1b2b77a9">  953</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a55c814340c8f2d48c76e6d8b1b2b77a9">PagedSpace::ReleaseAllUnusedPages</a>() {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae93be65f49fbfeb5716a90719b8c4cb7">PageIterator</a> it(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">while</span> (it.has_next()) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* page = it.next();</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (!page-&gt;<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a7e5709565195ec7c3ef0f9756147ee5c">WasSwept</a>()) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="keywordflow">if</span> (page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a098df7f69a8fbead4f984c2b3abdd3f6">LiveBytes</a>() == 0) <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6706f37420d5f16eddc8dfe4d5109778">ReleasePage</a>(page);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj = <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#ac0c8585ca3c2f764a3fc17e9ce42d789">HeapObject::FromAddress</a>(page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a89d4525844f4dcadc45cecde6e295ec3">area_start</a>());</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <span class="keywordflow">if</span> (obj-&gt;IsFreeSpace() &amp;&amp;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;          <a class="code" href="../../d7/db7/classv8_1_1internal_1_1_free_space.html#a0e2540ff511185f159d436148563cf64">FreeSpace::cast</a>(obj)-&gt;<a class="code" href="../../d7/db7/classv8_1_1internal_1_1_free_space.html#af4b57d21919c42d55af03391f91a1c08">size</a>() == <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>()) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="comment">// Sometimes we allocate memory from free list but don&#39;t</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="comment">// immediately initialize it (e.g. see PagedSpace::ReserveSpace</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="comment">// called from Heap::ReserveSpace that can cause GC before</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="comment">// reserved space is actually initialized).</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="comment">// Thus we can&#39;t simply assume that obj represents a valid</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="comment">// node still owned by a free list</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="comment">// Instead we should verify that the page is fully covered</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="comment">// by free list items.</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        FreeList::SizeStats sizes;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.CountFreeListItems(page, &amp;sizes);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">if</span> (sizes.Total() == <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>()) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6706f37420d5f16eddc8dfe4d5109778">ReleasePage</a>(page);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a6d5a7c63fb401f18c96ded7d99d457ba">FreeQueuedChunks</a>();</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;}</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d3d/lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">PagedSpace::Print</a>() { }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="keywordtype">void</span> PagedSpace::Verify(ObjectVisitor* visitor) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">// We can only iterate over the pages if they were swept precisely.</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a9b3d22f32094ec246c46064737b31464">was_swept_conservatively_</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordtype">bool</span> allocation_pointer_found_in_space =</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> == <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae93be65f49fbfeb5716a90719b8c4cb7">PageIterator</a> page_iterator(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">while</span> (page_iterator.has_next()) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    Page* page = page_iterator.next();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(page-&gt;owner() == <span class="keyword">this</span>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span> (page == Page::FromAllocationTop(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>)) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      allocation_pointer_found_in_space = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(page-&gt;WasSweptPrecisely());</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    HeapObjectIterator it(page, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> end_of_previous_object = page-&gt;area_start();</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab3c8dd11966a364b4fac29749648afea">top</a> = page-&gt;area_end();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordtype">int</span> black_size = 0;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">for</span> (HeapObject* <span class="keywordtype">object</span> = it.Next(); <span class="keywordtype">object</span> != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>; <span class="keywordtype">object</span> = it.Next()) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(end_of_previous_object &lt;= object-&gt;address());</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="comment">// The first word should be a map, and we expect all map pointers to</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="comment">// be in map space.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      Map* map = <span class="keywordtype">object</span>-&gt;map();</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(map-&gt;IsMap());</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;map_space()-&gt;<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a535dc47adbb0606acce523eba72ce787">Contains</a>(map));</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <span class="comment">// Perform space-specific object verification.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      VerifyObject(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <span class="comment">// The object itself should look OK.</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="keywordtype">object</span>-&gt;Verify();</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="comment">// All the interior pointers should be contained in the heap.</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="keywordtype">int</span> size = <span class="keywordtype">object</span>-&gt;Size();</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="keywordtype">object</span>-&gt;IterateBody(map-&gt;instance_type(), size, visitor);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d26/classv8_1_1internal_1_1_marking.html#ae8065a586f6599e4865c706073db6421">Marking::IsBlack</a>(<a class="code" href="../../d7/d26/classv8_1_1internal_1_1_marking.html#a459979e3ad60f742ce8672181696fd93">Marking::MarkBitFrom</a>(<span class="keywordtype">object</span>))) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        black_size += size;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(object-&gt;address() + size &lt;= <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      end_of_previous_object = <span class="keywordtype">object</span>-&gt;address() + size;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a5f2db7b7625d842511de66ae6055e1f6">ASSERT_LE</a>(black_size, page-&gt;LiveBytes());</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(allocation_pointer_found_in_space);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">// NewSpace implementation</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a00f8746d2ec1f456a038838873b99e38"> 1043</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a00f8746d2ec1f456a038838873b99e38">NewSpace::SetUp</a>(<span class="keywordtype">int</span> reserved_semispace_capacity,</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                     <span class="keywordtype">int</span> maximum_semispace_capacity) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="comment">// Set up new space based on the preallocated memory block defined by</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="comment">// start and size. The provided space is divided into two semi-spaces.</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="comment">// To support fast containment testing in the new space, the size of</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="comment">// this chunk must be a power of two and it must be aligned to its size.</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keywordtype">int</span> initial_semispace_capacity = <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a906119b504f11b42bb7410de39aadaaa">InitialSemiSpaceSize</a>();</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordtype">size_t</span> size = 2 * reserved_semispace_capacity;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> base =</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaf3c535819609b34192383ded2089d29">ReserveAlignedMemory</a>(</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;          size, size, &amp;reservation_);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordflow">if</span> (base == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  chunk_base_ = base;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  chunk_size_ = <span class="keyword">static_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(size);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;isolate(), NewEvent(<span class="stringliteral">&quot;InitialChunk&quot;</span>, chunk_base_, chunk_size_));</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(initial_semispace_capacity &lt;= maximum_semispace_capacity);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab46d6fb6aab3e552e9fb0ab7fe9212ba">IsPowerOf2</a>(maximum_semispace_capacity));</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="comment">// Allocate and set up the histogram arrays if necessary.</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  allocated_histogram_ = NewArray&lt;HistogramInfo&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a> + 1);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  promoted_histogram_ = NewArray&lt;HistogramInfo&gt;(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a> + 1);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="preprocessor">#define SET_NAME(name) allocated_histogram_[name].set_name(#name); \</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="preprocessor">                       promoted_histogram_[name].set_name(#name);</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <a class="code" href="../../df/d91/objects_8h.html#a08f0e6d9ef2bb3e1927e95551a37e589">INSTANCE_TYPE_LIST</a>(<a class="code" href="../../df/dff/spaces_8cc.html#af6e5695cc031b6938c7ac39f1b8400b2">SET_NAME</a>)</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="preprocessor">#undef SET_NAME</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(reserved_semispace_capacity == <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;ReservedSemiSpaceSize());</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(static_cast&lt;intptr_t&gt;(chunk_size_) &gt;=</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;         2 * <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;ReservedSemiSpaceSize());</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0a13af70b3a41d097462e50ee0102fd7">IsAddressAligned</a>(chunk_base_, 2 * reserved_semispace_capacity, 0));</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a744cd2a512533ebbe43b6cd8e4adade6">SetUp</a>(chunk_base_,</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                  initial_semispace_capacity,</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                  maximum_semispace_capacity);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a744cd2a512533ebbe43b6cd8e4adade6">SetUp</a>(chunk_base_ + reserved_semispace_capacity,</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    initial_semispace_capacity,</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                    maximum_semispace_capacity);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">if</span> (!to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a44c78e17dec2b3af95f850baaee2683a">Commit</a>()) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  }</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab5595e621abcfecfc0ecfd6ab589f407">is_committed</a>());  <span class="comment">// No need to use memory yet.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  start_ = chunk_base_;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  address_mask_ = ~(2 * reserved_semispace_capacity - 1);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  object_mask_ = address_mask_ | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a44ee97292914fbe042fc1b7b3236f7bc">kHeapObjectTagMask</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  object_expected_ = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(start_) | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a33ee30f5dc12a8384eb0a469b81bf9d0">ResetAllocationInfo</a>();</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;}</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div>
<div class="line"><a name="l01100"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a931587596081ef8178c2b128facb0411"> 1100</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a931587596081ef8178c2b128facb0411">NewSpace::TearDown</a>() {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">if</span> (allocated_histogram_) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0166c55019a8ae518b6bb1ac17ad4706">DeleteArray</a>(allocated_histogram_);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    allocated_histogram_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">if</span> (promoted_histogram_) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0166c55019a8ae518b6bb1ac17ad4706">DeleteArray</a>(promoted_histogram_);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    promoted_histogram_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  start_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a931587596081ef8178c2b128facb0411">TearDown</a>();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a931587596081ef8178c2b128facb0411">TearDown</a>();</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;isolate(), DeleteEvent(<span class="stringliteral">&quot;InitialChunk&quot;</span>, chunk_base_));</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(reservation_.<a class="code" href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ab4d499c403e0464f9fba9f37909de172">IsReserved</a>());</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a3f472fe1ac6d7456fb9d8a2a7acf0488">FreeMemory</a>(&amp;reservation_,</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                                    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535ac1f2a19b49d9c6fd779611084f7947f7">NOT_EXECUTABLE</a>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  chunk_base_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  chunk_size_ = 0;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;}</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div>
<div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a8a95cc04220f0a6b2874d745d8063cf9"> 1127</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a8a95cc04220f0a6b2874d745d8063cf9">NewSpace::Flip</a>() {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae68e6c8fa3b45768da543c58aeb95a95">SemiSpace::Swap</a>(&amp;from_space_, &amp;to_space_);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;}</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div>
<div class="line"><a name="l01132"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a40cc92f928fc13720dbe9f02a2d09e1c"> 1132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a40cc92f928fc13720dbe9f02a2d09e1c">NewSpace::Grow</a>() {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="comment">// Double the semispace size but only up to maximum capacity.</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>() &lt; <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a0cec9870e563d2d931a23c561684efeb">MaximumCapacity</a>());</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="keywordtype">int</span> new_capacity = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a0cec9870e563d2d931a23c561684efeb">MaximumCapacity</a>(), 2 * static_cast&lt;int&gt;(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>()));</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="keywordflow">if</span> (to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab3c35bb630e482db3de2241a1cac26b4">GrowTo</a>(new_capacity)) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="comment">// Only grow from space if we managed to grow to-space.</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (!from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab3c35bb630e482db3de2241a1cac26b4">GrowTo</a>(new_capacity)) {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <span class="comment">// If we managed to grow to-space but couldn&#39;t grow from-space,</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="comment">// attempt to shrink to-space.</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">if</span> (!to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae3c555a25cf9aae914e18c187a7372b5">ShrinkTo</a>(from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a1d6db7bdf7da56cb3e4bcb16ac4c1e71">Capacity</a>())) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="comment">// We are in an inconsistent state because we could not</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="comment">// commit/uncommit memory from new space.</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <a class="code" href="../../d8/d0e/classv8_1_1internal_1_1_v8.html#a3c89270ab4ac2bd43e9a12d2b93f1a00">V8::FatalProcessOutOfMemory</a>(<span class="stringliteral">&quot;Failed to grow new space.&quot;</span>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <a class="code" href="../../d3/d0e/spaces_8h.html#a260599f6ea778e270b3e84edeb9a58ba">ASSERT_SEMISPACE_ALLOCATION_INFO</a>(allocation_info_, to_space_);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;}</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div>
<div class="line"><a name="l01152"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a02c07eb6010bbffef405b221ef93a50d"> 1152</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a02c07eb6010bbffef405b221ef93a50d">NewSpace::Shrink</a>() {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordtype">int</span> new_capacity = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">Max</a>(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a10a43166b612c7231d1acac63217bb59">InitialCapacity</a>(), 2 * <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a65239c458f39db478d7d256baaaabd0c">SizeAsInt</a>());</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="keywordtype">int</span> rounded_new_capacity = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(new_capacity, Page::kPageSize);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">if</span> (rounded_new_capacity &lt; <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>() &amp;&amp;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae3c555a25cf9aae914e18c187a7372b5">ShrinkTo</a>(rounded_new_capacity))  {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// Only shrink from-space if we managed to shrink to-space.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a372de693ad40b3f42839c8ec6ac845f4">Reset</a>();</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordflow">if</span> (!from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae3c555a25cf9aae914e18c187a7372b5">ShrinkTo</a>(rounded_new_capacity)) {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="comment">// If we managed to shrink to-space but couldn&#39;t shrink from</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <span class="comment">// space, attempt to grow to-space again.</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keywordflow">if</span> (!to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab3c35bb630e482db3de2241a1cac26b4">GrowTo</a>(from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a1d6db7bdf7da56cb3e4bcb16ac4c1e71">Capacity</a>())) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="comment">// We are in an inconsistent state because we could not</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="comment">// commit/uncommit memory from new space.</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <a class="code" href="../../d8/d0e/classv8_1_1internal_1_1_v8.html#a3c89270ab4ac2bd43e9a12d2b93f1a00">V8::FatalProcessOutOfMemory</a>(<span class="stringliteral">&quot;Failed to shrink new space.&quot;</span>);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> = to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a82be70b816f02693db3770e7765d1b7d">page_high</a>();</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <a class="code" href="../../d3/d0e/spaces_8h.html#a260599f6ea778e270b3e84edeb9a58ba">ASSERT_SEMISPACE_ALLOCATION_INFO</a>(allocation_info_, to_space_);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;}</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="keywordtype">void</span> NewSpace::UpdateAllocationInfo() {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> = to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#afa5d3497d1fb72fb20779a013e467b80">page_low</a>();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> = to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a82be70b816f02693db3770e7765d1b7d">page_high</a>();</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="comment">// Lower limit during incremental marking.</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;incremental_marking()-&gt;IsMarking() &amp;&amp;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a5d46f6e2996dcf61fef1fef6b460401a">inline_allocation_limit_step</a>() != 0) {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> new_limit =</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> + <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a5d46f6e2996dcf61fef1fef6b460401a">inline_allocation_limit_step</a>();</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(new_limit, allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a>);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <a class="code" href="../../d3/d0e/spaces_8h.html#a260599f6ea778e270b3e84edeb9a58ba">ASSERT_SEMISPACE_ALLOCATION_INFO</a>(allocation_info_, to_space_);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;}</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div>
<div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a33ee30f5dc12a8384eb0a469b81bf9d0"> 1189</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a33ee30f5dc12a8384eb0a469b81bf9d0">NewSpace::ResetAllocationInfo</a>() {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a372de693ad40b3f42839c8ec6ac845f4">Reset</a>();</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  UpdateAllocationInfo();</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  pages_used_ = 0;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="comment">// Clear all mark-bits in the to-space.</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  NewSpacePageIterator it(&amp;to_space_);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordflow">while</span> (it.has_next()) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <a class="code" href="../../d7/dae/classv8_1_1internal_1_1_bitmap.html#af2d8b5b8ba2cddaba95ee9ad69ee7ac7">Bitmap::Clear</a>(it.next());</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ad95ea6de2d5ef771cc6ceffa27ebfd5d"> 1201</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ad95ea6de2d5ef771cc6ceffa27ebfd5d">NewSpace::AddFreshPage</a>() {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> top = allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a02b59df1176c655251f2d82e4cf7b723">NewSpacePage::IsAtStart</a>(top)) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="comment">// The current page is already empty. Don&#39;t try to make another.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">// We should only get here if someone asks to allocate more</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="comment">// than what can be stored in a single page.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="comment">// TODO(gc): Change the limit on new-space allocation to prevent this</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="comment">// from happening (all such allocations should go directly to LOSpace).</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">if</span> (!to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ac1e7e855955b53ceea6cc7e23e3b4f6c">AdvancePage</a>()) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="comment">// Failed to get a new page in to-space.</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// Clear remainder of current page.</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> limit = <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#af46bb632ffc0e38aad43d3a8797ef4b2">NewSpacePage::FromLimit</a>(top)-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a0dd8cbe6c00f22aa536bd55353014679">area_end</a>();</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;gc_state() == <a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a2e20bf3ba78a1db1e606f1ae5dc5053cac201b07f4773f532f0efc57aec83b3b0">Heap::SCAVENGE</a>) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a436b1e8fade49a66de9640fa6bd90e74">promotion_queue</a>()-&gt;<a class="code" href="../../d1/d48/classv8_1_1internal_1_1_promotion_queue.html#addefc797b90b17d5499dae09d1bb1050">SetNewLimit</a>(limit);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a436b1e8fade49a66de9640fa6bd90e74">promotion_queue</a>()-&gt;<a class="code" href="../../d1/d48/classv8_1_1internal_1_1_promotion_queue.html#add99e97465e712bfad40314437b28bc5">ActivateGuardIfOnTheSamePage</a>();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordtype">int</span> remaining_in_page = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(limit - <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a0f9c4349745983c5fe3b54f97b8a6348">CreateFillerObjectAt</a>(top, remaining_in_page);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  pages_used_++;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  UpdateAllocationInfo();</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;MaybeObject* NewSpace::SlowAllocateRaw(<span class="keywordtype">int</span> size_in_bytes) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> old_top = allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> new_top = old_top + size_in_bytes;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> high = to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a82be70b816f02693db3770e7765d1b7d">page_high</a>();</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">if</span> (allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> &lt; high) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="comment">// Incremental marking has lowered the limit to get a</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="comment">// chance to do a step.</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">Min</a>(</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> + inline_allocation_limit_step_,</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        high);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordtype">int</span> bytes_allocated = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(new_top - top_on_previous_step_);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a3a0c6c020051409883d2ca1d68ce4af1">incremental_marking</a>()-&gt;<a class="code" href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#a1c296d6f41d7e2c366ee1354a001bf70">Step</a>(</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        bytes_allocated, <a class="code" href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#af30fefa254c212405e0627a4aa7728e3a08a61c59064baee5f35857a8293ac3c2">IncrementalMarking::GC_VIA_STACK_GUARD</a>);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    top_on_previous_step_ = new_top;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">return</span> AllocateRaw(size_in_bytes);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ad95ea6de2d5ef771cc6ceffa27ebfd5d">AddFreshPage</a>()) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="comment">// Switched to new page. Try allocating again.</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordtype">int</span> bytes_allocated = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(old_top - top_on_previous_step_);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a3a0c6c020051409883d2ca1d68ce4af1">incremental_marking</a>()-&gt;<a class="code" href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#a1c296d6f41d7e2c366ee1354a001bf70">Step</a>(</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        bytes_allocated, <a class="code" href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#af30fefa254c212405e0627a4aa7728e3a08a61c59064baee5f35857a8293ac3c2">IncrementalMarking::GC_VIA_STACK_GUARD</a>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    top_on_previous_step_ = to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#afa5d3497d1fb72fb20779a013e467b80">page_low</a>();</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">return</span> AllocateRaw(size_in_bytes);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d85/classv8_1_1internal_1_1_failure.html#aa81b4f0ebcd1a6e60a01a985f90e4464">Failure::RetryAfterGC</a>();</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">// We do not use the SemiSpaceIterator because verification doesn&#39;t assume</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">// that it works (it depends on the invariants we are checking).</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="keywordtype">void</span> NewSpace::Verify() {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="comment">// The allocation pointer should be in the space or at the very end.</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <a class="code" href="../../d3/d0e/spaces_8h.html#a260599f6ea778e270b3e84edeb9a58ba">ASSERT_SEMISPACE_ALLOCATION_INFO</a>(allocation_info_, to_space_);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="comment">// There should be objects packed in from the low address up to the</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="comment">// allocation pointer.</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> current = to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a65b2d8de986d39ee855420b71c865022">first_page</a>()-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a89d4525844f4dcadc45cecde6e295ec3">area_start</a>();</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0ea8f66bf4733597f9a514fda2151ff9">CHECK_EQ</a>(current, to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae0b6bb06ce53127ef3aa55cd148a89f6">space_start</a>());</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">while</span> (current != <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>()) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a51b31b550cd39d67caa6a5e16586927e">NewSpacePage::IsAtEnd</a>(current)) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="comment">// The allocation pointer should not be in the middle of an object.</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#af46bb632ffc0e38aad43d3a8797ef4b2">NewSpacePage::FromLimit</a>(current)-&gt;ContainsLimit(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>()) ||</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            current &lt; <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>());</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      HeapObject* <span class="keywordtype">object</span> = <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#ac0c8585ca3c2f764a3fc17e9ce42d789">HeapObject::FromAddress</a>(current);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <span class="comment">// The first word should be a map, and we expect all map pointers to</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="comment">// be in map space.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      Map* map = <span class="keywordtype">object</span>-&gt;map();</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(map-&gt;IsMap());</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;map_space()-&gt;<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a535dc47adbb0606acce523eba72ce787">Contains</a>(map));</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="comment">// The object should not be code or a map.</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!object-&gt;IsMap());</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!object-&gt;IsCode());</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <span class="comment">// The object itself should look OK.</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="keywordtype">object</span>-&gt;Verify();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="comment">// All the interior pointers should be contained in the heap.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      VerifyPointersVisitor visitor;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordtype">int</span> size = <span class="keywordtype">object</span>-&gt;Size();</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <span class="keywordtype">object</span>-&gt;IterateBody(map-&gt;instance_type(), size, &amp;visitor);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      current += size;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <span class="comment">// At end of page, switch to next page.</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      NewSpacePage* page = <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#af46bb632ffc0e38aad43d3a8797ef4b2">NewSpacePage::FromLimit</a>(current)-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>();</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="comment">// Next page should be valid.</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!page-&gt;is_anchor());</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      current = page-&gt;area_start();</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="comment">// Check semi-spaces.</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(from_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a0ac7f2f9a8a70d71ebeaccc4492b2838">id</a>(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473a94e00bb84998524ba77d3d3408f5251f">kFromSpace</a>);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(to_space_.<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a0ac7f2f9a8a70d71ebeaccc4492b2838">id</a>(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473ae1ea4983ad0f1ac526c3eb9076d868e7">kToSpace</a>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  from_space_.Verify();</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  to_space_.Verify();</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;}</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment">// SemiSpace implementation</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div>
<div class="line"><a name="l01320"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a744cd2a512533ebbe43b6cd8e4adade6"> 1320</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a744cd2a512533ebbe43b6cd8e4adade6">SemiSpace::SetUp</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start,</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                      <span class="keywordtype">int</span> initial_capacity,</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                      <span class="keywordtype">int</span> maximum_capacity) {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="comment">// Creates a space in the young generation. The constructor does not</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="comment">// allocate memory from the OS.  A SemiSpace is given a contiguous chunk of</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="comment">// memory of size &#39;capacity&#39; when set up, and does not grow or shrink</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="comment">// otherwise.  In the mark-compact collector, the memory region of the from</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">// space is used as the marking stack. It requires contiguous memory</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="comment">// addresses.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(maximum_capacity &gt;= Page::kPageSize);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  initial_capacity_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a62ab6b040688d278b36c6e932b7820a7">RoundDown</a>(initial_capacity, Page::kPageSize);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  capacity_ = initial_capacity;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  maximum_capacity_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a62ab6b040688d278b36c6e932b7820a7">RoundDown</a>(maximum_capacity, Page::kPageSize);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  committed_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  start_ = start;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  address_mask_ = ~(maximum_capacity - 1);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  object_mask_ = address_mask_ | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a44ee97292914fbe042fc1b7b3236f7bc">kHeapObjectTagMask</a>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  object_expected_ = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(start) | <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">kHeapObjectTag</a>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  age_mark_ = start_;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;}</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div>
<div class="line"><a name="l01342"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a931587596081ef8178c2b128facb0411"> 1342</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a931587596081ef8178c2b128facb0411">SemiSpace::TearDown</a>() {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  start_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  capacity_ = 0;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;}</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div>
<div class="line"><a name="l01348"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a44c78e17dec2b3af95f850baaee2683a"> 1348</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a44c78e17dec2b3af95f850baaee2683a">SemiSpace::Commit</a>() {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab5595e621abcfecfc0ecfd6ab589f407">is_committed</a>());</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordtype">int</span> pages = capacity_ / <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> end = start_ + maximum_capacity_;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start = end - pages * <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;isolate()-&gt;memory_allocator()-&gt;CommitBlock(start,</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                                                          capacity_,</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                                                          <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#af48bb7e4a1b5b3e64baa3e623cb61e5c">executable</a>())) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>* page = anchor();</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= pages; i++) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>* new_page =</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      NewSpacePage::Initialize(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>(), end - i * Page::kPageSize, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    new_page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a346dca65c7ecb9c458b3db3cbcca6e71">InsertAfter</a>(page);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    page = new_page;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  committed_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a372de693ad40b3f42839c8ec6ac845f4">Reset</a>();</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;}</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#af766ae2b8026302d3930801f1e29a60c"> 1373</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#af766ae2b8026302d3930801f1e29a60c">SemiSpace::Uncommit</a>() {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab5595e621abcfecfc0ecfd6ab589f407">is_committed</a>());</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start = start_ + maximum_capacity_ - capacity_;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;isolate()-&gt;memory_allocator()-&gt;UncommitBlock(start, capacity_)) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  anchor()-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a626a5fe6210b5034d54b1c7b6693b4eb">set_next_page</a>(anchor());</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  anchor()-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a4ed35988df3339eea7493f3be4c886fd">set_prev_page</a>(anchor());</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  committed_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;}</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div>
<div class="line"><a name="l01387"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab3c35bb630e482db3de2241a1cac26b4"> 1387</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab3c35bb630e482db3de2241a1cac26b4">SemiSpace::GrowTo</a>(<span class="keywordtype">int</span> new_capacity) {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab5595e621abcfecfc0ecfd6ab589f407">is_committed</a>()) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a44c78e17dec2b3af95f850baaee2683a">Commit</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((new_capacity &amp; <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#aa45f833ac62ab5cbacb4ad86c722f06f">Page::kPageAlignmentMask</a>) == 0);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(new_capacity &lt;= maximum_capacity_);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(new_capacity &gt; capacity_);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordtype">int</span> pages_before = capacity_ / <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordtype">int</span> pages_after = new_capacity / <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> end = start_ + maximum_capacity_;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start = end - new_capacity;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordtype">size_t</span> delta = new_capacity - capacity_;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(delta, <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">OS::AllocateAlignment</a>()));</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;isolate()-&gt;memory_allocator()-&gt;CommitBlock(</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      start, delta, <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#af48bb7e4a1b5b3e64baa3e623cb61e5c">executable</a>())) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  capacity_ = new_capacity;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>* last_page = anchor()-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#ad819a67ed949a8f3c86f758aef045669">prev_page</a>();</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(last_page != anchor());</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = pages_before + 1; i &lt;= pages_after; i++) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> page_address = end - i * <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>* new_page = NewSpacePage::Initialize(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>(),</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                                                      page_address,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                                                      <span class="keyword">this</span>);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    new_page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a346dca65c7ecb9c458b3db3cbcca6e71">InsertAfter</a>(last_page);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <a class="code" href="../../d7/dae/classv8_1_1internal_1_1_bitmap.html#af2d8b5b8ba2cddaba95ee9ad69ee7ac7">Bitmap::Clear</a>(new_page);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">// Duplicate the flags that was set on the old page.</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    new_page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1eb7cc3b88cf84d85e88f2b644a21a4e">SetFlags</a>(last_page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a84a5237985d2f609df0fe9a61a01012d">GetFlags</a>(),</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                       <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#ad889891e7286e29b0e662738ec405e29">NewSpacePage::kCopyOnFlipFlagsMask</a>);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    last_page = new_page;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div>
<div class="line"><a name="l01425"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae3c555a25cf9aae914e18c187a7372b5"> 1425</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae3c555a25cf9aae914e18c187a7372b5">SemiSpace::ShrinkTo</a>(<span class="keywordtype">int</span> new_capacity) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((new_capacity &amp; <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#aa45f833ac62ab5cbacb4ad86c722f06f">Page::kPageAlignmentMask</a>) == 0);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(new_capacity &gt;= initial_capacity_);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(new_capacity &lt; capacity_);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab5595e621abcfecfc0ecfd6ab589f407">is_committed</a>()) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="comment">// Semispaces grow backwards from the end of their allocated capacity,</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="comment">// so we find the before and after start addresses relative to the</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="comment">// end of the space.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a28d6b8772bf64bf0a5af49c9da19ffe7">space_end</a> = start_ + maximum_capacity_;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> old_start = space_end - capacity_;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordtype">size_t</span> delta = capacity_ - new_capacity;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(delta, <a class="code" href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">OS::AllocateAlignment</a>()));</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html">MemoryAllocator</a>* allocator = <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>();</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (!allocator-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a67360446e72ba16b2170c027f036d335">UncommitBlock</a>(old_start, delta)) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordtype">int</span> pages_after = new_capacity / <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">Page::kPageSize</a>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>* new_last_page =</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a0d3d8b924e6d66e4daf8044e1efe5d1c">NewSpacePage::FromAddress</a>(space_end - pages_after * Page::kPageSize);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    new_last_page-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a626a5fe6210b5034d54b1c7b6693b4eb">set_next_page</a>(anchor());</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    anchor()-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a4ed35988df3339eea7493f3be4c886fd">set_prev_page</a>(new_last_page);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((current_page_ &lt;= <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a65b2d8de986d39ee855420b71c865022">first_page</a>()) &amp;&amp; (current_page_ &gt;= new_last_page));</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  }</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  capacity_ = new_capacity;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;}</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="keywordtype">void</span> SemiSpace::FlipPages(intptr_t <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a6039b5dd6fdbbfc93266be101c27b8d4">flags</a>, intptr_t mask) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  anchor_.<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae19eff0ba5ae188a3bfcd0472b8c80b">set_owner</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// Fixup back-pointers to anchor. Address of anchor changes</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// when we swap.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#ad819a67ed949a8f3c86f758aef045669">prev_page</a>()-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a626a5fe6210b5034d54b1c7b6693b4eb">set_next_page</a>(&amp;anchor_);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>()-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a4ed35988df3339eea7493f3be4c886fd">set_prev_page</a>(&amp;anchor_);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordtype">bool</span> becomes_to_space = (id_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473a94e00bb84998524ba77d3d3408f5251f">kFromSpace</a>);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  id_ = becomes_to_space ? <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473ae1ea4983ad0f1ac526c3eb9076d868e7">kToSpace</a> : <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473a94e00bb84998524ba77d3d3408f5251f">kFromSpace</a>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">NewSpacePage</a>* page = anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>();</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="keywordflow">while</span> (page != &amp;anchor_) {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae19eff0ba5ae188a3bfcd0472b8c80b">set_owner</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1eb7cc3b88cf84d85e88f2b644a21a4e">SetFlags</a>(flags, mask);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">if</span> (becomes_to_space) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af8818cdc8321dbcb7784dc643f334bdd">ClearFlag</a>(MemoryChunk::IN_FROM_SPACE);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#adcdab8f96dc4fdc2940749e527087245">SetFlag</a>(MemoryChunk::IN_TO_SPACE);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af8818cdc8321dbcb7784dc643f334bdd">ClearFlag</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784aee74625176233b590d06131a46027001">MemoryChunk::NEW_SPACE_BELOW_AGE_MARK</a>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a2a2515a6f207c59b34fd7dac8ad39bf3">ResetLiveBytes</a>();</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#adcdab8f96dc4fdc2940749e527087245">SetFlag</a>(MemoryChunk::IN_FROM_SPACE);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af8818cdc8321dbcb7784dc643f334bdd">ClearFlag</a>(MemoryChunk::IN_TO_SPACE);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#afab81ec90adcf51e6889b076b9b7f8b2">IsFlagSet</a>(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a06352108e9736fc4125dffa6dfc6f8b8">MemoryChunk::SCAN_ON_SCAVENGE</a>));</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#afab81ec90adcf51e6889b076b9b7f8b2">IsFlagSet</a>(MemoryChunk::IN_TO_SPACE) ||</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;           page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#afab81ec90adcf51e6889b076b9b7f8b2">IsFlagSet</a>(MemoryChunk::IN_FROM_SPACE));</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    page = page-&gt;<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>();</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;}</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div>
<div class="line"><a name="l01487"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a372de693ad40b3f42839c8ec6ac845f4"> 1487</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a372de693ad40b3f42839c8ec6ac845f4">SemiSpace::Reset</a>() {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>() != &amp;anchor_);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  current_page_ = anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>();</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;}</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div>
<div class="line"><a name="l01493"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae68e6c8fa3b45768da543c58aeb95a95"> 1493</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae68e6c8fa3b45768da543c58aeb95a95">SemiSpace::Swap</a>(<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html">SemiSpace</a>* from, <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html">SemiSpace</a>* to) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// We won&#39;t be swapping semispaces without data in them.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(from-&gt;anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>() != &amp;from-&gt;anchor_);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(to-&gt;anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>() != &amp;to-&gt;anchor_);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="comment">// Swap bits.</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html">SemiSpace</a> tmp = *from;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  *from = *to;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  *to = tmp;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="comment">// Fixup back-pointers to the page list anchor now that its address</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">// has changed.</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">// Swap to/from-space bits on pages.</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">// Copy GC flags from old active space (from-space) to new (to-space).</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  intptr_t flags = from-&gt;<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a55b41e5225c3eb183c036051251289ef">current_page</a>()-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a84a5237985d2f609df0fe9a61a01012d">GetFlags</a>();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  to-&gt;FlipPages(flags, <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#ad889891e7286e29b0e662738ec405e29">NewSpacePage::kCopyOnFlipFlagsMask</a>);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  from-&gt;FlipPages(0, 0);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div>
<div class="line"><a name="l01514"></a><span class="lineno"><a class="line" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a9ec714208a3a31d6a7da29382607ea11"> 1514</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a9ec714208a3a31d6a7da29382607ea11">SemiSpace::set_age_mark</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> mark) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#af46bb632ffc0e38aad43d3a8797ef4b2">NewSpacePage::FromLimit</a>(mark)-&gt;semi_space() == <span class="keyword">this</span>);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  age_mark_ = mark;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">// Mark all pages up to the one containing mark.</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a02d17e1b42313e4399611c825807adc6">NewSpacePageIterator</a> it(<a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae0b6bb06ce53127ef3aa55cd148a89f6">space_start</a>(), mark);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="keywordflow">while</span> (it.has_next()) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    it.next()-&gt;SetFlag(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784aee74625176233b590d06131a46027001">MemoryChunk::NEW_SPACE_BELOW_AGE_MARK</a>);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;}</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d3d/lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">SemiSpace::Print</a>() { }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="keywordtype">void</span> SemiSpace::Verify() {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordtype">bool</span> is_from_space = (id_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473a94e00bb84998524ba77d3d3408f5251f">kFromSpace</a>);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  NewSpacePage* page = anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">next_page</a>();</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(anchor_.<a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a62e9c16a3f207c0080d42eb92e052335">semi_space</a>() == <span class="keyword">this</span>);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">while</span> (page != &amp;anchor_) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(page-&gt;semi_space() == <span class="keyword">this</span>);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(page-&gt;InNewSpace());</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(page-&gt;IsFlagSet(is_from_space ? MemoryChunk::IN_FROM_SPACE</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                                        : MemoryChunk::IN_TO_SPACE));</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!page-&gt;IsFlagSet(is_from_space ? MemoryChunk::IN_TO_SPACE</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                                         : MemoryChunk::IN_FROM_SPACE));</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(page-&gt;IsFlagSet(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a73d4fd48de7b4a981e4cdd593bf7e1a2">MemoryChunk::POINTERS_TO_HERE_ARE_INTERESTING</a>));</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">if</span> (!is_from_space) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="comment">// The pointers-from-here-are-interesting flag isn&#39;t updated dynamically</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="comment">// on from-space pages, so it might be out of sync with the marking state.</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">if</span> (page-&gt;heap()-&gt;incremental_marking()-&gt;IsMarking()) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(page-&gt;IsFlagSet(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a23899a47bbf7415b1b108c4684bf98d0">MemoryChunk::POINTERS_FROM_HERE_ARE_INTERESTING</a>));</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!page-&gt;IsFlagSet(</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a23899a47bbf7415b1b108c4684bf98d0">MemoryChunk::POINTERS_FROM_HERE_ARE_INTERESTING</a>));</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="comment">// TODO(gc): Check that the live_bytes_count_ field matches the</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <span class="comment">// black marking on the page (if we make it match in new-space).</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(page-&gt;IsFlagSet(<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a06352108e9736fc4125dffa6dfc6f8b8">MemoryChunk::SCAN_ON_SCAVENGE</a>));</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(page-&gt;prev_page()-&gt;next_page() == page);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    page = page-&gt;next_page();</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a810dd6c604f6c72e4e5055948227e06f">SemiSpace::AssertValidRange</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> end) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="comment">// Addresses belong to same semi-space</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  NewSpacePage* page = <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#af46bb632ffc0e38aad43d3a8797ef4b2">NewSpacePage::FromLimit</a>(start);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  NewSpacePage* end_page = <a class="code" href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#af46bb632ffc0e38aad43d3a8797ef4b2">NewSpacePage::FromLimit</a>(end);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a4c06cd5819ab2fc45c81e836f12db24c">SemiSpace</a>* space = page-&gt;semi_space();</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#a0ea8f66bf4733597f9a514fda2151ff9">CHECK_EQ</a>(space, end_page-&gt;semi_space());</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <span class="comment">// Start address is before end address, either on same page,</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="comment">// or end address is on a later page in the linked list of</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="comment">// semi-space pages.</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordflow">if</span> (page == end_page) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(start &lt;= end);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">while</span> (page != end_page) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      page = page-&gt;next_page();</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#a403854a78bdaff5e42e57b4126bd12f4">CHECK_NE</a>(page, space-&gt;anchor());</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;}</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="comment">// SemiSpaceIterator implementation.</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"><a class="line" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#a02bd73fbe1bef5cf6e7e264f5e5a2a1d"> 1583</a></span>&#160;<a class="code" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#a02bd73fbe1bef5cf6e7e264f5e5a2a1d">SemiSpaceIterator::SemiSpaceIterator</a>(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html">NewSpace</a>* space) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  Initialize(space-&gt;<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a714310495eda151df7de652cb95255c8">bottom</a>(), space-&gt;<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div>
<div class="line"><a name="l01588"></a><span class="lineno"><a class="line" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#a289ce692b83b2c4991a881a3f04abc04"> 1588</a></span>&#160;<a class="code" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#a02bd73fbe1bef5cf6e7e264f5e5a2a1d">SemiSpaceIterator::SemiSpaceIterator</a>(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html">NewSpace</a>* space,</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                                     <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad86ea0c69f8188478238e46a3897a217">HeapObjectCallback</a> size_func) {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  Initialize(space-&gt;<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a714310495eda151df7de652cb95255c8">bottom</a>(), space-&gt;<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>(), size_func);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;}</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div>
<div class="line"><a name="l01594"></a><span class="lineno"><a class="line" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#a5167623570055357a1c8f58d4bd5a11c"> 1594</a></span>&#160;<a class="code" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#a02bd73fbe1bef5cf6e7e264f5e5a2a1d">SemiSpaceIterator::SemiSpaceIterator</a>(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html">NewSpace</a>* space, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start) {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  Initialize(start, space-&gt;<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>(), <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;}</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div>
<div class="line"><a name="l01599"></a><span class="lineno"><a class="line" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#adeaead1e952d0f6c2eb2d0fca7c29355"> 1599</a></span>&#160;<a class="code" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#a02bd73fbe1bef5cf6e7e264f5e5a2a1d">SemiSpaceIterator::SemiSpaceIterator</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> from, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> to) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  Initialize(from, to, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;}</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="keywordtype">void</span> SemiSpaceIterator::Initialize(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start,</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> end,</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad86ea0c69f8188478238e46a3897a217">HeapObjectCallback</a> size_func) {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <a class="code" href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a810dd6c604f6c72e4e5055948227e06f">SemiSpace::AssertValidRange</a>(start, end);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  current_ = start;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  limit_ = end;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  size_func_ = size_func;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;}</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">// heap_histograms is shared, always clear it before using it.</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> ClearHistograms() {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="../../d5/dda/classv8_1_1_isolate.html">Isolate</a>* isolate = Isolate::Current();</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="comment">// We reset the name each time, though it hasn&#39;t changed.</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="preprocessor">#define DEF_TYPE_NAME(name) isolate-&gt;heap_histograms()[name].set_name(#name);</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <a class="code" href="../../df/d91/objects_8h.html#a08f0e6d9ef2bb3e1927e95551a37e589">INSTANCE_TYPE_LIST</a>(DEF_TYPE_NAME)</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="preprocessor">#undef DEF_TYPE_NAME</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="preprocessor">#define CLEAR_HISTOGRAM(name) isolate-&gt;heap_histograms()[name].clear();</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <a class="code" href="../../df/d91/objects_8h.html#a08f0e6d9ef2bb3e1927e95551a37e589">INSTANCE_TYPE_LIST</a>(CLEAR_HISTOGRAM)</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="preprocessor">#undef CLEAR_HISTOGRAM</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  isolate-&gt;js_spill_information()-&gt;Clear();</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;}</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> ClearCodeKindStatistics() {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  Isolate* isolate = Isolate::Current();</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba01db17f4a2bfbc3db60dc172972a25a2d3eb0c0fa142bd8110f04fc3a5a0a97">Code::NUMBER_OF_KINDS</a>; i++) {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    isolate-&gt;code_kind_statistics()[i] = 0;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  }</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;}</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> ReportCodeKindStatistics() {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  Isolate* isolate = Isolate::Current();</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* table[<a class="code" href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba01db17f4a2bfbc3db60dc172972a25a2d3eb0c0fa142bd8110f04fc3a5a0a97">Code::NUMBER_OF_KINDS</a>] = { <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a> };</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="preprocessor">#define CASE(name)                            \</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="preprocessor">  case Code::name: table[Code::name] = #name; \</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="preprocessor">  break</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba01db17f4a2bfbc3db60dc172972a25a2d3eb0c0fa142bd8110f04fc3a5a0a97">Code::NUMBER_OF_KINDS</a>; i++) {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">switch</span> (static_cast&lt;Code::Kind&gt;(i)) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      CASE(FUNCTION);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      CASE(OPTIMIZED_FUNCTION);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      CASE(STUB);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      CASE(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af14562a565b0f6fce9a146afe6dc0130a19ee6d41e59c93f16fed0dba11a81648">BUILTIN</a>);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      CASE(LOAD_IC);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      CASE(KEYED_LOAD_IC);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      CASE(STORE_IC);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      CASE(KEYED_STORE_IC);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      CASE(CALL_IC);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      CASE(KEYED_CALL_IC);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      CASE(UNARY_OP_IC);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      CASE(BINARY_OP_IC);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      CASE(COMPARE_IC);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      CASE(TO_BOOLEAN_IC);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="preprocessor">#undef CASE</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n   Code kind histograms: \n&quot;</span>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba01db17f4a2bfbc3db60dc172972a25a2d3eb0c0fa142bd8110f04fc3a5a0a97">Code::NUMBER_OF_KINDS</a>; i++) {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;code_kind_statistics()[i] &gt; 0) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;     %-20s: %10d bytes\n&quot;</span>, table[i],</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;          isolate-&gt;code_kind_statistics()[i]);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    }</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;}</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> CollectHistogramInfo(HeapObject* obj) {</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  Isolate* isolate = Isolate::Current();</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a> = obj-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(0 &lt;= type &amp;&amp; type &lt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a>);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(isolate-&gt;heap_histograms()[<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>].name() != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  isolate-&gt;heap_histograms()[<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>].increment_number(1);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  isolate-&gt;heap_histograms()[<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>].increment_bytes(obj-&gt;Size());</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordflow">if</span> (FLAG_collect_heap_spill_statistics &amp;&amp; obj-&gt;IsJSObject()) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <a class="code" href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">JSObject::cast</a>(obj)-&gt;IncrementSpillStatistics(</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        isolate-&gt;js_spill_information());</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  }</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keywordflow">return</span> obj-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#af40990b9bd3d70d30e8ce7cdda1ad56f">Size</a>();</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;}</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> ReportHistogram(<span class="keywordtype">bool</span> print_spill) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  Isolate* isolate = Isolate::Current();</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n  Object Histogram:\n&quot;</span>);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a>; i++) {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;heap_histograms()[i].number() &gt; 0) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;    %-34s%10d (%10d bytes)\n&quot;</span>,</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;             isolate-&gt;heap_histograms()[i].name(),</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;             isolate-&gt;heap_histograms()[i].number(),</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;             isolate-&gt;heap_histograms()[i].bytes());</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  }</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="comment">// Summarize string types.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keywordtype">int</span> string_number = 0;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keywordtype">int</span> string_bytes = 0;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="preprocessor">#define INCREMENT(type, size, name, camel_name)      \</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="preprocessor">    string_number += isolate-&gt;heap_histograms()[type].number(); \</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="preprocessor">    string_bytes += isolate-&gt;heap_histograms()[type].bytes();</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <a class="code" href="../../df/d91/objects_8h.html#a5095df7631964f8d566dc6a3b092bc6b">STRING_TYPE_LIST</a>(<a class="code" href="../../df/dff/spaces_8cc.html#ad789f24401acb408516a934fe4a6a141">INCREMENT</a>)</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="preprocessor">#undef INCREMENT</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordflow">if</span> (string_number &gt; 0) {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;    %-34s%10d (%10d bytes)\n\n&quot;</span>, <span class="stringliteral">&quot;STRING_TYPE&quot;</span>, string_number,</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;           string_bytes);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordflow">if</span> (FLAG_collect_heap_spill_statistics &amp;&amp; print_spill) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    isolate-&gt;js_spill_information()-&gt;Print();</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;}</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">// Support for statistics gathering for --heap-stats and --log-gc.</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#adfc1a511c3892908865208647977d96a"> 1730</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#adfc1a511c3892908865208647977d96a">NewSpace::ClearHistograms</a>() {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a>; i++) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    allocated_histogram_[i].clear();</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    promoted_histogram_[i].clear();</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;}</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">// Because the copying collector does not touch garbage objects, we iterate</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">// the new space before a collection to get a histogram of allocated objects.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">// This only happens when --log-gc flag is set.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a677acae1061d0babd71d8869a654b4b4"> 1740</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a677acae1061d0babd71d8869a654b4b4">NewSpace::CollectStatistics</a>() {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#adfc1a511c3892908865208647977d96a">ClearHistograms</a>();</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <a class="code" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html">SemiSpaceIterator</a> it(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj = it.<a class="code" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#acfb50b7d0fd8c183fc5791601005c217">Next</a>(); obj != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>; obj = it.<a class="code" href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#acfb50b7d0fd8c183fc5791601005c217">Next</a>())</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a7619c5c2359e044da5d327bd71f552fb">RecordAllocation</a>(obj);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;}</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> DoReportStatistics(<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                               <a class="code" href="../../db/de3/classv8_1_1internal_1_1_histogram_info.html">HistogramInfo</a>* info, <span class="keyword">const</span> <span class="keywordtype">char</span>* description) {</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate, HeapSampleBeginEvent(<span class="stringliteral">&quot;NewSpace&quot;</span>, description));</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="comment">// Lump all the string types together.</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="keywordtype">int</span> string_number = 0;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="keywordtype">int</span> string_bytes = 0;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;<span class="preprocessor">#define INCREMENT(type, size, name, camel_name)       \</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="preprocessor">    string_number += info[type].number();             \</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;<span class="preprocessor">    string_bytes += info[type].bytes();</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <a class="code" href="../../df/d91/objects_8h.html#a5095df7631964f8d566dc6a3b092bc6b">STRING_TYPE_LIST</a>(<a class="code" href="../../df/dff/spaces_8cc.html#ad789f24401acb408516a934fe4a6a141">INCREMENT</a>)</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="preprocessor">#undef INCREMENT</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordflow">if</span> (string_number &gt; 0) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate,</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        HeapSampleItemEvent(<span class="stringliteral">&quot;STRING_TYPE&quot;</span>, string_number, string_bytes));</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="comment">// Then do the other types.</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf">FIRST_NONSTRING_TYPE</a>; i &lt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a>; ++i) {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">if</span> (info[i].number() &gt; 0) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate,</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;          HeapSampleItemEvent(info[i].<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3fcbc71074e08d986e702a8f55bbb43e">name</a>(), info[i].number(),</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                              info[i].bytes()));</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(isolate, HeapSampleEndEvent(<span class="stringliteral">&quot;NewSpace&quot;</span>, description));</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;}</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div>
<div class="line"><a name="l01776"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ad2d0b74af393b127127bdf1373831171"> 1776</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ad2d0b74af393b127127bdf1373831171">NewSpace::ReportStatistics</a>() {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="keywordflow">if</span> (FLAG_heap_stats) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordtype">float</span> pct = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a730df2c9513afe86f0afd56ba60ce058">Available</a>()) / <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>();</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;  capacity: %&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#a195c21618843b007adaa40be5ae0e0a7">V8_PTR_PREFIX</a> <span class="stringliteral">&quot;d&quot;</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;               <span class="stringliteral">&quot;, available: %&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#a195c21618843b007adaa40be5ae0e0a7">V8_PTR_PREFIX</a> <span class="stringliteral">&quot;d, %%%d\n&quot;</span>,</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;           <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>(), <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a730df2c9513afe86f0afd56ba60ce058">Available</a>(), static_cast&lt;int&gt;(pct*100));</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n  Object Histogram:\n&quot;</span>);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a>; i++) {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      <span class="keywordflow">if</span> (allocated_histogram_[i].number() &gt; 0) {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;    %-34s%10d (%10d bytes)\n&quot;</span>,</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;               allocated_histogram_[i].<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a3fcbc71074e08d986e702a8f55bbb43e">name</a>(),</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;               allocated_histogram_[i].number(),</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;               allocated_histogram_[i].bytes());</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      }</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  }</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="keywordflow">if</span> (FLAG_log_gc) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = <a class="code" href="../../d8/d1e/isolate_8h.html#afbd09b56c7cdf48ff457909e030f1f74">ISOLATE</a>;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    DoReportStatistics(isolate, allocated_histogram_, <span class="stringliteral">&quot;allocated&quot;</span>);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    DoReportStatistics(isolate, promoted_histogram_, <span class="stringliteral">&quot;promoted&quot;</span>);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;}</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div>
<div class="line"><a name="l01804"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a7619c5c2359e044da5d327bd71f552fb"> 1804</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a7619c5c2359e044da5d327bd71f552fb">NewSpace::RecordAllocation</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj) {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> type = obj-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">map</a>()-&gt;<a class="code" href="../../de/dfe/classv8_1_1internal_1_1_map.html#a331c2e3486c2fdef0d4eff37543be0e6">instance_type</a>();</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(0 &lt;= type &amp;&amp; type &lt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a>);</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  allocated_histogram_[<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>].increment_number(1);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  allocated_histogram_[<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>].increment_bytes(obj-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#af40990b9bd3d70d30e8ce7cdda1ad56f">Size</a>());</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;}</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div>
<div class="line"><a name="l01812"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a68e2277d861442db8ecc8dd64797736f"> 1812</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a68e2277d861442db8ecc8dd64797736f">NewSpace::RecordPromotion</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">InstanceType</a> type = obj-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">map</a>()-&gt;<a class="code" href="../../de/dfe/classv8_1_1internal_1_1_map.html#a331c2e3486c2fdef0d4eff37543be0e6">instance_type</a>();</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(0 &lt;= type &amp;&amp; type &lt;= <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">LAST_TYPE</a>);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  promoted_histogram_[<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>].increment_number(1);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  promoted_histogram_[<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>].increment_bytes(obj-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#af40990b9bd3d70d30e8ce7cdda1ad56f">Size</a>());</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;}</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">// Free lists for old object spaces implementation</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"><a class="line" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a7f912b57fddf2d73c3ce3613d415479a"> 1822</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a7f912b57fddf2d73c3ce3613d415479a">FreeListNode::set_size</a>(<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html">Heap</a>* heap, <span class="keywordtype">int</span> size_in_bytes) {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_in_bytes &gt; 0);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(size_in_bytes, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="comment">// We write a map and possibly size information to the block.  If the block</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <span class="comment">// is big enough to be a FreeSpace with at least one extra word (the next</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="comment">// pointer), we set its map to be the free space map and its size to an</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">// appropriate array length for the desired size from HeapObject::Size().</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">// If the block is too small (eg, one or two words), to hold both a size</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="comment">// field and a next pointer, we give it a filler map that gives it the</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="comment">// correct size.</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="keywordflow">if</span> (size_in_bytes &gt; <a class="code" href="../../d7/db7/classv8_1_1internal_1_1_free_space.html#ac1cb10d97e8091bf949042b4d67f91c8">FreeSpace::kHeaderSize</a>) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a15df2e6d8babd6046c32c8ed3de5cf19">set_map_no_write_barrier</a>(heap-&gt;raw_unchecked_free_space_map());</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="comment">// Can&#39;t use FreeSpace::cast because it fails during deserialization.</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <a class="code" href="../../d7/db7/classv8_1_1internal_1_1_free_space.html">FreeSpace</a>* this_as_free_space = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d7/db7/classv8_1_1internal_1_1_free_space.html">FreeSpace</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    this_as_free_space-&gt;<a class="code" href="../../d7/db7/classv8_1_1internal_1_1_free_space.html#a040b1539f7f70de70785693b7ab45dc8">set_size</a>(size_in_bytes);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size_in_bytes == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a15df2e6d8babd6046c32c8ed3de5cf19">set_map_no_write_barrier</a>(heap-&gt;raw_unchecked_one_pointer_filler_map());</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size_in_bytes == 2 * <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a15df2e6d8babd6046c32c8ed3de5cf19">set_map_no_write_barrier</a>(heap-&gt;raw_unchecked_two_pointer_filler_map());</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  }</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="comment">// We would like to ASSERT(Size() == size_in_bytes) but this would fail during</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">// deserialization because the free space map is not done yet.</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;}</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div>
<div class="line"><a name="l01850"></a><span class="lineno"><a class="line" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a565268d0b25055566c6d6a6318f2521b"> 1850</a></span>&#160;<a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html">FreeListNode</a>* <a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a565268d0b25055566c6d6a6318f2521b">FreeListNode::next</a>() {</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a00e348363348e664e1a2f4a0df68c390">IsFreeListNode</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">map</a>() == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;raw_unchecked_free_space_map()) {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">map</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a> || <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#af40990b9bd3d70d30e8ce7cdda1ad56f">Size</a>() &gt;= kNextOffset + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html">FreeListNode</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        <a class="code" href="../../d6/dee/classv8_1_1internal_1_1_memory.html#a31bcfb05aed43ee9fa6ac524cc37032e">Memory::Address_at</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>() + kNextOffset));</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html">FreeListNode</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <a class="code" href="../../d6/dee/classv8_1_1internal_1_1_memory.html#a31bcfb05aed43ee9fa6ac524cc37032e">Memory::Address_at</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>() + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  }</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;}</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;</div>
<div class="line"><a name="l01863"></a><span class="lineno"><a class="line" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#aff583a611d942691cd7c2b52f9ee68f1"> 1863</a></span>&#160;<a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html">FreeListNode</a>** <a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#aff583a611d942691cd7c2b52f9ee68f1">FreeListNode::next_address</a>() {</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a00e348363348e664e1a2f4a0df68c390">IsFreeListNode</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">map</a>() == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;raw_unchecked_free_space_map()) {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#af40990b9bd3d70d30e8ce7cdda1ad56f">Size</a>() &gt;= kNextOffset + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html">FreeListNode</a>**<span class="keyword">&gt;</span>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>() + kNextOffset);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html">FreeListNode</a>**<span class="keyword">&gt;</span>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>() + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  }</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;}</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div>
<div class="line"><a name="l01874"></a><span class="lineno"><a class="line" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#aab81d9d82446d2bef4240b5e8a780b91"> 1874</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#aab81d9d82446d2bef4240b5e8a780b91">FreeListNode::set_next</a>(<a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html">FreeListNode</a>* next) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a00e348363348e664e1a2f4a0df68c390">IsFreeListNode</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="comment">// While we are booting the VM the free space map will actually be null.  So</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="comment">// we have to make sure that we don&#39;t try to use it for anything at that</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="comment">// stage.</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">map</a>() == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;raw_unchecked_free_space_map()) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">map</a>() == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a> || <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#af40990b9bd3d70d30e8ce7cdda1ad56f">Size</a>() &gt;= kNextOffset + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <a class="code" href="../../d6/dee/classv8_1_1internal_1_1_memory.html#a31bcfb05aed43ee9fa6ac524cc37032e">Memory::Address_at</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>() + kNextOffset) =</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(<a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a565268d0b25055566c6d6a6318f2521b">next</a>);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <a class="code" href="../../d6/dee/classv8_1_1internal_1_1_memory.html#a31bcfb05aed43ee9fa6ac524cc37032e">Memory::Address_at</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>() + <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>) =</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a><span class="keyword">&gt;</span>(<a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a565268d0b25055566c6d6a6318f2521b">next</a>);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  }</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;}</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;FreeList::FreeList(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html">PagedSpace</a>* owner)</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    : owner_(owner), heap_(owner-&gt;heap()) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aedbe4c9957c254b67bd760a57181a1b6">Reset</a>();</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;}</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aedbe4c9957c254b67bd760a57181a1b6">FreeList::Reset</a>() {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  available_ = 0;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  small_list_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  medium_list_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  large_list_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  huge_list_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;}</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="keywordtype">int</span> FreeList::Free(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> start, <span class="keywordtype">int</span> size_in_bytes) {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="keywordflow">if</span> (size_in_bytes == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  FreeListNode* node = <a class="code" href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#af8c5c9fb07fc4edf1cb959d7d3715a19">FreeListNode::FromAddress</a>(start);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  node-&gt;set_size(heap_, size_in_bytes);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <span class="comment">// Early return to drop too-small blocks on the floor.</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="keywordflow">if</span> (size_in_bytes &lt; kSmallListMin) <span class="keywordflow">return</span> size_in_bytes;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="comment">// Insert other blocks at the head of a free list of the appropriate</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="comment">// magnitude.</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <span class="keywordflow">if</span> (size_in_bytes &lt;= kSmallListMax) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    node-&gt;set_next(small_list_);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    small_list_ = node;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size_in_bytes &lt;= kMediumListMax) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    node-&gt;set_next(medium_list_);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    medium_list_ = node;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size_in_bytes &lt;= kLargeListMax) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    node-&gt;set_next(large_list_);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    large_list_ = node;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    node-&gt;set_next(huge_list_);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    huge_list_ = node;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  }</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  available_ += size_in_bytes;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsVeryLong() || available_ == SumFreeLists());</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;}</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;FreeListNode* FreeList::PickNodeFromList(FreeListNode** list, <span class="keywordtype">int</span>* node_size) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  FreeListNode* node = *list;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordflow">if</span> (node == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordflow">while</span> (node != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a> &amp;&amp;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;         <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(node-&gt;address())-&gt;IsEvacuationCandidate()) {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    available_ -= node-&gt;Size();</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    node = node-&gt;next();</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="keywordflow">if</span> (node != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    *node_size = node-&gt;Size();</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    *list = node-&gt;next();</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    *list = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  }</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="keywordflow">return</span> node;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;}</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;FreeListNode* FreeList::FindNodeFor(<span class="keywordtype">int</span> size_in_bytes, <span class="keywordtype">int</span>* node_size) {</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  FreeListNode* node = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <span class="keywordflow">if</span> (size_in_bytes &lt;= kSmallAllocationMax) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    node = PickNodeFromList(&amp;small_list_, node_size);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">if</span> (node != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> node;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  }</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="keywordflow">if</span> (size_in_bytes &lt;= kMediumAllocationMax) {</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    node = PickNodeFromList(&amp;medium_list_, node_size);</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keywordflow">if</span> (node != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> node;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  }</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">if</span> (size_in_bytes &lt;= kLargeAllocationMax) {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    node = PickNodeFromList(&amp;large_list_, node_size);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">if</span> (node != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> node;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  }</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">for</span> (FreeListNode** cur = &amp;huge_list_;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;       *cur != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;       cur = (*cur)-&gt;next_address()) {</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    FreeListNode* cur_node = *cur;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="keywordflow">while</span> (cur_node != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a> &amp;&amp;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;           <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(cur_node-&gt;address())-&gt;IsEvacuationCandidate()) {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      available_ -= <span class="keyword">reinterpret_cast&lt;</span>FreeSpace*<span class="keyword">&gt;</span>(cur_node)-&gt;Size();</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      cur_node = cur_node-&gt;next();</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    *cur = cur_node;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">if</span> (cur_node == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>((*cur)-&gt;map() == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;raw_unchecked_free_space_map());</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    FreeSpace* cur_as_free_space = <span class="keyword">reinterpret_cast&lt;</span>FreeSpace*<span class="keyword">&gt;</span>(*cur);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordtype">int</span> size = cur_as_free_space-&gt;Size();</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordflow">if</span> (size &gt;= size_in_bytes) {</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <span class="comment">// Large enough node found.  Unlink it from the list.</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      node = *cur;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      *node_size = size;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      *cur = node-&gt;next();</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    }</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  }</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="keywordflow">return</span> node;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="comment">// Allocation on the old space free list.  If it succeeds then a new linear</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="comment">// allocation space has been set up with the top and limit of the space.  If</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="comment">// the allocation fails then NULL is returned, and the caller can perform a GC</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;<span class="comment">// or allocate a new page before retrying.</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;HeapObject* FreeList::Allocate(<span class="keywordtype">int</span> size_in_bytes) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(0 &lt; size_in_bytes);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_in_bytes &lt;= kMaxBlockSize);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(size_in_bytes, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>));</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="comment">// Don&#39;t free list allocate if there is linear space available.</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(owner_-&gt;limit() - owner_-&gt;top() &lt; size_in_bytes);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keywordtype">int</span> new_node_size = 0;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  FreeListNode* new_node = FindNodeFor(size_in_bytes, &amp;new_node_size);</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <span class="keywordflow">if</span> (new_node == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  available_ -= new_node_size;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsVeryLong() || available_ == SumFreeLists());</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="keywordtype">int</span> bytes_left = new_node_size - size_in_bytes;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(bytes_left &gt;= 0);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="keywordtype">int</span> old_linear_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(owner_-&gt;limit() - owner_-&gt;top());</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <span class="comment">// Mark the old linear allocation area with a free space map so it can be</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <span class="comment">// skipped when scanning the heap.  This also puts it back in the free list</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="comment">// if it is big enough.</span></div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  owner_-&gt;Free(owner_-&gt;top(), old_linear_size);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size_in_bytes / <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">kPointerSize</a>; i++) {</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a0ff83451bc94a1105976297cc6b68676">Object</a>**<span class="keyword">&gt;</span>(new_node-&gt;address())[i] = <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a53259c85a9a7f54c354c7871cb340073">Smi::FromInt</a>(0);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  }</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  owner_-&gt;heap()-&gt;incremental_marking()-&gt;OldSpaceStep(</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      size_in_bytes - old_linear_size);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="comment">// The old-space-step might have finished sweeping and restarted marking.</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  <span class="comment">// Verify that it did not turn the page of the new node into an evacuation</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="comment">// candidate.</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!MarkCompactCollector::IsOnEvacuationCandidate(new_node));</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kThreshold = <a class="code" href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#ad486f4041d453bf0a1c28e577088113d">IncrementalMarking::kAllocatedThreshold</a>;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="comment">// Memory in the linear allocation area is counted as allocated.  We may free</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="comment">// a little of this again immediately - see below.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  owner_-&gt;Allocate(new_node_size);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="keywordflow">if</span> (bytes_left &gt; kThreshold &amp;&amp;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      owner_-&gt;heap()-&gt;incremental_marking()-&gt;IsMarkingIncomplete() &amp;&amp;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      FLAG_incremental_marking_steps) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordtype">int</span> linear_size = owner_-&gt;RoundSizeDownToObjectAlignment(kThreshold);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="comment">// We don&#39;t want to give too large linear areas to the allocator while</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// incremental marking is going on, because we won&#39;t check again whether</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="comment">// we want to do another increment until the linear area is used up.</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    owner_-&gt;Free(new_node-&gt;address() + size_in_bytes + linear_size,</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                 new_node_size - size_in_bytes - linear_size);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    owner_-&gt;SetTop(new_node-&gt;address() + size_in_bytes,</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                   new_node-&gt;address() + size_in_bytes + linear_size);</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bytes_left &gt; 0) {</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="comment">// Normally we give the rest of the node to the allocator as its new</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <span class="comment">// linear allocation area.</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    owner_-&gt;SetTop(new_node-&gt;address() + size_in_bytes,</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                   new_node-&gt;address() + new_node_size);</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="comment">// TODO(gc) Try not freeing linear allocation region when bytes_left</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="comment">// are zero.</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    owner_-&gt;SetTop(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  }</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="keywordflow">return</span> new_node;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;}</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;<span class="keyword">static</span> intptr_t CountFreeListItemsInList(FreeListNode* n, Page* p) {</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  intptr_t sum = 0;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="keywordflow">while</span> (n != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(n-&gt;address()) == p) {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      FreeSpace* free_space = <span class="keyword">reinterpret_cast&lt;</span>FreeSpace*<span class="keyword">&gt;</span>(n);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      sum += free_space-&gt;Size();</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    }</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    n = n-&gt;next();</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  }</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;}</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="keywordtype">void</span> FreeList::CountFreeListItems(Page* p, SizeStats* sizes) {</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  sizes-&gt;huge_size_ = CountFreeListItemsInList(huge_list_, p);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordflow">if</span> (sizes-&gt;huge_size_ &lt; p-&gt;area_size()) {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    sizes-&gt;small_size_ = CountFreeListItemsInList(small_list_, p);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    sizes-&gt;medium_size_ = CountFreeListItemsInList(medium_list_, p);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    sizes-&gt;large_size_ = CountFreeListItemsInList(large_list_, p);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    sizes-&gt;small_size_ = 0;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    sizes-&gt;medium_size_ = 0;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    sizes-&gt;large_size_ = 0;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  }</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;}</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="keyword">static</span> intptr_t EvictFreeListItemsInList(FreeListNode** n, Page* p) {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  intptr_t sum = 0;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordflow">while</span> (*n != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>((*n)-&gt;address()) == p) {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      FreeSpace* free_space = <span class="keyword">reinterpret_cast&lt;</span>FreeSpace*<span class="keyword">&gt;</span>(*n);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;      sum += free_space-&gt;Size();</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      *n = (*n)-&gt;next();</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      n = (*n)-&gt;next_address();</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    }</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;}</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;intptr_t FreeList::EvictFreeListItems(Page* p) {</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  intptr_t sum = EvictFreeListItemsInList(&amp;huge_list_, p);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="keywordflow">if</span> (sum &lt; p-&gt;area_size()) {</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    sum += EvictFreeListItemsInList(&amp;small_list_, p) +</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        EvictFreeListItemsInList(&amp;medium_list_, p) +</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        EvictFreeListItemsInList(&amp;large_list_, p);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  }</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  available_ -= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(sum);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;}</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;intptr_t FreeList::SumFreeList(FreeListNode* cur) {</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  intptr_t sum = 0;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="keywordflow">while</span> (cur != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(cur-&gt;map() == <a class="code" href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a>-&gt;raw_unchecked_free_space_map());</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    FreeSpace* cur_as_free_space = <span class="keyword">reinterpret_cast&lt;</span>FreeSpace*<span class="keyword">&gt;</span>(cur);</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    sum += cur_as_free_space-&gt;Size();</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    cur = cur-&gt;next();</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  }</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;}</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kVeryLongFreeList = 500;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="keywordtype">int</span> FreeList::FreeListLength(FreeListNode* cur) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="keywordtype">int</span> length = 0;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keywordflow">while</span> (cur != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    length++;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    cur = cur-&gt;next();</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordflow">if</span> (length == kVeryLongFreeList) <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  }</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;}</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="keywordtype">bool</span> FreeList::IsVeryLong() {</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <span class="keywordflow">if</span> (FreeListLength(small_list_) == kVeryLongFreeList) <span class="keywordflow">return</span>  <span class="keyword">true</span>;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordflow">if</span> (FreeListLength(medium_list_) == kVeryLongFreeList) <span class="keywordflow">return</span>  <span class="keyword">true</span>;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="keywordflow">if</span> (FreeListLength(large_list_) == kVeryLongFreeList) <span class="keywordflow">return</span>  <span class="keyword">true</span>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  <span class="keywordflow">if</span> (FreeListLength(huge_list_) == kVeryLongFreeList) <span class="keywordflow">return</span>  <span class="keyword">true</span>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;}</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;<span class="comment">// This can take a very long time because it is linear in the number of entries</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;<span class="comment">// on the free list, so it should not be called if FreeListLength returns</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;<span class="comment">// kVeryLongFreeList.</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;intptr_t FreeList::SumFreeLists() {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  intptr_t sum = SumFreeList(small_list_);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  sum += SumFreeList(medium_list_);</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  sum += SumFreeList(large_list_);</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  sum += SumFreeList(huge_list_);</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;}</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;<span class="comment">// OldSpace implementation</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;</div>
<div class="line"><a name="l02185"></a><span class="lineno"><a class="line" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ae346775e04a41d45ffde7f41a35234f5"> 2185</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ae346775e04a41d45ffde7f41a35234f5">NewSpace::ReserveSpace</a>(<span class="keywordtype">int</span> bytes) {</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="comment">// We can&#39;t reliably unpack a partial snapshot that needs more new space</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="comment">// space than the minimum NewSpace size.  The limit can be set lower than</span></div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <span class="comment">// the end of new space either because there is more space on the next page</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <span class="comment">// or because we have lowered the limit in order to get periodic incremental</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  <span class="comment">// marking.  The most reliable way to ensure that there is linear space is</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  <span class="comment">// to do the allocation, then rewind the limit.</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(bytes &lt;= <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a10a43166b612c7231d1acac63217bb59">InitialCapacity</a>());</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  MaybeObject* maybe = AllocateRaw(bytes);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <a class="code" href="../../d8/df0/classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">if</span> (!maybe-&gt;ToObject(&amp;<span class="keywordtype">object</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* allocation = <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a86ec1e2f09518b8f45695104f5653a32">HeapObject::cast</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> top = allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="keywordflow">if</span> ((top - bytes) == allocation-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>()) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    allocation_info_.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> = allocation-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>();</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  <span class="comment">// There may be a borderline case here where the allocation succeeded, but</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  <span class="comment">// the limit and top have moved on to a new page.  In that case we try again.</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ae346775e04a41d45ffde7f41a35234f5">ReserveSpace</a>(bytes);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;}</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div>
<div class="line"><a name="l02208"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae23d19e424449c82663e61d41d31b443"> 2208</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae23d19e424449c82663e61d41d31b443">PagedSpace::PrepareForMarkCompact</a>() {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  <span class="comment">// We don&#39;t have a linear allocation area while sweeping.  It will be restored</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="comment">// on the first allocation after the sweep.</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  <span class="comment">// Mark the old linear allocation area with a free space map so it can be</span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <span class="comment">// skipped when scanning the heap.</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <span class="keywordtype">int</span> old_linear_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a796c5539112b6ed2ea22802cbd840edc">limit</a>() - <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>());</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a38a28d761ab37adea36a4d87c33f318f">Free</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>(), old_linear_size);</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab88431dbd27121d907e1a47923589cd0">SetTop</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="comment">// Stop lazy sweeping and clear marking bits for unswept pages.</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a> != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* p = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a>;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;      <span class="comment">// Do not use ShouldBeSweptLazily predicate here.</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="comment">// New evacuation candidates were selected but they still have</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;      <span class="comment">// to be swept before collection starts.</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#a7e5709565195ec7c3ef0f9756147ee5c">WasSwept</a>()) {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <a class="code" href="../../d7/dae/classv8_1_1internal_1_1_bitmap.html#af2d8b5b8ba2cddaba95ee9ad69ee7ac7">Bitmap::Clear</a>(p);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        <span class="keywordflow">if</span> (FLAG_gc_verbose) {</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;          <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Sweeping 0x%&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#adafd98459092322383b0f5ebcc7c342f">V8PRIxPTR</a> <span class="stringliteral">&quot; lazily abandoned.\n&quot;</span>,</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                 reinterpret_cast&lt;intptr_t&gt;(p));</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;        }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      }</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;      p = p-&gt;<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#af1742d0de9d64ce5a6dd83f22d4edaed">next_page</a>();</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    } <span class="keywordflow">while</span> (p != <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a66e64bdcc31731ea50f41d34e2648414">anchor</a>());</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  }</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a793918572ef1ef048683681033d5f63c">unswept_free_bytes_</a> = 0;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="comment">// Clear the free list before a full GC---it will be rebuilt afterward.</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.Reset();</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;}</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div>
<div class="line"><a name="l02242"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae346775e04a41d45ffde7f41a35234f5"> 2242</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae346775e04a41d45ffde7f41a35234f5">PagedSpace::ReserveSpace</a>(<span class="keywordtype">int</span> size_in_bytes) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_in_bytes &lt;= <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">AreaSize</a>());</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_in_bytes == <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a7b205e84c0af3cbba60317b55dd2e8c8">RoundSizeDownToObjectAlignment</a>(size_in_bytes));</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> current_top = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> new_top = current_top + size_in_bytes;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="keywordflow">if</span> (new_top &lt;= <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* new_area = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.Allocate(size_in_bytes);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="keywordflow">if</span> (new_area == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) new_area = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af42c0a3698bbcbbfe1e00b03449e9315">SlowAllocateRaw</a>(size_in_bytes);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keywordflow">if</span> (new_area == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="keywordtype">int</span> old_linear_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a796c5539112b6ed2ea22802cbd840edc">limit</a>() - <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>());</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="comment">// Mark the old linear allocation area with a free space so it can be</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="comment">// skipped when scanning the heap.  This also puts it back in the free list</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  <span class="comment">// if it is big enough.</span></div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a38a28d761ab37adea36a4d87c33f318f">Free</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab3c8dd11966a364b4fac29749648afea">top</a>(), old_linear_size);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab88431dbd27121d907e1a47923589cd0">SetTop</a>(new_area-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>(), new_area-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>() + size_in_bytes);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a76c4747d6c9b705e56383f533386879f">Allocate</a>(size_in_bytes);</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;}</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="comment">// You have to call this last, since the implementation from PagedSpace</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="comment">// doesn&#39;t know that memory was &#39;promised&#39; to large object space.</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#ae346775e04a41d45ffde7f41a35234f5"> 2267</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#ae346775e04a41d45ffde7f41a35234f5">LargeObjectSpace::ReserveSpace</a>(<span class="keywordtype">int</span> bytes) {</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a3f8d54c3c471d22c36aa89d03c6675bc">OldGenerationCapacityAvailable</a>() &gt;= bytes &amp;&amp;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;         (!<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a3a0c6c020051409883d2ca1d68ce4af1">incremental_marking</a>()-&gt;<a class="code" href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#ab29bb140724f268e7ea69c37bf2f1baf">IsStopped</a>() ||</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;           <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aca2f3d95b54c21a3d93ea7a355d5f958">OldGenerationSpaceAvailable</a>() &gt;= bytes);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;}</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div>
<div class="line"><a name="l02274"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0e2db146d64dff7a21f19ffcf4833744"> 2274</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0e2db146d64dff7a21f19ffcf4833744">PagedSpace::AdvanceSweeper</a>(intptr_t bytes_to_sweep) {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a3d92d2b5b8cd230fca737ecebac72af1">IsSweepingComplete</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  intptr_t freed_bytes = 0;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* p = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a>;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* next_page = p-&gt;<a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html#af1742d0de9d64ce5a6dd83f22d4edaed">next_page</a>();</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0c00acbe8685c7ba35f7aec3b8f7b828">ShouldBeSweptLazily</a>(p)) {</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      <span class="keywordflow">if</span> (FLAG_gc_verbose) {</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Sweeping 0x%&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#adafd98459092322383b0f5ebcc7c342f">V8PRIxPTR</a> <span class="stringliteral">&quot; lazily advanced.\n&quot;</span>,</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;               reinterpret_cast&lt;intptr_t&gt;(p));</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;      }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a05e91818b78075005718f0ab21ebdc08">DecreaseUnsweptFreeBytes</a>(p);</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;      freed_bytes += <a class="code" href="../../df/dba/classv8_1_1internal_1_1_mark_compact_collector.html#ad08d526b4eb054cfbab5b707a8e62b59">MarkCompactCollector::SweepConservatively</a>(<span class="keyword">this</span>, p);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    }</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    p = next_page;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  } <span class="keywordflow">while</span> (p != <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a66e64bdcc31731ea50f41d34e2648414">anchor</a>() &amp;&amp; freed_bytes &lt; bytes_to_sweep);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordflow">if</span> (p == <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a66e64bdcc31731ea50f41d34e2648414">anchor</a>()) {</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a> = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a> = p;</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a6d5a7c63fb401f18c96ded7d99d457ba">FreeQueuedChunks</a>();</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a3d92d2b5b8cd230fca737ecebac72af1">IsSweepingComplete</a>();</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;}</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;</div>
<div class="line"><a name="l02304"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a4e1387ff50d6283447beef35a0db61fb"> 2304</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a4e1387ff50d6283447beef35a0db61fb">PagedSpace::EvictEvacuationCandidatesFromFreeLists</a>() {</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> &gt;= <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="keywordflow">if</span> (Page::FromAllocationTop(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>)-&gt;IsEvacuationCandidate()) {</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="comment">// Create filler object to keep page iterable if it was iterable.</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordtype">int</span> remaining =</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> - <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a0f9c4349745983c5fe3b54f97b8a6348">CreateFillerObjectAt</a>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a>, remaining);</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">top</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">allocation_info_</a>.<a class="code" href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">limit</a> = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  }</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;}</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;</div>
<div class="line"><a name="l02319"></a><span class="lineno"><a class="line" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af42c0a3698bbcbbfe1e00b03449e9315"> 2319</a></span>&#160;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af42c0a3698bbcbbfe1e00b03449e9315">PagedSpace::SlowAllocateRaw</a>(<span class="keywordtype">int</span> size_in_bytes) {</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="comment">// Allocation in this space has failed.</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="comment">// If there are unswept pages advance lazy sweeper then sweep one page before</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <span class="comment">// allocating a new page.</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">first_unswept_page_</a>-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af4d2f059b86d0249fcab31063634aa57">is_valid</a>()) {</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0e2db146d64dff7a21f19ffcf4833744">AdvanceSweeper</a>(size_in_bytes);</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="comment">// Retry the free list allocation.</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span> = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.Allocate(size_in_bytes);</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">object</span> != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  }</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="comment">// Free list allocation failed and there is no next page.  Fail if we have</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="comment">// hit the old generation size limit that should cause a garbage</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="comment">// collection.</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;always_allocate() &amp;&amp;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;      <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;OldGenerationAllocationLimitReached()) {</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  }</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  <span class="comment">// Try to expand the space and allocate in the new next page.</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a1ac5ebb959102c90af9b852ad2b1d15a">Expand</a>()) {</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.Allocate(size_in_bytes);</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  }</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="comment">// Last ditch, sweep all the remaining pages to try to find space.  This may</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="comment">// cause a pause.</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a3d92d2b5b8cd230fca737ecebac72af1">IsSweepingComplete</a>()) {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0e2db146d64dff7a21f19ffcf4833744">AdvanceSweeper</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a423de8f25d414ef1b7dcd541a75f7063">kMaxInt</a>);</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="comment">// Retry the free list allocation.</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span> = <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.Allocate(size_in_bytes);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">object</span> != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  }</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  <span class="comment">// Finally, fail.</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;}</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="keywordtype">void</span> PagedSpace::ReportCodeStatistics() {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate = Isolate::Current();</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  CommentStatistic* comments_statistics =</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;      isolate-&gt;paged_space_comments_statistics();</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  ReportCodeKindStatistics();</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Code comment statistics (\&quot;   [ comment-txt   :    size/   &quot;</span></div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;         <span class="stringliteral">&quot;count  (average)\&quot;):\n&quot;</span>);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= CommentStatistic::kMaxComments; i++) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <span class="keyword">const</span> CommentStatistic&amp; <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519">cs</a> = comments_statistics[i];</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="keywordflow">if</span> (cs.size &gt; 0) {</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;   %-30s: %10d/%6d     (%d)\n&quot;</span>, cs.comment, cs.size, cs.count,</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;             cs.size/cs.count);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    }</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;}</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="keywordtype">void</span> PagedSpace::ResetCodeStatistics() {</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  Isolate* isolate = Isolate::Current();</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  CommentStatistic* comments_statistics =</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      isolate-&gt;paged_space_comments_statistics();</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  ClearCodeKindStatistics();</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; CommentStatistic::kMaxComments; i++) {</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    comments_statistics[i].Clear();</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  }</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  comments_statistics[CommentStatistic::kMaxComments].comment = <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  comments_statistics[CommentStatistic::kMaxComments].size = 0;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  comments_statistics[CommentStatistic::kMaxComments].count = 0;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;}</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;<span class="comment">// Adds comment to &#39;comment_statistics&#39; table. Performance OK as long as</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="comment">// &#39;kMaxComments&#39; is small</span></div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> EnterComment(Isolate* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a879eb4a875af9844e2a2f1b23266ff29">comment</a>, <span class="keywordtype">int</span> delta) {</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  CommentStatistic* comments_statistics =</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;      isolate-&gt;paged_space_comments_statistics();</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="comment">// Do not count empty comments</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <span class="keywordflow">if</span> (delta &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  CommentStatistic* <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519">cs</a> = &amp;comments_statistics[CommentStatistic::kMaxComments];</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="comment">// Search for a free or matching entry in &#39;comments_statistics&#39;: &#39;cs&#39;</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="comment">// points to result.</span></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; CommentStatistic::kMaxComments; i++) {</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">if</span> (comments_statistics[i].comment == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      cs = &amp;comments_statistics[i];</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      cs-&gt;comment = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a879eb4a875af9844e2a2f1b23266ff29">comment</a>;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(comments_statistics[i].comment, comment) == 0) {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      cs = &amp;comments_statistics[i];</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    }</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  }</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <span class="comment">// Update entry for &#39;comment&#39;</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  cs-&gt;size += delta;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  cs-&gt;count += 1;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;}</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">// Call for each nested comment start (start marked with &#39;[ xxx&#39;, end marked</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="comment">// with &#39;]&#39;.  RelocIterator &#39;it&#39; must point to a comment reloc info.</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> CollectCommentStatistics(Isolate* isolate, RelocIterator* it) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!it-&gt;done());</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(it-&gt;rinfo()-&gt;rmode() == RelocInfo::COMMENT);</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* tmp = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(it-&gt;rinfo()-&gt;data());</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="keywordflow">if</span> (tmp[0] != <span class="charliteral">&#39;[&#39;</span>) {</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="comment">// Not a nested comment; skip</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  }</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="comment">// Search for end of nested comment or a new nested comment</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> comment_txt =</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(it-&gt;rinfo()-&gt;data());</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab8ef12fab634c171394422d0ee8baf94">byte</a>* prev_pc = it-&gt;rinfo()-&gt;pc();</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keywordtype">int</span> flat_delta = 0;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  it-&gt;next();</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="comment">// All nested comments must be terminated properly, and therefore exit</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="comment">// from loop.</span></div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!it-&gt;done());</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keywordflow">if</span> (it-&gt;rinfo()-&gt;rmode() == RelocInfo::COMMENT) {</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> txt =</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(it-&gt;rinfo()-&gt;data());</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      flat_delta += <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(it-&gt;rinfo()-&gt;pc() - prev_pc);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      <span class="keywordflow">if</span> (txt[0] == <span class="charliteral">&#39;]&#39;</span>) <span class="keywordflow">break</span>;  <span class="comment">// End of nested  comment</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      <span class="comment">// A new comment</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      CollectCommentStatistics(isolate, it);</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      <span class="comment">// Skip code that was covered with previous comment</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      prev_pc = it-&gt;rinfo()-&gt;pc();</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    }</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    it-&gt;next();</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  }</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  EnterComment(isolate, comment_txt, flat_delta);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;}</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<span class="comment">// Collects code size statistics:</span></div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="comment">// - by code kind</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;<span class="comment">// - by code comment</span></div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="keywordtype">void</span> PagedSpace::CollectCodeStatistics() {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  Isolate* isolate = <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>();</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  HeapObjectIterator obj_it(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="keywordflow">for</span> (HeapObject* obj = obj_it.Next(); obj != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>; obj = obj_it.Next()) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="keywordflow">if</span> (obj-&gt;IsCode()) {</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      Code* code = <a class="code" href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba80719c3f7b718a879bf9343d55509c">Code::cast</a>(obj);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;      isolate-&gt;code_kind_statistics()[code-&gt;kind()] += code-&gt;Size();</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      RelocIterator it(code);</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;      <span class="keywordtype">int</span> delta = 0;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab8ef12fab634c171394422d0ee8baf94">byte</a>* prev_pc = code-&gt;instruction_start();</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;      <span class="keywordflow">while</span> (!it.done()) {</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        <span class="keywordflow">if</span> (it.rinfo()-&gt;rmode() == RelocInfo::COMMENT) {</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;          delta += <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(it.rinfo()-&gt;pc() - prev_pc);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;          CollectCommentStatistics(isolate, &amp;it);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;          prev_pc = it.rinfo()-&gt;pc();</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        }</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        it.next();</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      }</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;      <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(code-&gt;instruction_start() &lt;= prev_pc &amp;&amp;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;             prev_pc &lt;= code-&gt;instruction_end());</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;      delta += <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(code-&gt;instruction_end() - prev_pc);</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      EnterComment(isolate, <span class="stringliteral">&quot;NoComment&quot;</span>, delta);</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    }</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  }</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;}</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="keywordtype">void</span> PagedSpace::ReportStatistics() {</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <span class="keywordtype">int</span> pct = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a730df2c9513afe86f0afd56ba60ce058">Available</a>() * 100 / <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>());</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;  capacity: %&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#a195c21618843b007adaa40be5ae0e0a7">V8_PTR_PREFIX</a> <span class="stringliteral">&quot;d&quot;</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;             <span class="stringliteral">&quot;, waste: %&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#a195c21618843b007adaa40be5ae0e0a7">V8_PTR_PREFIX</a> <span class="stringliteral">&quot;d&quot;</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;             <span class="stringliteral">&quot;, available: %&quot;</span> <a class="code" href="../../d5/d87/globals_8h.html#a195c21618843b007adaa40be5ae0e0a7">V8_PTR_PREFIX</a> <span class="stringliteral">&quot;d, %%%d\n&quot;</span>,</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;         <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6035b06c22f927e9f25ee51d21b1bf23">Capacity</a>(), <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a2003651c331f8b85e0acd537ef6478cc">Waste</a>(), <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a730df2c9513afe86f0afd56ba60ce058">Available</a>(), pct);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a9b3d22f32094ec246c46064737b31464">was_swept_conservatively_</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  ClearHistograms();</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  HeapObjectIterator obj_it(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="keywordflow">for</span> (HeapObject* obj = obj_it.Next(); obj != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>; obj = obj_it.Next())</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    CollectHistogramInfo(obj);</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  ReportHistogram(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;}</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;<span class="comment">// FixedSpace implementation</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;</div>
<div class="line"><a name="l02506"></a><span class="lineno"><a class="line" href="../../d9/da5/classv8_1_1internal_1_1_fixed_space.html#ae23d19e424449c82663e61d41d31b443"> 2506</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/da5/classv8_1_1internal_1_1_fixed_space.html#ae23d19e424449c82663e61d41d31b443">FixedSpace::PrepareForMarkCompact</a>() {</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  <span class="comment">// Call prepare of the super class.</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae23d19e424449c82663e61d41d31b443">PagedSpace::PrepareForMarkCompact</a>();</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  <span class="comment">// During a non-compacting collection, everything below the linear</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  <span class="comment">// allocation pointer except wasted top-of-page blocks is considered</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  <span class="comment">// allocated and we will rediscover available bytes during the</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="comment">// collection.</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a5ef893584c2f44fbfb149695b1baef3f">accounting_stats_</a>.AllocateBytes(<a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.available());</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  <span class="comment">// Clear the free list before a full GC---it will be rebuilt afterward.</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <a class="code" href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">free_list_</a>.Reset();</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;}</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;<span class="comment">// MapSpace implementation</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;<span class="keywordtype">void</span> MapSpace::VerifyObject(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="comment">// The object should be a map or a free-list node.</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(object-&gt;IsMap() || <span class="keywordtype">object</span>-&gt;IsFreeSpace());</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;}</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="comment">// GlobalPropertyCellSpace implementation</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;<span class="keywordtype">void</span> CellSpace::VerifyObject(HeapObject* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="comment">// The object should be a global object property cell or a free-list node.</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(object-&gt;IsJSGlobalPropertyCell() ||</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;         <span class="keywordtype">object</span>-&gt;map() == <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;two_pointer_filler_map());</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;}</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;<span class="comment">// LargeObjectIterator</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;</div>
<div class="line"><a name="l02547"></a><span class="lineno"><a class="line" href="../../d8/d65/classv8_1_1internal_1_1_large_object_iterator.html#a82fd9d0fdf39a3bc30d4751d95c6601a"> 2547</a></span>&#160;<a class="code" href="../../d8/d65/classv8_1_1internal_1_1_large_object_iterator.html#a82fd9d0fdf39a3bc30d4751d95c6601a">LargeObjectIterator::LargeObjectIterator</a>(<a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html">LargeObjectSpace</a>* space) {</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  current_ = space-&gt;first_page_;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  size_func_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;}</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;</div>
<div class="line"><a name="l02553"></a><span class="lineno"><a class="line" href="../../d8/d65/classv8_1_1internal_1_1_large_object_iterator.html#a0120f187abb554b0a5355649e54176b8"> 2553</a></span>&#160;<a class="code" href="../../d8/d65/classv8_1_1internal_1_1_large_object_iterator.html#a82fd9d0fdf39a3bc30d4751d95c6601a">LargeObjectIterator::LargeObjectIterator</a>(<a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html">LargeObjectSpace</a>* space,</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;                                         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ad86ea0c69f8188478238e46a3897a217">HeapObjectCallback</a> size_func) {</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  current_ = space-&gt;first_page_;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  size_func_ = size_func;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;}</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;</div>
<div class="line"><a name="l02560"></a><span class="lineno"><a class="line" href="../../d8/d65/classv8_1_1internal_1_1_large_object_iterator.html#a60a292348f74b1e5a812b7adcc318883"> 2560</a></span>&#160;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <a class="code" href="../../d8/d65/classv8_1_1internal_1_1_large_object_iterator.html#a60a292348f74b1e5a812b7adcc318883">LargeObjectIterator::Next</a>() {</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="keywordflow">if</span> (current_ == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span> = current_-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#a3b6e243b011492efac4c822d1e98dc0c">GetObject</a>();</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;  current_ = current_-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#ae018a6bd93631709218e3212b2e778d9">next_page</a>();</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;}</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;<span class="comment">// LargeObjectSpace</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> ComparePointers(<span class="keywordtype">void</span>* key1, <span class="keywordtype">void</span>* key2) {</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <span class="keywordflow">return</span> key1 == key2;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;}</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;</div>
<div class="line"><a name="l02576"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a07c59f8fb068bb104845b3f670429527"> 2576</a></span>&#160;<a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a07c59f8fb068bb104845b3f670429527">LargeObjectSpace::LargeObjectSpace</a>(<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html">Heap</a>* heap,</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                                   intptr_t max_capacity,</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;                                   <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7">AllocationSpace</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    : <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html">Space</a>(heap, id, <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535ac1f2a19b49d9c6fd779611084f7947f7">NOT_EXECUTABLE</a>),  <span class="comment">// Managed on a per-allocation basis</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;      max_capacity_(max_capacity),</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;      first_page_(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>),</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      size_(0),</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      page_count_(0),</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;      objects_size_(0),</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      chunk_map_(ComparePointers, 1024) {}</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;</div>
<div class="line"><a name="l02588"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a88ccb24206b05493e679a2746d6e3557"> 2588</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a88ccb24206b05493e679a2746d6e3557">LargeObjectSpace::SetUp</a>() {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  first_page_ = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  size_ = 0;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  page_count_ = 0;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  objects_size_ = 0;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  chunk_map_.<a class="code" href="../../d5/de9/classv8_1_1internal_1_1_template_hash_map_impl.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;}</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;</div>
<div class="line"><a name="l02598"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a931587596081ef8178c2b128facb0411"> 2598</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a931587596081ef8178c2b128facb0411">LargeObjectSpace::TearDown</a>() {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <span class="keywordflow">while</span> (first_page_ != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* page = first_page_;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    first_page_ = first_page_-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#ae018a6bd93631709218e3212b2e778d9">next_page</a>();</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    <a class="code" href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;isolate(), DeleteEvent(<span class="stringliteral">&quot;LargeObjectChunk&quot;</span>, page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a90aab407e6be30346a51abc7b42c877a">address</a>()));</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <a class="code" href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">ObjectSpace</a> space = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">ObjectSpace</a><span class="keyword">&gt;</span>(1 &lt;&lt; <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#ad5adc7a0cd668f7a101dda44f8f8335e">identity</a>());</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a39eccf469f48a20838bd601b7dccc14b">PerformAllocationCallback</a>(</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        space, <a class="code" href="../../d2/dc3/namespacev8.html#a444cad09c6a4e000861761cbbfeb9547a74b893894f9023864c27f7cd4044b20c">kAllocationActionFree</a>, page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a>());</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aca120cd7c32e0f25eb9ebe70e087707e">Free</a>(page);</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  }</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a88ccb24206b05493e679a2746d6e3557">SetUp</a>();</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;}</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;</div>
<div class="line"><a name="l02613"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a99a5dbb299c20506ce43e727a65ac3e4"> 2613</a></span>&#160;MaybeObject* <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a99a5dbb299c20506ce43e727a65ac3e4">LargeObjectSpace::AllocateRaw</a>(<span class="keywordtype">int</span> object_size,</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;                                           <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">Executability</a> executable) {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="comment">// Check if we want to force a GC before growing the old space further.</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="comment">// If so, fail the allocation.</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;always_allocate() &amp;&amp;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;      <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;OldGenerationAllocationLimitReached()) {</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d85/classv8_1_1internal_1_1_failure.html#aa81b4f0ebcd1a6e60a01a985f90e4464">Failure::RetryAfterGC</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#ad5adc7a0cd668f7a101dda44f8f8335e">identity</a>());</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#ae2e3054f6a07a96db70a524ac3fe02a6">Size</a>() + object_size &gt; max_capacity_) {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d85/classv8_1_1internal_1_1_failure.html#aa81b4f0ebcd1a6e60a01a985f90e4464">Failure::RetryAfterGC</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#ad5adc7a0cd668f7a101dda44f8f8335e">identity</a>());</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  }</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* page = <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      AllocateLargePage(object_size, <span class="keyword">this</span>, executable);</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">if</span> (page == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) <span class="keywordflow">return</span> <a class="code" href="../../d7/d85/classv8_1_1internal_1_1_failure.html#aa81b4f0ebcd1a6e60a01a985f90e4464">Failure::RetryAfterGC</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#ad5adc7a0cd668f7a101dda44f8f8335e">identity</a>());</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac86f40d93fbcb575cb940513b8393f05">area_size</a>() &gt;= object_size);</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  size_ += <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a>());</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  objects_size_ += object_size;</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  page_count_++;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  page-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#a111fc01e7766fa6010e4228a52a66706">set_next_page</a>(first_page_);</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  first_page_ = page;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <span class="comment">// Register all MemoryChunk::kAlignment-aligned chunks covered by</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <span class="comment">// this large page in the chunk map.</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  uintptr_t base = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(page) / <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  uintptr_t limit = base + (page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a>() - 1) / <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <span class="keywordflow">for</span> (uintptr_t key = base; key &lt;= limit; key++) {</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    HashMap::Entry* entry = chunk_map_.<a class="code" href="../../d5/de9/classv8_1_1internal_1_1_template_hash_map_impl.html#a5172f06f3e2ee3d3e1f4ac8f1246662e">Lookup</a>(reinterpret_cast&lt;void*&gt;(key),</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;                                              static_cast&lt;uint32_t&gt;(key),</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                                              <span class="keyword">true</span>);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(entry != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    entry-&gt;value = page;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  }</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span> = page-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#a3b6e243b011492efac4c822d1e98dc0c">GetObject</a>();</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="comment">// Make the object consistent so the heap can be vefified in OldSpaceStep.</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/df0/classv8_1_1internal_1_1_object.html">Object</a>**<span class="keyword">&gt;</span>(<span class="keywordtype">object</span>-&gt;address())[0] =</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;      <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;fixed_array_map();</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/df0/classv8_1_1internal_1_1_object.html">Object</a>**<span class="keyword">&gt;</span>(<span class="keywordtype">object</span>-&gt;address())[1] = <a class="code" href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a53259c85a9a7f54c354c7871cb340073">Smi::FromInt</a>(0);</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a3a0c6c020051409883d2ca1d68ce4af1">incremental_marking</a>()-&gt;<a class="code" href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#ad4979f8d134a98669b259c413ee8e080">OldSpaceStep</a>(object_size);</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;  <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;}</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;<span class="comment">// GC support</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a2051fa1390db79225bd8cbf979617b69"> 2664</a></span>&#160;MaybeObject* <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a2051fa1390db79225bd8cbf979617b69">LargeObjectSpace::FindObject</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> a) {</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  <a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* page = <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a64370b5374fcdec4607390bb0ccbaa83">FindPage</a>(a);</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <span class="keywordflow">if</span> (page != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="keywordflow">return</span> page-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#a3b6e243b011492efac4c822d1e98dc0c">GetObject</a>();</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  }</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/d85/classv8_1_1internal_1_1_failure.html#a26cf87c8578198e52b6bd29e5c1bc78a">Failure::Exception</a>();</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;}</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;</div>
<div class="line"><a name="l02673"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a64370b5374fcdec4607390bb0ccbaa83"> 2673</a></span>&#160;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a64370b5374fcdec4607390bb0ccbaa83">LargeObjectSpace::FindPage</a>(<a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> a) {</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  uintptr_t key = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(a) / <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;  HashMap::Entry* e = chunk_map_.<a class="code" href="../../d5/de9/classv8_1_1internal_1_1_template_hash_map_impl.html#a5172f06f3e2ee3d3e1f4ac8f1246662e">Lookup</a>(reinterpret_cast&lt;void*&gt;(key),</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;                                        static_cast&lt;uint32_t&gt;(key),</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                                        <span class="keyword">false</span>);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <span class="keywordflow">if</span> (e != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(e-&gt;value != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>);</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* page = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>*<span class="keyword">&gt;</span>(e-&gt;value);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af4d2f059b86d0249fcab31063634aa57">is_valid</a>());</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="keywordflow">if</span> (page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a4513ec4e0eb9a1fcd22c2694d1462f36">Contains</a>(a)) {</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;      <span class="keywordflow">return</span> page;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  }</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;}</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;</div>
<div class="line"><a name="l02690"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a98f5b9464a8b799bc1f0668f94c39b58"> 2690</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a98f5b9464a8b799bc1f0668f94c39b58">LargeObjectSpace::FreeUnmarkedObjects</a>() {</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* previous = <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* current = first_page_;</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  <span class="keywordflow">while</span> (current != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span> = current-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#a3b6e243b011492efac4c822d1e98dc0c">GetObject</a>();</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    <span class="comment">// Can this large page contain pointers to non-trivial objects.  No other</span></div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    <span class="comment">// pointer object is this big.</span></div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    <span class="keywordtype">bool</span> is_pointer_object = <span class="keywordtype">object</span>-&gt;IsFixedArray();</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <a class="code" href="../../d3/dc3/classv8_1_1internal_1_1_mark_bit.html">MarkBit</a> mark_bit = <a class="code" href="../../d7/d26/classv8_1_1internal_1_1_marking.html#a459979e3ad60f742ce8672181696fd93">Marking::MarkBitFrom</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <span class="keywordflow">if</span> (mark_bit.<a class="code" href="../../d3/dc3/classv8_1_1internal_1_1_mark_bit.html#af65bc920215ae690940100037f731cda">Get</a>()) {</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      mark_bit.<a class="code" href="../../d3/dc3/classv8_1_1internal_1_1_mark_bit.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a>();</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a14edca2cdd06b1b665a1340a544270b2">MemoryChunk::IncrementLiveBytesFromGC</a>(object-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>(), -<span class="keywordtype">object</span>-&gt;Size());</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      previous = current;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      current = current-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#ae018a6bd93631709218e3212b2e778d9">next_page</a>();</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* page = current;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;      <span class="comment">// Cut the chunk out from the chunk list.</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      current = current-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#ae018a6bd93631709218e3212b2e778d9">next_page</a>();</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      <span class="keywordflow">if</span> (previous == <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>) {</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        first_page_ = current;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        previous-&gt;<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#a111fc01e7766fa6010e4228a52a66706">set_next_page</a>(current);</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      }</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      <span class="comment">// Free the chunk.</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a8432e86fa8096fafbd73dae43b5f00e7">mark_compact_collector</a>()-&gt;<a class="code" href="../../df/dba/classv8_1_1internal_1_1_mark_compact_collector.html#ae7894f9999ae467826c8462689ceefc1">ReportDeleteIfNeeded</a>(</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;          <span class="keywordtype">object</span>, <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;isolate());</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      size_ -= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a>());</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      objects_size_ -= <span class="keywordtype">object</span>-&gt;Size();</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      page_count_--;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <span class="comment">// Remove entries belonging to this page.</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      <span class="comment">// Use variable alignment to help pass length check (&lt;= 80 characters)</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      <span class="comment">// of single line in tools/presubmit.py.</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      <span class="keyword">const</span> intptr_t alignment = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">MemoryChunk::kAlignment</a>;</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      uintptr_t base = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(page)/alignment;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      uintptr_t limit = base + (page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a>()-1)/alignment;</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;      <span class="keywordflow">for</span> (uintptr_t key = base; key &lt;= limit; key++) {</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        chunk_map_.<a class="code" href="../../d5/de9/classv8_1_1internal_1_1_template_hash_map_impl.html#ae83da1da30eed329356d4eb63049c651">Remove</a>(reinterpret_cast&lt;void*&gt;(key),</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;                          static_cast&lt;uint32_t&gt;(key));</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      }</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;      <span class="keywordflow">if</span> (is_pointer_object) {</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#ac366716f81e49004b7dbc91cb8548751">QueueMemoryChunkForFree</a>(page);</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;        <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>()-&gt;<a class="code" href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">memory_allocator</a>()-&gt;<a class="code" href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aca120cd7c32e0f25eb9ebe70e087707e">Free</a>(page);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;      }</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    }</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  }</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a6d5a7c63fb401f18c96ded7d99d457ba">FreeQueuedChunks</a>();</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;}</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;</div>
<div class="line"><a name="l02743"></a><span class="lineno"><a class="line" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#aeb75b23ed9c39641b0ceab116aad0f7d"> 2743</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#aeb75b23ed9c39641b0ceab116aad0f7d">LargeObjectSpace::Contains</a>(<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">Address</a> address = <span class="keywordtype">object</span>-&gt;address();</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">MemoryChunk</a>* chunk = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">MemoryChunk::FromAddress</a>(address);</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;  <span class="keywordtype">bool</span> owned = (chunk-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae44530e3201f6897d66a149f04d7bdc">owner</a>() == <span class="keyword">this</span>);</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  <a class="code" href="../../d5/d16/checks_8h.html#afaada219ababb63f4a43da387a881b83">SLOW_ASSERT</a>(!owned || !<a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a2051fa1390db79225bd8cbf979617b69">FindObject</a>(address)-&gt;IsFailure());</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="keywordflow">return</span> owned;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;}</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="comment">// We do not assume that the large object iterator works, because it depends</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;<span class="comment">// on the invariants we are checking during verification.</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="keywordtype">void</span> LargeObjectSpace::Verify() {</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">LargePage</a>* chunk = first_page_;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;       chunk != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;       chunk = chunk-&gt;next_page()) {</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="comment">// Each chunk contains an object that starts at the large object page&#39;s</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="comment">// object area start.</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span> = chunk-&gt;GetObject();</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <a class="code" href="../../db/d62/classv8_1_1internal_1_1_page.html">Page</a>* page = <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">Page::FromAddress</a>(object-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>());</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(object-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">address</a>() == page-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a89d4525844f4dcadc45cecde6e295ec3">area_start</a>());</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    <span class="comment">// The first word should be a map, and we expect all map pointers to be</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="comment">// in map space.</span></div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    <a class="code" href="../../de/dfe/classv8_1_1internal_1_1_map.html">Map</a>* map = <span class="keywordtype">object</span>-&gt;<a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">map</a>();</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(map-&gt;IsMap());</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;map_space()-&gt;<a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#aeb75b23ed9c39641b0ceab116aad0f7d">Contains</a>(map));</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <span class="comment">// We have only code, sequential strings, external strings</span></div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    <span class="comment">// (sequential strings that have been morphed into external</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="comment">// strings), fixed arrays, and byte arrays in large object space.</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(object-&gt;IsCode() || <span class="keywordtype">object</span>-&gt;IsSeqString() ||</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;           <span class="keywordtype">object</span>-&gt;IsExternalString() || <span class="keywordtype">object</span>-&gt;IsFixedArray() ||</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;           <span class="keywordtype">object</span>-&gt;IsFixedDoubleArray() || <span class="keywordtype">object</span>-&gt;IsByteArray());</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <span class="comment">// The object itself should look OK.</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <span class="keywordtype">object</span>-&gt;Verify();</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <span class="comment">// Byte arrays and strings don&#39;t have interior pointers.</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    <span class="keywordflow">if</span> (object-&gt;IsCode()) {</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      VerifyPointersVisitor code_visitor;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <span class="keywordtype">object</span>-&gt;IterateBody(map-&gt;instance_type(),</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;                          <span class="keywordtype">object</span>-&gt;Size(),</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;                          &amp;code_visitor);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (object-&gt;IsFixedArray()) {</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;      FixedArray* array = <a class="code" href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">FixedArray::cast</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; array-&gt;length(); j++) {</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        <a class="code" href="../../db/d85/classv8_1_1_object.html">Object</a>* element = array-&gt;get(j);</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;        <span class="keywordflow">if</span> (element-&gt;IsHeapObject()) {</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;          HeapObject* element_object = <a class="code" href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a86ec1e2f09518b8f45695104f5653a32">HeapObject::cast</a>(element);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;          <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#aeb75b23ed9c39641b0ceab116aad0f7d">Contains</a>(element_object));</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;          <a class="code" href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(element_object-&gt;map()-&gt;IsMap());</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        }</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      }</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    }</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;  }</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;}</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d3d/lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">LargeObjectSpace::Print</a>() {</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a3bc21bcf0ff3a8b52c6a491296fce3f2">LargeObjectIterator</a> it(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;  <span class="keywordflow">for</span> (HeapObject* obj = it.Next(); obj != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>; obj = it.Next()) {</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    obj-&gt;Print();</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  }</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;}</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;<span class="keywordtype">void</span> LargeObjectSpace::ReportStatistics() {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;  size: %&quot;</span> V8_PTR_PREFIX <span class="stringliteral">&quot;d\n&quot;</span>, size_);</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <span class="keywordtype">int</span> num_objects = 0;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  ClearHistograms();</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a3bc21bcf0ff3a8b52c6a491296fce3f2">LargeObjectIterator</a> it(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <span class="keywordflow">for</span> (HeapObject* obj = it.Next(); obj != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>; obj = it.Next()) {</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    num_objects++;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    CollectHistogramInfo(obj);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  }</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;  number of objects %d, &quot;</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;         <span class="stringliteral">&quot;size of objects %&quot;</span> V8_PTR_PREFIX <span class="stringliteral">&quot;d\n&quot;</span>, num_objects, objects_size_);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="keywordflow">if</span> (num_objects &gt; 0) ReportHistogram(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;}</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;<span class="keywordtype">void</span> LargeObjectSpace::CollectCodeStatistics() {</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  Isolate* isolate = <a class="code" href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">isolate</a>();</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  <a class="code" href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a3bc21bcf0ff3a8b52c6a491296fce3f2">LargeObjectIterator</a> obj_it(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  <span class="keywordflow">for</span> (HeapObject* obj = obj_it.Next(); obj != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>; obj = obj_it.Next()) {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    <span class="keywordflow">if</span> (obj-&gt;IsCode()) {</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;      Code* code = <a class="code" href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba80719c3f7b718a879bf9343d55509c">Code::cast</a>(obj);</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      isolate-&gt;code_kind_statistics()[code-&gt;kind()] += code-&gt;Size();</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    }</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  }</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;}</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d3d/lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Page::Print</a>() {</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  <span class="comment">// Make a best-effort to print the objects in the page.</span></div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;Page@%p in %s\n&quot;</span>,</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;         this-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a90aab407e6be30346a51abc7b42c877a">address</a>(),</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;         <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5a9c1b77c339a0c2937e1d6ec062b81e">AllocationSpaceName</a>(this-&gt;<a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae44530e3201f6897d66a149f04d7bdc">owner</a>()-&gt;identity()));</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  printf(<span class="stringliteral">&quot; --------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  HeapObjectIterator objects(<span class="keyword">this</span>, <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;GcSafeSizeOfOldObjectFunction());</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordtype">unsigned</span> mark_size = 0;</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;  <span class="keywordflow">for</span> (HeapObject* <span class="keywordtype">object</span> = objects.Next();</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;       <span class="keywordtype">object</span> != <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">NULL</a>;</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;       <span class="keywordtype">object</span> = objects.Next()) {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    <span class="keywordtype">bool</span> is_marked = <a class="code" href="../../d7/d26/classv8_1_1internal_1_1_marking.html#a459979e3ad60f742ce8672181696fd93">Marking::MarkBitFrom</a>(<span class="keywordtype">object</span>).<a class="code" href="../../d3/dc3/classv8_1_1internal_1_1_mark_bit.html#af65bc920215ae690940100037f731cda">Get</a>();</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot; %c &quot;</span>, (is_marked ? <span class="charliteral">&#39;!&#39;</span> : <span class="charliteral">&#39; &#39;</span>));  <span class="comment">// Indent a little.</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="keywordflow">if</span> (is_marked) {</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;      mark_size += <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f30223603d2117a773a749b8736de9a">heap</a>()-&gt;<a class="code" href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a5a00190ced0f5228869e05f0fa5703a6">GcSafeSizeOfOldObjectFunction</a>()(object);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    }</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="keywordtype">object</span>-&gt;ShortPrint();</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <a class="code" href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  }</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  printf(<span class="stringliteral">&quot; --------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;  printf(<span class="stringliteral">&quot; Marked: %x, LiveCount: %x\n&quot;</span>, mark_size, <a class="code" href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a098df7f69a8fbead4f984c2b3abdd3f6">LiveBytes</a>());</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;}</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;} }  <span class="comment">// namespace v8::internal</span></div>
<div class="ttc" id="classv8_1_1internal_1_1_marking_html_ae8065a586f6599e4865c706073db6421"><div class="ttname"><a href="../../d7/d26/classv8_1_1internal_1_1_marking.html#ae8065a586f6599e4865c706073db6421">v8::internal::Marking::IsBlack</a></div><div class="ttdeci">static bool IsBlack(MarkBit mark_bit)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd7/mark-compact_8h_source.html#l00070">mark-compact.h:70</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac7f0eb0e10bc8bbb03c793ea1256e329"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac7f0eb0e10bc8bbb03c793ea1256e329">v8::internal::Address</a></div><div class="ttdeci">byte * Address</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00172">globals.h:172</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_ae346775e04a41d45ffde7f41a35234f5"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ae346775e04a41d45ffde7f41a35234f5">v8::internal::NewSpace::ReserveSpace</a></div><div class="ttdeci">virtual bool ReserveSpace(int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02185">spaces.cc:2185</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a89d4525844f4dcadc45cecde6e295ec3"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a89d4525844f4dcadc45cecde6e295ec3">v8::internal::MemoryChunk::area_start</a></div><div class="ttdeci">Address area_start()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00598">spaces.h:598</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_space_html_ac1cb10d97e8091bf949042b4d67f91c8"><div class="ttname"><a href="../../d7/db7/classv8_1_1internal_1_1_free_space.html#ac1cb10d97e8091bf949042b4d67f91c8">v8::internal::FreeSpace::kHeaderSize</a></div><div class="ttdeci">static const int kHeaderSize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l03685">objects.h:3685</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a00698fce7fed9462ee159e295680164b"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a00698fce7fed9462ee159e295680164b">v8::internal::PagedSpace::HasBeenSetUp</a></div><div class="ttdeci">bool HasBeenSetUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00806">spaces.cc:806</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_iterator_html_acfb50b7d0fd8c183fc5791601005c217"><div class="ttname"><a href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#acfb50b7d0fd8c183fc5791601005c217">v8::internal::SemiSpaceIterator::Next</a></div><div class="ttdeci">HeapObject * Next()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01995">spaces.h:1995</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html">v8::internal::NewSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02063">spaces.h:2063</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_mark_bit_html_af65bc920215ae690940100037f731cda"><div class="ttname"><a href="../../d3/dc3/classv8_1_1internal_1_1_mark_bit.html#af65bc920215ae690940100037f731cda">v8::internal::MarkBit::Get</a></div><div class="ttdeci">bool Get()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00141">spaces.h:141</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_ae2e3054f6a07a96db70a524ac3fe02a6"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#ae2e3054f6a07a96db70a524ac3fe02a6">v8::internal::LargeObjectSpace::Size</a></div><div class="ttdeci">virtual intptr_t Size()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02491">spaces.h:2491</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html">v8::internal::PagedSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01429">spaces.h:1429</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html">v8::internal::LargeObjectSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02467">spaces.h:2467</a></div></div>
<div class="ttc" id="checks_8h_html_afaada219ababb63f4a43da387a881b83"><div class="ttname"><a href="../../d5/d16/checks_8h.html#afaada219ababb63f4a43da387a881b83">SLOW_ASSERT</a></div><div class="ttdeci">#define SLOW_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00276">checks.h:276</a></div></div>
<div class="ttc" id="namespacev8_html_ae3e9b602c5d27e3a18f30f459cf3d0e3"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#ae3e9b602c5d27e3a18f30f459cf3d0e3">v8::MemoryAllocationCallback</a></div><div class="ttdeci">void(* MemoryAllocationCallback)(ObjectSpace space, AllocationAction action, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02689">v8.h:2689</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a76c4747d6c9b705e56383f533386879f"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a76c4747d6c9b705e56383f533386879f">v8::internal::PagedSpace::Allocate</a></div><div class="ttdeci">void Allocate(int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01537">spaces.h:1537</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aedbe4c9957c254b67bd760a57181a1b6"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aedbe4c9957c254b67bd760a57181a1b6">v8::internal::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l01446">flags.cc:1446</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab82478fcd0fe2b06ad677efd1ecc1535a10fddea7080aef4a937da963aec2dd89"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535a10fddea7080aef4a937da963aec2dd89">v8::internal::EXECUTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00207">v8globals.h:207</a></div></div>
<div class="ttc" id="checks_8h_html_a0ea8f66bf4733597f9a514fda2151ff9"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a0ea8f66bf4733597f9a514fda2151ff9">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(expected, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00219">checks.h:219</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_a6dcc4d084edd3d9a407de1fb1f7547d8"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#a6dcc4d084edd3d9a407de1fb1f7547d8">v8::internal::Page::set_next_page</a></div><div class="ttdeci">void set_next_page(Page *page)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8a/spaces-inl_8h_source.html#l00236">spaces-inl.h:236</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_ad209a59d5808c30dab731ac7c987f729"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ad209a59d5808c30dab731ac7c987f729">v8::internal::MemoryAllocator::ZapBlock</a></div><div class="ttdeci">void ZapBlock(Address start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00639">spaces.cc:639</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html">v8::internal::VirtualMemory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00330">platform.h:330</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_ab3c35bb630e482db3de2241a1cac26b4"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab3c35bb630e482db3de2241a1cac26b4">v8::internal::SemiSpace::GrowTo</a></div><div class="ttdeci">bool GrowTo(int new_capacity)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01387">spaces.cc:1387</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_promotion_queue_html_addefc797b90b17d5499dae09d1bb1050"><div class="ttname"><a href="../../d1/d48/classv8_1_1internal_1_1_promotion_queue.html#addefc797b90b17d5499dae09d1bb1050">v8::internal::PromotionQueue::SetNewLimit</a></div><div class="ttdeci">void SetNewLimit(Address limit)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00314">heap.h:314</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html">v8::internal::MemoryChunk</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00301">spaces.h:301</a></div></div>
<div class="ttc" id="globals_8h_html_adafd98459092322383b0f5ebcc7c342f"><div class="ttname"><a href="../../d5/d87/globals_8h.html#adafd98459092322383b0f5ebcc7c342f">V8PRIxPTR</a></div><div class="ttdeci">#define V8PRIxPTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00204">globals.h:204</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a3f8d54c3c471d22c36aa89d03c6675bc"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a3f8d54c3c471d22c36aa89d03c6675bc">v8::internal::Heap::OldGenerationCapacityAvailable</a></div><div class="ttdeci">intptr_t OldGenerationCapacityAvailable()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01358">heap.h:1358</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0a13af70b3a41d097462e50ee0102fd7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0a13af70b3a41d097462e50ee0102fd7">v8::internal::IsAddressAligned</a></div><div class="ttdeci">bool IsAddressAligned(Address addr, intptr_t alignment, int offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00212">utils.h:212</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a3253f2563ada2a1ad7d462bf3355f4d1"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a3253f2563ada2a1ad7d462bf3355f4d1">v8::internal::Isolate::code_range</a></div><div class="ttdeci">CodeRange * code_range()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00810">isolate.h:810</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html_a25498e38628343f204c8dc99c642860d"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a25498e38628343f204c8dc99c642860d">v8::internal::HeapObject::map</a></div><div class="ttdeci">Map * map()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01130">objects-inl.h:1130</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a730df2c9513afe86f0afd56ba60ce058"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a730df2c9513afe86f0afd56ba60ce058">v8::internal::PagedSpace::Available</a></div><div class="ttdeci">intptr_t Available()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01486">spaces.h:1486</a></div></div>
<div class="ttc" id="objects_8h_html_a08f0e6d9ef2bb3e1927e95551a37e589"><div class="ttname"><a href="../../df/d91/objects_8h.html#a08f0e6d9ef2bb3e1927e95551a37e589">INSTANCE_TYPE_LIST</a></div><div class="ttdeci">#define INSTANCE_TYPE_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00299">objects.h:299</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_aa644695964d551dd2c8257041a5e95a3"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa644695964d551dd2c8257041a5e95a3">v8::internal::MemoryChunk::Initialize</a></div><div class="ttdeci">static MemoryChunk * Initialize(Heap *heap, Address base, size_t size, Address area_start, Address area_end, Executability executable, Space *owner)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00430">spaces.cc:430</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_list_node_html_a7f912b57fddf2d73c3ce3613d415479a"><div class="ttname"><a href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a7f912b57fddf2d73c3ce3613d415479a">v8::internal::FreeListNode::set_size</a></div><div class="ttdeci">void set_size(Heap *heap, int size_in_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01822">spaces.cc:1822</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a4513ec4e0eb9a1fcd22c2694d1462f36"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a4513ec4e0eb9a1fcd22c2694d1462f36">v8::internal::MemoryChunk::Contains</a></div><div class="ttdeci">bool Contains(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00365">spaces.h:365</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_ae93be65f49fbfeb5716a90719b8c4cb7"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae93be65f49fbfeb5716a90719b8c4cb7">v8::internal::PagedSpace::PageIterator</a></div><div class="ttdeci">friend class PageIterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01679">spaces.h:1679</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_mark_compact_collector_html_ae7894f9999ae467826c8462689ceefc1"><div class="ttname"><a href="../../df/dba/classv8_1_1internal_1_1_mark_compact_collector.html#ae7894f9999ae467826c8462689ceefc1">v8::internal::MarkCompactCollector::ReportDeleteIfNeeded</a></div><div class="ttdeci">static void ReportDeleteIfNeeded(HeapObject *obj, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3f/mark-compact_8cc_source.html#l03974">mark-compact.cc:3974</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac394d291366869deca31da1b312af92a"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac394d291366869deca31da1b312af92a">v8::internal::MemoryChunk::area_end_</a></div><div class="ttdeci">Address area_end_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00612">spaces.h:612</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5da70e56552dee3c4945a0a410895567"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5da70e56552dee3c4945a0a410895567">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8a/v8utils_8cc_source.html#l00040">v8utils.cc:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a6035b06c22f927e9f25ee51d21b1bf23"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6035b06c22f927e9f25ee51d21b1bf23">v8::internal::PagedSpace::Capacity</a></div><div class="ttdeci">intptr_t Capacity()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01467">spaces.h:1467</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_ab88431dbd27121d907e1a47923589cd0"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab88431dbd27121d907e1a47923589cd0">v8::internal::PagedSpace::SetTop</a></div><div class="ttdeci">void SetTop(Address top, Address limit)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01530">spaces.h:1530</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a629ca8ae403c2fd6f01be6a714bb33ac"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a629ca8ae403c2fd6f01be6a714bb33ac">v8::internal::PagedSpace::was_swept_conservatively</a></div><div class="ttdeci">bool was_swept_conservatively()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01574">spaces.h:1574</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_list_node_html_aab81d9d82446d2bef4240b5e8a780b91"><div class="ttname"><a href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#aab81d9d82446d2bef4240b5e8a780b91">v8::internal::FreeListNode::set_next</a></div><div class="ttdeci">void set_next(FreeListNode *next)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01874">spaces.cc:1874</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_ab7ce99152ca2ca8edfaf1d2413b0836f"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#ab7ce99152ca2ca8edfaf1d2413b0836f">v8::internal::MemoryAllocator::MemoryAllocationCallbackRegistered</a></div><div class="ttdeci">bool MemoryAllocationCallbackRegistered(MemoryAllocationCallback callback)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00659">spaces.cc:659</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_map_html"><div class="ttname"><a href="../../de/dfe/classv8_1_1internal_1_1_map.html">v8::internal::Map</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l04569">objects.h:4569</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a931587596081ef8178c2b128facb0411"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a931587596081ef8178c2b128facb0411">v8::internal::NewSpace::TearDown</a></div><div class="ttdeci">void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01100">spaces.cc:1100</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784a73d4fd48de7b4a981e4cdd593bf7e1a2"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a73d4fd48de7b4a981e4cdd593bf7e1a2">v8::internal::MemoryChunk::POINTERS_TO_HERE_ARE_INTERESTING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00379">spaces.h:379</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_ae23d19e424449c82663e61d41d31b443"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae23d19e424449c82663e61d41d31b443">v8::internal::PagedSpace::PrepareForMarkCompact</a></div><div class="ttdeci">virtual void PrepareForMarkCompact()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02208">spaces.cc:2208</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a1c7fa9022c599da146cb77a1ae98ba1c"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a1c7fa9022c599da146cb77a1ae98ba1c">v8::internal::Heap::isolate</a></div><div class="ttdeci">Isolate * isolate()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/heap-inl_8h_source.html#l00494">heap-inl.h:494</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_range_html_ab6429e9ab211f5a95e2497ed6f1fe8a6"><div class="ttname"><a href="../../df/def/classv8_1_1internal_1_1_code_range.html#ab6429e9ab211f5a95e2497ed6f1fe8a6">v8::internal::CodeRange::SetUp</a></div><div class="ttdeci">bool SetUp(const size_t requested_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00135">spaces.cc:135</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a55c814340c8f2d48c76e6d8b1b2b77a9"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a55c814340c8f2d48c76e6d8b1b2b77a9">v8::internal::PagedSpace::ReleaseAllUnusedPages</a></div><div class="ttdeci">void ReleaseAllUnusedPages()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00953">spaces.cc:953</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_smi_html_a53259c85a9a7f54c354c7871cb340073"><div class="ttname"><a href="../../d8/dca/classv8_1_1internal_1_1_smi.html#a53259c85a9a7f54c354c7871cb340073">v8::internal::Smi::FromInt</a></div><div class="ttdeci">static Smi * FromInt(int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l00973">objects-inl.h:973</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a2003651c331f8b85e0acd537ef6478cc"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a2003651c331f8b85e0acd537ef6478cc">v8::internal::PagedSpace::Waste</a></div><div class="ttdeci">virtual intptr_t Waste()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01503">spaces.h:1503</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_af3dfbae06cc1deb8fdcadcb240f3d3c9"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af3dfbae06cc1deb8fdcadcb240f3d3c9">v8::internal::PagedSpace::AreaSize</a></div><div class="ttdeci">int AreaSize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01626">spaces.h:1626</a></div></div>
<div class="ttc" id="log_8h_html_a146099bfe6b228d314fa3c784c56feec"><div class="ttname"><a href="../../d7/d7f/log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a></div><div class="ttdeci">#define LOG(isolate, Call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/log_8h_source.html#l00081">log.h:81</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a58d287461654266e7f85284ed93e5ede"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a58d287461654266e7f85284ed93e5ede">v8::internal::KB</a></div><div class="ttdeci">const int KB</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00221">globals.h:221</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a669db6fa573298b954f6e7e1a9c5737d"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a669db6fa573298b954f6e7e1a9c5737d">v8::internal::PagedSpace::first_unswept_page_</a></div><div class="ttdeci">Page * first_unswept_page_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01660">spaces.h:1660</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_ab3c8dd11966a364b4fac29749648afea"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ab3c8dd11966a364b4fac29749648afea">v8::internal::NewSpace::top</a></div><div class="ttdeci">Address top()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02154">spaces.h:2154</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a6ddd7bea6f178426c690c986812c47fa"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a6ddd7bea6f178426c690c986812c47fa">v8::internal::MemoryChunk::next_chunk_</a></div><div class="ttdeci">MemoryChunk * next_chunk_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00605">spaces.h:605</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_a88ccb24206b05493e679a2746d6e3557"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a88ccb24206b05493e679a2746d6e3557">v8::internal::LargeObjectSpace::SetUp</a></div><div class="ttdeci">bool SetUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02588">spaces.cc:2588</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a0c00acbe8685c7ba35f7aec3b8f7b828"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0c00acbe8685c7ba35f7aec3b8f7b828">v8::internal::PagedSpace::ShouldBeSweptLazily</a></div><div class="ttdeci">static bool ShouldBeSweptLazily(Page *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01579">spaces.h:1579</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a1f2c0afae446dd3d97aeadbadd552c4f"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f2c0afae446dd3d97aeadbadd552c4f">v8::internal::MemoryChunk::FromAddress</a></div><div class="ttdeci">static MemoryChunk * FromAddress(Address a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00304">spaces.h:304</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_iterator_html_a82fd9d0fdf39a3bc30d4751d95c6601a"><div class="ttname"><a href="../../d8/d65/classv8_1_1internal_1_1_large_object_iterator.html#a82fd9d0fdf39a3bc30d4751d95c6601a">v8::internal::LargeObjectIterator::LargeObjectIterator</a></div><div class="ttdeci">LargeObjectIterator(LargeObjectSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02547">spaces.cc:2547</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a677acae1061d0babd71d8869a654b4b4"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a677acae1061d0babd71d8869a654b4b4">v8::internal::NewSpace::CollectStatistics</a></div><div class="ttdeci">void CollectStatistics()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01740">spaces.cc:1740</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a3fcbc71074e08d986e702a8f55bbb43e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a3fcbc71074e08d986e702a8f55bbb43e">v8::internal::name</a></div><div class="ttdeci">value format&quot; &quot;after each garbage collection&quot;) DEFINE_bool(print_cumulative_gc_stat, false, &quot;print cumulative GC statistics in name=value format on exit&quot;) DEFINE_bool(trace_gc_verbose, false, &quot;print more details following each garbage collection&quot;) DEFINE_bool(trace_fragmentation, false, &quot;report fragmentation for old pointer and data pages&quot;) DEFINE_bool(collect_maps, true, &quot;garbage collect maps from which no objects can be reached&quot;) DEFINE_bool(flush_code, true, &quot;flush code that we expect not to use again before full gc&quot;) DEFINE_bool(incremental_marking, true, &quot;use incremental marking&quot;) DEFINE_bool(incremental_marking_steps, true, &quot;do incremental marking steps&quot;) DEFINE_bool(trace_incremental_marking, false, &quot;trace progress of the incremental marking&quot;) DEFINE_bool(use_idle_notification, true, &quot;Use idle notification to reduce memory footprint.&quot;) DEFINE_bool(send_idle_notification, false, &quot;Send idle notifcation between stress runs.&quot;) DEFINE_bool(use_ic, true, &quot;use inline caching&quot;) DEFINE_bool(native_code_counters, false, &quot;generate extra code for manipulating stats counters&quot;) DEFINE_bool(always_compact, false, &quot;Perform compaction on every full GC&quot;) DEFINE_bool(lazy_sweeping, true, &quot;Use lazy sweeping for old pointer and data spaces&quot;) DEFINE_bool(never_compact, false, &quot;Never perform compaction on full GC-testing only&quot;) DEFINE_bool(compact_code_space, true, &quot;Compact code space on full non-incremental collections&quot;) DEFINE_bool(cleanup_code_caches_at_gc, true, &quot;Flush inline caches prior to mark compact collection and&quot; &quot;flush code caches in maps during mark compact cycle.&quot;) DEFINE_int(random_seed, 0, &quot;Default seed for initializing random generator&quot; &quot;(0, the default, means to use system random).&quot;) DEFINE_bool(use_verbose_printer, true, &quot;allows verbose printing&quot;) DEFINE_bool(allow_natives_syntax, false, &quot;allow natives syntax&quot;) DEFINE_bool(trace_sim, false, &quot;Trace simulator execution&quot;) DEFINE_bool(check_icache, false, &quot;Check icache flushes in ARM and MIPS simulator&quot;) DEFINE_int(stop_sim_at, 0, &quot;Simulator stop after x number of instructions&quot;) DEFINE_int(sim_stack_alignment, 8, &quot;Stack alingment in bytes in simulator(4 or 8, 8 is default)&quot;) DEFINE_bool(trace_exception, false, &quot;print stack trace when throwing exceptions&quot;) DEFINE_bool(preallocate_message_memory, false, &quot;preallocate some memory to build stack traces.&quot;) DEFINE_bool(randomize_hashes, true, &quot;randomize hashes to avoid predictable hash collisions&quot; &quot;(with snapshots this option cannot override the baked-in seed)&quot;) DEFINE_int(hash_seed, 0, &quot;Fixed seed to use to hash property keys(0 means random)&quot; &quot;(with snapshots this option cannot override the baked-in seed)&quot;) DEFINE_bool(preemption, false, &quot;activate a 100ms timer that switches between V8 threads&quot;) DEFINE_bool(regexp_optimization, true, &quot;generate optimized regexp code&quot;) DEFINE_bool(testing_bool_flag, true, &quot;testing_bool_flag&quot;) DEFINE_int(testing_int_flag, 13, &quot;testing_int_flag&quot;) DEFINE_float(testing_float_flag, 2.5, &quot;float-flag&quot;) DEFINE_string(testing_string_flag, &quot;Hello, world!&quot;, &quot;string-flag&quot;) DEFINE_int(testing_prng_seed, 42, &quot;Seed used for threading test randomness&quot;) DEFINE_string(testing_serialization_file, &quot;/tmp/serdes&quot;, &quot;file in which to serialize heap&quot;) DEFINE_bool(help, false, &quot;Print usage message, including flags, on console&quot;) DEFINE_bool(dump_counters, false, &quot;Dump counters on exit&quot;) DEFINE_string(map_counters, &quot;&quot;, &quot;Map counters to a file&quot;) DEFINE_args(js_arguments, JSARGUMENTS_INIT, &quot;Pass all remaining arguments to the script.Alias for\&quot;--\&quot;.&quot;) DEFINE_bool(debug_compile_events, true,&quot;Enable debugger compile events&quot;) DEFINE_bool(debug_script_collected_events, true,&quot;Enable debugger script collected events&quot;) DEFINE_bool(gdbjit, false,&quot;enable GDBJIT interface (disables compacting GC)&quot;) DEFINE_bool(gdbjit_full, false,&quot;enable GDBJIT interface for all code objects&quot;) DEFINE_bool(gdbjit_dump, false,&quot;dump elf objects with debug info to disk&quot;) DEFINE_string(gdbjit_dump_filter,&quot;&quot;,&quot;dump only objects containing this substring&quot;) DEFINE_bool(force_marking_deque_overflows, false,&quot;force overflows of marking deque by reducing it's size &quot;&quot;to 64 words&quot;) DEFINE_bool(stress_compaction, false,&quot;stress the GC compactor to flush out bugs (implies &quot;&quot;--force_marking_deque_overflows)&quot;)#define FLAG DEFINE_bool(enable_slow_asserts, false,&quot;enable asserts that are slow to execute&quot;) DEFINE_bool(trace_codegen, false,&quot;print name of functions for which code is generated&quot;) DEFINE_bool(print_source, false,&quot;pretty print source code&quot;) DEFINE_bool(print_builtin_source, false,&quot;pretty print source code for builtins&quot;) DEFINE_bool(print_ast, false,&quot;print source AST&quot;) DEFINE_bool(print_builtin_ast, false,&quot;print source AST for builtins&quot;) DEFINE_string(stop_at,&quot;&quot;,&quot;function name where to insert a breakpoint&quot;) DEFINE_bool(print_builtin_scopes, false,&quot;print scopes for builtins&quot;) DEFINE_bool(print_scopes, false,&quot;print scopes&quot;) DEFINE_bool(trace_contexts, false,&quot;trace contexts operations&quot;) DEFINE_bool(gc_greedy, false,&quot;perform GC prior to some allocations&quot;) DEFINE_bool(gc_verbose, false,&quot;print stuff during garbage collection&quot;) DEFINE_bool(heap_stats, false,&quot;report heap statistics before and after GC&quot;) DEFINE_bool(code_stats, false,&quot;report code statistics after GC&quot;) DEFINE_bool(verify_heap, false,&quot;verify heap pointers before and after GC&quot;) DEFINE_bool(print_handles, false,&quot;report handles after GC&quot;) DEFINE_bool(print_global_handles, false,&quot;report global handles after GC&quot;) DEFINE_bool(trace_ic, false,&quot;trace inline cache state transitions&quot;) DEFINE_bool(print_interfaces, false,&quot;print interfaces&quot;) DEFINE_bool(print_interface_details, false,&quot;print interface inference details&quot;) DEFINE_int(print_interface_depth, 5,&quot;depth for printing interfaces&quot;) DEFINE_bool(trace_normalization, false,&quot;prints when objects are turned into dictionaries.&quot;) DEFINE_bool(trace_lazy, false,&quot;trace lazy compilation&quot;) DEFINE_bool(collect_heap_spill_statistics, false,&quot;report heap spill statistics along with heap_stats &quot;&quot;(requires heap_stats)&quot;) DEFINE_bool(trace_isolates, false,&quot;trace isolate state changes&quot;) DEFINE_bool(log_state_changes, false,&quot;Log state changes.&quot;) DEFINE_bool(regexp_possessive_quantifier, false,&quot;enable possessive quantifier syntax for testing&quot;) DEFINE_bool(trace_regexp_bytecodes, false,&quot;trace regexp bytecode execution&quot;) DEFINE_bool(trace_regexp_assembler, false,&quot;trace regexp macro assembler calls.&quot;)#define FLAG DEFINE_bool(log, false,&quot;Minimal logging (no API, code, GC, suspect, or handles samples).&quot;) DEFINE_bool(log_all, false,&quot;Log all events to the log file.&quot;) DEFINE_bool(log_runtime, false,&quot;Activate runtime system %Log call.&quot;) DEFINE_bool(log_api, false,&quot;Log API events to the log file.&quot;) DEFINE_bool(log_code, false,&quot;Log code events to the log file without profiling.&quot;) DEFINE_bool(log_gc, false,&quot;Log heap samples on garbage collection for the hp2ps tool.&quot;) DEFINE_bool(log_handles, false,&quot;Log global handle events.&quot;) DEFINE_bool(log_snapshot_positions, false,&quot;log positions of (de)serialized objects in the snapshot.&quot;) DEFINE_bool(log_suspect, false,&quot;Log suspect operations.&quot;) DEFINE_bool(prof, false,&quot;Log statistical profiling information (implies --log-code).&quot;) DEFINE_bool(prof_auto, true,&quot;Used with --prof, starts profiling automatically&quot;) DEFINE_bool(prof_lazy, false,&quot;Used with --prof, only does sampling and logging&quot;&quot; when profiler is active (implies --noprof_auto).&quot;) DEFINE_bool(prof_browser_mode, true,&quot;Used with --prof, turns on browser-compatible mode for profiling.&quot;) DEFINE_bool(log_regexp, false,&quot;Log regular expression execution.&quot;) DEFINE_bool(sliding_state_window, false,&quot;Update sliding state window counters.&quot;) DEFINE_string(logfile,&quot;v8.log&quot;,&quot;Specify the name of the log file.&quot;) DEFINE_bool(ll_prof, false,&quot;Enable low-level linux profiler.&quot;)#define FLAG DEFINE_bool(trace_elements_transitions, false,&quot;trace elements transitions&quot;) DEFINE_bool(print_code_stubs, false,&quot;print code stubs&quot;) DEFINE_bool(test_secondary_stub_cache, false,&quot;test secondary stub cache by disabling the primary one&quot;) DEFINE_bool(test_primary_stub_cache, false,&quot;test primary stub cache by disabling the secondary one&quot;) DEFINE_bool(print_code, false,&quot;print generated code&quot;) DEFINE_bool(print_opt_code, false,&quot;print optimized code&quot;) DEFINE_bool(print_unopt_code, false,&quot;print unoptimized code before &quot;&quot;printing optimized code based on it&quot;) DEFINE_bool(print_code_verbose, false,&quot;print more information for code&quot;) DEFINE_bool(print_builtin_code, false,&quot;print generated code for builtins&quot;)#43&quot;/Users/thlorenz/dev/dx/v8-perf/build/v8/src/flags.cc&quot;2#define FLAG_MODE_DEFINE_DEFAULTS#1&quot;/Users/thlorenz/dev/dx/v8-perf/build/v8/src/flag-definitions.h&quot;1#define FLAG_FULL(ftype, ctype, nam, def, cmt)#define FLAG_READONLY(ftype, ctype, nam, def, cmt)#define DEFINE_implication(whenflag, thenflag)#define DEFINE_bool(nam, def, cmt)#define DEFINE_int(nam, def, cmt)#define DEFINE_float(nam, def, cmt)#define DEFINE_string(nam, def, cmt)#define DEFINE_args(nam, def, cmt)#define FLAG DEFINE_bool(use_strict, false,&quot;enforce strict mode&quot;) DEFINE_bool(es5_readonly, false,&quot;activate correct semantics for inheriting readonliness&quot;) DEFINE_bool(es52_globals, false,&quot;activate new semantics for global var declarations&quot;) DEFINE_bool(harmony_typeof, false,&quot;enable harmony semantics for typeof&quot;) DEFINE_bool(harmony_scoping, false,&quot;enable harmony block scoping&quot;) DEFINE_bool(harmony_modules, false,&quot;enable harmony modules (implies block scoping)&quot;) DEFINE_bool(harmony_proxies, false,&quot;enable harmony proxies&quot;) DEFINE_bool(harmony_collections, false,&quot;enable harmony collections (sets, maps, and weak maps)&quot;) DEFINE_bool(harmony, false,&quot;enable all harmony features (except typeof)&quot;) DEFINE_implication(harmony, harmony_scoping) DEFINE_implication(harmony, harmony_modules) DEFINE_implication(harmony, harmony_proxies) DEFINE_implication(harmony, harmony_collections) DEFINE_implication(harmony_modules, harmony_scoping) DEFINE_bool(packed_arrays, false,&quot;optimizes arrays that have no holes&quot;) DEFINE_bool(smi_only_arrays, true,&quot;tracks arrays with only smi values&quot;) DEFINE_bool(clever_optimizations, true,&quot;Optimize object size, Array shift, DOM strings and string +&quot;) DEFINE_bool(unbox_double_arrays, true,&quot;automatically unbox arrays of doubles&quot;) DEFINE_bool(string_slices, true,&quot;use string slices&quot;) DEFINE_bool(crankshaft, true,&quot;use crankshaft&quot;) DEFINE_string(hydrogen_filter,&quot;&quot;,&quot;optimization filter&quot;) DEFINE_bool(use_range, true,&quot;use hydrogen range analysis&quot;) DEFINE_bool(eliminate_dead_phis, true,&quot;eliminate dead phis&quot;) DEFINE_bool(use_gvn, true,&quot;use hydrogen global value numbering&quot;) DEFINE_bool(use_canonicalizing, true,&quot;use hydrogen instruction canonicalizing&quot;) DEFINE_bool(use_inlining, true,&quot;use function inlining&quot;) DEFINE_int(max_inlined_source_size, 600,&quot;maximum source size in bytes considered for a single inlining&quot;) DEFINE_int(max_inlined_nodes, 196,&quot;maximum number of AST nodes considered for a single inlining&quot;) DEFINE_int(max_inlined_nodes_cumulative, 196,&quot;maximum cumulative number of AST nodes considered for inlining&quot;) DEFINE_bool(loop_invariant_code_motion, true,&quot;loop invariant code motion&quot;) DEFINE_bool(collect_megamorphic_maps_from_stub_cache, true,&quot;crankshaft harvests type feedback from stub cache&quot;) DEFINE_bool(hydrogen_stats, false,&quot;print statistics for hydrogen&quot;) DEFINE_bool(trace_hydrogen, false,&quot;trace generated hydrogen to file&quot;) DEFINE_string(trace_phase,&quot;Z&quot;,&quot;trace generated IR for specified phases&quot;) DEFINE_bool(trace_inlining, false,&quot;trace inlining decisions&quot;) DEFINE_bool(trace_alloc, false,&quot;trace register allocator&quot;) DEFINE_bool(trace_all_uses, false,&quot;trace all use positions&quot;) DEFINE_bool(trace_range, false,&quot;trace range analysis&quot;) DEFINE_bool(trace_gvn, false,&quot;trace global value numbering&quot;) DEFINE_bool(trace_representation, false,&quot;trace representation types&quot;) DEFINE_bool(stress_pointer_maps, false,&quot;pointer map for every instruction&quot;) DEFINE_bool(stress_environments, false,&quot;environment for every instruction&quot;) DEFINE_int(deopt_every_n_times, 0,&quot;deoptimize every n times a deopt point is passed&quot;) DEFINE_bool(trap_on_deopt, false,&quot;put a break point before deoptimizing&quot;) DEFINE_bool(deoptimize_uncommon_cases, true,&quot;deoptimize uncommon cases&quot;) DEFINE_bool(polymorphic_inlining, true,&quot;polymorphic inlining&quot;) DEFINE_bool(use_osr, true,&quot;use on-stack replacement&quot;) DEFINE_bool(array_bounds_checks_elimination, false,&quot;perform array bounds checks elimination&quot;) DEFINE_bool(array_index_dehoisting, false,&quot;perform array index dehoisting&quot;) DEFINE_bool(trace_osr, false,&quot;trace on-stack replacement&quot;) DEFINE_int(stress_runs, 0,&quot;number of stress runs&quot;) DEFINE_bool(optimize_closures, true,&quot;optimize closures&quot;) DEFINE_bool(inline_construct, true,&quot;inline constructor calls&quot;) DEFINE_bool(inline_arguments, true,&quot;inline functions with arguments object&quot;) DEFINE_int(loop_weight, 1,&quot;loop weight for representation inference&quot;) DEFINE_bool(optimize_for_in, true,&quot;optimize functions containing for-in loops&quot;) DEFINE_bool(experimental_profiler, true,&quot;enable all profiler experiments&quot;) DEFINE_bool(watch_ic_patching, false,&quot;profiler considers IC stability&quot;) DEFINE_int(frame_count, 1,&quot;number of stack frames inspected by the profiler&quot;) DEFINE_bool(self_optimization, false,&quot;primitive functions trigger their own optimization&quot;) DEFINE_bool(direct_self_opt, false,&quot;call recompile stub directly when self-optimizing&quot;) DEFINE_bool(retry_self_opt, false,&quot;re-try self-optimization if it failed&quot;) DEFINE_bool(count_based_interrupts, false,&quot;trigger profiler ticks based on counting instead of timing&quot;) DEFINE_bool(interrupt_at_exit, false,&quot;insert an interrupt check at function exit&quot;) DEFINE_bool(weighted_back_edges, false,&quot;weight back edges by jump distance for interrupt triggering&quot;) DEFINE_int(interrupt_budget, 5900,&quot;execution budget before interrupt is triggered&quot;) DEFINE_int(type_info_threshold, 15,&quot;percentage of ICs that must have type info to allow optimization&quot;) DEFINE_int(self_opt_count, 130,&quot;call count before self-optimization&quot;) DEFINE_implication(experimental_profiler, watch_ic_patching) DEFINE_implication(experimental_profiler, self_optimization) DEFINE_implication(experimental_profiler, retry_self_opt) DEFINE_implication(experimental_profiler, count_based_interrupts) DEFINE_implication(experimental_profiler, interrupt_at_exit) DEFINE_implication(experimental_profiler, weighted_back_edges) DEFINE_bool(trace_opt_verbose, false,&quot;extra verbose compilation tracing&quot;) DEFINE_implication(trace_opt_verbose, trace_opt) DEFINE_bool(debug_code, false,&quot;generate extra code (assertions) for debugging&quot;) DEFINE_bool(code_comments, false,&quot;emit comments in code disassembly&quot;) DEFINE_bool(enable_sse2, true,&quot;enable use of SSE2 instructions if available&quot;) DEFINE_bool(enable_sse3, true,&quot;enable use of SSE3 instructions if available&quot;) DEFINE_bool(enable_sse4_1, true,&quot;enable use of SSE4.1 instructions if available&quot;) DEFINE_bool(enable_cmov, true,&quot;enable use of CMOV instruction if available&quot;) DEFINE_bool(enable_rdtsc, true,&quot;enable use of RDTSC instruction if available&quot;) DEFINE_bool(enable_sahf, true,&quot;enable use of SAHF instruction if available (X64 only)&quot;) DEFINE_bool(enable_vfp3, true,&quot;enable use of VFP3 instructions if available - this implies &quot;&quot;enabling ARMv7 instructions (ARM only)&quot;) DEFINE_bool(enable_armv7, true,&quot;enable use of ARMv7 instructions if available (ARM only)&quot;) DEFINE_bool(enable_fpu, true,&quot;enable use of MIPS FPU instructions if available (MIPS only)&quot;) DEFINE_string(expose_natives_as, NULL,&quot;expose natives in global object&quot;) DEFINE_string(expose_debug_as, NULL,&quot;expose debug in global object&quot;) DEFINE_bool(expose_gc, false,&quot;expose gc extension&quot;) DEFINE_bool(expose_externalize_string, false,&quot;expose externalize string extension&quot;) DEFINE_int(stack_trace_limit, 10,&quot;number of stack frames to capture&quot;) DEFINE_bool(builtins_in_stack_traces, false,&quot;show built-in functions in stack traces&quot;) DEFINE_bool(disable_native_files, false,&quot;disable builtin natives files&quot;) DEFINE_bool(inline_new, true,&quot;use fast inline allocation&quot;) DEFINE_bool(stack_trace_on_abort, true,&quot;print a stack trace if an assertion failure occurs&quot;) DEFINE_bool(trace, false,&quot;trace function calls&quot;) DEFINE_bool(mask_constants_with_cookie, true,&quot;use random jit cookie to mask large constants&quot;) DEFINE_bool(lazy, true,&quot;use lazy compilation&quot;) DEFINE_bool(trace_opt, false,&quot;trace lazy optimization&quot;) DEFINE_bool(trace_opt_stats, false,&quot;trace lazy optimization statistics&quot;) DEFINE_bool(opt, true,&quot;use adaptive optimizations&quot;) DEFINE_bool(always_opt, false,&quot;always try to optimize functions&quot;) DEFINE_bool(prepare_always_opt, false,&quot;prepare for turning on always opt&quot;) DEFINE_bool(trace_deopt, false,&quot;trace deoptimization&quot;) DEFINE_int(min_preparse_length, 1024,&quot;minimum length for automatic enable preparsing&quot;) DEFINE_bool(always_full_compiler, false,&quot;try to use the dedicated run-once backend for all code&quot;) DEFINE_bool(trace_bailout, false,&quot;print reasons for falling back to using the classic V8 backend&quot;) DEFINE_bool(compilation_cache, true,&quot;enable compilation cache&quot;) DEFINE_bool(cache_prototype_transitions, true,&quot;cache prototype transitions&quot;) DEFINE_bool(trace_debug_json, false,&quot;trace debugging JSON request/response&quot;) DEFINE_bool(debugger_auto_break, true,&quot;automatically set the debug break flag when debugger commands are &quot;&quot;in the queue&quot;) DEFINE_bool(enable_liveedit, true,&quot;enable liveedit experimental feature&quot;) DEFINE_bool(break_on_abort, true,&quot;always cause a debug break before aborting&quot;) DEFINE_int(stack_size, kPointerSize *123,&quot;default size of stack region v8 is allowed to use (in kBytes)&quot;) DEFINE_int(max_stack_trace_source_length, 300,&quot;maximum length of function source code printed in a stack trace.&quot;) DEFINE_bool(always_inline_smi_code, false,&quot;always inline smi code in non-opt code&quot;) DEFINE_int(max_new_space_size, 0,&quot;max size of the new generation (in kBytes)&quot;) DEFINE_int(max_old_space_size, 0,&quot;max size of the old generation (in Mbytes)&quot;) DEFINE_int(max_executable_size, 0,&quot;max size of executable memory (in Mbytes)&quot;) DEFINE_bool(gc_global, false,&quot;always perform global GCs&quot;) DEFINE_int(gc_interval,-1,&quot;garbage collect after &lt;n&gt; allocations&quot;) DEFINE_bool(trace_gc, false,&quot;print one trace line following each garbage collection&quot;) DEFINE_bool(trace_gc_nvp, false,&quot;print one detailed trace line in name=value format &quot;&quot;after each garbage collection&quot;) DEFINE_bool(print_cumulative_gc_stat, false,&quot;print cumulative GC statistics in name=value format on exit&quot;) DEFINE_bool(trace_gc_verbose, false,&quot;print more details following each garbage collection&quot;) DEFINE_bool(trace_fragmentation, false,&quot;report fragmentation for old pointer and data pages&quot;) DEFINE_bool(collect_maps, true,&quot;garbage collect maps from which no objects can be reached&quot;) DEFINE_bool(flush_code, true,&quot;flush code that we expect not to use again before full gc&quot;) DEFINE_bool(incremental_marking, true,&quot;use incremental marking&quot;) DEFINE_bool(incremental_marking_steps, true,&quot;do incremental marking steps&quot;) DEFINE_bool(trace_incremental_marking, false,&quot;trace progress of the incremental marking&quot;) DEFINE_bool(use_idle_notification, true,&quot;Use idle notification to reduce memory footprint.&quot;) DEFINE_bool(send_idle_notification, false,&quot;Send idle notifcation between stress runs.&quot;) DEFINE_bool(use_ic, true,&quot;use inline caching&quot;) DEFINE_bool(native_code_counters, false,&quot;generate extra code for manipulating stats counters&quot;) DEFINE_bool(always_compact, false,&quot;Perform compaction on every full GC&quot;) DEFINE_bool(lazy_sweeping, true,&quot;Use lazy sweeping for old pointer and data spaces&quot;) DEFINE_bool(never_compact, false,&quot;Never perform compaction on full GC - testing only&quot;) DEFINE_bool(compact_code_space, true,&quot;Compact code space on full non-incremental collections&quot;) DEFINE_bool(cleanup_code_caches_at_gc, true,&quot;Flush inline caches prior to mark compact collection and &quot;&quot;flush code caches in maps during mark compact cycle.&quot;) DEFINE_int(random_seed, 0,&quot;Default seed for initializing random generator &quot;&quot;(0, the default, means to use system random).&quot;) DEFINE_bool(use_verbose_printer, true,&quot;allows verbose printing&quot;) DEFINE_bool(allow_natives_syntax, false,&quot;allow natives syntax&quot;) DEFINE_bool(trace_sim, false,&quot;Trace simulator execution&quot;) DEFINE_bool(check_icache, false,&quot;Check icache flushes in ARM and MIPS simulator&quot;) DEFINE_int(stop_sim_at, 0,&quot;Simulator stop after x number of instructions&quot;) DEFINE_int(sim_stack_alignment, 8,&quot;Stack alingment in bytes in simulator (4 or 8, 8 is default)&quot;) DEFINE_bool(trace_exception, false,&quot;print stack trace when throwing exceptions&quot;) DEFINE_bool(preallocate_message_memory, false,&quot;preallocate some memory to build stack traces.&quot;) DEFINE_bool(randomize_hashes, true,&quot;randomize hashes to avoid predictable hash collisions &quot;&quot;(with snapshots this option cannot override the baked-in seed)&quot;) DEFINE_int(hash_seed, 0,&quot;Fixed seed to use to hash property keys (0 means random)&quot;&quot;(with snapshots this option cannot override the baked-in seed)&quot;) DEFINE_bool(preemption, false,&quot;activate a 100ms timer that switches between V8 threads&quot;) DEFINE_bool(regexp_optimization, true,&quot;generate optimized regexp code&quot;) DEFINE_bool(testing_bool_flag, true,&quot;testing_bool_flag&quot;) DEFINE_int(testing_int_flag, 13,&quot;testing_int_flag&quot;) DEFINE_float(testing_float_flag, 2.5,&quot;float-flag&quot;) DEFINE_string(testing_string_flag,&quot;Hello, world!&quot;,&quot;string-flag&quot;) DEFINE_int(testing_prng_seed, 42,&quot;Seed used for threading test randomness&quot;) DEFINE_string(testing_serialization_file,&quot;/tmp/serdes&quot;,&quot;file in which to serialize heap&quot;) DEFINE_bool(help, false,&quot;Print usage message, including flags, on console&quot;) DEFINE_bool(dump_counters, false,&quot;Dump counters on exit&quot;) DEFINE_string(map_counters,&quot;&quot;,&quot;Map counters to a file&quot;) DEFINE_args(js_arguments, JSARGUMENTS_INIT,&quot;Pass all remaining arguments to the script. Alias for \&quot;--\&quot;.&quot;) DEFINE_bool(debug_compile_events, true,&quot;Enable debugger compile events&quot;) DEFINE_bool(debug_script_collected_events, true,&quot;Enable debugger script collected events&quot;) DEFINE_bool(gdbjit, false,&quot;enable GDBJIT interface (disables compacting GC)&quot;) DEFINE_bool(gdbjit_full, false,&quot;enable GDBJIT interface for all code objects&quot;) DEFINE_bool(gdbjit_dump, false,&quot;dump elf objects with debug info to disk&quot;) DEFINE_string(gdbjit_dump_filter,&quot;&quot;,&quot;dump only objects containing this substring&quot;) DEFINE_bool(force_marking_deque_overflows, false,&quot;force overflows of marking deque by reducing it's size &quot;&quot;to 64 words&quot;) DEFINE_bool(stress_compaction, false,&quot;stress the GC compactor to flush out bugs (implies &quot;&quot;--force_marking_deque_overflows)&quot;)#define FLAG DEFINE_bool(enable_slow_asserts, false,&quot;enable asserts that are slow to execute&quot;) DEFINE_bool(trace_codegen, false,&quot;print name of functions for which code is generated&quot;) DEFINE_bool(print_source, false,&quot;pretty print source code&quot;) DEFINE_bool(print_builtin_source, false,&quot;pretty print source code for builtins&quot;) DEFINE_bool(print_ast, false,&quot;print source AST&quot;) DEFINE_bool(print_builtin_ast, false,&quot;print source AST for builtins&quot;) DEFINE_string(stop_at,&quot;&quot;,&quot;function name where to insert a breakpoint&quot;) DEFINE_bool(print_builtin_scopes, false,&quot;print scopes for builtins&quot;) DEFINE_bool(print_scopes, false,&quot;print scopes&quot;) DEFINE_bool(trace_contexts, false,&quot;trace contexts operations&quot;) DEFINE_bool(gc_greedy, false,&quot;perform GC prior to some allocations&quot;) DEFINE_bool(gc_verbose, false,&quot;print stuff during garbage collection&quot;) DEFINE_bool(heap_stats, false,&quot;report heap statistics before and after GC&quot;) DEFINE_bool(code_stats, false,&quot;report code statistics after GC&quot;) DEFINE_bool(verify_heap, false,&quot;verify heap pointers before and after GC&quot;) DEFINE_bool(print_handles, false,&quot;report handles after GC&quot;) DEFINE_bool(print_global_handles, false,&quot;report global handles after GC&quot;) DEFINE_bool(trace_ic, false,&quot;trace inline cache state transitions&quot;) DEFINE_bool(print_interfaces, false,&quot;print interfaces&quot;) DEFINE_bool(print_interface_details, false,&quot;print interface inference details&quot;) DEFINE_int(print_interface_depth, 5,&quot;depth for printing interfaces&quot;) DEFINE_bool(trace_normalization, false,&quot;prints when objects are turned into dictionaries.&quot;) DEFINE_bool(trace_lazy, false,&quot;trace lazy compilation&quot;) DEFINE_bool(collect_heap_spill_statistics, false,&quot;report heap spill statistics along with heap_stats &quot;&quot;(requires heap_stats)&quot;) DEFINE_bool(trace_isolates, false,&quot;trace isolate state changes&quot;) DEFINE_bool(log_state_changes, false,&quot;Log state changes.&quot;) DEFINE_bool(regexp_possessive_quantifier, false,&quot;enable possessive quantifier syntax for testing&quot;) DEFINE_bool(trace_regexp_bytecodes, false,&quot;trace regexp bytecode execution&quot;) DEFINE_bool(trace_regexp_assembler, false,&quot;trace regexp macro assembler calls.&quot;)#define FLAG DEFINE_bool(log, false,&quot;Minimal logging (no API, code, GC, suspect, or handles samples).&quot;) DEFINE_bool(log_all, false,&quot;Log all events to the log file.&quot;) DEFINE_bool(log_runtime, false,&quot;Activate runtime system %Log call.&quot;) DEFINE_bool(log_api, false,&quot;Log API events to the log file.&quot;) DEFINE_bool(log_code, false,&quot;Log code events to the log file without profiling.&quot;) DEFINE_bool(log_gc, false,&quot;Log heap samples on garbage collection for the hp2ps tool.&quot;) DEFINE_bool(log_handles, false,&quot;Log global handle events.&quot;) DEFINE_bool(log_snapshot_positions, false,&quot;log positions of (de)serialized objects in the snapshot.&quot;) DEFINE_bool(log_suspect, false,&quot;Log suspect operations.&quot;) DEFINE_bool(prof, false,&quot;Log statistical profiling information (implies --log-code).&quot;) DEFINE_bool(prof_auto, true,&quot;Used with --prof, starts profiling automatically&quot;) DEFINE_bool(prof_lazy, false,&quot;Used with --prof, only does sampling and logging&quot;&quot; when profiler is active (implies --noprof_auto).&quot;) DEFINE_bool(prof_browser_mode, true,&quot;Used with --prof, turns on browser-compatible mode for profiling.&quot;) DEFINE_bool(log_regexp, false,&quot;Log regular expression execution.&quot;) DEFINE_bool(sliding_state_window, false,&quot;Update sliding state window counters.&quot;) DEFINE_string(logfile,&quot;v8.log&quot;,&quot;Specify the name of the log file.&quot;) DEFINE_bool(ll_prof, false,&quot;Enable low-level linux profiler.&quot;)#define FLAG DEFINE_bool(trace_elements_transitions, false,&quot;trace elements transitions&quot;) DEFINE_bool(print_code_stubs, false,&quot;print code stubs&quot;) DEFINE_bool(test_secondary_stub_cache, false,&quot;test secondary stub cache by disabling the primary one&quot;) DEFINE_bool(test_primary_stub_cache, false,&quot;test primary stub cache by disabling the secondary one&quot;) DEFINE_bool(print_code, false,&quot;print generated code&quot;) DEFINE_bool(print_opt_code, false,&quot;print optimized code&quot;) DEFINE_bool(print_unopt_code, false,&quot;print unoptimized code before &quot;&quot;printing optimized code based on it&quot;) DEFINE_bool(print_code_verbose, false,&quot;print more information for code&quot;) DEFINE_bool(print_builtin_code, false,&quot;print generated code for builtins&quot;)#47&quot;/Users/thlorenz/dev/dx/v8-perf/build/v8/src/flags.cc&quot;2 namespace{struct Flag{enum FlagType{TYPE_BOOL, TYPE_INT, TYPE_FLOAT, TYPE_STRING, TYPE_ARGS} name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l01349">flags.cc:1349</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html_a86ec1e2f09518b8f45695104f5653a32"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a86ec1e2f09518b8f45695104f5653a32">v8::internal::HeapObject::cast</a></div><div class="ttdeci">static HeapObject * cast(Object *obj)</div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac1ca15b56c9c6bbf29ee4aa156dbc05a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac1ca15b56c9c6bbf29ee4aa156dbc05a">v8::internal::Max</a></div><div class="ttdeci">T Max(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00222">utils.h:222</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a8a95cc04220f0a6b2874d745d8063cf9"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a8a95cc04220f0a6b2874d745d8063cf9">v8::internal::NewSpace::Flip</a></div><div class="ttdeci">void Flip()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01127">spaces.cc:1127</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a4c0f5dc3cd33195e80ee5eec20356372"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a4c0f5dc3cd33195e80ee5eec20356372">v8::internal::MemoryAllocator::SetUp</a></div><div class="ttdeci">bool SetUp(intptr_t max_capacity, intptr_t capacity_executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00273">spaces.cc:273</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_list_node_html"><div class="ttname"><a href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html">v8::internal::FreeListNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01297">spaces.h:1297</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab6d907c41d48048e1eb203e15f2fc9a8a06f1c57fe0309ac177d3b14b022e9519">v8::internal::cs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/constants-arm_8h_source.html#l00124">constants-arm.h:124</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_af9384f5b75bcdf15382399152529b4af"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af9384f5b75bcdf15382399152529b4af">v8::internal::PagedSpace::max_capacity_</a></div><div class="ttdeci">intptr_t max_capacity_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01634">spaces.h:1634</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_ab5595e621abcfecfc0ecfd6ab589f407"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ab5595e621abcfecfc0ecfd6ab589f407">v8::internal::SemiSpace::is_committed</a></div><div class="ttdeci">bool is_committed()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01907">spaces.h:1907</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a6dd3d138560b246169cc8103ff62a0d0"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a6dd3d138560b246169cc8103ff62a0d0">v8::internal::VirtualMemory::address</a></div><div class="ttdeci">void * address()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00357">platform.h:357</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_ac1e0af532df4b16eb24c60f6e2a1f90c"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ac1e0af532df4b16eb24c60f6e2a1f90c">v8::internal::VirtualMemory::TakeControl</a></div><div class="ttdeci">void TakeControl(VirtualMemory *from)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00391">platform.h:391</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5e2ec2be00b3d617582f927ee37878f7a77b688dbcc901242e5a4169c2580d836"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a77b688dbcc901242e5a4169c2580d836">v8::internal::OLD_POINTER_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00183">v8globals.h:183</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a33ee30f5dc12a8384eb0a469b81bf9d0"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a33ee30f5dc12a8384eb0a469b81bf9d0">v8::internal::NewSpace::ResetAllocationInfo</a></div><div class="ttdeci">void ResetAllocationInfo()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01189">spaces.cc:1189</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_incremental_marking_html_a23d36ef8c2129414a9558aeb730a5f46"><div class="ttname"><a href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#a23d36ef8c2129414a9558aeb730a5f46">v8::internal::IncrementalMarking::SetNewSpacePageFlags</a></div><div class="ttdeci">void SetNewSpacePageFlags(NewSpacePage *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d3a/incremental-marking_8h_source.html#l00204">incremental-marking.h:204</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a02c07eb6010bbffef405b221ef93a50d"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a02c07eb6010bbffef405b221ef93a50d">v8::internal::NewSpace::Shrink</a></div><div class="ttdeci">void Shrink()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01152">spaces.cc:1152</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784ad521391e509486bbf2e81c0a72c3903c"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784ad521391e509486bbf2e81c0a72c3903c">v8::internal::MemoryChunk::IN_FROM_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00382">spaces.h:382</a></div></div>
<div class="ttc" id="classv8_1_1_object_html"><div class="ttname"><a href="../../db/d85/classv8_1_1_object.html">v8::Object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l01457">v8.h:1457</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a6039b5dd6fdbbfc93266be101c27b8d4"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a6039b5dd6fdbbfc93266be101c27b8d4">v8::internal::flags</a></div><div class="ttdeci">Flag flags[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l01467">flags.cc:1467</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_ae0b6bb06ce53127ef3aa55cd148a89f6"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae0b6bb06ce53127ef3aa55cd148a89f6">v8::internal::SemiSpace::space_start</a></div><div class="ttdeci">Address space_start()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01848">spaces.h:1848</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_ad0704cc969933f071f5620f114ad52d8"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ad0704cc969933f071f5620f114ad52d8">v8::internal::PagedSpace::SizeOfFirstPage</a></div><div class="ttdeci">intptr_t SizeOfFirstPage()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00874">spaces.cc:874</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_aa45f833ac62ab5cbacb4ad86c722f06f"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#aa45f833ac62ab5cbacb4ad86c722f06f">v8::internal::Page::kPageAlignmentMask</a></div><div class="ttdeci">static const intptr_t kPageAlignmentMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00704">spaces.h:704</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_space_html_a0e2540ff511185f159d436148563cf64"><div class="ttname"><a href="../../d7/db7/classv8_1_1internal_1_1_free_space.html#a0e2540ff511185f159d436148563cf64">v8::internal::FreeSpace::cast</a></div><div class="ttdeci">static FreeSpace * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a5a00190ced0f5228869e05f0fa5703a6"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a5a00190ced0f5228869e05f0fa5703a6">v8::internal::Heap::GcSafeSizeOfOldObjectFunction</a></div><div class="ttdeci">HeapObjectCallback GcSafeSizeOfOldObjectFunction()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01201">heap.h:1201</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_bitmap_html_af2d8b5b8ba2cddaba95ee9ad69ee7ac7"><div class="ttname"><a href="../../d7/dae/classv8_1_1internal_1_1_bitmap.html#af2d8b5b8ba2cddaba95ee9ad69ee7ac7">v8::internal::Bitmap::Clear</a></div><div class="ttdeci">static void Clear(MemoryChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8a/spaces-inl_8h_source.html#l00042">spaces-inl.h:42</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a931587596081ef8178c2b128facb0411"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a931587596081ef8178c2b128facb0411">v8::internal::SemiSpace::TearDown</a></div><div class="ttdeci">void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01342">spaces.cc:1342</a></div></div>
<div class="ttc" id="liveobjectlist-inl_8h_html"><div class="ttname"><a href="../../d5/d44/liveobjectlist-inl_8h.html">liveobjectlist-inl.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_failure_html_a26cf87c8578198e52b6bd29e5c1bc78a"><div class="ttname"><a href="../../d7/d85/classv8_1_1internal_1_1_failure.html#a26cf87c8578198e52b6bd29e5c1bc78a">v8::internal::Failure::Exception</a></div><div class="ttdeci">static Failure * Exception()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01016">objects-inl.h:1016</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a436b1e8fade49a66de9640fa6bd90e74"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a436b1e8fade49a66de9640fa6bd90e74">v8::internal::Heap::promotion_queue</a></div><div class="ttdeci">PromotionQueue * promotion_queue()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01095">heap.h:1095</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a423de8f25d414ef1b7dcd541a75f7063"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a423de8f25d414ef1b7dcd541a75f7063">v8::internal::kMaxInt</a></div><div class="ttdeci">const int kMaxInt</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00224">globals.h:224</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a82000ecdfb999657bfad878920a5318c"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a82000ecdfb999657bfad878920a5318c">v8::internal::MemoryChunk::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00620">spaces.h:620</a></div></div>
<div class="ttc" id="namespacev8_html_a444cad09c6a4e000861761cbbfeb9547"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#a444cad09c6a4e000861761cbbfeb9547">v8::AllocationAction</a></div><div class="ttdeci">AllocationAction</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02683">v8.h:2683</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a5d46f6e2996dcf61fef1fef6b460401a"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a5d46f6e2996dcf61fef1fef6b460401a">v8::internal::NewSpace::inline_allocation_limit_step</a></div><div class="ttdeci">intptr_t inline_allocation_limit_step()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02272">spaces.h:2272</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ad452bfb960cbc6800f5cc075d5f286a9"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad452bfb960cbc6800f5cc075d5f286a9">v8::internal::MemoryChunk::area_start_</a></div><div class="ttdeci">Address area_start_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00611">spaces.h:611</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a27a7cf9071aee6088ce09b6a22994a6a"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a27a7cf9071aee6088ce09b6a22994a6a">v8::internal::MemoryAllocator::AllocatePage</a></div><div class="ttdeci">Page * AllocatePage(intptr_t size, PagedSpace *owner, Executability executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00575">spaces.cc:575</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a5f31775800bbb46b35b5791def1f3acc"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a5f31775800bbb46b35b5791def1f3acc">v8::internal::MemoryChunk::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00607">spaces.h:607</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5e2ec2be00b3d617582f927ee37878f7a1ce18484faed5e760ebd7f68a97cee08"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a1ce18484faed5e760ebd7f68a97cee08">v8::internal::CELL_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00187">v8globals.h:187</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5a9c1b77c339a0c2937e1d6ec062b81e"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5a9c1b77c339a0c2937e1d6ec062b81e">v8::internal::AllocationSpaceName</a></div><div class="ttdeci">const char * AllocationSpaceName(AllocationSpace space)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3f/mark-compact_8cc_source.html#l00421">mark-compact.cc:421</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a8125c0e0b6449a59bbc2a2f48880caf6"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a8125c0e0b6449a59bbc2a2f48880caf6">v8::internal::PagedSpace::area_size_</a></div><div class="ttdeci">int area_size_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01631">spaces.h:1631</a></div></div>
<div class="ttc" id="checks_8h_html_ac22830a985e1daed0c9eadba8c6f606e"><div class="ttname"><a href="../../d5/d16/checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a></div><div class="ttdeci">#define ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00270">checks.h:270</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a073af4596346c3e5c21de22db997156b"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a073af4596346c3e5c21de22db997156b">v8::internal::MemoryChunk::set_reserved_memory</a></div><div class="ttdeci">void set_reserved_memory(VirtualMemory *reservation)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00345">spaces.h:345</a></div></div>
<div class="ttc" id="lineprocessor_8cc_html_ae894408d53a5dd2fec4c3e7ea09d5d4b"><div class="ttname"><a href="../../da/d3d/lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a></div><div class="ttdeci">v8::Handle&lt; v8::Value &gt; Print(const v8::Arguments &amp;args)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3d/lineprocessor_8cc_source.html#l00396">lineprocessor.cc:396</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a14edca2cdd06b1b665a1340a544270b2"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a14edca2cdd06b1b665a1340a544270b2">v8::internal::MemoryChunk::IncrementLiveBytesFromGC</a></div><div class="ttdeci">static void IncrementLiveBytesFromGC(Address address, int by)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00471">spaces.h:471</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_af8818cdc8321dbcb7784dc643f334bdd"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af8818cdc8321dbcb7784dc643f334bdd">v8::internal::MemoryChunk::ClearFlag</a></div><div class="ttdeci">void ClearFlag(int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00421">spaces.h:421</a></div></div>
<div class="ttc" id="checks_8h_html_a8534ecd5e280a77dd885c1aae46a1c22"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a8534ecd5e280a77dd885c1aae46a1c22">ASSERT_GE</a></div><div class="ttdeci">#define ASSERT_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00273">checks.h:273</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a44c78e17dec2b3af95f850baaee2683a"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a44c78e17dec2b3af95f850baaee2683a">v8::internal::SemiSpace::Commit</a></div><div class="ttdeci">bool Commit()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01348">spaces.cc:1348</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_incremental_marking_html_a1c296d6f41d7e2c366ee1354a001bf70"><div class="ttname"><a href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#a1c296d6f41d7e2c366ee1354a001bf70">v8::internal::IncrementalMarking::Step</a></div><div class="ttdeci">void Step(intptr_t allocated, CompletionAction action)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6e/incremental-marking_8cc_source.html#l00786">incremental-marking.cc:786</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784a3e869d237f0e8283ae916f95ac793743"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a3e869d237f0e8283ae916f95ac793743">v8::internal::MemoryChunk::IN_TO_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00383">spaces.h:383</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a877da585f7669eb7d4ba888938317230"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a877da585f7669eb7d4ba888938317230">v8::internal::false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00136">flags.cc:136</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_iterator_html_a60a292348f74b1e5a812b7adcc318883"><div class="ttname"><a href="../../d8/d65/classv8_1_1internal_1_1_large_object_iterator.html#a60a292348f74b1e5a812b7adcc318883">v8::internal::LargeObjectIterator::Next</a></div><div class="ttdeci">HeapObject * Next()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02560">spaces.cc:2560</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_list_node_html_a565268d0b25055566c6d6a6318f2521b"><div class="ttname"><a href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a565268d0b25055566c6d6a6318f2521b">v8::internal::FreeListNode::next</a></div><div class="ttdeci">FreeListNode * next()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01850">spaces.cc:1850</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a1c8a04f31d7fc372b051f83788d44f02"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a1c8a04f31d7fc372b051f83788d44f02">v8::internal::MemoryAllocator::AllocateLargePage</a></div><div class="ttdeci">LargePage * AllocateLargePage(intptr_t object_size, Space *owner, Executability executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00586">spaces.cc:586</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a23b5711da63ab9af3b6adca3c83f7b10"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a23b5711da63ab9af3b6adca3c83f7b10">v8::internal::MemoryChunk::kFlagsOffset</a></div><div class="ttdeci">static const int kFlagsOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00564">spaces.h:564</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a879eb4a875af9844e2a2f1b23266ff29"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a879eb4a875af9844e2a2f1b23266ff29">v8::internal::comment</a></div><div class="ttdeci">const char * comment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l01362">flags.cc:1362</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_allocation_info_html_a542c43566d9f653422dd0e676344ab76"><div class="ttname"><a href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#a542c43566d9f653422dd0e676344ab76">v8::internal::AllocationInfo::limit</a></div><div class="ttdeci">Address limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01193">spaces.h:1193</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a7619c5c2359e044da5d327bd71f552fb"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a7619c5c2359e044da5d327bd71f552fb">v8::internal::NewSpace::RecordAllocation</a></div><div class="ttdeci">void RecordAllocation(HeapObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01804">spaces.cc:1804</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a94c93747c8daa99d65c2a04c6be0748c"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a94c93747c8daa99d65c2a04c6be0748c">v8::internal::VirtualMemory::Release</a></div><div class="ttdeci">void Release()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00377">platform.h:377</a></div></div>
<div class="ttc" id="platform_8h_html"><div class="ttname"><a href="../../de/d03/platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784a23899a47bbf7415b1b108c4684bf98d0"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a23899a47bbf7415b1b108c4684bf98d0">v8::internal::MemoryChunk::POINTERS_FROM_HERE_ARE_INTERESTING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00380">spaces.h:380</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a55b41e5225c3eb183c036051251289ef"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a55b41e5225c3eb183c036051251289ef">v8::internal::SemiSpace::current_page</a></div><div class="ttdeci">NewSpacePage * current_page()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01912">spaces.h:1912</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_incremental_marking_html_ab29bb140724f268e7ea69c37bf2f1baf"><div class="ttname"><a href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#ab29bb140724f268e7ea69c37bf2f1baf">v8::internal::IncrementalMarking::IsStopped</a></div><div class="ttdeci">bool IsStopped()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d3a/incremental-marking_8h_source.html#l00066">incremental-marking.h:66</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_allocation_info_html_aecc001aa0da67543ec049ffbc6c27b07"><div class="ttname"><a href="../../d1/dc2/classv8_1_1internal_1_1_allocation_info.html#aecc001aa0da67543ec049ffbc6c27b07">v8::internal::AllocationInfo::top</a></div><div class="ttdeci">Address top</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01192">spaces.h:1192</a></div></div>
<div class="ttc" id="checks_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00056">checks.h:56</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab82478fcd0fe2b06ad677efd1ecc1535"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535">v8::internal::Executability</a></div><div class="ttdeci">Executability</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00207">v8globals.h:207</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a3fc1bb7c4ac6ef6bbcc2acdd27a14d4d"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a3fc1bb7c4ac6ef6bbcc2acdd27a14d4d">v8::internal::MemoryChunk::live_byte_count_</a></div><div class="ttdeci">int live_byte_count_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00625">spaces.h:625</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a65239c458f39db478d7d256baaaabd0c"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a65239c458f39db478d7d256baaaabd0c">v8::internal::NewSpace::SizeAsInt</a></div><div class="ttdeci">int SizeAsInt()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02116">spaces.h:2116</a></div></div>
<div class="ttc" id="spaces_8cc_html_ad789f24401acb408516a934fe4a6a141"><div class="ttname"><a href="../../df/dff/spaces_8cc.html#ad789f24401acb408516a934fe4a6a141">INCREMENT</a></div><div class="ttdeci">#define INCREMENT(type, size, name, camel_name)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a66907b322cf9e7964ba19b82cadfce6a"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a66907b322cf9e7964ba19b82cadfce6a">v8::internal::MemoryAllocator::MemoryAllocator</a></div><div class="ttdeci">MemoryAllocator(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00264">spaces.cc:264</a></div></div>
<div class="ttc" id="objects_8h_html_a5095df7631964f8d566dc6a3b092bc6b"><div class="ttname"><a href="../../df/d91/objects_8h.html#a5095df7631964f8d566dc6a3b092bc6b">STRING_TYPE_LIST</a></div><div class="ttdeci">#define STRING_TYPE_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00306">objects.h:306</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_a98f5b9464a8b799bc1f0668f94c39b58"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a98f5b9464a8b799bc1f0668f94c39b58">v8::internal::LargeObjectSpace::FreeUnmarkedObjects</a></div><div class="ttdeci">void FreeUnmarkedObjects()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02690">spaces.cc:2690</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_a004bd6e389e159d350ee5bd0d72a7c66"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#a004bd6e389e159d350ee5bd0d72a7c66">v8::internal::Page::kPageSize</a></div><div class="ttdeci">static const int kPageSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00695">spaces.h:695</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784a422787934c6620b87fa4eb9faa0e85c6"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a422787934c6620b87fa4eb9faa0e85c6">v8::internal::MemoryChunk::CONTAINS_ONLY_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00385">spaces.h:385</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_promotion_queue_html_add99e97465e712bfad40314437b28bc5"><div class="ttname"><a href="../../d1/d48/classv8_1_1internal_1_1_promotion_queue.html#add99e97465e712bfad40314437b28bc5">v8::internal::PromotionQueue::ActivateGuardIfOnTheSamePage</a></div><div class="ttdeci">void ActivateGuardIfOnTheSamePage()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/heap-inl_8h_source.html#l00078">heap-inl.h:78</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_range_html_a0fe4f5a0077f48fb693feb34fa147841"><div class="ttname"><a href="../../df/def/classv8_1_1internal_1_1_code_range.html#a0fe4f5a0077f48fb693feb34fa147841">v8::internal::CodeRange::CodeRange</a></div><div class="ttdeci">CodeRange(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00126">spaces.cc:126</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a3d92d2b5b8cd230fca737ecebac72af1"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a3d92d2b5b8cd230fca737ecebac72af1">v8::internal::PagedSpace::IsSweepingComplete</a></div><div class="ttdeci">bool IsSweepingComplete()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01607">spaces.h:1607</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_html_aba80719c3f7b718a879bf9343d55509c"><div class="ttname"><a href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba80719c3f7b718a879bf9343d55509c">v8::internal::Code::cast</a></div><div class="ttdeci">static Code * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_af766ae2b8026302d3930801f1e29a60c"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#af766ae2b8026302d3930801f1e29a60c">v8::internal::SemiSpace::Uncommit</a></div><div class="ttdeci">bool Uncommit()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01373">spaces.cc:1373</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a8408cc87088df30c0de74729aee15473ae1ea4983ad0f1ac526c3eb9076d868e7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473ae1ea4983ad0f1ac526c3eb9076d868e7">v8::internal::kToSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01720">spaces.h:1720</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a62334d9b2e6dfd8aabca98c556a8b0e8"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a62334d9b2e6dfd8aabca98c556a8b0e8">v8::internal::MemoryAllocator::AllocateAlignedMemory</a></div><div class="ttdeci">Address AllocateAlignedMemory(size_t requested, size_t alignment, Executability executable, VirtualMemory *controller)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00356">spaces.cc:356</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a44ee97292914fbe042fc1b7b3236f7bc"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a44ee97292914fbe042fc1b7b3236f7bc">v8::internal::kHeapObjectTagMask</a></div><div class="ttdeci">const intptr_t kHeapObjectTagMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l03850">v8.h:3850</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a3f472fe1ac6d7456fb9d8a2a7acf0488"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a3f472fe1ac6d7456fb9d8a2a7acf0488">v8::internal::MemoryAllocator::FreeMemory</a></div><div class="ttdeci">void FreeMemory(VirtualMemory *reservation, Executability executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00295">spaces.cc:295</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_a51b31b550cd39d67caa6a5e16586927e"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a51b31b550cd39d67caa6a5e16586927e">v8::internal::NewSpacePage::IsAtEnd</a></div><div class="ttdeci">static bool IsAtEnd(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01765">spaces.h:1765</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_object_html"><div class="ttname"><a href="../../d8/df0/classv8_1_1internal_1_1_object.html">v8::internal::Object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00836">objects.h:836</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a2674c32eda2cfcf8717f5cadf01f5cb7"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a2674c32eda2cfcf8717f5cadf01f5cb7">v8::internal::MemoryChunk::InNewSpace</a></div><div class="ttdeci">bool InNewSpace()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00523">spaces.h:523</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html">v8::internal::Page</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00650">spaces.h:650</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_a07c59f8fb068bb104845b3f670429527"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a07c59f8fb068bb104845b3f670429527">v8::internal::LargeObjectSpace::LargeObjectSpace</a></div><div class="ttdeci">LargeObjectSpace(Heap *heap, intptr_t max_capacity, AllocationSpace id)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02576">spaces.cc:2576</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784aee74625176233b590d06131a46027001"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784aee74625176233b590d06131a46027001">v8::internal::MemoryChunk::NEW_SPACE_BELOW_AGE_MARK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00384">spaces.h:384</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_space_html"><div class="ttname"><a href="../../d4/de3/classv8_1_1internal_1_1_space.html">v8::internal::Space</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00759">spaces.h:759</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_marking_html_a459979e3ad60f742ce8672181696fd93"><div class="ttname"><a href="../../d7/d26/classv8_1_1internal_1_1_marking.html#a459979e3ad60f742ce8672181696fd93">v8::internal::Marking::MarkBitFrom</a></div><div class="ttdeci">static MarkBit MarkBitFrom(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5d/mark-compact-inl_8h_source.html#l00040">mark-compact-inl.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a5ef893584c2f44fbfb149695b1baef3f"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a5ef893584c2f44fbfb149695b1baef3f">v8::internal::PagedSpace::accounting_stats_</a></div><div class="ttdeci">AllocationStats accounting_stats_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01639">spaces.h:1639</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_aca120cd7c32e0f25eb9ebe70e087707e"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aca120cd7c32e0f25eb9ebe70e087707e">v8::internal::MemoryAllocator::Free</a></div><div class="ttdeci">void Free(MemoryChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00595">spaces.cc:595</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_space_html_a040b1539f7f70de70785693b7ab45dc8"><div class="ttname"><a href="../../d7/db7/classv8_1_1internal_1_1_free_space.html#a040b1539f7f70de70785693b7ab45dc8">v8::internal::FreeSpace::set_size</a></div><div class="ttdeci">void set_size(int value)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_aaf3c535819609b34192383ded2089d29"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaf3c535819609b34192383ded2089d29">v8::internal::MemoryAllocator::ReserveAlignedMemory</a></div><div class="ttdeci">Address ReserveAlignedMemory(size_t requested, size_t alignment, VirtualMemory *controller)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00342">spaces.cc:342</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab8ef12fab634c171394422d0ee8baf94"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab8ef12fab634c171394422d0ee8baf94">v8::internal::byte</a></div><div class="ttdeci">uint8_t byte</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00171">globals.h:171</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_space_html_af48bb7e4a1b5b3e64baa3e623cb61e5c"><div class="ttname"><a href="../../d4/de3/classv8_1_1internal_1_1_space.html#af48bb7e4a1b5b3e64baa3e623cb61e5c">v8::internal::Space::executable</a></div><div class="ttdeci">Executability executable()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00769">spaces.h:769</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a65b2d8de986d39ee855420b71c865022"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a65b2d8de986d39ee855420b71c865022">v8::internal::SemiSpace::first_page</a></div><div class="ttdeci">NewSpacePage * first_page()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01911">spaces.h:1911</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a9b3d22f32094ec246c46064737b31464"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a9b3d22f32094ec246c46064737b31464">v8::internal::PagedSpace::was_swept_conservatively_</a></div><div class="ttdeci">bool was_swept_conservatively_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01656">spaces.h:1656</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_af7a813580c923f38bc20a0151fe40573"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af7a813580c923f38bc20a0151fe40573">v8::internal::MemoryChunk::slots_buffer_</a></div><div class="ttdeci">SlotsBuffer * slots_buffer_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00626">spaces.h:626</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a1d6db7bdf7da56cb3e4bcb16ac4c1e71"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a1d6db7bdf7da56cb3e4bcb16ac4c1e71">v8::internal::SemiSpace::Capacity</a></div><div class="ttdeci">int Capacity()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01927">spaces.h:1927</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_ab4d499c403e0464f9fba9f37909de172"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#ab4d499c403e0464f9fba9f37909de172">v8::internal::VirtualMemory::IsReserved</a></div><div class="ttdeci">bool IsReserved()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00316">platform-cygwin.cc:316</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_ab2620782fc32b303a89ee9f557fef463"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab2620782fc32b303a89ee9f557fef463">v8::internal::PagedSpace::anchor_</a></div><div class="ttdeci">Page anchor_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01642">spaces.h:1642</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a796c5539112b6ed2ea22802cbd840edc"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a796c5539112b6ed2ea22802cbd840edc">v8::internal::PagedSpace::limit</a></div><div class="ttdeci">Address limit()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01507">spaces.h:1507</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a0d707219686b664288ef2b182c50ed4b"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0d707219686b664288ef2b182c50ed4b">v8::internal::PagedSpace::CountTotalPages</a></div><div class="ttdeci">int CountTotalPages()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00906">spaces.cc:906</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a9cad06dda7eabb135ef3861a6eb203cc"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a9cad06dda7eabb135ef3861a6eb203cc">v8::internal::MemoryAllocator::RemoveMemoryAllocationCallback</a></div><div class="ttdeci">void RemoveMemoryAllocationCallback(MemoryAllocationCallback callback)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00679">spaces.cc:679</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a2a2515a6f207c59b34fd7dac8ad39bf3"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a2a2515a6f207c59b34fd7dac8ad39bf3">v8::internal::MemoryChunk::ResetLiveBytes</a></div><div class="ttdeci">void ResetLiveBytes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00449">spaces.h:449</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a1f30223603d2117a773a749b8736de9a"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1f30223603d2117a773a749b8736de9a">v8::internal::MemoryChunk::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00562">spaces.h:562</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a49623f4bdc74ecd046b1568525c4c81f"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a49623f4bdc74ecd046b1568525c4c81f">v8::internal::VirtualMemory::Guard</a></div><div class="ttdeci">bool Guard(void *address)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00351">platform-cygwin.cc:351</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_afa5d3497d1fb72fb20779a013e467b80"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#afa5d3497d1fb72fb20779a013e467b80">v8::internal::SemiSpace::page_low</a></div><div class="ttdeci">Address page_low()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01854">spaces.h:1854</a></div></div>
<div class="ttc" id="checks_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00050">checks.h:50</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html_af40990b9bd3d70d30e8ce7cdda1ad56f"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#af40990b9bd3d70d30e8ce7cdda1ad56f">v8::internal::HeapObject::Size</a></div><div class="ttdeci">int Size()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01174">objects-inl.h:1174</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ad86ea0c69f8188478238e46a3897a217"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ad86ea0c69f8188478238e46a3897a217">v8::internal::HeapObjectCallback</a></div><div class="ttdeci">int(* HeapObjectCallback)(HeapObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00245">v8globals.h:245</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_a64370b5374fcdec4607390bb0ccbaa83"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a64370b5374fcdec4607390bb0ccbaa83">v8::internal::LargeObjectSpace::FindPage</a></div><div class="ttdeci">LargePage * FindPage(Address a)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02673">spaces.cc:2673</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_list_node_html_aff583a611d942691cd7c2b52f9ee68f1"><div class="ttname"><a href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#aff583a611d942691cd7c2b52f9ee68f1">v8::internal::FreeListNode::next_address</a></div><div class="ttdeci">FreeListNode ** next_address()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01863">spaces.cc:1863</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a0e2db146d64dff7a21f19ffcf4833744"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0e2db146d64dff7a21f19ffcf4833744">v8::internal::PagedSpace::AdvanceSweeper</a></div><div class="ttdeci">bool AdvanceSweeper(intptr_t bytes_to_sweep)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02274">spaces.cc:2274</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a535dc47adbb0606acce523eba72ce787"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a535dc47adbb0606acce523eba72ce787">v8::internal::NewSpace::Contains</a></div><div class="ttdeci">bool Contains(Address a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02097">spaces.h:2097</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a535dc47adbb0606acce523eba72ce787"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a535dc47adbb0606acce523eba72ce787">v8::internal::PagedSpace::Contains</a></div><div class="ttdeci">bool Contains(Address a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8a/spaces-inl_8h_source.html#l00178">spaces-inl.h:178</a></div></div>
<div class="ttc" id="globals_8h_html_ab2bccdfdccc67d9e76421f12925e1452"><div class="ttname"><a href="../../d5/d87/globals_8h.html#ab2bccdfdccc67d9e76421f12925e1452">OFFSET_OF</a></div><div class="ttdeci">#define OFFSET_OF(type, field)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00287">globals.h:287</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_adcdab8f96dc4fdc2940749e527087245"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#adcdab8f96dc4fdc2940749e527087245">v8::internal::MemoryChunk::SetFlag</a></div><div class="ttdeci">void SetFlag(int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00417">spaces.h:417</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html">v8::internal::NewSpacePage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01727">spaces.h:1727</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_a0d3d8b924e6d66e4daf8044e1efe5d1c"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a0d3d8b924e6d66e4daf8044e1efe5d1c">v8::internal::NewSpacePage::FromAddress</a></div><div class="ttdeci">static NewSpacePage * FromAddress(Address address_in_page)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01774">spaces.h:1774</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a098df7f69a8fbead4f984c2b3abdd3f6"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a098df7f69a8fbead4f984c2b3abdd3f6">v8::internal::MemoryChunk::LiveBytes</a></div><div class="ttdeci">int LiveBytes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00466">spaces.h:466</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a02d17e1b42313e4399611c825807adc6"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a02d17e1b42313e4399611c825807adc6">v8::internal::SemiSpace::NewSpacePageIterator</a></div><div class="ttdeci">friend class NewSpacePageIterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01968">spaces.h:1968</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a67360446e72ba16b2170c027f036d335"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a67360446e72ba16b2170c027f036d335">v8::internal::MemoryAllocator::UncommitBlock</a></div><div class="ttdeci">bool UncommitBlock(Address start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00632">spaces.cc:632</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_failure_html_aa81b4f0ebcd1a6e60a01a985f90e4464"><div class="ttname"><a href="../../d7/d85/classv8_1_1internal_1_1_failure.html#aa81b4f0ebcd1a6e60a01a985f90e4464">v8::internal::Failure::RetryAfterGC</a></div><div class="ttdeci">static Failure * RetryAfterGC()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01032">objects-inl.h:1032</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a714310495eda151df7de652cb95255c8"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a714310495eda151df7de652cb95255c8">v8::internal::NewSpace::bottom</a></div><div class="ttdeci">Address bottom()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02159">spaces.h:2159</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a7aef04fe7bee8a8b4b8c529f2b2d3072"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a7aef04fe7bee8a8b4b8c529f2b2d3072">v8::internal::MemoryAllocator::CodePageAreaStartOffset</a></div><div class="ttdeci">static int CodePageAreaStartOffset()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00715">spaces.cc:715</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a4e1387ff50d6283447beef35a0db61fb"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a4e1387ff50d6283447beef35a0db61fb">v8::internal::PagedSpace::EvictEvacuationCandidatesFromFreeLists</a></div><div class="ttdeci">void EvictEvacuationCandidatesFromFreeLists()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02304">spaces.cc:2304</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_space_html_a7b205e84c0af3cbba60317b55dd2e8c8"><div class="ttname"><a href="../../d4/de3/classv8_1_1internal_1_1_space.html#a7b205e84c0af3cbba60317b55dd2e8c8">v8::internal::Space::RoundSizeDownToObjectAlignment</a></div><div class="ttdeci">virtual int RoundSizeDownToObjectAlignment(int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00781">spaces.h:781</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0ff83451bc94a1105976297cc6b68676"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0ff83451bc94a1105976297cc6b68676">v8::internal::Object</a></div><div class="ttdeci">Object</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l03609">objects-inl.h:3609</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ade2f76ca31816a0649d08bc8856fd56b"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ade2f76ca31816a0649d08bc8856fd56b">v8::internal::kPointerSize</a></div><div class="ttdeci">const int kPointerSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00234">globals.h:234</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784a8b975a24857018611f2d2cd268f601c5"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a8b975a24857018611f2d2cd268f601c5">v8::internal::MemoryChunk::IS_EXECUTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00377">spaces.h:377</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_ad2d0b74af393b127127bdf1373831171"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ad2d0b74af393b127127bdf1373831171">v8::internal::NewSpace::ReportStatistics</a></div><div class="ttdeci">void ReportStatistics()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01776">spaces.cc:1776</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_af78e570a35c07f91a936e411056d3305"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#af78e570a35c07f91a936e411056d3305">v8::internal::Isolate::memory_allocator</a></div><div class="ttdeci">MemoryAllocator * memory_allocator()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00830">isolate.h:830</a></div></div>
<div class="ttc" id="src_2v8_8h_html"><div class="ttname"><a href="../../df/d6a/src_2v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_afab81ec90adcf51e6889b076b9b7f8b2"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#afab81ec90adcf51e6889b076b9b7f8b2">v8::internal::MemoryChunk::IsFlagSet</a></div><div class="ttdeci">bool IsFlagSet(int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00433">spaces.h:433</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_html_a31bcfb05aed43ee9fa6ac524cc37032e"><div class="ttname"><a href="../../d6/dee/classv8_1_1internal_1_1_memory.html#a31bcfb05aed43ee9fa6ac524cc37032e">v8::internal::Memory::Address_at</a></div><div class="ttdeci">static Address &amp; Address_at(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de9/v8memory_8h_source.html#l00071">v8memory.h:71</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_ac366716f81e49004b7dbc91cb8548751"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#ac366716f81e49004b7dbc91cb8548751">v8::internal::Heap::QueueMemoryChunkForFree</a></div><div class="ttdeci">void QueueMemoryChunkForFree(MemoryChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de3/heap_8cc_source.html#l07093">heap.cc:7093</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a96aa6e0387d4d5a0b311520469b2f39f"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a96aa6e0387d4d5a0b311520469b2f39f">v8::internal::MemoryAllocator::CodePageGuardSize</a></div><div class="ttdeci">static int CodePageGuardSize()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00710">spaces.cc:710</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0a8fa6d618b69c17a399f61e9a4b56b3"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0a8fa6d618b69c17a399f61e9a4b56b3">v8::internal::kZapValue</a></div><div class="ttdeci">const Address kZapValue</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00089">v8globals.h:89</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a36d4343b9bd1bc95a5e5013dbb13f94c"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a36d4343b9bd1bc95a5e5013dbb13f94c">v8::internal::kHeapObjectTag</a></div><div class="ttdeci">const int kHeapObjectTag</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l03848">v8.h:3848</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ada66adab5e750853950daf4371db1392"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">v8::internal::IsAligned</a></div><div class="ttdeci">bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00206">utils.h:206</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_a9e39289d8164f8fc0c5b430d6abc3134"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#a9e39289d8164f8fc0c5b430d6abc3134">v8::internal::List::Remove</a></div><div class="ttdeci">T Remove(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcb/list-inl_8h_source.html#l00116">list-inl.h:116</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a28d6b8772bf64bf0a5af49c9da19ffe7"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a28d6b8772bf64bf0a5af49c9da19ffe7">v8::internal::SemiSpace::space_end</a></div><div class="ttdeci">Address space_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01859">spaces.h:1859</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a90aab407e6be30346a51abc7b42c877a"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a90aab407e6be30346a51abc7b42c877a">v8::internal::MemoryChunk::address</a></div><div class="ttdeci">Address address()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00311">spaces.h:311</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ae621ccf87beb425225063e7e20ef5f3a"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae621ccf87beb425225063e7e20ef5f3a">v8::internal::MemoryChunk::InitializeReservedMemory</a></div><div class="ttdeci">void InitializeReservedMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00341">spaces.h:341</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_ad8a20ff29513bf41ef3ee9145432c42e"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#ad8a20ff29513bf41ef3ee9145432c42e">v8::internal::Heap::decrement_scan_on_scavenge_pages</a></div><div class="ttdeci">void decrement_scan_on_scavenge_pages()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01088">heap.h:1088</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a730df2c9513afe86f0afd56ba60ce058"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a730df2c9513afe86f0afd56ba60ce058">v8::internal::NewSpace::Available</a></div><div class="ttdeci">intptr_t Available()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02137">spaces.h:2137</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_ae346775e04a41d45ffde7f41a35234f5"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ae346775e04a41d45ffde7f41a35234f5">v8::internal::PagedSpace::ReserveSpace</a></div><div class="ttdeci">virtual bool ReserveSpace(int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02242">spaces.cc:2242</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a8ddf82073289f1a8152ed584c46db043"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a8ddf82073289f1a8152ed584c46db043">v8::internal::VirtualMemory::Commit</a></div><div class="ttdeci">bool Commit(void *address, size_t size, bool is_executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00334">platform-cygwin.cc:334</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_html_aba01db17f4a2bfbc3db60dc172972a25a2d3eb0c0fa142bd8110f04fc3a5a0a97"><div class="ttname"><a href="../../d3/d0e/classv8_1_1internal_1_1_code.html#aba01db17f4a2bfbc3db60dc172972a25a2d3eb0c0fa142bd8110f04fc3a5a0a97">v8::internal::Code::NUMBER_OF_KINDS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l04194">objects.h:4194</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a05e91818b78075005718f0ab21ebdc08"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a05e91818b78075005718f0ab21ebdc08">v8::internal::PagedSpace::DecreaseUnsweptFreeBytes</a></div><div class="ttdeci">void DecreaseUnsweptFreeBytes(Page *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01600">spaces.h:1600</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_template_hash_map_impl_html_a5172f06f3e2ee3d3e1f4ac8f1246662e"><div class="ttname"><a href="../../d5/de9/classv8_1_1internal_1_1_template_hash_map_impl.html#a5172f06f3e2ee3d3e1f4ac8f1246662e">v8::internal::TemplateHashMapImpl::Lookup</a></div><div class="ttdeci">Entry * Lookup(void *key, uint32_t hash, bool insert, AllocationPolicy allocator=AllocationPolicy())</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/hashmap_8h_source.html#l00130">hashmap.h:130</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html">v8::internal::HeapObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l01134">objects.h:1134</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_a8a6a9e42c30a9fa3a06b7370a21083c6"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#a8a6a9e42c30a9fa3a06b7370a21083c6">v8::internal::Page::WasSweptPrecisely</a></div><div class="ttdeci">bool WasSweptPrecisely()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00715">spaces.h:715</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_ad95ea6de2d5ef771cc6ceffa27ebfd5d"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#ad95ea6de2d5ef771cc6ceffa27ebfd5d">v8::internal::NewSpace::AddFreshPage</a></div><div class="ttdeci">bool AddFreshPage()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01201">spaces.cc:1201</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_mark_bit_html"><div class="ttname"><a href="../../d3/dc3/classv8_1_1internal_1_1_mark_bit.html">v8::internal::MarkBit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00124">spaces.h:124</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a179f3592728c0a17eee4219bf91819f3"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a179f3592728c0a17eee4219bf91819f3">v8::internal::MemoryChunk::initialize_scan_on_scavenge</a></div><div class="ttdeci">void initialize_scan_on_scavenge(bool scan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00351">spaces.h:351</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4718d33a2325528d5e80c19da5199e20"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">v8::internal::RoundUp</a></div><div class="ttdeci">T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00150">utils.h:150</a></div></div>
<div class="ttc" id="checks_8h_html_a5f2db7b7625d842511de66ae6055e1f6"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a5f2db7b7625d842511de66ae6055e1f6">ASSERT_LE</a></div><div class="ttdeci">#define ASSERT_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00275">checks.h:275</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_space_html_af4b57d21919c42d55af03391f91a1c08"><div class="ttname"><a href="../../d7/db7/classv8_1_1internal_1_1_free_space.html#af4b57d21919c42d55af03391f91a1c08">v8::internal::FreeSpace::size</a></div><div class="ttdeci">int size()</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_aac782da1f912bceb5d8ad00c8dc892ac"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aac782da1f912bceb5d8ad00c8dc892ac">v8::internal::MemoryChunk::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00504">spaces.h:504</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a0ac7f2f9a8a70d71ebeaccc4492b2838"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a0ac7f2f9a8a70d71ebeaccc4492b2838">v8::internal::SemiSpace::id</a></div><div class="ttdeci">SemiSpaceId id()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01935">spaces.h:1935</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a26ccfad0a5c7ef1a1345bb59358f3d5e"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a26ccfad0a5c7ef1a1345bb59358f3d5e">v8::internal::MemoryChunk::flags_</a></div><div class="ttdeci">intptr_t flags_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00608">spaces.h:608</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a68e2277d861442db8ecc8dd64797736f"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a68e2277d861442db8ecc8dd64797736f">v8::internal::NewSpace::RecordPromotion</a></div><div class="ttdeci">void RecordPromotion(HeapObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01812">spaces.cc:1812</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_range_html_a28fd228cfab899b22c6f6afe2494f5b2"><div class="ttname"><a href="../../df/def/classv8_1_1internal_1_1_code_range.html#a28fd228cfab899b22c6f6afe2494f5b2">v8::internal::CodeRange::contains</a></div><div class="ttdeci">bool contains(Address address)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00830">spaces.h:830</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a66e64bdcc31731ea50f41d34e2648414"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a66e64bdcc31731ea50f41d34e2648414">v8::internal::PagedSpace::anchor</a></div><div class="ttdeci">Page * anchor()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01552">spaces.h:1552</a></div></div>
<div class="ttc" id="globals_8h_html_a195c21618843b007adaa40be5ae0e0a7"><div class="ttname"><a href="../../d5/d87/globals_8h.html#a195c21618843b007adaa40be5ae0e0a7">V8_PTR_PREFIX</a></div><div class="ttdeci">#define V8_PTR_PREFIX</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00196">globals.h:196</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00435">heap.h:435</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_abba33d1c9d6a7bdd730791a20cd0cfc6"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#abba33d1c9d6a7bdd730791a20cd0cfc6">v8::internal::Page::set_prev_page</a></div><div class="ttdeci">void set_prev_page(Page *page)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8a/spaces-inl_8h_source.html#l00242">spaces-inl.h:242</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_af4d2f059b86d0249fcab31063634aa57"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af4d2f059b86d0249fcab31063634aa57">v8::internal::MemoryChunk::is_valid</a></div><div class="ttdeci">bool is_valid()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00313">spaces.h:313</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_range_html_af17cef8437813557397a4d76dee0b660"><div class="ttname"><a href="../../df/def/classv8_1_1internal_1_1_code_range.html#af17cef8437813557397a4d76dee0b660">v8::internal::CodeRange::AllocateRawMemory</a></div><div class="ttdeci">MUST_USE_RESULT Address AllocateRawMemory(const size_t requested, size_t *allocated)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00211">spaces.cc:211</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00499">objects.h:499</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab46d6fb6aab3e552e9fb0ab7fe9212ba"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab46d6fb6aab3e552e9fb0ab7fe9212ba">v8::internal::IsPowerOf2</a></div><div class="ttdeci">bool IsPowerOf2(T x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00050">utils.h:50</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a40cc92f928fc13720dbe9f02a2d09e1c"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a40cc92f928fc13720dbe9f02a2d09e1c">v8::internal::NewSpace::Grow</a></div><div class="ttdeci">void Grow()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01132">spaces.cc:1132</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a0b6b70701c46e22849f0f363861351cd"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a0b6b70701c46e22849f0f363861351cd">v8::internal::VirtualMemory::size</a></div><div class="ttdeci">size_t size()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00366">platform.h:366</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a8408cc87088df30c0de74729aee15473a94e00bb84998524ba77d3d3408f5251f"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a8408cc87088df30c0de74729aee15473a94e00bb84998524ba77d3d3408f5251f">v8::internal::kFromSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01719">spaces.h:1719</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_a7e5709565195ec7c3ef0f9756147ee5c"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#a7e5709565195ec7c3ef0f9756147ee5c">v8::internal::Page::WasSwept</a></div><div class="ttdeci">bool WasSwept()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00717">spaces.h:717</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a454507d773bef3dd59b322c554a8d884"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a454507d773bef3dd59b322c554a8d884">v8::internal::MemoryAllocator::CodePageAreaEndOffset</a></div><div class="ttdeci">static int CodePageAreaEndOffset()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00722">spaces.cc:722</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a38a28d761ab37adea36a4d87c33f318f"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a38a28d761ab37adea36a4d87c33f318f">v8::internal::PagedSpace::Free</a></div><div class="ttdeci">int Free(Address start, int size_in_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01519">spaces.h:1519</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_page_html_a3b6e243b011492efac4c822d1e98dc0c"><div class="ttname"><a href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#a3b6e243b011492efac4c822d1e98dc0c">v8::internal::LargePage::GetObject</a></div><div class="ttdeci">HeapObject * GetObject()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00738">spaces.h:738</a></div></div>
<div class="ttc" id="checks_8h_html_a403854a78bdaff5e42e57b4126bd12f4"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a403854a78bdaff5e42e57b4126bd12f4">CHECK_NE</a></div><div class="ttdeci">#define CHECK_NE(unexpected, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00223">checks.h:223</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a6706f37420d5f16eddc8dfe4d5109778"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a6706f37420d5f16eddc8dfe4d5109778">v8::internal::PagedSpace::ReleasePage</a></div><div class="ttdeci">void ReleasePage(Page *page)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00917">spaces.cc:917</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ae6832656c5461a1c0e0940c773eb24ad"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae6832656c5461a1c0e0940c773eb24ad">v8::internal::MemoryChunk::prev_chunk_</a></div><div class="ttdeci">MemoryChunk * prev_chunk_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00606">spaces.h:606</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_a30665f8a7122d82f6f704158e0d883ad"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#a30665f8a7122d82f6f704158e0d883ad">v8::internal::Page::Initialize</a></div><div class="ttdeci">static Page * Initialize(Heap *heap, MemoryChunk *chunk, Executability executable, PagedSpace *owner)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8a/spaces-inl_8h_source.html#l00162">spaces-inl.h:162</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html_a15df2e6d8babd6046c32c8ed3de5cf19"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a15df2e6d8babd6046c32c8ed3de5cf19">v8::internal::HeapObject::set_map_no_write_barrier</a></div><div class="ttdeci">void set_map_no_write_barrier(Map *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01146">objects-inl.h:1146</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a6d5a7c63fb401f18c96ded7d99d457ba"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a6d5a7c63fb401f18c96ded7d99d457ba">v8::internal::Heap::FreeQueuedChunks</a></div><div class="ttdeci">void FreeQueuedChunks()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de3/heap_8cc_source.html#l07099">heap.cc:7099</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_mark_compact_collector_html_ad08d526b4eb054cfbab5b707a8e62b59"><div class="ttname"><a href="../../df/dba/classv8_1_1internal_1_1_mark_compact_collector.html#ad08d526b4eb054cfbab5b707a8e62b59">v8::internal::MarkCompactCollector::SweepConservatively</a></div><div class="ttdeci">static intptr_t SweepConservatively(PagedSpace *space, Page *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3f/mark-compact_8cc_source.html#l03714">mark-compact.cc:3714</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac86f40d93fbcb575cb940513b8393f05"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac86f40d93fbcb575cb940513b8393f05">v8::internal::MemoryChunk::area_size</a></div><div class="ttdeci">int area_size()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00600">spaces.h:600</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_a2051fa1390db79225bd8cbf979617b69"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a2051fa1390db79225bd8cbf979617b69">v8::internal::LargeObjectSpace::FindObject</a></div><div class="ttdeci">MaybeObject * FindObject(Address a)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02664">spaces.cc:2664</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27a30ec7db0fdce66b2fd0c1af4bbb6714a">v8::internal::LAST_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00615">objects.h:615</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_histogram_info_html"><div class="ttname"><a href="../../db/de3/classv8_1_1internal_1_1_histogram_info.html">v8::internal::HistogramInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01706">spaces.h:1706</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html">v8::internal::MemoryAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00945">spaces.h:945</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a88ccb24206b05493e679a2746d6e3557"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a88ccb24206b05493e679a2746d6e3557">v8::internal::PagedSpace::SetUp</a></div><div class="ttdeci">bool SetUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00801">spaces.cc:801</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a7bad4bf078cdbe5a5921a60db4219dc2"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a7bad4bf078cdbe5a5921a60db4219dc2">v8::internal::MemoryChunk::Unlink</a></div><div class="ttdeci">void Unlink()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00478">spaces.cc:478</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_aa317a55a9904e8753506c3b9f7355e2a"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aa317a55a9904e8753506c3b9f7355e2a">v8::internal::MemoryChunk::kObjectStartOffset</a></div><div class="ttdeci">static const int kObjectStartOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00501">spaces.h:501</a></div></div>
<div class="ttc" id="mark-compact_8h_html"><div class="ttname"><a href="../../d4/dd7/mark-compact_8h.html">mark-compact.h</a></div></div>
<div class="ttc" id="isolate_8h_html_afbd09b56c7cdf48ff457909e030f1f74"><div class="ttname"><a href="../../d8/d1e/isolate_8h.html#afbd09b56c7cdf48ff457909e030f1f74">ISOLATE</a></div><div class="ttdeci">#define ISOLATE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l01410">isolate.h:1410</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_a4ed35988df3339eea7493f3be4c886fd"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a4ed35988df3339eea7493f3be4c886fd">v8::internal::NewSpacePage::set_prev_page</a></div><div class="ttdeci">void set_prev_page(NewSpacePage *page)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01750">spaces.h:1750</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_aeb75b23ed9c39641b0ceab116aad0f7d"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#aeb75b23ed9c39641b0ceab116aad0f7d">v8::internal::LargeObjectSpace::Contains</a></div><div class="ttdeci">bool Contains(HeapObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02743">spaces.cc:2743</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_iterator_html"><div class="ttname"><a href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html">v8::internal::HeapObjectIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01113">spaces.h:1113</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_aae44530e3201f6897d66a149f04d7bdc"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae44530e3201f6897d66a149f04d7bdc">v8::internal::MemoryChunk::owner</a></div><div class="ttdeci">Space * owner() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00321">spaces.h:321</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_ae68e6c8fa3b45768da543c58aeb95a95"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae68e6c8fa3b45768da543c58aeb95a95">v8::internal::SemiSpace::Swap</a></div><div class="ttdeci">static void Swap(SemiSpace *from, SemiSpace *to)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01493">spaces.cc:1493</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html">v8::internal::SemiSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01816">spaces.h:1816</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_abe4cb122f262cd32c55e202c0f68bf29"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#abe4cb122f262cd32c55e202c0f68bf29">v8::internal::Page::InitializeAsAnchor</a></div><div class="ttdeci">void InitializeAsAnchor(PagedSpace *owner)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00386">spaces.cc:386</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a906119b504f11b42bb7410de39aadaaa"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a906119b504f11b42bb7410de39aadaaa">v8::internal::Heap::InitialSemiSpaceSize</a></div><div class="ttdeci">int InitialSemiSpaceSize()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00470">heap.h:470</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a3e1a44464d046f6317145ef6f16bad46"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a3e1a44464d046f6317145ef6f16bad46">v8::internal::VirtualMemory::ReleaseRegion</a></div><div class="ttdeci">static bool ReleaseRegion(void *base, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/platform-freebsd_8cc_source.html#l00454">platform-freebsd.cc:454</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_iterator_html_a02bd73fbe1bef5cf6e7e264f5e5a2a1d"><div class="ttname"><a href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html#a02bd73fbe1bef5cf6e7e264f5e5a2a1d">v8::internal::SemiSpaceIterator::SemiSpaceIterator</a></div><div class="ttdeci">SemiSpaceIterator(NewSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01583">spaces.cc:1583</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a78dcdb5500833f3313aa7028e5ab830e"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a78dcdb5500833f3313aa7028e5ab830e">v8::internal::PagedSpace::CanExpand</a></div><div class="ttdeci">bool CanExpand()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00840">spaces.cc:840</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_page_html"><div class="ttname"><a href="../../d8/d62/classv8_1_1internal_1_1_large_page.html">v8::internal::LargePage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00736">spaces.h:736</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a581fae2fa76da1a4b4b92e6da68aed76"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a581fae2fa76da1a4b4b92e6da68aed76">v8::internal::MemoryChunk::kLiveBytesOffset</a></div><div class="ttdeci">static const intptr_t kLiveBytesOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00484">spaces.h:484</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_incremental_marking_html_af30fefa254c212405e0627a4aa7728e3a08a61c59064baee5f35857a8293ac3c2"><div class="ttname"><a href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#af30fefa254c212405e0627a4aa7728e3a08a61c59064baee5f35857a8293ac3c2">v8::internal::IncrementalMarking::GC_VIA_STACK_GUARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d3a/incremental-marking_8h_source.html#l00050">incremental-marking.h:50</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a6035b06c22f927e9f25ee51d21b1bf23"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a6035b06c22f927e9f25ee51d21b1bf23">v8::internal::NewSpace::Capacity</a></div><div class="ttdeci">intptr_t Capacity()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02125">spaces.h:2125</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a931587596081ef8178c2b128facb0411"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a931587596081ef8178c2b128facb0411">v8::internal::PagedSpace::TearDown</a></div><div class="ttdeci">void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00811">spaces.cc:811</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a4ee8599f15155e14c80905f58cfdcefa"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a4ee8599f15155e14c80905f58cfdcefa">v8::internal::VirtualMemory::CommitRegion</a></div><div class="ttdeci">static bool CommitRegion(void *base, size_t size, bool is_executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/platform-freebsd_8cc_source.html#l00428">platform-freebsd.cc:428</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_a626a5fe6210b5034d54b1c7b6693b4eb"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a626a5fe6210b5034d54b1c7b6693b4eb">v8::internal::NewSpacePage::set_next_page</a></div><div class="ttdeci">void set_next_page(NewSpacePage *page)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01742">spaces.h:1742</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_a87643b418e695b99a84dbc670e8ecccd"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#a87643b418e695b99a84dbc670e8ecccd">v8::internal::List::Sort</a></div><div class="ttdeci">void Sort(int(*cmp)(const T *x, const T *y))</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcb/list-inl_8h_source.html#l00198">list-inl.h:198</a></div></div>
<div class="ttc" id="spaces_8h_html_a260599f6ea778e270b3e84edeb9a58ba"><div class="ttname"><a href="../../d3/d0e/spaces_8h.html#a260599f6ea778e270b3e84edeb9a58ba">ASSERT_SEMISPACE_ALLOCATION_INFO</a></div><div class="ttdeci">#define ASSERT_SEMISPACE_ALLOCATION_INFO(info, space)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02348">spaces.h:2348</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a6dde39c3e2696198557ff1504671a51f"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a6dde39c3e2696198557ff1504671a51f">v8::internal::MemoryAllocator::AllocateChunk</a></div><div class="ttdeci">MemoryChunk * AllocateChunk(intptr_t body_size, Executability executable, Space *space)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00490">spaces.cc:490</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_af46bb632ffc0e38aad43d3a8797ef4b2"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#af46bb632ffc0e38aad43d3a8797ef4b2">v8::internal::NewSpacePage::FromLimit</a></div><div class="ttdeci">static NewSpacePage * FromLimit(Address address_limit)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01784">spaces.h:1784</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_space_html_a21fd038163915c9c2c4d57e32b4e43c8"><div class="ttname"><a href="../../d4/de3/classv8_1_1internal_1_1_space.html#a21fd038163915c9c2c4d57e32b4e43c8">v8::internal::Space::heap</a></div><div class="ttdeci">Heap * heap() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00766">spaces.h:766</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a3a0c6c020051409883d2ca1d68ce4af1"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a3a0c6c020051409883d2ca1d68ce4af1">v8::internal::Heap::incremental_marking</a></div><div class="ttdeci">IncrementalMarking * incremental_marking()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01524">heap.h:1524</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_iterator_html"><div class="ttname"><a href="../../d3/df3/classv8_1_1internal_1_1_semi_space_iterator.html">v8::internal::SemiSpaceIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01979">spaces.h:1979</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_a49c90aeb1280f2ee6f407edbe33a10a8"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#a49c90aeb1280f2ee6f407edbe33a10a8">v8::internal::Page::prev_page</a></div><div class="ttdeci">Page * prev_page()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8a/spaces-inl_8h_source.html#l00230">spaces-inl.h:230</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a2655b8e2472cc68ed7d0ee078c14dfed"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a2655b8e2472cc68ed7d0ee078c14dfed">v8::internal::MemoryChunk::IncrementLiveBytes</a></div><div class="ttdeci">void IncrementLiveBytes(int by)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00456">spaces.h:456</a></div></div>
<div class="ttc" id="namespacev8_html_a444cad09c6a4e000861761cbbfeb9547a74b893894f9023864c27f7cd4044b20c"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#a444cad09c6a4e000861761cbbfeb9547a74b893894f9023864c27f7cd4044b20c">v8::kAllocationActionFree</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02685">v8.h:2685</a></div></div>
<div class="ttc" id="spaces_8cc_html_af6e5695cc031b6938c7ac39f1b8400b2"><div class="ttname"><a href="../../df/dff/spaces_8cc.html#af6e5695cc031b6938c7ac39f1b8400b2">SET_NAME</a></div><div class="ttdeci">#define SET_NAME(name)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_ab3c8dd11966a364b4fac29749648afea"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#ab3c8dd11966a364b4fac29749648afea">v8::internal::PagedSpace::top</a></div><div class="ttdeci">Address top()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01506">spaces.h:1506</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a744cd2a512533ebbe43b6cd8e4adade6"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a744cd2a512533ebbe43b6cd8e4adade6">v8::internal::SemiSpace::SetUp</a></div><div class="ttdeci">void SetUp(Address start, int initial_capacity, int maximum_capacity)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01320">spaces.cc:1320</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a82be70b816f02693db3770e7765d1b7d"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a82be70b816f02693db3770e7765d1b7d">v8::internal::SemiSpace::page_high</a></div><div class="ttdeci">Address page_high()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01864">spaces.h:1864</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_a62e9c16a3f207c0080d42eb92e052335"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a62e9c16a3f207c0080d42eb92e052335">v8::internal::NewSpacePage::semi_space</a></div><div class="ttdeci">SemiSpace * semi_space()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01754">spaces.h:1754</a></div></div>
<div class="ttc" id="macro-assembler_8h_html"><div class="ttname"><a href="../../d0/d04/macro-assembler_8h.html">macro-assembler.h</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_ae346775e04a41d45ffde7f41a35234f5"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#ae346775e04a41d45ffde7f41a35234f5">v8::internal::LargeObjectSpace::ReserveSpace</a></div><div class="ttdeci">virtual bool ReserveSpace(int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02267">spaces.cc:2267</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_list_node_html_af8c5c9fb07fc4edf1cb959d7d3715a19"><div class="ttname"><a href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#af8c5c9fb07fc4edf1cb959d7d3715a19">v8::internal::FreeListNode::FromAddress</a></div><div class="ttdeci">static FreeListNode * FromAddress(Address address)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01302">spaces.h:1302</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a4c06cd5819ab2fc45c81e836f12db24c"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a4c06cd5819ab2fc45c81e836f12db24c">v8::internal::SemiSpace::SemiSpace</a></div><div class="ttdeci">SemiSpace(Heap *heap, SemiSpaceId semispace)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01819">spaces.h:1819</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_a8032075aa8ed9ceb28bf9621f891fe8c"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a8032075aa8ed9ceb28bf9621f891fe8c">v8::internal::NewSpacePage::next_page</a></div><div class="ttdeci">NewSpacePage * next_page() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01738">spaces.h:1738</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_aae5b48803d07b3bbafe700ff171a3714"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#aae5b48803d07b3bbafe700ff171a3714">v8::internal::VirtualMemory::UncommitRegion</a></div><div class="ttdeci">static bool UncommitRegion(void *base, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/platform-freebsd_8cc_source.html#l00444">platform-freebsd.cc:444</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ad082fc26314c6087adc704d455724068"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad082fc26314c6087adc704d455724068">v8::internal::MemoryChunk::kAlignment</a></div><div class="ttdeci">static const intptr_t kAlignment</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00477">spaces.h:477</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_space_html"><div class="ttname"><a href="../../d7/db7/classv8_1_1internal_1_1_free_space.html">v8::internal::FreeSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l03661">objects.h:3661</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_aae19eff0ba5ae188a3bfcd0472b8c80b"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#aae19eff0ba5ae188a3bfcd0472b8c80b">v8::internal::MemoryChunk::set_owner</a></div><div class="ttdeci">void set_owner(Space *space)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00330">spaces.h:330</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_template_hash_map_impl_html_ae83da1da30eed329356d4eb63049c651"><div class="ttname"><a href="../../d5/de9/classv8_1_1internal_1_1_template_hash_map_impl.html#ae83da1da30eed329356d4eb63049c651">v8::internal::TemplateHashMapImpl::Remove</a></div><div class="ttdeci">void * Remove(void *key, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/hashmap_8h_source.html#l00160">hashmap.h:160</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a5d32bbbe2ffe70373b9d4ff83ba97b83"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a5d32bbbe2ffe70373b9d4ff83ba97b83">v8::internal::Heap::RememberUnmappedPage</a></div><div class="ttdeci">void RememberUnmappedPage(Address page, bool compacted)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de3/heap_8cc_source.html#l07147">heap.cc:7147</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5e2ec2be00b3d617582f927ee37878f7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7">v8::internal::AllocationSpace</a></div><div class="ttdeci">AllocationSpace</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00181">v8globals.h:181</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ae5af1d644eed7f24dfc3daca00a04d94"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ae5af1d644eed7f24dfc3daca00a04d94">v8::internal::MemoryChunk::IncrementLiveBytesFromMutator</a></div><div class="ttdeci">static void IncrementLiveBytesFromMutator(Address address, int by)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00764">spaces.cc:764</a></div></div>
<div class="ttc" id="isolate_8h_html_a4e8c3dc786eeec70c7c26763ea3d2ef7"><div class="ttname"><a href="../../d8/d1e/isolate_8h.html#a4e8c3dc786eeec70c7c26763ea3d2ef7">HEAP</a></div><div class="ttdeci">#define HEAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l01408">isolate.h:1408</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a39eccf469f48a20838bd601b7dccc14b"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a39eccf469f48a20838bd601b7dccc14b">v8::internal::MemoryAllocator::PerformAllocationCallback</a></div><div class="ttdeci">void PerformAllocationCallback(ObjectSpace space, AllocationAction action, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00646">spaces.cc:646</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_page_html_ae018a6bd93631709218e3212b2e778d9"><div class="ttname"><a href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#ae018a6bd93631709218e3212b2e778d9">v8::internal::LargePage::next_page</a></div><div class="ttdeci">LargePage * next_page() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00742">spaces.h:742</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_ad889891e7286e29b0e662738ec405e29"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#ad889891e7286e29b0e662738ec405e29">v8::internal::NewSpacePage::kCopyOnFlipFlagsMask</a></div><div class="ttdeci">static const intptr_t kCopyOnFlipFlagsMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01731">spaces.h:1731</a></div></div>
<div class="ttc" id="checks_8h_html_a9f578a62e6cedf3f56577f294abe2713"><div class="ttname"><a href="../../d5/d16/checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a></div><div class="ttdeci">#define ASSERT_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/checks_8h_source.html#l00271">checks.h:271</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_aecbfd5eea582393f36ad153207340efa"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#aecbfd5eea582393f36ad153207340efa">v8::internal::NULL</a></div><div class="ttdeci">activate correct semantics for inheriting readonliness enable harmony semantics for typeof enable harmony enable harmony proxies enable all harmony harmony_scoping harmony_proxies harmony_scoping tracks arrays with only smi values automatically unbox arrays of doubles use crankshaft use hydrogen range analysis use hydrogen global value numbering use function inlining maximum number of AST nodes considered for a single inlining loop invariant code motion print statistics for hydrogen trace generated IR for specified phases trace register allocator trace range analysis trace representation types environment for every instruction put a break point before deoptimizing polymorphic inlining perform array bounds checks elimination trace on stack replacement optimize closures functions with arguments object optimize functions containing for in loops profiler considers IC stability primitive functions trigger their own optimization re try self optimization if it failed insert an interrupt check at function exit execution budget before interrupt is triggered call count before self optimization self_optimization count_based_interrupts weighted_back_edges trace_opt emit comments in code disassembly enable use of SSE3 instructions if available enable use of CMOV instruction if available enable use of SAHF instruction if enable use of VFP3 instructions if available this implies enabling ARMv7 enable use of ARMv7 instructions if enable use of MIPS FPU instructions if NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l00274">flags.cc:274</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a72ae4ceb1799ed75aace01c440c428fd"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a72ae4ceb1799ed75aace01c440c428fd">v8::internal::MemoryChunk::set_prev_chunk</a></div><div class="ttdeci">void set_prev_chunk(MemoryChunk *prev)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00319">spaces.h:319</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_map_html_a331c2e3486c2fdef0d4eff37543be0e6"><div class="ttname"><a href="../../de/dfe/classv8_1_1internal_1_1_map.html#a331c2e3486c2fdef0d4eff37543be0e6">v8::internal::Map::instance_type</a></div><div class="ttdeci">InstanceType instance_type()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l02864">objects-inl.h:2864</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_a3bc21bcf0ff3a8b52c6a491296fce3f2"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a3bc21bcf0ff3a8b52c6a491296fce3f2">v8::internal::LargeObjectSpace::LargeObjectIterator</a></div><div class="ttdeci">friend class LargeObjectIterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02548">spaces.h:2548</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a3a5379fe753aa8a2b0e12d569818c7a9"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a3a5379fe753aa8a2b0e12d569818c7a9">v8::internal::MemoryChunk::IsEvacuationCandidate</a></div><div class="ttdeci">bool IsEvacuationCandidate()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00566">spaces.h:566</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html_ac0c8585ca3c2f764a3fc17e9ce42d789"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#ac0c8585ca3c2f764a3fc17e9ce42d789">v8::internal::HeapObject::FromAddress</a></div><div class="ttdeci">static HeapObject * FromAddress(Address address)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01163">objects-inl.h:1163</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a440edd02ea2306893c73d60a0611b422"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a440edd02ea2306893c73d60a0611b422">v8::internal::PagedSpace::PagedSpace</a></div><div class="ttdeci">PagedSpace(Heap *heap, intptr_t max_capacity, AllocationSpace id, Executability executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00775">spaces.cc:775</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a62ab6b040688d278b36c6e932b7820a7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a62ab6b040688d278b36c6e932b7820a7">v8::internal::RoundDown</a></div><div class="ttdeci">T RoundDown(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00142">utils.h:142</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab46a6342f518ffe356dd4b116eabc1e0"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab46a6342f518ffe356dd4b116eabc1e0">v8::internal::USE</a></div><div class="ttdeci">void USE(T)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d87/globals_8h_source.html#l00303">globals.h:303</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a4485d41849bdd07fb7dd9eca364731a8"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a4485d41849bdd07fb7dd9eca364731a8">v8::internal::Isolate::counters</a></div><div class="ttdeci">Counters * counters()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00804">isolate.h:804</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784a793d886571b3c23ed36466a4d1bcf68d"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a793d886571b3c23ed36466a4d1bcf68d">v8::internal::MemoryChunk::WAS_SWEPT_PRECISELY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00393">spaces.h:393</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_range_html_a931587596081ef8178c2b128facb0411"><div class="ttname"><a href="../../df/def/classv8_1_1internal_1_1_code_range.html#a931587596081ef8178c2b128facb0411">v8::internal::CodeRange::TearDown</a></div><div class="ttdeci">void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00252">spaces.cc:252</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_array_html_ab72b1bdfe3d9d45e6b5a01348e6691eb"><div class="ttname"><a href="../../dc/d95/classv8_1_1internal_1_1_fixed_array.html#ab72b1bdfe3d9d45e6b5a01348e6691eb">v8::internal::FixedArray::cast</a></div><div class="ttdeci">static FixedArray * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a346dca65c7ecb9c458b3db3cbcca6e71"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a346dca65c7ecb9c458b3db3cbcca6e71">v8::internal::MemoryChunk::InsertAfter</a></div><div class="ttdeci">void InsertAfter(MemoryChunk *other)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00470">spaces.cc:470</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_page_html_a111fc01e7766fa6010e4228a52a66706"><div class="ttname"><a href="../../d8/d62/classv8_1_1internal_1_1_large_page.html#a111fc01e7766fa6010e4228a52a66706">v8::internal::LargePage::set_next_page</a></div><div class="ttdeci">void set_next_page(LargePage *page)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00746">spaces.h:746</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html_a1f30223603d2117a773a749b8736de9a"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html#a1f30223603d2117a773a749b8736de9a">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00820">isolate.h:820</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af14562a565b0f6fce9a146afe6dc0130a19ee6d41e59c93f16fed0dba11a81648"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af14562a565b0f6fce9a146afe6dc0130a19ee6d41e59c93f16fed0dba11a81648">v8::internal::BUILTIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9d/serialize_8h_source.html#l00040">serialize.h:40</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_ac1e7e855955b53ceea6cc7e23e3b4f6c"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ac1e7e855955b53ceea6cc7e23e3b4f6c">v8::internal::SemiSpace::AdvancePage</a></div><div class="ttdeci">bool AdvancePage()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01868">spaces.h:1868</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_page_html_af1742d0de9d64ce5a6dd83f22d4edaed"><div class="ttname"><a href="../../db/d62/classv8_1_1internal_1_1_page.html#af1742d0de9d64ce5a6dd83f22d4edaed">v8::internal::Page::next_page</a></div><div class="ttdeci">Page * next_page()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8a/spaces-inl_8h_source.html#l00224">spaces-inl.h:224</a></div></div>
<div class="ttc" id="classv8_1_1_isolate_html"><div class="ttname"><a href="../../d5/dda/classv8_1_1_isolate.html">v8::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02777">v8.h:2777</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a0485c136eaf98f068e38de91d35cdcb3"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a0485c136eaf98f068e38de91d35cdcb3">v8::internal::PagedSpace::free_list_</a></div><div class="ttdeci">FreeList free_list_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01645">spaces.h:1645</a></div></div>
<div class="ttc" id="namespacev8_html_a22381bef16a06c823aef67c11e9bcf22"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#a22381bef16a06c823aef67c11e9bcf22">v8::ObjectSpace</a></div><div class="ttdeci">ObjectSpace</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02670">v8.h:2670</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_ac63f315efa825f0466278da00abcdbfd"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#ac63f315efa825f0466278da00abcdbfd">v8::internal::List::Add</a></div><div class="ttdeci">void Add(const T &amp;element, AllocationPolicy allocator=AllocationPolicy())</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcb/list-inl_8h_source.html#l00038">list-inl.h:38</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_a7722bc8d47e6547dea4f1beddb449c10"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#a7722bc8d47e6547dea4f1beddb449c10">v8::internal::OS::AllocateAlignment</a></div><div class="ttdeci">static size_t AllocateAlignment()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00133">platform-cygwin.cc:133</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_fixed_space_html_ae23d19e424449c82663e61d41d31b443"><div class="ttname"><a href="../../d9/da5/classv8_1_1internal_1_1_fixed_space.html#ae23d19e424449c82663e61d41d31b443">v8::internal::FixedSpace::PrepareForMarkCompact</a></div><div class="ttdeci">virtual void PrepareForMarkCompact()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02506">spaces.cc:2506</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a9ec714208a3a31d6a7da29382607ea11"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a9ec714208a3a31d6a7da29382607ea11">v8::internal::SemiSpace::set_age_mark</a></div><div class="ttdeci">void set_age_mark(Address mark)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01514">spaces.cc:1514</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_aaa791a0eaef9f237c46a512759a94c0a"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#aaa791a0eaef9f237c46a512759a94c0a">v8::internal::MemoryAllocator::CodePageGuardStartOffset</a></div><div class="ttdeci">static int CodePageGuardStartOffset()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00703">spaces.cc:703</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_ad819a67ed949a8f3c86f758aef045669"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#ad819a67ed949a8f3c86f758aef045669">v8::internal::NewSpacePage::prev_page</a></div><div class="ttdeci">NewSpacePage * prev_page() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01746">spaces.h:1746</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_adfc1a511c3892908865208647977d96a"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#adfc1a511c3892908865208647977d96a">v8::internal::NewSpace::ClearHistograms</a></div><div class="ttdeci">void ClearHistograms()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01730">spaces.cc:1730</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a931587596081ef8178c2b128facb0411"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a931587596081ef8178c2b128facb0411">v8::internal::MemoryAllocator::TearDown</a></div><div class="ttdeci">void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00285">spaces.cc:285</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a10a43166b612c7231d1acac63217bb59"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a10a43166b612c7231d1acac63217bb59">v8::internal::NewSpace::InitialCapacity</a></div><div class="ttdeci">int InitialCapacity()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02148">spaces.h:2148</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a372de693ad40b3f42839c8ec6ac845f4"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a372de693ad40b3f42839c8ec6ac845f4">v8::internal::SemiSpace::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01487">spaces.cc:1487</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a0f9c4349745983c5fe3b54f97b8a6348"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a0f9c4349745983c5fe3b54f97b8a6348">v8::internal::Heap::CreateFillerObjectAt</a></div><div class="ttdeci">void CreateFillerObjectAt(Address addr, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de3/heap_8cc_source.html#l03447">heap.cc:3447</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a738b6c7823800938d3d3f580c75b9109"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a738b6c7823800938d3d3f580c75b9109">v8::internal::MemoryChunk::skip_list</a></div><div class="ttdeci">SkipList * skip_list()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00572">spaces.h:572</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a793918572ef1ef048683681033d5f63c"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a793918572ef1ef048683681033d5f63c">v8::internal::PagedSpace::unswept_free_bytes_</a></div><div class="ttdeci">intptr_t unswept_free_bytes_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01665">spaces.h:1665</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a1ac5ebb959102c90af9b852ad2b1d15a"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a1ac5ebb959102c90af9b852ad2b1d15a">v8::internal::PagedSpace::Expand</a></div><div class="ttdeci">bool Expand()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00853">spaces.cc:853</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a76503f408d04075dc38763158610ad52"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a76503f408d04075dc38763158610ad52">v8::internal::MemoryAllocator::CommitBlock</a></div><div class="ttdeci">bool CommitBlock(Address start, size_t size, Executability executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00620">spaces.cc:620</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_a41526c726fa6324ed9f91a93391e66ff"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#a41526c726fa6324ed9f91a93391e66ff">v8::internal::PagedSpace::allocation_info_</a></div><div class="ttdeci">AllocationInfo allocation_info_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01648">spaces.h:1648</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_incremental_marking_html_ad486f4041d453bf0a1c28e577088113d"><div class="ttname"><a href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#ad486f4041d453bf0a1c28e577088113d">v8::internal::IncrementalMarking::kAllocatedThreshold</a></div><div class="ttdeci">static const intptr_t kAllocatedThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d3a/incremental-marking_8h_source.html#l00097">incremental-marking.h:97</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_range_html_aa9100e4c626877b706ca9fc67a35c562"><div class="ttname"><a href="../../df/def/classv8_1_1internal_1_1_code_range.html#aa9100e4c626877b706ca9fc67a35c562">v8::internal::CodeRange::exists</a></div><div class="ttdeci">bool exists()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00829">spaces.h:829</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_code_range_html_aa1e8dcf25ae89fb61066dcf68bdb130e"><div class="ttname"><a href="../../df/def/classv8_1_1internal_1_1_code_range.html#aa1e8dcf25ae89fb61066dcf68bdb130e">v8::internal::CodeRange::FreeRawMemory</a></div><div class="ttdeci">void FreeRawMemory(Address buf, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00245">spaces.cc:245</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_html_a90aab407e6be30346a51abc7b42c877a"><div class="ttname"><a href="../../d7/da3/classv8_1_1internal_1_1_heap_object.html#a90aab407e6be30346a51abc7b42c877a">v8::internal::HeapObject::address</a></div><div class="ttdeci">Address address()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/objects-inl_8h_source.html#l01169">objects-inl.h:1169</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_mark_bit_html_aa71d36872f416feaa853788a7a7a7ef8"><div class="ttname"><a href="../../d3/dc3/classv8_1_1internal_1_1_mark_bit.html#aa71d36872f416feaa853788a7a7a7ef8">v8::internal::MarkBit::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00142">spaces.h:142</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a0dd8cbe6c00f22aa536bd55353014679"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a0dd8cbe6c00f22aa536bd55353014679">v8::internal::MemoryChunk::area_end</a></div><div class="ttdeci">Address area_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00599">spaces.h:599</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_af48bb7e4a1b5b3e64baa3e623cb61e5c"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#af48bb7e4a1b5b3e64baa3e623cb61e5c">v8::internal::MemoryChunk::executable</a></div><div class="ttdeci">Executability executable()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00515">spaces.h:515</a></div></div>
<div class="ttc" id="namespacev8_html_a444cad09c6a4e000861761cbbfeb9547adcda41e779d7b77b8ea23a0c8232ec6e"><div class="ttname"><a href="../../d2/dc3/namespacev8.html#a444cad09c6a4e000861761cbbfeb9547adcda41e779d7b77b8ea23a0c8232ec6e">v8::kAllocationActionAllocate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/include_2v8_8h_source.html#l02684">v8.h:2684</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a00f8746d2ec1f456a038838873b99e38"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a00f8746d2ec1f456a038838873b99e38">v8::internal::NewSpace::SetUp</a></div><div class="ttdeci">bool SetUp(int reserved_semispace_size_, int max_semispace_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01043">spaces.cc:1043</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_free_list_node_html_a00e348363348e664e1a2f4a0df68c390"><div class="ttname"><a href="../../de/df9/classv8_1_1internal_1_1_free_list_node.html#a00e348363348e664e1a2f4a0df68c390">v8::internal::FreeListNode::IsFreeListNode</a></div><div class="ttdeci">static bool IsFreeListNode(HeapObject *object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8a/spaces-inl_8h_source.html#l00354">spaces-inl.h:354</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a2e20bf3ba78a1db1e606f1ae5dc5053cac201b07f4773f532f0efc57aec83b3b0"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a2e20bf3ba78a1db1e606f1ae5dc5053cac201b07f4773f532f0efc57aec83b3b0">v8::internal::Heap::SCAVENGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01279">heap.h:1279</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_aa4181c6e68818a2c8164c77997ec5590"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#aa4181c6e68818a2c8164c77997ec5590">v8::internal::PagedSpace::FindObject</a></div><div class="ttdeci">MUST_USE_RESULT MaybeObject * FindObject(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00822">spaces.cc:822</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a0166c55019a8ae518b6bb1ac17ad4706"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a0166c55019a8ae518b6bb1ac17ad4706">v8::internal::DeleteArray</a></div><div class="ttdeci">void DeleteArray(T *array)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db7/allocation_8h_source.html#l00091">allocation.h:91</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_page_html_a02b59df1176c655251f2d82e4cf7b723"><div class="ttname"><a href="../../dd/d9c/classv8_1_1internal_1_1_new_space_page.html#a02b59df1176c655251f2d82e4cf7b723">v8::internal::NewSpacePage::IsAtStart</a></div><div class="ttdeci">static bool IsAtStart(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01760">spaces.h:1760</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a4789b60113833ac293f9d1aa9a6372e8"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a4789b60113833ac293f9d1aa9a6372e8">v8::internal::Min</a></div><div class="ttdeci">T Min(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00229">utils.h:229</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5e2ec2be00b3d617582f927ee37878f7a7662099826d64f2e3a55f97e48a147df"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a7662099826d64f2e3a55f97e48a147df">v8::internal::MAP_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00186">v8globals.h:186</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ab82478fcd0fe2b06ad677efd1ecc1535ac1f2a19b49d9c6fd779611084f7947f7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ab82478fcd0fe2b06ad677efd1ecc1535ac1f2a19b49d9c6fd779611084f7947f7">v8::internal::NOT_EXECUTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00207">v8globals.h:207</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_incremental_marking_html_ad4979f8d134a98669b259c413ee8e080"><div class="ttname"><a href="../../d1/d6d/classv8_1_1internal_1_1_incremental_marking.html#ad4979f8d134a98669b259c413ee8e080">v8::internal::IncrementalMarking::OldSpaceStep</a></div><div class="ttdeci">void OldSpaceStep(intptr_t allocated)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d3a/incremental-marking_8h_source.html#l00109">incremental-marking.h:109</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_new_space_html_a0cec9870e563d2d931a23c561684efeb"><div class="ttname"><a href="../../d1/d94/classv8_1_1internal_1_1_new_space.html#a0cec9870e563d2d931a23c561684efeb">v8::internal::NewSpace::MaximumCapacity</a></div><div class="ttdeci">int MaximumCapacity()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l02142">spaces.h:2142</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_template_hash_map_impl_html_aa71d36872f416feaa853788a7a7a7ef8"><div class="ttname"><a href="../../d5/de9/classv8_1_1internal_1_1_template_hash_map_impl.html#aa71d36872f416feaa853788a7a7a7ef8">v8::internal::TemplateHashMapImpl::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/hashmap_8h_source.html#l00222">hashmap.h:222</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_isolate_html"><div class="ttname"><a href="../../dd/d38/classv8_1_1internal_1_1_isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/isolate_8h_source.html#l00357">isolate.h:357</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_iterator_html_acfb50b7d0fd8c183fc5791601005c217"><div class="ttname"><a href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#acfb50b7d0fd8c183fc5791601005c217">v8::internal::HeapObjectIterator::Next</a></div><div class="ttdeci">HeapObject * Next()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01125">spaces.h:1125</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_ae3c555a25cf9aae914e18c187a7372b5"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#ae3c555a25cf9aae914e18c187a7372b5">v8::internal::SemiSpace::ShrinkTo</a></div><div class="ttdeci">bool ShrinkTo(int new_capacity)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l01425">spaces.cc:1425</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_object_iterator_html_a9af4b13ae1c65411e28edb478736877a"><div class="ttname"><a href="../../d6/d37/classv8_1_1internal_1_1_heap_object_iterator.html#a9af4b13ae1c65411e28edb478736877a">v8::internal::HeapObjectIterator::HeapObjectIterator</a></div><div class="ttdeci">HeapObjectIterator(PagedSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00042">spaces.cc:42</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_a99a5dbb299c20506ce43e727a65ac3e4"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a99a5dbb299c20506ce43e727a65ac3e4">v8::internal::LargeObjectSpace::AllocateRaw</a></div><div class="ttdeci">MUST_USE_RESULT MaybeObject * AllocateRaw(int object_size, Executability executable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02613">spaces.cc:2613</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_aca2f3d95b54c21a3d93ea7a355d5f958"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aca2f3d95b54c21a3d93ea7a355d5f958">v8::internal::Heap::OldGenerationSpaceAvailable</a></div><div class="ttdeci">intptr_t OldGenerationSpaceAvailable()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01354">heap.h:1354</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_o_s_html_af00c86fbba1628b33c07eebe858c4046"><div class="ttname"><a href="../../de/d32/classv8_1_1internal_1_1_o_s.html#af00c86fbba1628b33c07eebe858c4046">v8::internal::OS::CommitPageSize</a></div><div class="ttdeci">static intptr_t CommitPageSize()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d34/platform-posix_8cc_source.html#l00076">platform-posix.cc:76</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_v8_html_a3c89270ab4ac2bd43e9a12d2b93f1a00"><div class="ttname"><a href="../../d8/d0e/classv8_1_1internal_1_1_v8.html#a3c89270ab4ac2bd43e9a12d2b93f1a00">v8::internal::V8::FatalProcessOutOfMemory</a></div><div class="ttdeci">static void FatalProcessOutOfMemory(const char *location, bool take_snapshot=false)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a1eb7cc3b88cf84d85e88f2b644a21a4e"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a1eb7cc3b88cf84d85e88f2b644a21a4e">v8::internal::MemoryChunk::SetFlags</a></div><div class="ttdeci">void SetFlags(intptr_t flags, intptr_t mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00440">spaces.h:440</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5e2ec2be00b3d617582f927ee37878f7a71eae99f94708f14a222464c516ee645"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a71eae99f94708f14a222464c516ee645">v8::internal::CODE_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00185">v8globals.h:185</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ad9bb20bd90102eec119929e0eb8cd349"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ad9bb20bd90102eec119929e0eb8cd349">v8::internal::MemoryChunk::skip_list_</a></div><div class="ttdeci">SkipList * skip_list_</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00627">spaces.h:627</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a0080b329fdc2f5cb57e2db8671b31361"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a0080b329fdc2f5cb57e2db8671b31361">v8::internal::MemoryAllocator::CommitCodePage</a></div><div class="ttdeci">static MUST_USE_RESULT bool CommitCodePage(VirtualMemory *vm, Address start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00729">spaces.cc:729</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#ac57fa5262e1db217c8cea56790076f27ad939c92fc47b6c3f29db6cfbc8569cbf">v8::internal::FIRST_NONSTRING_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/objects_8h_source.html#l00617">objects.h:617</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a84a5237985d2f609df0fe9a61a01012d"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a84a5237985d2f609df0fe9a61a01012d">v8::internal::MemoryChunk::GetFlags</a></div><div class="ttdeci">intptr_t GetFlags()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00445">spaces.h:445</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_large_object_space_html_a931587596081ef8178c2b128facb0411"><div class="ttname"><a href="../../d9/dec/classv8_1_1internal_1_1_large_object_space.html#a931587596081ef8178c2b128facb0411">v8::internal::LargeObjectSpace::TearDown</a></div><div class="ttdeci">void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02598">spaces.cc:2598</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a80b5d9db0a4ec171e4cc66afdc9d02e7"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a80b5d9db0a4ec171e4cc66afdc9d02e7">v8::internal::MemoryChunk::set_next_chunk</a></div><div class="ttdeci">void set_next_chunk(MemoryChunk *next)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00318">spaces.h:318</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_j_s_object_html_aaece615f06206074f36ad5c62efe4361"><div class="ttname"><a href="../../d7/da2/classv8_1_1internal_1_1_j_s_object.html#aaece615f06206074f36ad5c62efe4361">v8::internal::JSObject::cast</a></div><div class="ttdeci">static JSObject * cast(Object *obj)</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a4113e901c86a8eb3732353017b5c9788"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a4113e901c86a8eb3732353017b5c9788">v8::internal::MemoryChunk::reserved_memory</a></div><div class="ttdeci">VirtualMemory * reserved_memory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00337">spaces.h:337</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_af325044478c719d86be7dc7a017f250a"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">v8::internal::type</a></div><div class="ttdeci">FlagType type() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d54/flags_8cc_source.html#l01358">flags.cc:1358</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_a9c18c6954934a2cc2f51160df24b1946"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#a9c18c6954934a2cc2f51160df24b1946">v8::internal::MemoryChunk::slots_buffer</a></div><div class="ttdeci">SlotsBuffer * slots_buffer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00580">spaces.h:580</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_aaadadf0f14ee5815c6b743d0fe63244e"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#aaadadf0f14ee5815c6b743d0fe63244e">v8::internal::Heap::old_data_space</a></div><div class="ttdeci">OldSpace * old_data_space()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00501">heap.h:501</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_semi_space_html_a810dd6c604f6c72e4e5055948227e06f"><div class="ttname"><a href="../../d2/da5/classv8_1_1internal_1_1_semi_space.html#a810dd6c604f6c72e4e5055948227e06f">v8::internal::SemiSpace::AssertValidRange</a></div><div class="ttdeci">static void AssertValidRange(Address from, Address to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l01923">spaces.h:1923</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_heap_html_a8432e86fa8096fafbd73dae43b5f00e7"><div class="ttname"><a href="../../dd/d58/classv8_1_1internal_1_1_heap.html#a8432e86fa8096fafbd73dae43b5f00e7">v8::internal::Heap::mark_compact_collector</a></div><div class="ttdeci">MarkCompactCollector * mark_compact_collector()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l01512">heap.h:1512</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_a926a1f29a098592d1c277eeb7c030a48"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#a926a1f29a098592d1c277eeb7c030a48">v8::internal::List::AddAll</a></div><div class="ttdeci">void AddAll(const List&lt; T, AllocationPolicy &gt; &amp;other, AllocationPolicy allocator=AllocationPolicy())</div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_allocator_html_a251b5975de460f02a741c614050f2ac8"><div class="ttname"><a href="../../d1/d32/classv8_1_1internal_1_1_memory_allocator.html#a251b5975de460f02a741c614050f2ac8">v8::internal::MemoryAllocator::AddMemoryAllocationCallback</a></div><div class="ttdeci">void AddMemoryAllocationCallback(MemoryAllocationCallback callback, ObjectSpace space, AllocationAction action)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l00668">spaces.cc:668</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_space_html_ad5adc7a0cd668f7a101dda44f8f8335e"><div class="ttname"><a href="../../d4/de3/classv8_1_1internal_1_1_space.html#ad5adc7a0cd668f7a101dda44f8f8335e">v8::internal::Space::identity</a></div><div class="ttdeci">AllocationSpace identity()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00772">spaces.h:772</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_list_html_a8e96de373101f7325f2e1bb97acf91b1"><div class="ttname"><a href="../../da/df1/classv8_1_1internal_1_1_list.html#a8e96de373101f7325f2e1bb97acf91b1">v8::internal::List::Free</a></div><div class="ttdeci">void Free()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00064">list.h:64</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_virtual_memory_html_a503964da0dcd2d71cd6411ef6143746c"><div class="ttname"><a href="../../dd/d12/classv8_1_1internal_1_1_virtual_memory.html#a503964da0dcd2d71cd6411ef6143746c">v8::internal::VirtualMemory::Uncommit</a></div><div class="ttdeci">bool Uncommit(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd7/platform-cygwin_8cc_source.html#l00345">platform-cygwin.cc:345</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_memory_chunk_html_ac4ace557021a35773511330e19b75784a06352108e9736fc4125dffa6dfc6f8b8"><div class="ttname"><a href="../../d3/d46/classv8_1_1internal_1_1_memory_chunk.html#ac4ace557021a35773511330e19b75784a06352108e9736fc4125dffa6dfc6f8b8">v8::internal::MemoryChunk::SCAN_ON_SCAVENGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0e/spaces_8h_source.html#l00381">spaces.h:381</a></div></div>
<div class="ttc" id="namespacev8_1_1internal_html_a5e2ec2be00b3d617582f927ee37878f7a801401fbd4894dd3bf8163a4403b9fe7"><div class="ttname"><a href="../../d4/d32/namespacev8_1_1internal.html#a5e2ec2be00b3d617582f927ee37878f7a801401fbd4894dd3bf8163a4403b9fe7">v8::internal::OLD_DATA_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dce/v8globals_8h_source.html#l00184">v8globals.h:184</a></div></div>
<div class="ttc" id="classv8_1_1internal_1_1_paged_space_html_af42c0a3698bbcbbfe1e00b03449e9315"><div class="ttname"><a href="../../d4/dbe/classv8_1_1internal_1_1_paged_space.html#af42c0a3698bbcbbfe1e00b03449e9315">v8::internal::PagedSpace::SlowAllocateRaw</a></div><div class="ttdeci">virtual MUST_USE_RESULT HeapObject * SlowAllocateRaw(int size_in_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/spaces_8cc_source.html#l02319">spaces.cc:2319</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../df/dff/spaces_8cc.html">spaces.cc</a></li>
    <li class="footer">Generated on Sat Jun 7 2014 23:32:22 for v8 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
